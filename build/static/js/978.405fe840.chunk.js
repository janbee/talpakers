"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[978],{6978:function(e,t,l){l.a(e,(async function(e,n){try{l.r(t),l.d(t,{UsersComponent:function(){return x}});var a=l(2791),r=(l(2530),l(899)),s=l(2836),i=l(8900),c=l(5978),o=l(7687),d=l(3656),u=l(7900),v=l(2426),p=l.n(v),h=l(7689),m=l(1952),f=l(1418),g=l.n(f),Z=l(184),b=e([u]);u=(b.then?(await b)():b)[0];var x=(0,a.memo)((function(){var e,t,l,n=(0,d.h_)((function(){return u.b.getUsers()}),{withLoading:!1}),v=(0,a.useMemo)((function(){return[]}),[]),f=JSON.stringify(window.location.href),b=(0,h.s0)(),x=(0,d.On)((function(e){v.length=0,e.checked=!0,v.push(e),b("@".concat(e._id),{relative:"route",replace:f.includes("@")})}),[b]),w=(0,a.useCallback)((function(e,t){e.stopPropagation();var l=JSON.parse(t.value),n=v.find((function(e){return e.build===l.build}));n?n.checked=t.checked:(l.checked=t.checked,v.push(l));var a=v.filter((function(e){return!0===e.checked})).map((function(e){return e._id})).join(",");b(0===(null===a||void 0===a?void 0:a.length)?"":"@".concat(a),{relative:"route",replace:f.includes("@")})}),[v,f,b]),k=null===(e=f.replaceAll('"',"").split("/").pop())||void 0===e?void 0:e.replace("@",""),j=(0,a.useMemo)((function(){var e,t;return(null===(e=n.data)||void 0===e||null===(t=e.filter((function(e){var t,l,n=!1===(null===(t=e.data)||void 0===t||null===(l=t.weekStatus)||void 0===l?void 0:l.done),a=p()(e.updatedAt||e.createdAt),r=p().duration(a.diff(Date.now())),s=Math.abs(r.asMinutes());return n&&s<30})))||void 0===t?void 0:t.length)||0}),[n.data]);return(0,Z.jsxs)("div",{className:g()({"users-wrap":!0}),children:[(0,Z.jsxs)(r.Z,{inverted:!0,children:[(0,Z.jsxs)("div",{className:"ttl",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("span",{children:"Users"}),!!v.length&&(0,Z.jsxs)("span",{children:["(",v.filter((function(e){return e.checked})).length,")"]})]}),(0,Z.jsx)(s.Z,{size:"small",className:"pointer",onClick:n.reload,name:"refresh"})]}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"tbl-wrap",children:(0,Z.jsxs)(i.Z,{celled:!0,striped:!0,selectable:!0,inverted:!0,children:[(0,Z.jsx)(i.Z.Header,{children:(0,Z.jsxs)(i.Z.Row,{children:[(0,Z.jsx)(i.Z.HeaderCell,{className:"multi-select",textAlign:"center",children:"#"}),(0,Z.jsx)(i.Z.HeaderCell,{children:"App"}),(0,Z.jsxs)(i.Z.HeaderCell,{name:"status",children:["Status"," ",!!j&&"#".concat(j)]}),(0,Z.jsx)(i.Z.HeaderCell,{children:"Version"}),(0,Z.jsxs)(i.Z.HeaderCell,{className:"weekly-summary",textAlign:"center",children:["Weekly Summary",(0,Z.jsx)("br",{}),"(Bonus + Earnings = Total)"]}),(0,Z.jsx)(i.Z.HeaderCell,{className:"weekly-progress",textAlign:"center",children:"Weekly Progress"}),(0,Z.jsx)(i.Z.HeaderCell,{textAlign:"center",children:"OpenBets"}),(0,Z.jsx)(i.Z.HeaderCell,{textAlign:"center",children:"SettledBets"}),(0,Z.jsx)(i.Z.HeaderCell,{className:"last-update",textAlign:"right",children:"Active"})]})}),(0,Z.jsx)(i.Z.Body,{children:null===(t=n.data)||void 0===t?void 0:t.map((function(e,t){var l,n,a,r,s,u,h,m,f,b,j,N,y,S,A,G,C,P,E,H,R,T,B,M,O,_,D,U=(0,d.Sn)().weekStart,W=!1===(null===(l=e.data)||void 0===l||null===(n=l.weekStatus)||void 0===n?void 0:n.done),K=p()(e.updatedAt||e.createdAt),L=p().duration(K.diff(Date.now())),z=Math.abs(L.asMinutes()),I=!1;W&&z>=30&&(I=!0);var F=U.toISOString()!==(null===(a=e.data)||void 0===a||null===(r=a.weekStatus)||void 0===r?void 0:r.startDate),J=(null===(s=e.data)||void 0===s||null===(u=s.weekStatus)||void 0===u||null===(h=u.betSummary)||void 0===h?void 0:h.betSummary.totalStaked)||0,V=(null===(m=e.data)||void 0===m||null===(f=m.weekStatus)||void 0===f||null===(b=f.betSummary)||void 0===b?void 0:b.betSummary.totalEarnings)||0,X=(null===(j=e.data)||void 0===j||null===(N=j.weekStatus)||void 0===N||null===(y=N.betSummary)||void 0===y?void 0:y.betSummary.bonus)||0,q=(null===(S=e.data)||void 0===S||null===(A=S.weekStatus)||void 0===A||null===(G=A.betSummary)||void 0===G?void 0:G.betSummary.winnings)||0;F&&(J=0,V=0,X=0,q=0);var Q=z>30?(0,d.Bb)(29):(0,d.Bb)(Math.floor(z)),Y=v.find((function(t){return t.build===e.build})),$=v.filter((function(e){return e.checked})).map((function(e){return e.build})),ee=(null===k||void 0===k?void 0:k.split(","))||[];return(0,Z.jsxs)(i.Z.Row,{className:g()({selected:$.includes(e.build)||ee.includes(e._id)}),onClick:x(e),children:[(0,Z.jsx)(i.Z.Cell,{selectable:!0,className:"multi-select",textAlign:"center",children:(0,Z.jsx)(c.Z,{value:JSON.stringify(e),checked:!(null===Y||void 0===Y||!Y.checked),onChange:w})}),(0,Z.jsx)(i.Z.Cell,{collapsing:!0,children:(0,Z.jsx)("span",{children:e.build})}),(0,Z.jsx)(i.Z.Cell,{collapsing:!0,children:(0,Z.jsx)("span",{className:g()({status:!0,done:!0===(null===(C=e.data)||void 0===C||null===(P=C.weekStatus)||void 0===P?void 0:P.done),"in-progress":W,unknown:void 0===(null===(E=e.data)||void 0===E||null===(H=E.weekStatus)||void 0===H?void 0:H.done),waiting:F||I})})}),(0,Z.jsx)(i.Z.Cell,{collapsing:!0,children:null===(R=e.data)||void 0===R?void 0:R.version}),(0,Z.jsx)(i.Z.Cell,{textAlign:"center",children:(0,Z.jsxs)("div",{className:"week-summary-wrap",children:[(0,Z.jsx)("span",{className:g()({win:X>0,lose:X<0}),children:(0,d.WI)(X)})," + ",(0,Z.jsx)("span",{className:g()({win:V>0,lose:V<0}),children:(0,d.WI)(V)})," = ",(0,Z.jsx)("span",{className:g()({win:q>0,lose:q<0}),children:(0,d.WI)(q)})]})}),(0,Z.jsx)(i.Z.Cell,{textAlign:"right",children:(0,Z.jsx)(o.Z,{indicating:!0,inverted:!0,success:!0===(null===(T=e.data)||void 0===T||null===(B=T.weekStatus)||void 0===B?void 0:B.done)&&0!==J,precision:0,value:Math.floor(J),progress:"percent",total:385,label:(0,d.WI)(J)})}),(0,Z.jsx)(i.Z.Cell,{textAlign:"center",children:null===(M=e.data.weekStatus)||void 0===M||null===(O=M.betSummary)||void 0===O?void 0:O.betSummary.openBets}),(0,Z.jsx)(i.Z.Cell,{textAlign:"center",children:null===(_=e.data.weekStatus)||void 0===_||null===(D=_.betSummary)||void 0===D?void 0:D.betSummary.settledBets}),(0,Z.jsx)(i.Z.Cell,{textAlign:"right",children:(0,Z.jsx)("span",{style:{color:Q},children:K.fromNow()})})]},e._id)}))}),(0,Z.jsx)(i.Z.Footer,{children:(0,Z.jsx)(i.Z.Row,{children:(0,Z.jsxs)(i.Z.HeaderCell,{colSpan:"100",children:["Total Users ",null===(l=n.data)||void 0===l?void 0:l.length]})})})]})}),(0,Z.jsx)(m.o,{loading:n.loading})]}),(0,Z.jsx)(h.j3,{})]})}));n()}catch(w){n(w)}}))},1952:function(e,t,l){l.d(t,{o:function(){return v}});var n=l(1413),a=l(9439),r=l(3144),s=l(5671),i=l(2791),c=l(1487),o=l(2417),d=l(184),u=(0,r.Z)((function e(t){(0,s.Z)(this,e),this.loading=!1,this.content="",this.loading=t.loading,this.content=t.content})),v=function(e){var t=(0,i.useState)(new u(e)),l=(0,a.Z)(t,2),r=l[0],s=l[1];return(0,i.useEffect)((function(){s((function(t){return(0,n.Z)((0,n.Z)({},t),{},{loading:e.loading})}))}),[e.loading]),(0,d.jsx)(c.Z,(0,n.Z)((0,n.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},r.loading?{active:!0}:{}),{},{children:(0,d.jsx)(o.Z,{})}))}},8900:function(e,t,l){l.d(t,{Z:function(){return S}});var n=l(7462),a=l(4210),r=l(8182),s=l(2791),i=l(7826),c=l(6755),o=l(6246),d=l(5831);function u(e){var t=e.children,l=e.className,a=(0,r.Z)(l),i=(0,c.Z)(u,e),d=(0,o.Z)(u,e);return s.createElement(d,(0,n.Z)({},i,{className:a}),t)}u.handledProps=["as","children","className"],u.defaultProps={as:"tbody"},u.propTypes={};var v=u,p=l(570),h=l(2836);function m(e){var t=e.active,l=e.children,a=e.className,u=e.collapsing,v=e.content,p=e.disabled,f=e.error,g=e.icon,Z=e.negative,b=e.positive,x=e.selectable,w=e.singleLine,k=e.textAlign,j=e.verticalAlign,N=e.warning,y=e.width,S=(0,r.Z)((0,i.lG)(t,"active"),(0,i.lG)(u,"collapsing"),(0,i.lG)(p,"disabled"),(0,i.lG)(f,"error"),(0,i.lG)(Z,"negative"),(0,i.lG)(b,"positive"),(0,i.lG)(x,"selectable"),(0,i.lG)(w,"single line"),(0,i.lG)(N,"warning"),(0,i.X4)(k),(0,i.Ok)(j),(0,i.H0)(y,"wide"),a),A=(0,c.Z)(m,e),G=(0,o.Z)(m,e);return d.kK(l)?s.createElement(G,(0,n.Z)({},A,{className:S}),h.Z.create(g),v):s.createElement(G,(0,n.Z)({},A,{className:S}),l)}m.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],m.defaultProps={as:"td"},m.propTypes={},m.create=(0,p.u5)(m,(function(e){return{content:e}}));var f=m;function g(e){var t=e.children,l=e.className,a=e.content,u=e.fullWidth,v=(0,r.Z)((0,i.lG)(u,"full-width"),l),p=(0,c.Z)(g,e),h=(0,o.Z)(g,e);return s.createElement(h,(0,n.Z)({},p,{className:v}),d.kK(t)?a:t)}g.handledProps=["as","children","className","content","fullWidth"],g.defaultProps={as:"thead"},g.propTypes={};var Z=g;function b(e){var t=e.as,l=(0,c.Z)(b,e);return s.createElement(Z,(0,n.Z)({},l,{as:t}))}b.handledProps=["as"],b.propTypes={},b.defaultProps={as:"tfoot"};var x=b;function w(e){var t=e.as,l=e.className,a=e.sorted,o=(0,r.Z)((0,i.cD)(a,"sorted"),l),d=(0,c.Z)(w,e);return s.createElement(f,(0,n.Z)({},d,{as:t,className:o}))}w.handledProps=["as","className","sorted"],w.propTypes={},w.defaultProps={as:"th"};var k=w;function j(e){var t=e.active,l=e.cellAs,u=e.cells,v=e.children,p=e.className,h=e.disabled,m=e.error,g=e.negative,Z=e.positive,b=e.textAlign,x=e.verticalAlign,w=e.warning,k=(0,r.Z)((0,i.lG)(t,"active"),(0,i.lG)(h,"disabled"),(0,i.lG)(m,"error"),(0,i.lG)(g,"negative"),(0,i.lG)(Z,"positive"),(0,i.lG)(w,"warning"),(0,i.X4)(b),(0,i.Ok)(x),p),N=(0,c.Z)(j,e),y=(0,o.Z)(j,e);return d.kK(v)?s.createElement(y,(0,n.Z)({},N,{className:k}),(0,a.Z)(u,(function(e){return f.create(e,{defaultProps:{as:l}})}))):s.createElement(y,(0,n.Z)({},N,{className:k}),v)}j.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],j.defaultProps={as:"tr",cellAs:"td"},j.propTypes={},j.create=(0,p.u5)(j,(function(e){return{cells:e}}));var N=j;function y(e){var t=e.attached,l=e.basic,u=e.celled,p=e.children,h=e.className,m=e.collapsing,f=e.color,g=e.columns,b=e.compact,w=e.definition,k=e.fixed,j=e.footerRow,S=e.headerRow,A=e.headerRows,G=e.inverted,C=e.padded,P=e.renderBodyRow,E=e.selectable,H=e.singleLine,R=e.size,T=e.sortable,B=e.stackable,M=e.striped,O=e.structured,_=e.tableData,D=e.textAlign,U=e.unstackable,W=e.verticalAlign,K=(0,r.Z)("ui",f,R,(0,i.lG)(u,"celled"),(0,i.lG)(m,"collapsing"),(0,i.lG)(w,"definition"),(0,i.lG)(k,"fixed"),(0,i.lG)(G,"inverted"),(0,i.lG)(E,"selectable"),(0,i.lG)(H,"single line"),(0,i.lG)(T,"sortable"),(0,i.lG)(B,"stackable"),(0,i.lG)(M,"striped"),(0,i.lG)(O,"structured"),(0,i.lG)(U,"unstackable"),(0,i.sU)(t,"attached"),(0,i.sU)(l,"basic"),(0,i.sU)(b,"compact"),(0,i.sU)(C,"padded"),(0,i.X4)(D),(0,i.Ok)(W),(0,i.H0)(g,"column"),"table",h),L=(0,c.Z)(y,e),z=(0,o.Z)(y,e);if(!d.kK(p))return s.createElement(z,(0,n.Z)({},L,{className:K}),p);var I={defaultProps:{cellAs:"th"}},F=(S||A)&&s.createElement(Z,null,N.create(S,I),(0,a.Z)(A,(function(e){return N.create(e,I)})));return s.createElement(z,(0,n.Z)({},L,{className:K}),F,s.createElement(v,null,P&&(0,a.Z)(_,(function(e,t){return N.create(P(e,t))}))),j&&s.createElement(x,null,N.create(j)))}y.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],y.defaultProps={as:"table"},y.propTypes={},y.Body=v,y.Cell=f,y.Footer=x,y.Header=Z,y.HeaderCell=k,y.Row=N;var S=y},7687:function(e,t,l){l.d(t,{Z:function(){return j}});var n=l(7462),a=l(4578),r=l(5183),s=l(5295),i=l(344),c=l(8686),o=r.Z.isFinite,d=Math.min;var u=function(e){var t=Math[e];return function(e,l){if(e=(0,i.Z)(e),(l=null==l?0:d((0,s.Z)(l),292))&&o(e)){var n=((0,c.Z)(e)+"e").split("e"),a=t(n[0]+"e"+(+n[1]+l));return+((n=((0,c.Z)(a)+"e").split("e"))[0]+"e"+(+n[1]-l))}return t(e)}}("round");var v=function(e,t,l){return e===e&&(void 0!==l&&(e=e<=l?e:l),void 0!==t&&(e=e>=t?e:t)),e};var p=function(e,t,l){return void 0===l&&(l=t,t=void 0),void 0!==l&&(l=(l=(0,i.Z)(l))===l?l:0),void 0!==t&&(t=(t=(0,i.Z)(t))===t?t:0),v((0,i.Z)(e),t,l)},h=l(2790),m=l(8182),f=l(2791),g=l(5831),Z=l(570),b=l(7826),x=l(6755),w=l(6246),k=function(e){function t(){for(var t,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).calculatePercent=function(){var e=t.props,l=e.percent,n=e.total,a=e.value;return(0,h.Z)(l)?(0,h.Z)(n)||(0,h.Z)(a)?void 0:a/n*100:l},t.computeValueText=function(e){var l=t.props,n=l.progress,a=l.total,r=l.value;return"value"===n?r:"ratio"===n?r+"/"+a:e+"%"},t.getPercent=function(){var e=t.props,l=e.precision,n=e.progress,a=e.total,r=e.value,s=p(t.calculatePercent(),0,100);return(0,h.Z)(a)||(0,h.Z)(r)||"value"!==n?"value"===n?r:(0,h.Z)(l)?s:u(s,l):r/a*100},t.isAutoSuccess=function(){var e=t.props,l=e.autoSuccess,n=e.percent,a=e.total,r=e.value;return l&&(n>=100||r>=a)},t.renderLabel=function(){var e=t.props,l=e.children,n=e.content,a=e.label;return g.kK(l)?g.kK(n)?(0,Z.DE)(a,{autoGenerateKey:!1,defaultProps:{className:"label"}}):f.createElement("div",{className:"label"},n):f.createElement("div",{className:"label"},l)},t.renderProgress=function(e){var l=t.props,n=l.precision;if(l.progress||!(0,h.Z)(n))return f.createElement("div",{className:"progress"},t.computeValueText(e))},t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props,l=e.active,a=e.attached,r=e.className,s=e.color,i=e.disabled,c=e.error,o=e.indicating,d=e.inverted,u=e.size,v=e.success,p=e.warning,h=(0,m.Z)("ui",s,u,(0,b.lG)(l||o,"active"),(0,b.lG)(i,"disabled"),(0,b.lG)(c,"error"),(0,b.lG)(o,"indicating"),(0,b.lG)(d,"inverted"),(0,b.lG)(v||this.isAutoSuccess(),"success"),(0,b.lG)(p,"warning"),(0,b.cD)(a,"attached"),"progress",r),g=(0,x.Z)(t,this.props),Z=(0,w.Z)(t,this.props),k=this.getPercent()||0;return f.createElement(Z,(0,n.Z)({},g,{className:h,"data-percent":Math.floor(k)}),f.createElement("div",{className:"bar",style:{width:k+"%"}},this.renderProgress(k)),this.renderLabel())},t}(f.Component);k.handledProps=["active","as","attached","autoSuccess","children","className","color","content","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"],k.propTypes={};var j=k},2530:function(){}}]);
//# sourceMappingURL=978.405fe840.chunk.js.map