"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[978],{6978:function(e,t,n){n.a(e,(async function(e,a){try{n.r(t),n.d(t,{UsersComponent:function(){return k}});var l=n(2791),r=(n(2530),n(899)),i=n(2836),s=n(8900),o=n(5978),c=n(7687),d=n(3656),u=n(7900),p=n(2426),h=n.n(p),v=n(7689),m=n(1952),f=n(1418),g=n.n(f),Z=n(184),b=e([u]);u=(b.then?(await b)():b)[0];var k=(0,l.memo)((function(){var e,t,n,a=(0,d.h_)((function(){return u.b.getUsers()}),{withLoading:!1}),p=(0,l.useMemo)((function(){return[]}),[]),f=JSON.stringify(window.location.href),b=(0,v.s0)(),k=(0,d.On)((function(e){p.length=0,e.checked=!0,p.push(e),b("@".concat(e._id),{relative:"route",replace:f.includes("@")})}),[b]),w=(0,l.useCallback)((function(e,t){e.stopPropagation();var n=JSON.parse(t.value),a=p.find((function(e){return e.build===n.build}));a?a.checked=t.checked:(n.checked=t.checked,p.push(n));var l=p.filter((function(e){return!0===e.checked})).map((function(e){return e._id})).join(",");b(0===(null===l||void 0===l?void 0:l.length)?"":"@".concat(l),{relative:"route",replace:f.includes("@")})}),[p,f,b]),x=null===(e=f.replaceAll('"',"").split("/").pop())||void 0===e?void 0:e.replace("@",""),y=(0,l.useMemo)((function(){var e,t;return(null===(e=a.data)||void 0===e||null===(t=e.filter((function(e){var t,n,a=!1===(null===(t=e.data)||void 0===t||null===(n=t.weekStatus)||void 0===n?void 0:n.done),l=h()(e.updatedAt||e.createdAt),r=h().duration(l.diff(Date.now())),i=Math.abs(r.asMinutes());return a&&i<30})))||void 0===t?void 0:t.length)||0}),[a.data]);return(0,Z.jsxs)("div",{className:g()({"users-wrap":!0}),children:[(0,Z.jsxs)(r.Z,{inverted:!0,children:[(0,Z.jsxs)("div",{className:"row-wrap between ttl-wrap",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("span",{className:"ttl",children:"Users"}),!!p.length&&(0,Z.jsxs)("span",{className:"ttl",children:["(",p.filter((function(e){return e.checked})).length,")"]})]}),(0,Z.jsx)(i.Z,{onClick:a.reload,name:"refresh"})]}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"tbl-wrap",children:(0,Z.jsxs)(s.Z,{celled:!0,striped:!0,selectable:!0,inverted:!0,children:[(0,Z.jsx)(s.Z.Header,{children:(0,Z.jsxs)(s.Z.Row,{children:[(0,Z.jsx)(s.Z.HeaderCell,{className:"multi-select",textAlign:"center",children:"#"}),(0,Z.jsx)(s.Z.HeaderCell,{children:"App"}),(0,Z.jsxs)(s.Z.HeaderCell,{children:["Status"," ",!!y&&"#".concat(y)]}),(0,Z.jsx)(s.Z.HeaderCell,{children:"Version"}),(0,Z.jsxs)(s.Z.HeaderCell,{className:"weekly-summary",textAlign:"center",children:["Weekly Summary",(0,Z.jsx)("br",{}),"(Bonus + Earnings = Total)"]}),(0,Z.jsx)(s.Z.HeaderCell,{className:"weekly-progress",textAlign:"center",children:"Weekly Progress"}),(0,Z.jsx)(s.Z.HeaderCell,{className:"last-update",textAlign:"right",children:"Active"})]})}),(0,Z.jsx)(s.Z.Body,{children:null===(t=a.data)||void 0===t?void 0:t.map((function(e,t){var n,a,l,r,i,u,v,m,f,b,y,N,j,G,C,A,S,P,E,R,M,T,D,I=(0,d.Sn)().weekStart,U=!1===(null===(n=e.data)||void 0===n||null===(a=n.weekStatus)||void 0===a?void 0:a.done),H=h()(e.updatedAt||e.createdAt),O=h().duration(H.diff(Date.now())),_=Math.abs(O.asMinutes()),F=!1;U&&_>=30&&(F=!0);var K=I.toISOString()!==(null===(l=e.data)||void 0===l||null===(r=l.weekStatus)||void 0===r?void 0:r.startDate),W=(null===(i=e.data)||void 0===i||null===(u=i.weekStatus)||void 0===u||null===(v=u.betSummary)||void 0===v?void 0:v.betSummary.totalStaked)||0,B=(null===(m=e.data)||void 0===m||null===(f=m.weekStatus)||void 0===f||null===(b=f.betSummary)||void 0===b?void 0:b.betSummary.totalEarnings)||0,L=(null===(y=e.data)||void 0===y||null===(N=y.weekStatus)||void 0===N||null===(j=N.betSummary)||void 0===j?void 0:j.betSummary.bonus)||0,z=(null===(G=e.data)||void 0===G||null===(C=G.weekStatus)||void 0===C||null===(A=C.betSummary)||void 0===A?void 0:A.betSummary.winnings)||0;K&&(W=0,B=0,L=0,z=0);var J=_>30?(0,d.Bb)(29):(0,d.Bb)(Math.floor(_)),V=p.find((function(t){return t.build===e.build})),X=p.filter((function(e){return e.checked})).map((function(e){return e.build})),q=(null===x||void 0===x?void 0:x.split(","))||[];return(0,Z.jsxs)(s.Z.Row,{className:g()({selected:X.includes(e.build)||q.includes(e._id)}),onClick:k(e),children:[(0,Z.jsx)(s.Z.Cell,{selectable:!0,className:"multi-select",textAlign:"center",children:(0,Z.jsx)(o.Z,{value:JSON.stringify(e),checked:!(null===V||void 0===V||!V.checked),onChange:w})}),(0,Z.jsx)(s.Z.Cell,{collapsing:!0,children:(0,Z.jsx)("span",{children:e.build})}),(0,Z.jsx)(s.Z.Cell,{collapsing:!0,children:(0,Z.jsx)("span",{className:g()({status:!0,done:!0===(null===(S=e.data)||void 0===S||null===(P=S.weekStatus)||void 0===P?void 0:P.done),"in-progress":U,unknown:void 0===(null===(E=e.data)||void 0===E||null===(R=E.weekStatus)||void 0===R?void 0:R.done),waiting:K||F})})}),(0,Z.jsx)(s.Z.Cell,{collapsing:!0,children:null===(M=e.data)||void 0===M?void 0:M.version}),(0,Z.jsx)(s.Z.Cell,{textAlign:"center",children:(0,Z.jsxs)("div",{className:"week-summary-wrap",children:[(0,Z.jsx)("span",{className:g()({win:L>0,lose:L<0}),children:(0,d.WI)(L)})," + ",(0,Z.jsx)("span",{className:g()({win:B>0,lose:B<0}),children:(0,d.WI)(B)})," = ",(0,Z.jsx)("span",{className:g()({win:z>0,lose:z<0}),children:(0,d.WI)(z)})]})}),(0,Z.jsx)(s.Z.Cell,{textAlign:"right",children:(0,Z.jsx)(c.Z,{indicating:!0,inverted:!0,success:!0===(null===(T=e.data)||void 0===T||null===(D=T.weekStatus)||void 0===D?void 0:D.done)&&0!==W,precision:0,value:Math.floor(W),progress:"percent",total:385,label:(0,d.WI)(W)})}),(0,Z.jsx)(s.Z.Cell,{textAlign:"right",children:(0,Z.jsx)("span",{style:{color:J},children:H.fromNow()})})]},e._id)}))}),(0,Z.jsx)(s.Z.Footer,{children:(0,Z.jsx)(s.Z.Row,{children:(0,Z.jsxs)(s.Z.HeaderCell,{colSpan:"100",children:["Total Users ",null===(n=a.data)||void 0===n?void 0:n.length]})})})]})}),(0,Z.jsx)(m.o,{loading:a.loading})]}),(0,Z.jsx)(v.j3,{})]})}));a()}catch(w){a(w)}}))},1952:function(e,t,n){n.d(t,{o:function(){return p}});var a=n(1413),l=n(9439),r=n(3144),i=n(5671),s=n(2791),o=n(1487),c=n(2417),d=n(184),u=(0,r.Z)((function e(t){(0,i.Z)(this,e),this.loading=!1,this.content="",this.loading=t.loading,this.content=t.content})),p=function(e){var t=(0,s.useState)(new u(e)),n=(0,l.Z)(t,2),r=n[0],i=n[1];return(0,s.useEffect)((function(){i((function(t){return(0,a.Z)((0,a.Z)({},t),{},{loading:e.loading})}))}),[e.loading]),(0,d.jsx)(o.Z,(0,a.Z)((0,a.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},r.loading?{active:!0}:{}),{},{children:(0,d.jsx)(c.Z,{})}))}},8900:function(e,t,n){n.d(t,{Z:function(){return G}});var a=n(7462),l=n(4210),r=n(8182),i=n(2791),s=n(7826),o=n(6755),c=n(6246),d=n(5831);function u(e){var t=e.children,n=e.className,l=(0,r.Z)(n),s=(0,o.Z)(u,e),d=(0,c.Z)(u,e);return i.createElement(d,(0,a.Z)({},s,{className:l}),t)}u.handledProps=["as","children","className"],u.defaultProps={as:"tbody"},u.propTypes={};var p=u,h=n(1126),v=n(2836);function m(e){var t=e.active,n=e.children,l=e.className,u=e.collapsing,p=e.content,h=e.disabled,f=e.error,g=e.icon,Z=e.negative,b=e.positive,k=e.selectable,w=e.singleLine,x=e.textAlign,y=e.verticalAlign,N=e.warning,j=e.width,G=(0,r.Z)((0,s.lG)(t,"active"),(0,s.lG)(u,"collapsing"),(0,s.lG)(h,"disabled"),(0,s.lG)(f,"error"),(0,s.lG)(Z,"negative"),(0,s.lG)(b,"positive"),(0,s.lG)(k,"selectable"),(0,s.lG)(w,"single line"),(0,s.lG)(N,"warning"),(0,s.X4)(x),(0,s.Ok)(y),(0,s.H0)(j,"wide"),l),C=(0,o.Z)(m,e),A=(0,c.Z)(m,e);return d.kK(n)?i.createElement(A,(0,a.Z)({},C,{className:G}),v.Z.create(g),p):i.createElement(A,(0,a.Z)({},C,{className:G}),n)}m.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],m.defaultProps={as:"td"},m.propTypes={},m.create=(0,h.u5)(m,(function(e){return{content:e}}));var f=m;function g(e){var t=e.children,n=e.className,l=e.content,u=e.fullWidth,p=(0,r.Z)((0,s.lG)(u,"full-width"),n),h=(0,o.Z)(g,e),v=(0,c.Z)(g,e);return i.createElement(v,(0,a.Z)({},h,{className:p}),d.kK(t)?l:t)}g.handledProps=["as","children","className","content","fullWidth"],g.defaultProps={as:"thead"},g.propTypes={};var Z=g;function b(e){var t=e.as,n=(0,o.Z)(b,e);return i.createElement(Z,(0,a.Z)({},n,{as:t}))}b.handledProps=["as"],b.propTypes={},b.defaultProps={as:"tfoot"};var k=b;function w(e){var t=e.as,n=e.className,l=e.sorted,c=(0,r.Z)((0,s.cD)(l,"sorted"),n),d=(0,o.Z)(w,e);return i.createElement(f,(0,a.Z)({},d,{as:t,className:c}))}w.handledProps=["as","className","sorted"],w.propTypes={},w.defaultProps={as:"th"};var x=w;function y(e){var t=e.active,n=e.cellAs,u=e.cells,p=e.children,h=e.className,v=e.disabled,m=e.error,g=e.negative,Z=e.positive,b=e.textAlign,k=e.verticalAlign,w=e.warning,x=(0,r.Z)((0,s.lG)(t,"active"),(0,s.lG)(v,"disabled"),(0,s.lG)(m,"error"),(0,s.lG)(g,"negative"),(0,s.lG)(Z,"positive"),(0,s.lG)(w,"warning"),(0,s.X4)(b),(0,s.Ok)(k),h),N=(0,o.Z)(y,e),j=(0,c.Z)(y,e);return d.kK(p)?i.createElement(j,(0,a.Z)({},N,{className:x}),(0,l.Z)(u,(function(e){return f.create(e,{defaultProps:{as:n}})}))):i.createElement(j,(0,a.Z)({},N,{className:x}),p)}y.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],y.defaultProps={as:"tr",cellAs:"td"},y.propTypes={},y.create=(0,h.u5)(y,(function(e){return{cells:e}}));var N=y;function j(e){var t=e.attached,n=e.basic,u=e.celled,h=e.children,v=e.className,m=e.collapsing,f=e.color,g=e.columns,b=e.compact,w=e.definition,x=e.fixed,y=e.footerRow,G=e.headerRow,C=e.headerRows,A=e.inverted,S=e.padded,P=e.renderBodyRow,E=e.selectable,R=e.singleLine,M=e.size,T=e.sortable,D=e.stackable,I=e.striped,U=e.structured,H=e.tableData,O=e.textAlign,_=e.unstackable,F=e.verticalAlign,K=(0,r.Z)("ui",f,M,(0,s.lG)(u,"celled"),(0,s.lG)(m,"collapsing"),(0,s.lG)(w,"definition"),(0,s.lG)(x,"fixed"),(0,s.lG)(A,"inverted"),(0,s.lG)(E,"selectable"),(0,s.lG)(R,"single line"),(0,s.lG)(T,"sortable"),(0,s.lG)(D,"stackable"),(0,s.lG)(I,"striped"),(0,s.lG)(U,"structured"),(0,s.lG)(_,"unstackable"),(0,s.sU)(t,"attached"),(0,s.sU)(n,"basic"),(0,s.sU)(b,"compact"),(0,s.sU)(S,"padded"),(0,s.X4)(O),(0,s.Ok)(F),(0,s.H0)(g,"column"),"table",v),W=(0,o.Z)(j,e),B=(0,c.Z)(j,e);if(!d.kK(h))return i.createElement(B,(0,a.Z)({},W,{className:K}),h);var L={defaultProps:{cellAs:"th"}},z=(G||C)&&i.createElement(Z,null,N.create(G,L),(0,l.Z)(C,(function(e){return N.create(e,L)})));return i.createElement(B,(0,a.Z)({},W,{className:K}),z,i.createElement(p,null,P&&(0,l.Z)(H,(function(e,t){return N.create(P(e,t))}))),y&&i.createElement(k,null,N.create(y)))}j.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],j.defaultProps={as:"table"},j.propTypes={},j.Body=p,j.Cell=f,j.Footer=k,j.Header=Z,j.HeaderCell=x,j.Row=N;var G=j},5978:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(7462),l=n(4578),r=n(5622);var i=function(e,t,n){return null==e?e:(0,r.Z)(e,t,n)},s=n(2942),o=n(4517),c=n(2766),d=n(8182),u=n(2791),p=n(7826),h=n(6755),v=n(6246),m=n(2623),f=n(1126),g=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))||this).inputRef=(0,u.createRef)(),t.labelRef=(0,u.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,a=e.radio,l=e.readOnly,r=t.state.checked;return!n&&!l&&!(a&&r)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,a=e.tabIndex;return(0,o.Z)(a)?n?-1:0:a},t.handleClick=function(e){var n=t.props.id,l=t.state,r=l.checked,i=l.indeterminate,c=(0,s.Z)(t.inputRef.current,"contains",e.target),d=(0,s.Z)(t.labelRef.current,"contains",e.target),u=!d&&!c,p=!(0,o.Z)(n);d&&p||(0,s.Z)(t.props,"onClick",e,(0,a.Z)({},t.props,{checked:!r,indeterminate:!!i})),t.isClickFromMouse&&(t.isClickFromMouse=!1,d&&!p&&t.handleChange(e),u&&t.handleChange(e),d&&p&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&((0,s.Z)(t.props,"onChange",e,(0,a.Z)({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,l=n.checked,r=n.indeterminate;(0,s.Z)(t.props,"onMouseDown",e,(0,a.Z)({},t.props,{checked:!!l,indeterminate:!!r})),e.defaultPrevented||(0,s.Z)(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,l=n.checked,r=n.indeterminate;t.isClickFromMouse=!0,(0,s.Z)(t.props,"onMouseUp",e,(0,a.Z)({},t.props,{checked:!!l,indeterminate:!!r}))},t.setIndeterminate=function(){var e=t.state.indeterminate;i(t.inputRef,"current.indeterminate",!!e)},t}(0,l.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,l=e.disabled,r=e.label,i=e.id,s=e.name,g=e.radio,Z=e.readOnly,b=e.slider,k=e.toggle,w=e.type,x=e.value,y=this.state,N=y.checked,j=y.indeterminate,G=(0,d.Z)("ui",(0,p.lG)(N,"checked"),(0,p.lG)(l,"disabled"),(0,p.lG)(j,"indeterminate"),(0,p.lG)((0,o.Z)(r),"fitted"),(0,p.lG)(g,"radio"),(0,p.lG)(Z,"read-only"),(0,p.lG)(b,"slider"),(0,p.lG)(k,"toggle"),"checkbox",n),C=(0,h.Z)(t,this.props),A=(0,v.Z)(t,this.props),S=(0,m.vR)(C,{htmlProps:m._l}),P=S[0],E=S[1],R=(0,f.i9)(r,{defaultProps:{htmlFor:i},autoGenerateKey:!1})||u.createElement("label",{htmlFor:i});return u.createElement(A,(0,a.Z)({},E,{className:G,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),u.createElement(c.R,{innerRef:this.inputRef},u.createElement("input",(0,a.Z)({},P,{checked:N,className:"hidden",disabled:l,id:i,name:s,readOnly:!0,tabIndex:this.computeTabIndex(),type:w,value:x}))),u.createElement(c.R,{innerRef:this.labelRef},R))},t}(n(5326).Z);g.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],g.propTypes={},g.defaultProps={type:"checkbox"},g.autoControlledProps=["checked","indeterminate"]},7687:function(e,t,n){n.d(t,{Z:function(){return y}});var a=n(7462),l=n(4578),r=n(5183),i=n(5295),s=n(344),o=n(8686),c=r.Z.isFinite,d=Math.min;var u=function(e){var t=Math[e];return function(e,n){if(e=(0,s.Z)(e),(n=null==n?0:d((0,i.Z)(n),292))&&c(e)){var a=((0,o.Z)(e)+"e").split("e"),l=t(a[0]+"e"+(+a[1]+n));return+((a=((0,o.Z)(l)+"e").split("e"))[0]+"e"+(+a[1]-n))}return t(e)}}("round");var p=function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e};var h=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=(0,s.Z)(n))===n?n:0),void 0!==t&&(t=(t=(0,s.Z)(t))===t?t:0),p((0,s.Z)(e),t,n)},v=n(2790),m=n(8182),f=n(2791),g=n(5831),Z=n(1126),b=n(7826),k=n(6755),w=n(6246),x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).calculatePercent=function(){var e=t.props,n=e.percent,a=e.total,l=e.value;return(0,v.Z)(n)?(0,v.Z)(a)||(0,v.Z)(l)?void 0:l/a*100:n},t.computeValueText=function(e){var n=t.props,a=n.progress,l=n.total,r=n.value;return"value"===a?r:"ratio"===a?r+"/"+l:e+"%"},t.getPercent=function(){var e=t.props,n=e.precision,a=e.progress,l=e.total,r=e.value,i=h(t.calculatePercent(),0,100);return(0,v.Z)(l)||(0,v.Z)(r)||"value"!==a?"value"===a?r:(0,v.Z)(n)?i:u(i,n):r/l*100},t.isAutoSuccess=function(){var e=t.props,n=e.autoSuccess,a=e.percent,l=e.total,r=e.value;return n&&(a>=100||r>=l)},t.renderLabel=function(){var e=t.props,n=e.children,a=e.content,l=e.label;return g.kK(n)?g.kK(a)?(0,Z.DE)(l,{autoGenerateKey:!1,defaultProps:{className:"label"}}):f.createElement("div",{className:"label"},a):f.createElement("div",{className:"label"},n)},t.renderProgress=function(e){var n=t.props,a=n.precision;if(n.progress||!(0,v.Z)(a))return f.createElement("div",{className:"progress"},t.computeValueText(e))},t}return(0,l.Z)(t,e),t.prototype.render=function(){var e=this.props,n=e.active,l=e.attached,r=e.className,i=e.color,s=e.disabled,o=e.error,c=e.indicating,d=e.inverted,u=e.size,p=e.success,h=e.warning,v=(0,m.Z)("ui",i,u,(0,b.lG)(n||c,"active"),(0,b.lG)(s,"disabled"),(0,b.lG)(o,"error"),(0,b.lG)(c,"indicating"),(0,b.lG)(d,"inverted"),(0,b.lG)(p||this.isAutoSuccess(),"success"),(0,b.lG)(h,"warning"),(0,b.cD)(l,"attached"),"progress",r),g=(0,k.Z)(t,this.props),Z=(0,w.Z)(t,this.props),x=this.getPercent()||0;return f.createElement(Z,(0,a.Z)({},g,{className:v,"data-percent":Math.floor(x)}),f.createElement("div",{className:"bar",style:{width:x+"%"}},this.renderProgress(x)),this.renderLabel())},t}(f.Component);x.handledProps=["active","as","attached","autoSuccess","children","className","color","content","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"],x.propTypes={};var y=x},2530:function(){}}]);
//# sourceMappingURL=978.2377574d.chunk.js.map