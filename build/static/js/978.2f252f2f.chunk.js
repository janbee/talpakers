"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[978],{6978:function(e,n,l){l.a(e,(async function(e,t){try{l.r(n),l.d(n,{UsersComponent:function(){return N}});var a=l(1413),i=l(9439),s=l(2791),r=(l(2530),l(899)),d=l(2836),o=l(8900),c=l(7950),u=l(5978),h=l(7687),v=l(3656),m=l(7900),x=l(2426),g=l.n(x),p=l(7689),f=l(1952),j=l(1418),b=l.n(j),Z=l(99),k=l(1918),w=l(2115),y=l(1911),C=l(184),S=e([m]);m=(S.then?(await S)():S)[0];var N=(0,s.memo)((function(){var e,n,l,t=(0,v.h_)((function(){return m.b.getUsers()}),{withLoading:!1}),x=(0,i.Z)(t,2),j=x[0],S=x[1],N=(0,s.useMemo)((function(){return[]}),[]),A=JSON.stringify(window.location.href),I=(0,p.s0)(),J=(0,v.On)((function(e){N.length=0,e.checked=!0,N.push(e),I("@".concat(e._id),{relative:"route",replace:A.includes("@")})}),[I]),W=(0,s.useCallback)((function(e,n){e.stopPropagation();var l=JSON.parse(n.value),t=N.find((function(e){return e.build===l.build}));t?t.checked=n.checked:(l.checked=n.checked,N.push(l));var a=N.filter((function(e){return!0===e.checked})).map((function(e){return e._id})).join(",");I(0===(null===a||void 0===a?void 0:a.length)?"":"@".concat(a),{relative:"route",replace:A.includes("@")})}),[N,A,I]),H=null===(e=A.replaceAll('"',"").split("/").pop())||void 0===e?void 0:e.replace("@",""),_=(0,s.useMemo)((function(){var e,n;return(null===(e=j.data)||void 0===e||null===(n=e.filter((function(e){var n,l,t=!1===(null===(n=e.data)||void 0===n||null===(l=n.weekStatus)||void 0===l?void 0:l.done),a=g()(e.updatedAt||e.createdAt),i=g().duration(a.diff(Date.now())),s=Math.abs(i.asMinutes());return t&&s<30})))||void 0===n?void 0:n.length)||0}),[j.data]),M=(0,s.useCallback)((function(e,n){var l;null===(l=j.data)||void 0===l||l.forEach((function(e){var l=(0,v.hL)(e);e.visible=l===n.value})),S((function(e){return(0,a.Z)((0,a.Z)({},e),{},{data:j.data})}))}),[j.data]);return(0,C.jsxs)("div",{className:b()({"users-wrap":!0}),children:[(0,C.jsxs)(r.Z,{inverted:!0,children:[(0,C.jsxs)("div",{className:"ttl",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("span",{children:"Users"}),!!N.length&&(0,C.jsxs)("span",{children:["(",N.filter((function(e){return e.checked})).length,")"]})]}),(0,C.jsx)(d.Z,{size:"small",className:"pointer",onClick:j.reload,name:"refresh"})]}),(0,C.jsx)("hr",{}),(0,C.jsx)("div",{className:"tbl-wrap",children:(0,C.jsxs)(o.Z,{celled:!0,striped:!0,selectable:!0,inverted:!0,compact:!0,children:[(0,C.jsx)(o.Z.Header,{children:(0,C.jsxs)(o.Z.Row,{children:[(0,C.jsx)(o.Z.HeaderCell,{className:"multi-select",textAlign:"center",children:"#"}),(0,C.jsx)(o.Z.HeaderCell,{children:"App"}),(0,C.jsxs)(o.Z.HeaderCell,{textAlign:"center",className:"status",children:[(0,C.jsx)(c.Z,{text:"Status",closeOnChange:!1,onChange:M,options:[{key:v.J0.IsDone,value:v.J0.IsDone,text:"Done"},{key:v.J0.InProgress,value:v.J0.InProgress,text:"InProgress"},{key:v.J0.IsWaiting,value:v.J0.IsWaiting,text:"Waiting"}]}),(0,C.jsx)("br",{}),!!_&&"#".concat(_)]}),(0,C.jsx)(o.Z.HeaderCell,{children:"Version"}),(0,C.jsxs)(o.Z.HeaderCell,{className:"weekly-summary",textAlign:"center",children:["Weekly Summary",(0,C.jsx)("br",{}),"(Bonus + Earnings = Total)"]}),(0,C.jsx)(o.Z.HeaderCell,{className:"weekly-progress",textAlign:"center",children:"Weekly Progress"}),(0,C.jsx)(o.Z.HeaderCell,{textAlign:"center",className:"bets",children:"Bets"}),(0,C.jsx)(o.Z.HeaderCell,{className:"last-update",textAlign:"right",children:"Active"})]})}),(0,C.jsx)(o.Z.Body,{children:null===(n=j.data)||void 0===n?void 0:n.map((function(e,n){var l,t,a,i,s,r,d,c,m,x,p,f,S,A,I,_,M,B,P;if(!1===e.visible)return null;var D=(0,v.hL)(e),O=D===v.J0.IsWaiting,E=g()(e.updatedAt||e.createdAt),U=g().duration(E.diff(Date.now())),L=Math.abs(U.asMinutes()),R=(null===(l=e.data)||void 0===l||null===(t=l.weekStatus)||void 0===t||null===(a=t.betSummary)||void 0===a?void 0:a.betSummary.totalStaked)||0,z=(null===(i=e.data)||void 0===i||null===(s=i.weekStatus)||void 0===s||null===(r=s.betSummary)||void 0===r?void 0:r.betSummary.totalEarnings)||0,T=(null===(d=e.data)||void 0===d||null===(c=d.weekStatus)||void 0===c||null===(m=c.betSummary)||void 0===m?void 0:m.betSummary.bonus)||0,F=(null===(x=e.data)||void 0===x||null===(p=x.weekStatus)||void 0===p||null===(f=p.betSummary)||void 0===f?void 0:f.betSummary.winnings)||0;O&&(R=0,z=0,T=0,F=0);var V=L>30?(0,v.Bb)(29):(0,v.Bb)(Math.floor(L)),q=N.find((function(n){return n.build===e.build})),G=N.filter((function(e){return e.checked})).map((function(e){return e.build})),K=(null===H||void 0===H?void 0:H.split(","))||[];return(0,C.jsxs)(o.Z.Row,{className:b()({selected:G.includes(e.build)||K.includes(e._id)}),onClick:J(e),children:[(0,C.jsx)(o.Z.Cell,{selectable:!0,className:"multi-select",textAlign:"center",children:(0,C.jsx)(u.Z,{value:JSON.stringify(e),checked:!(null===q||void 0===q||!q.checked),onChange:W})}),(0,C.jsx)(o.Z.Cell,{collapsing:!0,children:(0,C.jsx)("span",{children:e.build})}),(0,C.jsx)(o.Z.Cell,{collapsing:!0,textAlign:"center",className:"status",children:!j.loading&&[D].map((function(e,n){var l=y.Z,t="greenyellow";return e===v.J0.InProgress?(l=k.Z,t="#fbbd08"):e===v.J0.IsWaiting&&(l=w.Z,t="#ff5f5f"),(0,C.jsx)(Z.Z,{animation:l,size:25,autoplay:!0,strokeColor:t,loop:!0,speed:.3},n)}))}),(0,C.jsx)(o.Z.Cell,{collapsing:!0,children:null===(S=e.data)||void 0===S?void 0:S.version}),(0,C.jsx)(o.Z.Cell,{textAlign:"center",className:"week-summary",children:(0,C.jsxs)("div",{className:"week-summary-wrap",children:[(0,C.jsx)("span",{className:b()({win:T>0,lose:T<0}),children:(0,v.WI)(T)})," + ",(0,C.jsx)("span",{className:b()({win:z>0,lose:z<0}),children:(0,v.WI)(z)})," = ",(0,C.jsx)("span",{className:b()({win:F>0,lose:F<0}),children:(0,v.WI)(F)})]})}),(0,C.jsx)(o.Z.Cell,{textAlign:"right",className:"progress",children:(0,C.jsx)(h.Z,{indicating:!0,inverted:!0,success:!0===(null===(A=e.data)||void 0===A||null===(I=A.weekStatus)||void 0===I?void 0:I.done)&&0!==R,precision:0,value:Math.floor(R),progress:"percent",total:380,label:(0,v.WI)(R)})}),(0,C.jsx)(o.Z.Cell,{textAlign:"center",className:"bets",children:[{open:(null===(_=e.data.weekStatus)||void 0===_||null===(M=_.betSummary)||void 0===M?void 0:M.betSummary.openBets)||0,settled:(null===(B=e.data.weekStatus)||void 0===B||null===(P=B.betSummary)||void 0===P?void 0:P.betSummary.settledBets)||0}].map((function(e,n){var l=e.open,t=e.settled;return(0,C.jsxs)("div",{children:[(0,C.jsx)("span",{children:l}),(0,C.jsx)("span",{children:t})]},n)}))}),(0,C.jsx)(o.Z.Cell,{textAlign:"right",className:"last-login",children:(0,C.jsx)("span",{style:{color:V},children:E.fromNow()})})]},e._id)}))}),(0,C.jsx)(o.Z.Footer,{children:(0,C.jsx)(o.Z.Row,{children:(0,C.jsxs)(o.Z.HeaderCell,{colSpan:"100",children:["Total Users ",null===(l=j.data)||void 0===l?void 0:l.length]})})})]})}),(0,C.jsx)(f.o,{loading:j.loading})]}),(0,C.jsx)(p.j3,{})]})}));t()}catch(A){t(A)}}))},1952:function(e,n,l){l.d(n,{o:function(){return h}});var t=l(1413),a=l(9439),i=l(3144),s=l(5671),r=l(2791),d=l(1487),o=l(2417),c=l(184),u=(0,i.Z)((function e(n){(0,s.Z)(this,e),this.loading=!1,this.content="",this.loading=n.loading,this.content=n.content})),h=function(e){var n=(0,r.useState)(new u(e)),l=(0,a.Z)(n,2),i=l[0],s=l[1];return(0,r.useEffect)((function(){s((function(n){return(0,t.Z)((0,t.Z)({},n),{},{loading:e.loading})}))}),[e.loading]),(0,c.jsx)(d.Z,(0,t.Z)((0,t.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},i.loading?{active:!0}:{}),{},{children:(0,c.jsx)(o.Z,{})}))}},2530:function(){}}]);
//# sourceMappingURL=978.2f252f2f.chunk.js.map