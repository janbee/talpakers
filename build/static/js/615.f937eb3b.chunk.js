"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[615],{1615:function(n,t,e){e.a(n,(async function(n,s){try{e.r(t),e.d(t,{UserDetailsComponent:function(){return k}});var a=e(1413),i=e(9439),r=e(3144),l=e(5671),o=e(2791),d=(e(5630),e(899)),c=e(4863),u=e(7900),h=e(1952),f=e(763),g=e(2426),m=e.n(g),p=e(7689),w=e(3656),v=e(1694),j=e.n(v),x=e(184),S=n([u]);u=(S.then?(await S)():S)[0];var Z=(0,r.Z)((function n(){(0,l.Z)(this,n),this.loading=!1,this.list=[]})),k=(0,o.memo)((function(){var n,t=null===(n=(0,p.TH)().pathname.split("/").pop())||void 0===n?void 0:n.replace("@",""),e=(0,o.useState)(new Z),s=(0,i.Z)(e,2),r=s[0],l=s[1];return(0,o.useEffect)((function(){l((function(n){return(0,a.Z)((0,a.Z)({},n),{},{loading:!0})})),u.b.getSettledBets({email:t}).subscribe((function(n){console.log("gaga-----------------------------------getSettledBets--");var t=Array.from(Array(m()().isoWeeksInYear()).keys()).map((function(t){var e=m()().format("YYYY"),s=m()(e).add(t,"weeks"),a=m()(s).format("MMM"),i=m()(s).format("M"),r=m()(s).startOf("week").add(1,"day").toISOString(),l=m()(s).endOf("week").toISOString(),o=new Date(r),d=new Date(l);o.setUTCHours(0,0,0,0),d.setUTCHours(23,59,59,999);var c=null===n||void 0===n?void 0:n.filter((function(n){return n.startDate===o.toISOString()&&n.endDate===d.toISOString()})),u=0,h=0,g=0,p=0;if(null!==c&&void 0!==c&&c.length){h=(0,f.sumBy)(c,(function(n){return(0,f.sumBy)(n.details,"s")}));var w=(0,f.sumBy)(c,(function(n){return(0,f.sumBy)(n.details,"w")}));p=(u=(u=10*Math.floor(h/75))>50?50:u)+(g=w-h)}return{_id:"".concat(a,"-").concat(t),mon:i+"-"+a,year:e,startDate:o.toISOString(),endDate:d.toISOString(),bonus:u,totalStaked:h,totalEarnings:g,winnings:p,loading:!1,fetch:0,title:a}})),e=(0,f.groupBy)(t,"mon"),s=Object.keys(e).map((function(n){return{title:n.split("-")[1],data:e[n]}}));console.log("gaga-------------------------------------",s),l((function(n){return(0,a.Z)((0,a.Z)({},n),{},{loading:!1,list:s})}))}))}),[t]),(0,x.jsx)("div",{className:"user-details-wrap",children:(0,x.jsxs)(d.Z,{inverted:!0,children:[(0,x.jsx)("div",{className:"ttl",children:t}),(0,x.jsx)("div",{className:"user-details-content-wrap",children:r.list.map((function(n){var t=(0,f.sumBy)(n.data,"winnings");return(0,x.jsxs)("div",{className:"mon-wrap",children:[(0,x.jsxs)("div",{className:"ttl-wrap",children:[(0,x.jsx)(c.Z,{as:"h3",inverted:!0,children:n.title}),(0,x.jsx)(c.Z,{className:j()({winnings:t>0,losses:t<0}),as:"h4",inverted:!0,children:(0,w.WI)(t)})]}),(0,x.jsx)("hr",{}),(0,x.jsx)("div",{className:"week-wrap",children:n.data.map((function(n){return(0,x.jsxs)("div",{className:"week",children:[(0,x.jsx)("div",{className:"week-date",children:(0,x.jsxs)("span",{children:[m()(n.startDate).utc().format("ddd DD")," -"," ",m()(n.endDate).utc().format("ddd DD")]})}),(0,x.jsxs)("div",{className:"week-content",children:[(0,x.jsxs)("div",{className:"row-wrap",children:[(0,x.jsx)("span",{children:"Staked"}),(0,x.jsx)("span",{children:(0,w.WI)(n.totalStaked)})]}),(0,x.jsxs)("div",{className:"row-wrap",children:[(0,x.jsx)("span",{children:"Earnings"}),(0,x.jsx)("span",{children:(0,w.WI)(n.totalEarnings)})]}),(0,x.jsxs)("div",{className:"row-wrap",children:[(0,x.jsx)("span",{children:"Bonus"}),(0,x.jsx)("span",{children:(0,w.WI)(n.bonus)})]}),(0,x.jsxs)("div",{className:"row-wrap",children:[(0,x.jsx)("span",{children:"Winnings"}),(0,x.jsx)("span",{className:j()({winnings:n.winnings>0,losses:n.winnings<0}),children:(0,w.WI)(n.winnings)})]})]})]},n._id)}))})]},n.title)}))}),(0,x.jsx)(h.o,{loading:r.loading})]})})}));s()}catch(y){s(y)}}))},1952:function(n,t,e){e.d(t,{o:function(){return h}});var s=e(1413),a=e(9439),i=e(3144),r=e(5671),l=e(2791),o=e(1382),d=e(2417),c=e(184),u=(0,i.Z)((function n(t){(0,r.Z)(this,n),this.loading=!1,this.content="",this.loading=t.loading,this.content=t.content})),h=function(n){var t=(0,l.useState)(new u(n)),e=(0,a.Z)(t,2),i=e[0],r=e[1];return(0,l.useEffect)((function(){r((function(t){return(0,s.Z)((0,s.Z)({},t),{},{loading:n.loading})}))}),[n.loading]),(0,c.jsx)(o.Z,(0,s.Z)((0,s.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},i.loading?{active:!0}:{}),{},{children:(0,c.jsx)(d.Z,{})}))}},5630:function(){}}]);
//# sourceMappingURL=615.f937eb3b.chunk.js.map