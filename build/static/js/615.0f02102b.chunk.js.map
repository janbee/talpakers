{"version":3,"file":"static/js/615.0f02102b.chunk.js","mappings":"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","sources":["app/components/user-details/user-details.component.tsx","app/shared/component/element-loader.component.tsx"],"sourcesContent":["import React, { memo, useEffect, useState } from \"react\";\nimport \"./user-details.component.scss\";\nimport { Header, Icon, Label, Menu, Popup, Segment } from \"semantic-ui-react\";\nimport { EarningsModel, UserModel } from \"@models/custom.models\";\nimport { API } from \"@services/api.service\";\nimport { ElementComponent } from \"@app/shared/component/element-loader.component\";\nimport { groupBy, sumBy } from \"lodash\";\nimport moment from \"moment\";\nimport { useLocation } from \"react-router-dom\";\nimport { Money } from \"@utilities/utils\";\nimport classNames from \"classnames\";\nimport { forkJoin } from \"rxjs\";\n\nclass State {\n  loading = true;\n  list: { title: string; data: EarningsModel[] }[] = [];\n  yearTotalWinnings: number = 0;\n  yearTotalWithdrawals: number = 0;\n  userDetails?: UserModel[] | null;\n}\n\nexport const UserDetailsComponent = memo(() => {\n  const { pathname } = useLocation();\n  const email = pathname.split(\"/\").pop()?.replace(\"@\", \"\");\n  const [state, setState] = useState<State>(new State());\n\n  useEffect(() => {\n    setState((prevState) => ({ ...prevState, loading: true }));\n\n    forkJoin([\n      API.getBetSummary({ email }),\n      API.getBonuses({ email }),\n      API.getWithdrawals({ email }),\n      API.getUser({ email }),\n    ]).subscribe(([betSummaryList, bonusList, withdrawalList, userDetails]) => {\n      const filteredBonusList = bonusList?.filter((item) => {\n        return (\n          item.TransactionStatus === \"Approved\" &&\n          item.TransactionType === \"Bonus\" &&\n          [\"IMMEDIATE BONUS\", \"Bonus\"].includes(item.PaymentMethodInfo) &&\n          item.Amount >= 10\n        );\n      });\n      const filteredWithdrawalList = withdrawalList?.filter((item) => {\n        return [\n          \"Approved\",\n          \"Pending\",\n          \"Sending to Processor\",\n          \"In Process\",\n        ].includes(item.TransactionStatus);\n      });\n      console.log(\n        \"gaga-------------------------------bonusList------\",\n        filteredBonusList,\n      );\n\n      const dataList = Array.from(Array(moment().isoWeeksInYear()).keys()).map(\n        (weekNumber) => {\n          const year = moment().format(\"YYYY\");\n          const date = moment(year).add(weekNumber, \"weeks\");\n          const mon = moment(date).format(\"MMM\");\n          const monNumber = moment(date).format(\"M\");\n          const startDate = moment(date)\n            .startOf(\"week\")\n            .add(1, \"day\")\n            .toISOString();\n          const endDate = moment(date).endOf(\"week\").toISOString();\n\n          const weekStart = new Date(startDate);\n          const weekEnd = new Date(endDate);\n          weekStart.setUTCHours(0, 0, 0, 0);\n          weekEnd.setUTCHours(23, 59, 59, 999);\n\n          const betSummary = betSummaryList?.find((item) => {\n            return (\n              item.startDate === weekStart.toISOString() &&\n              item.endDate === weekEnd.toISOString() &&\n              item.year === parseInt(year, 10)\n            );\n          });\n\n          /*\n           * get bonus\n           * reverse to get the first occurrence not the latest\n           * */\n\n          const foundBonus = filteredBonusList?.reverse().find((item) => {\n            const TransactionDateTime = moment(\n              item.TransactionDateTime,\n            ).subtract(7, \"days\");\n            return (\n              TransactionDateTime.isAfter(weekStart) &&\n              TransactionDateTime.isBefore(weekEnd)\n            );\n          });\n\n          /*\n           * get withdrawal\n           * */\n          const foundWithdrawal = filteredWithdrawalList?.find((item) => {\n            const transactionDate = new Date(\n              item.TransactionDateTime.split(\"T\")[0],\n            );\n            transactionDate.setUTCHours(0, 0, 0, 0);\n            const TransactionDateTime = moment(transactionDate.toISOString());\n\n            return (\n              TransactionDateTime.isSameOrAfter(weekStart) &&\n              TransactionDateTime.isSameOrBefore(weekEnd)\n            );\n          });\n\n          let winnings = 0;\n\n          if (foundBonus && betSummary) {\n            winnings =\n              foundBonus.Amount + (betSummary?.betSummary.totalEarnings || 0);\n          }\n\n          return {\n            _id: `${mon}-${weekNumber}`,\n            mon: monNumber + \"-\" + mon,\n            year,\n            startDate: weekStart.toISOString(),\n            endDate: weekEnd.toISOString(),\n            bonus: foundBonus?.Amount || betSummary?.betSummary.bonus || 0,\n            totalStaked: betSummary?.betSummary.totalStaked || 0,\n            totalEarnings: betSummary?.betSummary.totalEarnings || 0,\n            winnings,\n            approxWinnings: betSummary?.betSummary.winnings || 0,\n            loading: false,\n            fetch: 0,\n            title: mon,\n            withdrawal: foundWithdrawal,\n          };\n        },\n      );\n      const groupedDataList = groupBy(dataList, \"mon\");\n      const defaultList = Object.keys(groupedDataList).map((key) => {\n        return {\n          title: key.split(\"-\")[1],\n          data: groupedDataList[key] as unknown as EarningsModel[],\n        };\n      });\n\n      console.log(\n        \"gaga----------------------------defaultList---------\",\n        defaultList,\n      );\n\n      const yearTotalWinnings = sumBy(defaultList, (item) => {\n        return sumBy(item.data, \"winnings\");\n      });\n\n      const yearTotalWithdrawals = sumBy(defaultList, (item) => {\n        return sumBy(item.data, \"withdrawal.Amount\");\n      });\n\n      console.log(\n        \"gaga----------------------userDetails---------------\",\n        userDetails,\n      );\n      setState((prevState) => ({\n        ...prevState,\n        loading: false,\n        yearTotalWinnings,\n        yearTotalWithdrawals,\n        list: defaultList,\n        userDetails,\n      }));\n    });\n  }, [email]);\n\n  return (\n    <div className=\"user-details-wrap\">\n      <Segment inverted>\n        <div className=\"ttl\">\n          <span>{email}</span>\n          <div className=\"row-wrap between\">\n            <Popup\n              on=\"hover\"\n              basic\n              trigger={<Icon name=\"info circle\" />}\n              position=\"bottom right\"\n              mouseLeaveDelay={60000}\n            >\n              <Menu vertical>\n                <Menu.Item header>\n                  <Header as=\"h3\">\n                    Year {moment().format(\"YYYY\")} Details\n                  </Header>\n                </Menu.Item>\n                <Menu.Item>\n                  <Header as=\"h4\">Current Balance</Header>\n                  <p>\n                    <Label color=\"green\">\n                      {Money(\n                        state.userDetails?.[0].data?.userSession?.cash || 0,\n                      )}\n                    </Label>\n                  </p>\n                </Menu.Item>\n                <Menu.Item>\n                  <Header as=\"h4\">Available Cashout</Header>\n                  <p>\n                    <Label color=\"orange\">\n                      {Money(\n                        state.userDetails?.[0].data?.userSession?.cashout || 0,\n                      )}\n                    </Label>\n                  </p>\n                </Menu.Item>\n                <Menu.Item>\n                  <Header as=\"h4\">Total Earnings this year</Header>\n                  <p>\n                    <Label color=\"purple\">\n                      {Money(state.yearTotalWinnings)}\n                    </Label>\n                  </p>\n                </Menu.Item>\n                <Menu.Item>\n                  <Header as=\"h4\">Total Cashout this year</Header>\n                  <p>\n                    <Label color=\"red\">\n                      {\" \"}\n                      {Money(Math.abs(state.yearTotalWithdrawals || 0))}\n                    </Label>\n                  </p>\n                </Menu.Item>\n              </Menu>\n            </Popup>\n          </div>\n        </div>\n        <hr />\n        <div className=\"user-details-content-wrap\">\n          {state.list.map((mon) => {\n            const total = sumBy(mon.data, \"winnings\");\n            return (\n              <div key={mon.title} className=\"mon-wrap\">\n                <div className=\"ttl-wrap\">\n                  <Header as=\"h3\" inverted>\n                    {mon.title}\n                  </Header>\n                  <Header\n                    className={classNames({\n                      winnings: total > 0,\n                      losses: total < 0,\n                    })}\n                    as=\"h4\"\n                    inverted\n                  >\n                    {Money(total)}\n                  </Header>\n                </div>\n                <hr />\n                <div className=\"week-wrap\">\n                  {mon.data.map((item) => {\n                    return (\n                      <div key={item._id} className=\"week\">\n                        {!!item.withdrawal && (\n                          <Popup\n                            on=\"click\"\n                            position=\"top center\"\n                            trigger={<div className=\"has-withdrawal\" />}\n                            flowing\n                          >\n                            <Popup.Header>\n                              Withdrawal (\n                              <span\n                                className={classNames({\n                                  \"yellow-light\":\n                                    item.withdrawal.TransactionStatus ===\n                                    \"Pending\",\n                                  \"green-light\":\n                                    item.withdrawal.TransactionStatus ===\n                                    \"Approved\",\n                                  \"blue-light\": [\n                                    \"In Process\",\n                                    \"Sending to Processor\",\n                                  ].includes(item.withdrawal.TransactionStatus),\n                                })}\n                              >\n                                {item.withdrawal.TransactionStatus}\n                              </span>\n                              )\n                            </Popup.Header>\n                            <Popup.Content>\n                              {`${item.withdrawal.PaymentMethodInfo} ${Money(\n                                item.withdrawal.Amount,\n                              )}`}\n                            </Popup.Content>\n                          </Popup>\n                        )}\n\n                        <div className=\"week-date\">\n                          <span>\n                            {moment(item.startDate).utc().format(\"ddd DD\")} -{\" \"}\n                            {moment(item.endDate).utc().format(\"ddd DD\")}\n                          </span>\n                        </div>\n                        <div className=\"week-content\">\n                          <div className=\"row-wrap\">\n                            <span>Staked</span>\n                            <span>{Money(item.totalStaked)}</span>\n                          </div>\n                          <div className=\"row-wrap\">\n                            <span>Earnings</span>\n                            <span>{Money(item.totalEarnings)}</span>\n                          </div>\n                          <div className=\"row-wrap\">\n                            <span>Bonus</span>\n                            <span>{Money(item.bonus)}</span>\n                          </div>\n\n                          {(item.winnings === 0 && item.totalStaked > 0 && (\n                            <div className=\"row-wrap\">\n                              <span>Winnings</span>\n\n                              <Popup\n                                content=\"Approximate Earnings.\"\n                                position=\"top center\"\n                                trigger={\n                                  <span\n                                    className={classNames({\n                                      approx: true,\n                                    })}\n                                  >\n                                    {Money(item.approxWinnings)}\n                                  </span>\n                                }\n                              />\n                            </div>\n                          )) || (\n                            <div className=\"row-wrap\">\n                              <span>Winnings</span>\n                              <span\n                                className={classNames({\n                                  winnings: item.winnings > 0,\n                                  losses: item.winnings < 0,\n                                })}\n                              >\n                                {Money(item.winnings)}\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        <ElementComponent loading={state.loading} />\n      </Segment>\n    </div>\n  );\n});\n","import React, { useEffect, useState } from \"react\";\nimport { Dimmer, Loader } from \"semantic-ui-react\";\n\ninterface Props {\n  loading: boolean;\n  content?: string;\n}\n\nclass State {\n  loading = false;\n  content? = \"\";\n\n  constructor(props: Props) {\n    this.loading = props.loading;\n    this.content = props.content;\n  }\n}\n\nexport const ElementComponent = (props: Props) => {\n  const [state, setState] = useState<State>(new State(props));\n\n  useEffect(() => {\n    setState((prevState) => ({ ...prevState, loading: props.loading }));\n  }, [props.loading]);\n\n  return (\n    <Dimmer\n      style={{\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n      }}\n      {...(state.loading ? { active: true } : {})}\n    >\n      <Loader />\n    </Dimmer>\n  );\n};\n"],"names":["State","_createClass","_classCallCheck","loading","list","yearTotalWinnings","yearTotalWithdrawals","userDetails","UserDetailsComponent","memo","_pathname$split$pop","_state$userDetails","_state$userDetails$0$","_state$userDetails$0$2","_state$userDetails2","_state$userDetails2$","_state$userDetails2$$","email","useLocation","pathname","split","pop","replace","_useState","useState","_useState2","_slicedToArray","state","setState","useEffect","prevState","_objectSpread","forkJoin","API","getBetSummary","getBonuses","getWithdrawals","getUser","subscribe","_ref","_ref2","betSummaryList","bonusList","withdrawalList","filteredBonusList","filter","item","TransactionStatus","TransactionType","includes","PaymentMethodInfo","Amount","filteredWithdrawalList","console","log","dataList","Array","from","moment","isoWeeksInYear","keys","map","weekNumber","year","format","date","add","mon","monNumber","startDate","startOf","toISOString","endDate","endOf","weekStart","Date","weekEnd","setUTCHours","betSummary","find","parseInt","foundBonus","reverse","TransactionDateTime","subtract","isAfter","isBefore","foundWithdrawal","transactionDate","isSameOrAfter","isSameOrBefore","winnings","totalEarnings","_id","concat","bonus","totalStaked","approxWinnings","fetch","title","withdrawal","groupedDataList","groupBy","defaultList","Object","key","data","sumBy","_jsx","className","children","_jsxs","Segment","inverted","Popup","on","basic","trigger","Icon","name","position","mouseLeaveDelay","Menu","vertical","Item","header","Header","as","Label","color","Money","userSession","cash","cashout","Math","abs","total","classNames","losses","flowing","Content","utc","content","approx","ElementComponent","props","this","Dimmer","style","top","left","right","bottom","active","Loader"],"sourceRoot":""}