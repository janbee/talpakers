"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[978],{6978:function(e,t,n){n.a(e,(async function(e,l){try{n.r(t),n.d(t,{UsersComponent:function(){return b}});var a=n(2791),i=(n(2530),n(899)),r=n(2836),s=n(8900),c=n(5978),d=n(3656),o=n(7900),u=n(2426),p=n.n(u),h=n(7689),v=n(1952),f=n(1418),m=n.n(f),g=n(184),Z=e([o]);o=(Z.then?(await Z)():Z)[0];var b=(0,a.memo)((function(){var e,t,n,l=(0,d.h_)((function(){return o.b.getUsers()}),{withLoading:!1}),u=(0,a.useMemo)((function(){return[]}),[]),f=JSON.stringify(window.location.href),Z=(0,h.s0)(),b=(0,d.On)((function(e){u.length=0,e.checked=!0,u.push(e),Z("@".concat(e._id),{relative:"route",replace:f.includes("@")})}),[Z]),k=(0,a.useCallback)((function(e,t){e.stopPropagation();var n=JSON.parse(t.value),l=u.find((function(e){return e.build===n.build}));l?l.checked=t.checked:(n.checked=t.checked,u.push(n));var a=u.filter((function(e){return!0===e.checked})).map((function(e){return e._id})).join(",");Z(0===(null===a||void 0===a?void 0:a.length)?"":"@".concat(a),{relative:"route",replace:f.includes("@")})}),[]),w=null===(e=f.replaceAll('"',"").split("/").pop())||void 0===e?void 0:e.replace("@","");return(0,g.jsxs)("div",{className:m()({"users-wrap":!0}),children:[(0,g.jsxs)(i.Z,{inverted:!0,children:[(0,g.jsxs)("div",{className:"row-wrap between ttl-wrap",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"ttl",children:"Users"}),!!u.length&&(0,g.jsxs)("span",{className:"ttl",children:["(",u.filter((function(e){return e.checked})).length,")"]})]}),(0,g.jsx)(r.Z,{onClick:l.reload,name:"refresh"})]}),(0,g.jsx)("hr",{}),(0,g.jsx)("div",{className:"tbl-wrap",children:(0,g.jsxs)(s.Z,{celled:!0,striped:!0,selectable:!0,inverted:!0,children:[(0,g.jsx)(s.Z.Header,{children:(0,g.jsxs)(s.Z.Row,{children:[(0,g.jsx)(s.Z.HeaderCell,{className:"multi-select",textAlign:"center",children:"#"}),(0,g.jsx)(s.Z.HeaderCell,{children:"App"}),(0,g.jsx)(s.Z.HeaderCell,{children:"Status"}),(0,g.jsx)(s.Z.HeaderCell,{children:"Version"}),(0,g.jsx)(s.Z.HeaderCell,{textAlign:"center",width:1,children:"Staked"}),(0,g.jsx)(s.Z.HeaderCell,{textAlign:"center",width:1,children:"Winnings"}),(0,g.jsx)(s.Z.HeaderCell,{textAlign:"right",children:"Active"})]})}),(0,g.jsx)(s.Z.Body,{children:null===(t=l.data)||void 0===t?void 0:t.map((function(e,t){var n,l,a,i,r,o,h,v,f,Z,x,C,j,N,G,y,A,R=6e4*(new Date).getTimezoneOffset(),D=new Date((new Date).getTime()-R);D.setUTCHours(0,0,0,0);var P=D.getDay(),T=new Date(D);T.setUTCHours(0,0,0,0),T.setDate(D.getDate()-P);var E=new Date(T);E.setUTCHours(0,0,0,0);var U=new Date(E);U.setUTCHours(0,0,0,0),U.setDate(E.getDate()+6),new Date(U).setUTCHours(23,59,59,999);var H=!1===(null===(n=e.data)||void 0===n||null===(l=n.weekStatus)||void 0===l?void 0:l.done),M=p()(e.updatedAt||e.createdAt),S=p().duration(M.diff(Date.now())),O=Math.abs(S.asMinutes()),I=!1;H&&O>=30&&(I=!0);var _=O>30?(0,d.Bb)(29):(0,d.Bb)(Math.floor(O)),F=u.find((function(t){return t.build===e.build})),B=u.filter((function(e){return e.checked})).map((function(e){return e.build})),K=(null===w||void 0===w?void 0:w.split(","))||[];return(0,g.jsxs)(s.Z.Row,{className:m()({selected:B.includes(e.build)||K.includes(e._id)}),onClick:b(e),children:[(0,g.jsx)(s.Z.Cell,{selectable:!0,className:"multi-select",textAlign:"center",children:(0,g.jsx)(c.Z,{value:JSON.stringify(e),checked:!(null===F||void 0===F||!F.checked),onChange:k})}),(0,g.jsx)(s.Z.Cell,{collapsing:!0,children:(0,g.jsx)("span",{onClick:function(e){},children:e.build})}),(0,g.jsx)(s.Z.Cell,{collapsing:!0,children:(0,g.jsx)("span",{className:m()({status:!0,done:!0===(null===(a=e.data)||void 0===a||null===(i=a.weekStatus)||void 0===i?void 0:i.done),"in-progress":H,unknown:void 0===(null===(r=e.data)||void 0===r||null===(o=r.weekStatus)||void 0===o?void 0:o.done),waiting:E.toISOString()!==(null===(h=e.data)||void 0===h||null===(v=h.weekStatus)||void 0===v?void 0:v.startDate)||I})})}),(0,g.jsx)(s.Z.Cell,{collapsing:!0,children:null===(f=e.data)||void 0===f?void 0:f.version}),(0,g.jsx)(s.Z.Cell,{textAlign:"center",children:(0,g.jsx)("span",{children:(0,d.WI)((null===(Z=e.data)||void 0===Z||null===(x=Z.weekStatus)||void 0===x?void 0:x.staked)||0)})}),(0,g.jsx)(s.Z.Cell,{textAlign:"center",children:(0,g.jsx)("span",{className:m()({win:((null===(C=e.data)||void 0===C||null===(j=C.weekStatus)||void 0===j?void 0:j.winnings)||0)>0,lose:((null===(N=e.data)||void 0===N||null===(G=N.weekStatus)||void 0===G?void 0:G.winnings)||0)<0}),children:(0,d.WI)((null===(y=e.data)||void 0===y||null===(A=y.weekStatus)||void 0===A?void 0:A.winnings)||0)})}),(0,g.jsx)(s.Z.Cell,{textAlign:"right",children:(0,g.jsx)("span",{style:{color:_},children:M.fromNow()})})]},e._id)}))}),(0,g.jsx)(s.Z.Footer,{children:(0,g.jsx)(s.Z.Row,{children:(0,g.jsxs)(s.Z.HeaderCell,{colSpan:"100",children:["Total Users ",null===(n=l.data)||void 0===n?void 0:n.length]})})})]})}),(0,g.jsx)(v.o,{loading:l.loading})]}),(0,g.jsx)(h.j3,{})]})}));l()}catch(k){l(k)}}))},1952:function(e,t,n){n.d(t,{o:function(){return p}});var l=n(1413),a=n(9439),i=n(3144),r=n(5671),s=n(2791),c=n(1487),d=n(2417),o=n(184),u=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.loading=!1,this.content="",this.loading=t.loading,this.content=t.content})),p=function(e){var t=(0,s.useState)(new u(e)),n=(0,a.Z)(t,2),i=n[0],r=n[1];return(0,s.useEffect)((function(){r((function(t){return(0,l.Z)((0,l.Z)({},t),{},{loading:e.loading})}))}),[e.loading]),(0,o.jsx)(c.Z,(0,l.Z)((0,l.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},i.loading?{active:!0}:{}),{},{children:(0,o.jsx)(d.Z,{})}))}},8900:function(e,t,n){n.d(t,{Z:function(){return G}});var l=n(7462),a=n(4210),i=n(8182),r=n(2791),s=n(7826),c=n(6755),d=n(6246),o=n(5831);function u(e){var t=e.children,n=e.className,a=(0,i.Z)(n),s=(0,c.Z)(u,e),o=(0,d.Z)(u,e);return r.createElement(o,(0,l.Z)({},s,{className:a}),t)}u.handledProps=["as","children","className"],u.defaultProps={as:"tbody"},u.propTypes={};var p=u,h=n(1126),v=n(2836);function f(e){var t=e.active,n=e.children,a=e.className,u=e.collapsing,p=e.content,h=e.disabled,m=e.error,g=e.icon,Z=e.negative,b=e.positive,k=e.selectable,w=e.singleLine,x=e.textAlign,C=e.verticalAlign,j=e.warning,N=e.width,G=(0,i.Z)((0,s.lG)(t,"active"),(0,s.lG)(u,"collapsing"),(0,s.lG)(h,"disabled"),(0,s.lG)(m,"error"),(0,s.lG)(Z,"negative"),(0,s.lG)(b,"positive"),(0,s.lG)(k,"selectable"),(0,s.lG)(w,"single line"),(0,s.lG)(j,"warning"),(0,s.X4)(x),(0,s.Ok)(C),(0,s.H0)(N,"wide"),a),y=(0,c.Z)(f,e),A=(0,d.Z)(f,e);return o.kK(n)?r.createElement(A,(0,l.Z)({},y,{className:G}),v.Z.create(g),p):r.createElement(A,(0,l.Z)({},y,{className:G}),n)}f.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],f.defaultProps={as:"td"},f.propTypes={},f.create=(0,h.u5)(f,(function(e){return{content:e}}));var m=f;function g(e){var t=e.children,n=e.className,a=e.content,u=e.fullWidth,p=(0,i.Z)((0,s.lG)(u,"full-width"),n),h=(0,c.Z)(g,e),v=(0,d.Z)(g,e);return r.createElement(v,(0,l.Z)({},h,{className:p}),o.kK(t)?a:t)}g.handledProps=["as","children","className","content","fullWidth"],g.defaultProps={as:"thead"},g.propTypes={};var Z=g;function b(e){var t=e.as,n=(0,c.Z)(b,e);return r.createElement(Z,(0,l.Z)({},n,{as:t}))}b.handledProps=["as"],b.propTypes={},b.defaultProps={as:"tfoot"};var k=b;function w(e){var t=e.as,n=e.className,a=e.sorted,d=(0,i.Z)((0,s.cD)(a,"sorted"),n),o=(0,c.Z)(w,e);return r.createElement(m,(0,l.Z)({},o,{as:t,className:d}))}w.handledProps=["as","className","sorted"],w.propTypes={},w.defaultProps={as:"th"};var x=w;function C(e){var t=e.active,n=e.cellAs,u=e.cells,p=e.children,h=e.className,v=e.disabled,f=e.error,g=e.negative,Z=e.positive,b=e.textAlign,k=e.verticalAlign,w=e.warning,x=(0,i.Z)((0,s.lG)(t,"active"),(0,s.lG)(v,"disabled"),(0,s.lG)(f,"error"),(0,s.lG)(g,"negative"),(0,s.lG)(Z,"positive"),(0,s.lG)(w,"warning"),(0,s.X4)(b),(0,s.Ok)(k),h),j=(0,c.Z)(C,e),N=(0,d.Z)(C,e);return o.kK(p)?r.createElement(N,(0,l.Z)({},j,{className:x}),(0,a.Z)(u,(function(e){return m.create(e,{defaultProps:{as:n}})}))):r.createElement(N,(0,l.Z)({},j,{className:x}),p)}C.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],C.defaultProps={as:"tr",cellAs:"td"},C.propTypes={},C.create=(0,h.u5)(C,(function(e){return{cells:e}}));var j=C;function N(e){var t=e.attached,n=e.basic,u=e.celled,h=e.children,v=e.className,f=e.collapsing,m=e.color,g=e.columns,b=e.compact,w=e.definition,x=e.fixed,C=e.footerRow,G=e.headerRow,y=e.headerRows,A=e.inverted,R=e.padded,D=e.renderBodyRow,P=e.selectable,T=e.singleLine,E=e.size,U=e.sortable,H=e.stackable,M=e.striped,S=e.structured,O=e.tableData,I=e.textAlign,_=e.unstackable,F=e.verticalAlign,B=(0,i.Z)("ui",m,E,(0,s.lG)(u,"celled"),(0,s.lG)(f,"collapsing"),(0,s.lG)(w,"definition"),(0,s.lG)(x,"fixed"),(0,s.lG)(A,"inverted"),(0,s.lG)(P,"selectable"),(0,s.lG)(T,"single line"),(0,s.lG)(U,"sortable"),(0,s.lG)(H,"stackable"),(0,s.lG)(M,"striped"),(0,s.lG)(S,"structured"),(0,s.lG)(_,"unstackable"),(0,s.sU)(t,"attached"),(0,s.sU)(n,"basic"),(0,s.sU)(b,"compact"),(0,s.sU)(R,"padded"),(0,s.X4)(I),(0,s.Ok)(F),(0,s.H0)(g,"column"),"table",v),K=(0,c.Z)(N,e),L=(0,d.Z)(N,e);if(!o.kK(h))return r.createElement(L,(0,l.Z)({},K,{className:B}),h);var W={defaultProps:{cellAs:"th"}},z=(G||y)&&r.createElement(Z,null,j.create(G,W),(0,a.Z)(y,(function(e){return j.create(e,W)})));return r.createElement(L,(0,l.Z)({},K,{className:B}),z,r.createElement(p,null,D&&(0,a.Z)(O,(function(e,t){return j.create(D(e,t))}))),C&&r.createElement(k,null,j.create(C)))}N.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],N.defaultProps={as:"table"},N.propTypes={},N.Body=p,N.Cell=m,N.Footer=k,N.Header=Z,N.HeaderCell=x,N.Row=j;var G=N},5978:function(e,t,n){n.d(t,{Z:function(){return g}});var l=n(7462),a=n(4578),i=n(5622);var r=function(e,t,n){return null==e?e:(0,i.Z)(e,t,n)},s=n(2942),c=n(4517),d=n(2766),o=n(8182),u=n(2791),p=n(7826),h=n(6755),v=n(6246),f=n(2623),m=n(1126),g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).inputRef=(0,u.createRef)(),t.labelRef=(0,u.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,l=e.radio,a=e.readOnly,i=t.state.checked;return!n&&!a&&!(l&&i)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,l=e.tabIndex;return(0,c.Z)(l)?n?-1:0:l},t.handleClick=function(e){var n=t.props.id,a=t.state,i=a.checked,r=a.indeterminate,d=(0,s.Z)(t.inputRef.current,"contains",e.target),o=(0,s.Z)(t.labelRef.current,"contains",e.target),u=!o&&!d,p=!(0,c.Z)(n);o&&p||(0,s.Z)(t.props,"onClick",e,(0,l.Z)({},t.props,{checked:!i,indeterminate:!!r})),t.isClickFromMouse&&(t.isClickFromMouse=!1,o&&!p&&t.handleChange(e),u&&t.handleChange(e),o&&p&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&((0,s.Z)(t.props,"onChange",e,(0,l.Z)({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,a=n.checked,i=n.indeterminate;(0,s.Z)(t.props,"onMouseDown",e,(0,l.Z)({},t.props,{checked:!!a,indeterminate:!!i})),e.defaultPrevented||(0,s.Z)(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,a=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,(0,s.Z)(t.props,"onMouseUp",e,(0,l.Z)({},t.props,{checked:!!a,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;r(t.inputRef,"current.indeterminate",!!e)},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,a=e.disabled,i=e.label,r=e.id,s=e.name,g=e.radio,Z=e.readOnly,b=e.slider,k=e.toggle,w=e.type,x=e.value,C=this.state,j=C.checked,N=C.indeterminate,G=(0,o.Z)("ui",(0,p.lG)(j,"checked"),(0,p.lG)(a,"disabled"),(0,p.lG)(N,"indeterminate"),(0,p.lG)((0,c.Z)(i),"fitted"),(0,p.lG)(g,"radio"),(0,p.lG)(Z,"read-only"),(0,p.lG)(b,"slider"),(0,p.lG)(k,"toggle"),"checkbox",n),y=(0,h.Z)(t,this.props),A=(0,v.Z)(t,this.props),R=(0,f.vR)(y,{htmlProps:f._l}),D=R[0],P=R[1],T=(0,m.i9)(i,{defaultProps:{htmlFor:r},autoGenerateKey:!1})||u.createElement("label",{htmlFor:r});return u.createElement(A,(0,l.Z)({},P,{className:G,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),u.createElement(d.R,{innerRef:this.inputRef},u.createElement("input",(0,l.Z)({},D,{checked:j,className:"hidden",disabled:a,id:r,name:s,readOnly:!0,tabIndex:this.computeTabIndex(),type:w,value:x}))),u.createElement(d.R,{innerRef:this.labelRef},T))},t}(n(5326).Z);g.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],g.propTypes={},g.defaultProps={type:"checkbox"},g.autoControlledProps=["checked","indeterminate"]},2530:function(){}}]);
//# sourceMappingURL=978.a919ebe8.chunk.js.map