"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[978],{6978:function(e,n,l){l.a(e,(async function(e,t){try{l.r(n),l.d(n,{UsersComponent:function(){return A}});var a=l(1413),s=l(9439),i=l(2791),r=(l(2530),l(899)),d=l(2836),o=l(8900),c=l(7950),u=l(5978),h=l(7687),v=l(3656),m=l(7900),x=l(2426),g=l.n(x),p=l(7689),f=l(1952),j=l(1418),b=l.n(j),Z=l(99),k=l(1918),y=l(2115),w=l(1911),S=l(763),C=l(184),N=e([m]);m=(N.then?(await N)():N)[0];var A=(0,i.memo)((function(){var e,n,l,t=(0,v.h_)((function(){return m.b.getUsers()}),{withLoading:!1}),x=(0,s.Z)(t,2),j=x[0],N=x[1],A=(0,i.useMemo)((function(){return[]}),[]),I=JSON.stringify(window.location.href),J=(0,p.s0)(),W=(0,v.On)((function(e){A.length=0,e.checked=!0,A.push(e),J("@".concat(e._id),{relative:"route",replace:I.includes("@")})}),[J]),H=(0,i.useCallback)((function(e,n){e.stopPropagation();var l=JSON.parse(n.value),t=A.find((function(e){return e.build===l.build}));t?t.checked=n.checked:(l.checked=n.checked,A.push(l));var a=A.filter((function(e){return!0===e.checked})).map((function(e){return e._id})).join(",");J(0===(null===a||void 0===a?void 0:a.length)?"":"@".concat(a),{relative:"route",replace:I.includes("@")})}),[A,I,J]),_=null===(e=I.replaceAll('"',"").split("/").pop())||void 0===e?void 0:e.replace("@",""),B=(0,i.useMemo)((function(){var e,n;return(null===(e=j.data)||void 0===e||null===(n=e.filter((function(e){var n,l,t=!1===(null===(n=e.data)||void 0===n||null===(l=n.weekStatus)||void 0===l?void 0:l.done),a=g()(e.updatedAt||e.createdAt),s=g().duration(a.diff(Date.now())),i=Math.abs(s.asMinutes());return t&&i<30})))||void 0===n?void 0:n.length)||0}),[j.data]),M=(0,i.useCallback)((function(e,n){var l=(0,S.orderBy)(j.data,[function(e){return(0,v.hL)(e)===n.value},"data.weekStatus.betSummary.betSummary.totalStaked"],["desc","desc"]);N((function(e){return(0,a.Z)((0,a.Z)({},e),{},{data:l})}))}),[j.data]);return(0,C.jsxs)("div",{className:b()({"users-wrap":!0}),children:[(0,C.jsxs)(r.Z,{inverted:!0,children:[(0,C.jsxs)("div",{className:"ttl",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("span",{children:"Users"}),!!A.length&&(0,C.jsxs)("span",{children:["(",A.filter((function(e){return e.checked})).length,")"]})]}),(0,C.jsx)(d.Z,{size:"small",className:"pointer",onClick:j.reload,name:"refresh"})]}),(0,C.jsx)("hr",{}),(0,C.jsx)("div",{className:"tbl-wrap",children:(0,C.jsxs)(o.Z,{celled:!0,striped:!0,selectable:!0,inverted:!0,compact:!0,children:[(0,C.jsx)(o.Z.Header,{children:(0,C.jsxs)(o.Z.Row,{children:[(0,C.jsx)(o.Z.HeaderCell,{className:"multi-select",textAlign:"center",children:"#"}),(0,C.jsx)(o.Z.HeaderCell,{children:"App"}),(0,C.jsxs)(o.Z.HeaderCell,{textAlign:"center",className:"status",children:[(0,C.jsx)(c.Z,{text:"Status",closeOnChange:!1,onChange:M,options:[{key:v.J0.IsDone,value:v.J0.IsDone,text:"Done"},{key:v.J0.InProgress,value:v.J0.InProgress,text:"InProgress"},{key:v.J0.IsWaiting,value:v.J0.IsWaiting,text:"Waiting"}]}),(0,C.jsx)("br",{}),!!B&&"#".concat(B)]}),(0,C.jsx)(o.Z.HeaderCell,{children:"Version"}),(0,C.jsxs)(o.Z.HeaderCell,{className:"weekly-summary",textAlign:"center",children:["Weekly Summary",(0,C.jsx)("br",{}),"(Bonus + Earnings = Total)"]}),(0,C.jsx)(o.Z.HeaderCell,{className:"weekly-progress",textAlign:"center",children:"Weekly Progress"}),(0,C.jsx)(o.Z.HeaderCell,{textAlign:"center",className:"bets",children:"Bets"}),(0,C.jsx)(o.Z.HeaderCell,{className:"last-update",textAlign:"right",children:"Active"})]})}),(0,C.jsx)(o.Z.Body,{children:null===(n=j.data)||void 0===n?void 0:n.map((function(e,n){var l,t,a,s,i,r,d,c,m,x,p,f,S,N,I,J,B,M,P,D=(0,v.hL)(e),O=D===v.J0.IsWaiting,U=g()(e.updatedAt||e.createdAt),E=g().duration(U.diff(Date.now())),L=Math.abs(E.asMinutes()),R=(null===(l=e.data)||void 0===l||null===(t=l.weekStatus)||void 0===t||null===(a=t.betSummary)||void 0===a?void 0:a.betSummary.totalStaked)||0,z=(null===(s=e.data)||void 0===s||null===(i=s.weekStatus)||void 0===i||null===(r=i.betSummary)||void 0===r?void 0:r.betSummary.totalEarnings)||0,T=(null===(d=e.data)||void 0===d||null===(c=d.weekStatus)||void 0===c||null===(m=c.betSummary)||void 0===m?void 0:m.betSummary.bonus)||0,F=(null===(x=e.data)||void 0===x||null===(p=x.weekStatus)||void 0===p||null===(f=p.betSummary)||void 0===f?void 0:f.betSummary.winnings)||0;O&&(R=0,z=0,T=0,F=0);var V=L>30?(0,v.Bb)(29):(0,v.Bb)(Math.floor(L)),q=A.find((function(n){return n.build===e.build})),G=A.filter((function(e){return e.checked})).map((function(e){return e.build})),K=(null===_||void 0===_?void 0:_.split(","))||[];return(0,C.jsxs)(o.Z.Row,{className:b()({selected:G.includes(e.build)||K.includes(e._id)}),onClick:W(e),children:[(0,C.jsx)(o.Z.Cell,{selectable:!0,className:"multi-select",textAlign:"center",children:(0,C.jsx)(u.Z,{value:JSON.stringify(e),checked:!(null===q||void 0===q||!q.checked),onChange:H})}),(0,C.jsx)(o.Z.Cell,{collapsing:!0,children:(0,C.jsx)("span",{children:e.build})}),(0,C.jsx)(o.Z.Cell,{collapsing:!0,textAlign:"center",className:"status",children:!j.loading&&[D].map((function(e,n){var l=w.Z,t="greenyellow";return e===v.J0.InProgress?(l=k.Z,t="#fbbd08"):e===v.J0.IsWaiting&&(l=y.Z,t="#ff5f5f"),(0,C.jsx)(Z.Z,{animation:l,size:25,autoplay:!0,strokeColor:t,loop:!0,speed:.4},n)}))}),(0,C.jsx)(o.Z.Cell,{collapsing:!0,children:null===(S=e.data)||void 0===S?void 0:S.version}),(0,C.jsx)(o.Z.Cell,{textAlign:"center",className:"week-summary",children:(0,C.jsxs)("div",{className:"week-summary-wrap",children:[(0,C.jsx)("span",{className:b()({win:T>0,lose:T<0}),children:(0,v.WI)(T)})," + ",(0,C.jsx)("span",{className:b()({win:z>0,lose:z<0}),children:(0,v.WI)(z)})," = ",(0,C.jsx)("span",{className:b()({win:F>0,lose:F<0}),children:(0,v.WI)(F)})]})}),(0,C.jsx)(o.Z.Cell,{textAlign:"right",className:"progress",children:(0,C.jsx)(h.Z,{indicating:!0,inverted:!0,success:!0===(null===(N=e.data)||void 0===N||null===(I=N.weekStatus)||void 0===I?void 0:I.done)&&0!==R,precision:0,value:Math.floor(R),progress:"percent",total:380,label:(0,v.WI)(R)})}),(0,C.jsx)(o.Z.Cell,{textAlign:"center",className:"bets",children:[{open:(null===(J=e.data.weekStatus)||void 0===J||null===(B=J.betSummary)||void 0===B?void 0:B.betSummary.openBets)||0,settled:(null===(M=e.data.weekStatus)||void 0===M||null===(P=M.betSummary)||void 0===P?void 0:P.betSummary.settledBets)||0}].map((function(e,n){var l=e.open,t=e.settled;return(0,C.jsxs)("div",{children:[(0,C.jsx)("span",{children:l}),(0,C.jsx)("span",{children:t})]},n)}))}),(0,C.jsx)(o.Z.Cell,{textAlign:"right",className:"last-login",children:(0,C.jsx)("span",{style:{color:V},children:U.fromNow()})})]},e._id)}))}),(0,C.jsx)(o.Z.Footer,{children:(0,C.jsx)(o.Z.Row,{children:(0,C.jsxs)(o.Z.HeaderCell,{colSpan:"100",children:["Total Users ",null===(l=j.data)||void 0===l?void 0:l.length]})})})]})}),(0,C.jsx)(f.o,{loading:j.loading})]}),(0,C.jsx)(p.j3,{})]})}));t()}catch(I){t(I)}}))},1952:function(e,n,l){l.d(n,{o:function(){return h}});var t=l(1413),a=l(9439),s=l(3144),i=l(5671),r=l(2791),d=l(1487),o=l(2417),c=l(184),u=(0,s.Z)((function e(n){(0,i.Z)(this,e),this.loading=!1,this.content="",this.loading=n.loading,this.content=n.content})),h=function(e){var n=(0,r.useState)(new u(e)),l=(0,a.Z)(n,2),s=l[0],i=l[1];return(0,r.useEffect)((function(){i((function(n){return(0,t.Z)((0,t.Z)({},n),{},{loading:e.loading})}))}),[e.loading]),(0,c.jsx)(d.Z,(0,t.Z)((0,t.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},s.loading?{active:!0}:{}),{},{children:(0,c.jsx)(o.Z,{})}))}},2530:function(){}}]);
//# sourceMappingURL=978.6d882b83.chunk.js.map