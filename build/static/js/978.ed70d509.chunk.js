"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[978],{6978:function(e,n,l){l.a(e,(async function(e,t){try{l.r(n),l.d(n,{UsersComponent:function(){return w}});var i=l(2791),a=(l(2530),l(899)),s=l(2836),d=l(8900),r=l(5978),o=l(7687),c=l(3656),u=l(7900),v=l(2426),h=l.n(v),x=l(7689),m=l(1952),p=l(1418),g=l.n(p),f=l(184),j=e([u]);u=(j.then?(await j)():j)[0];var w=(0,i.memo)((function(){var e,n,l,t=(0,c.h_)((function(){return u.b.getUsers()}),{withLoading:!1}),v=(0,i.useMemo)((function(){return[]}),[]),p=JSON.stringify(window.location.href),j=(0,x.s0)(),w=(0,c.On)((function(e){v.length=0,e.checked=!0,v.push(e),j("@".concat(e._id),{relative:"route",replace:p.includes("@")})}),[j]),b=(0,i.useCallback)((function(e,n){e.stopPropagation();var l=JSON.parse(n.value),t=v.find((function(e){return e.build===l.build}));t?t.checked=n.checked:(l.checked=n.checked,v.push(l));var i=v.filter((function(e){return!0===e.checked})).map((function(e){return e._id})).join(",");j(0===(null===i||void 0===i?void 0:i.length)?"":"@".concat(i),{relative:"route",replace:p.includes("@")})}),[v,p,j]),k=null===(e=p.replaceAll('"',"").split("/").pop())||void 0===e?void 0:e.replace("@",""),Z=(0,i.useMemo)((function(){var e,n;return(null===(e=t.data)||void 0===e||null===(n=e.filter((function(e){var n,l,t=!1===(null===(n=e.data)||void 0===n||null===(l=n.weekStatus)||void 0===l?void 0:l.done),i=h()(e.updatedAt||e.createdAt),a=h().duration(i.diff(Date.now())),s=Math.abs(a.asMinutes());return t&&s<30})))||void 0===n?void 0:n.length)||0}),[t.data]);return(0,f.jsxs)("div",{className:g()({"users-wrap":!0}),children:[(0,f.jsxs)(a.Z,{inverted:!0,children:[(0,f.jsxs)("div",{className:"ttl",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:"Users"}),!!v.length&&(0,f.jsxs)("span",{children:["(",v.filter((function(e){return e.checked})).length,")"]})]}),(0,f.jsx)(s.Z,{size:"small",className:"pointer",onClick:t.reload,name:"refresh"})]}),(0,f.jsx)("hr",{}),(0,f.jsx)("div",{className:"tbl-wrap",children:(0,f.jsxs)(d.Z,{celled:!0,striped:!0,selectable:!0,inverted:!0,children:[(0,f.jsx)(d.Z.Header,{children:(0,f.jsxs)(d.Z.Row,{children:[(0,f.jsx)(d.Z.HeaderCell,{className:"multi-select",textAlign:"center",children:"#"}),(0,f.jsx)(d.Z.HeaderCell,{children:"App"}),(0,f.jsxs)(d.Z.HeaderCell,{name:"status",children:["Status"," ",!!Z&&"#".concat(Z)]}),(0,f.jsx)(d.Z.HeaderCell,{children:"Version"}),(0,f.jsxs)(d.Z.HeaderCell,{className:"weekly-summary",textAlign:"center",children:["Weekly Summary",(0,f.jsx)("br",{}),"(Bonus + Earnings = Total)"]}),(0,f.jsx)(d.Z.HeaderCell,{className:"weekly-progress",textAlign:"center",children:"Weekly Progress"}),(0,f.jsx)(d.Z.HeaderCell,{className:"last-update",textAlign:"right",children:"Active"})]})}),(0,f.jsx)(d.Z.Body,{children:null===(n=t.data)||void 0===n?void 0:n.map((function(e,n){var l,t,i,a,s,u,x,m,p,j,Z,S,y,C,N,A,H,_,M,W,I,O,B,D=(0,c.Sn)().weekStart,U=!1===(null===(l=e.data)||void 0===l||null===(t=l.weekStatus)||void 0===t?void 0:t.done),E=h()(e.updatedAt||e.createdAt),J=h().duration(E.diff(Date.now())),R=Math.abs(J.asMinutes()),P=!1;U&&R>=30&&(P=!0);var T=D.toISOString()!==(null===(i=e.data)||void 0===i||null===(a=i.weekStatus)||void 0===a?void 0:a.startDate),z=(null===(s=e.data)||void 0===s||null===(u=s.weekStatus)||void 0===u||null===(x=u.betSummary)||void 0===x?void 0:x.betSummary.totalStaked)||0,F=(null===(m=e.data)||void 0===m||null===(p=m.weekStatus)||void 0===p||null===(j=p.betSummary)||void 0===j?void 0:j.betSummary.totalEarnings)||0,L=(null===(Z=e.data)||void 0===Z||null===(S=Z.weekStatus)||void 0===S||null===(y=S.betSummary)||void 0===y?void 0:y.betSummary.bonus)||0,V=(null===(C=e.data)||void 0===C||null===(N=C.weekStatus)||void 0===N||null===(A=N.betSummary)||void 0===A?void 0:A.betSummary.winnings)||0;T&&(z=0,F=0,L=0,V=0);var q=R>30?(0,c.Bb)(29):(0,c.Bb)(Math.floor(R)),G=v.find((function(n){return n.build===e.build})),K=v.filter((function(e){return e.checked})).map((function(e){return e.build})),Q=(null===k||void 0===k?void 0:k.split(","))||[];return(0,f.jsxs)(d.Z.Row,{className:g()({selected:K.includes(e.build)||Q.includes(e._id)}),onClick:w(e),children:[(0,f.jsx)(d.Z.Cell,{selectable:!0,className:"multi-select",textAlign:"center",children:(0,f.jsx)(r.Z,{value:JSON.stringify(e),checked:!(null===G||void 0===G||!G.checked),onChange:b})}),(0,f.jsx)(d.Z.Cell,{collapsing:!0,children:(0,f.jsx)("span",{children:e.build})}),(0,f.jsx)(d.Z.Cell,{collapsing:!0,children:(0,f.jsx)("span",{className:g()({status:!0,done:!0===(null===(H=e.data)||void 0===H||null===(_=H.weekStatus)||void 0===_?void 0:_.done),"in-progress":U,unknown:void 0===(null===(M=e.data)||void 0===M||null===(W=M.weekStatus)||void 0===W?void 0:W.done),waiting:T||P})})}),(0,f.jsx)(d.Z.Cell,{collapsing:!0,children:null===(I=e.data)||void 0===I?void 0:I.version}),(0,f.jsx)(d.Z.Cell,{textAlign:"center",children:(0,f.jsxs)("div",{className:"week-summary-wrap",children:[(0,f.jsx)("span",{className:g()({win:L>0,lose:L<0}),children:(0,c.WI)(L)})," + ",(0,f.jsx)("span",{className:g()({win:F>0,lose:F<0}),children:(0,c.WI)(F)})," = ",(0,f.jsx)("span",{className:g()({win:V>0,lose:V<0}),children:(0,c.WI)(V)})]})}),(0,f.jsx)(d.Z.Cell,{textAlign:"right",children:(0,f.jsx)(o.Z,{indicating:!0,inverted:!0,success:!0===(null===(O=e.data)||void 0===O||null===(B=O.weekStatus)||void 0===B?void 0:B.done)&&0!==z,precision:0,value:Math.floor(z),progress:"percent",total:385,label:(0,c.WI)(z)})}),(0,f.jsx)(d.Z.Cell,{textAlign:"right",onDoubleClick:function(){return console.log("gaga-------------------------------------",12312312)},children:(0,f.jsx)("span",{style:{color:q},children:E.fromNow()})})]},e._id)}))}),(0,f.jsx)(d.Z.Footer,{children:(0,f.jsx)(d.Z.Row,{children:(0,f.jsxs)(d.Z.HeaderCell,{colSpan:"100",children:["Total Users ",null===(l=t.data)||void 0===l?void 0:l.length]})})})]})}),(0,f.jsx)(m.o,{loading:t.loading})]}),(0,f.jsx)(x.j3,{})]})}));t()}catch(b){t(b)}}))},1952:function(e,n,l){l.d(n,{o:function(){return v}});var t=l(1413),i=l(9439),a=l(3144),s=l(5671),d=l(2791),r=l(1487),o=l(2417),c=l(184),u=(0,a.Z)((function e(n){(0,s.Z)(this,e),this.loading=!1,this.content="",this.loading=n.loading,this.content=n.content})),v=function(e){var n=(0,d.useState)(new u(e)),l=(0,i.Z)(n,2),a=l[0],s=l[1];return(0,d.useEffect)((function(){s((function(n){return(0,t.Z)((0,t.Z)({},n),{},{loading:e.loading})}))}),[e.loading]),(0,c.jsx)(r.Z,(0,t.Z)((0,t.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},a.loading?{active:!0}:{}),{},{children:(0,c.jsx)(o.Z,{})}))}},2530:function(){}}]);
//# sourceMappingURL=978.ed70d509.chunk.js.map