"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[978],{6978:function(e,l,n){n.a(e,(async function(e,t){try{n.r(l),n.d(l,{UsersComponent:function(){return y}});var i=n(2791),s=(n(2530),n(899)),a=n(2836),r=n(8900),d=n(5978),o=n(7687),c=n(3656),u=n(7900),v=n(2426),h=n.n(v),m=n(7689),x=n(1952),g=n(1418),p=n.n(g),f=n(99),j=n(1918),b=n(2115),Z=n(1911),w=n(184),k=e([u]);u=(k.then?(await k)():k)[0];var S=function(e){return e[e.IsDone=0]="IsDone",e[e.InProgress=1]="InProgress",e[e.IsWaiting=2]="IsWaiting",e}(S||{}),y=(0,i.memo)((function(){var e,l,n,t=(0,c.h_)((function(){return u.b.getUsers()}),{withLoading:!1}),v=(0,i.useMemo)((function(){return[]}),[]),g=JSON.stringify(window.location.href),k=(0,m.s0)(),y=(0,c.On)((function(e){v.length=0,e.checked=!0,v.push(e),k("@".concat(e._id),{relative:"route",replace:g.includes("@")})}),[k]),C=(0,i.useCallback)((function(e,l){e.stopPropagation();var n=JSON.parse(l.value),t=v.find((function(e){return e.build===n.build}));t?t.checked=l.checked:(n.checked=l.checked,v.push(n));var i=v.filter((function(e){return!0===e.checked})).map((function(e){return e._id})).join(",");k(0===(null===i||void 0===i?void 0:i.length)?"":"@".concat(i),{relative:"route",replace:g.includes("@")})}),[v,g,k]),N=null===(e=g.replaceAll('"',"").split("/").pop())||void 0===e?void 0:e.replace("@",""),A=(0,i.useMemo)((function(){var e,l;return(null===(e=t.data)||void 0===e||null===(l=e.filter((function(e){var l,n,t=!1===(null===(l=e.data)||void 0===l||null===(n=l.weekStatus)||void 0===n?void 0:n.done),i=h()(e.updatedAt||e.createdAt),s=h().duration(i.diff(Date.now())),a=Math.abs(s.asMinutes());return t&&a<30})))||void 0===l?void 0:l.length)||0}),[t.data]);return(0,w.jsxs)("div",{className:p()({"users-wrap":!0}),children:[(0,w.jsxs)(s.Z,{inverted:!0,children:[(0,w.jsxs)("div",{className:"ttl",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("span",{children:"Users"}),!!v.length&&(0,w.jsxs)("span",{children:["(",v.filter((function(e){return e.checked})).length,")"]})]}),(0,w.jsx)(a.Z,{size:"small",className:"pointer",onClick:t.reload,name:"refresh"})]}),(0,w.jsx)("hr",{}),(0,w.jsx)("div",{className:"tbl-wrap",children:(0,w.jsxs)(r.Z,{celled:!0,striped:!0,selectable:!0,inverted:!0,compact:!0,children:[(0,w.jsx)(r.Z.Header,{children:(0,w.jsxs)(r.Z.Row,{children:[(0,w.jsx)(r.Z.HeaderCell,{className:"multi-select",textAlign:"center",children:"#"}),(0,w.jsx)(r.Z.HeaderCell,{children:"App"}),(0,w.jsxs)(r.Z.HeaderCell,{textAlign:"center",name:"status",children:["Status"," ",!!A&&"#".concat(A)]}),(0,w.jsx)(r.Z.HeaderCell,{children:"Version"}),(0,w.jsxs)(r.Z.HeaderCell,{className:"weekly-summary",textAlign:"center",children:["Weekly Summary",(0,w.jsx)("br",{}),"(Bonus + Earnings = Total)"]}),(0,w.jsx)(r.Z.HeaderCell,{className:"weekly-progress",textAlign:"center",children:"Weekly Progress"}),(0,w.jsx)(r.Z.HeaderCell,{textAlign:"center",children:"OpenBets"}),(0,w.jsx)(r.Z.HeaderCell,{textAlign:"center",children:"SettledBets"}),(0,w.jsx)(r.Z.HeaderCell,{className:"last-update",textAlign:"right",children:"Active"})]})}),(0,w.jsx)(r.Z.Body,{children:null===(l=t.data)||void 0===l?void 0:l.map((function(e,l){var n,t,i,s,a,u,m,x,g,k,A,I,H,W,_,B,M,D,O,P,U,E,J,R,z,T,F,L=(0,c.Sn)().weekStart,V=!0===(null===(n=e.data)||void 0===n||null===(t=n.weekStatus)||void 0===t?void 0:t.done),q=!1===(null===(i=e.data)||void 0===i||null===(s=i.weekStatus)||void 0===s?void 0:s.done),G=h()(e.updatedAt||e.createdAt),K=h().duration(G.diff(Date.now())),Q=Math.abs(K.asMinutes()),X=!1;q&&Q>=30&&(X=!0);var Y=L.toISOString()!==(null===(a=e.data)||void 0===a||null===(u=a.weekStatus)||void 0===u?void 0:u.startDate),$=(null===(m=e.data)||void 0===m||null===(x=m.weekStatus)||void 0===x||null===(g=x.betSummary)||void 0===g?void 0:g.betSummary.totalStaked)||0,ee=(null===(k=e.data)||void 0===k||null===(A=k.weekStatus)||void 0===A||null===(I=A.betSummary)||void 0===I?void 0:I.betSummary.totalEarnings)||0,le=(null===(H=e.data)||void 0===H||null===(W=H.weekStatus)||void 0===W||null===(_=W.betSummary)||void 0===_?void 0:_.betSummary.bonus)||0,ne=(null===(B=e.data)||void 0===B||null===(M=B.weekStatus)||void 0===M||null===(D=M.betSummary)||void 0===D?void 0:D.betSummary.winnings)||0;Y&&($=0,ee=0,le=0,ne=0);var te=Y||X||void 0===(null===(O=e.data)||void 0===O||null===(P=O.weekStatus)||void 0===P?void 0:P.done),ie=Q>30?(0,c.Bb)(29):(0,c.Bb)(Math.floor(Q)),se=v.find((function(l){return l.build===e.build})),ae=v.filter((function(e){return e.checked})).map((function(e){return e.build})),re=(null===N||void 0===N?void 0:N.split(","))||[],de=V?S.IsDone:te?S.IsWaiting:S.InProgress;return(0,w.jsxs)(r.Z.Row,{className:p()({selected:ae.includes(e.build)||re.includes(e._id)}),onClick:y(e),children:[(0,w.jsx)(r.Z.Cell,{selectable:!0,className:"multi-select",textAlign:"center",children:(0,w.jsx)(d.Z,{value:JSON.stringify(e),checked:!(null===se||void 0===se||!se.checked),onChange:C})}),(0,w.jsx)(r.Z.Cell,{collapsing:!0,children:(0,w.jsx)("span",{children:e.build})}),(0,w.jsx)(r.Z.Cell,{collapsing:!0,textAlign:"center",className:"status",children:[de].map((function(e,l){var n=Z.Z,t="greenyellow";return e===S.InProgress?(n=j.Z,t="#fbbd08"):e===S.IsWaiting&&(n=b.Z,t="#ff5f5f"),(0,w.jsx)(f.Z,{animation:n,size:25,autoplay:!0,strokeColor:t,loop:!0},l)}))}),(0,w.jsx)(r.Z.Cell,{collapsing:!0,children:null===(U=e.data)||void 0===U?void 0:U.version}),(0,w.jsx)(r.Z.Cell,{textAlign:"center",className:"week-summary",children:(0,w.jsxs)("div",{className:"week-summary-wrap",children:[(0,w.jsx)("span",{className:p()({win:le>0,lose:le<0}),children:(0,c.WI)(le)})," + ",(0,w.jsx)("span",{className:p()({win:ee>0,lose:ee<0}),children:(0,c.WI)(ee)})," = ",(0,w.jsx)("span",{className:p()({win:ne>0,lose:ne<0}),children:(0,c.WI)(ne)})]})}),(0,w.jsx)(r.Z.Cell,{textAlign:"right",className:"progress",children:(0,w.jsx)(o.Z,{indicating:!0,inverted:!0,success:!0===(null===(E=e.data)||void 0===E||null===(J=E.weekStatus)||void 0===J?void 0:J.done)&&0!==$,precision:0,value:Math.floor($),progress:"percent",total:385,label:(0,c.WI)($)})}),(0,w.jsx)(r.Z.Cell,{textAlign:"center",className:"open-bets",children:null===(R=e.data.weekStatus)||void 0===R||null===(z=R.betSummary)||void 0===z?void 0:z.betSummary.openBets}),(0,w.jsx)(r.Z.Cell,{textAlign:"center",className:"settled-bets",children:null===(T=e.data.weekStatus)||void 0===T||null===(F=T.betSummary)||void 0===F?void 0:F.betSummary.settledBets}),(0,w.jsx)(r.Z.Cell,{textAlign:"right",className:"last-login",children:(0,w.jsx)("span",{style:{color:ie},children:G.fromNow()})})]},e._id)}))}),(0,w.jsx)(r.Z.Footer,{children:(0,w.jsx)(r.Z.Row,{children:(0,w.jsxs)(r.Z.HeaderCell,{colSpan:"100",children:["Total Users ",null===(n=t.data)||void 0===n?void 0:n.length]})})})]})}),(0,w.jsx)(x.o,{loading:t.loading})]}),(0,w.jsx)(m.j3,{})]})}));t()}catch(C){t(C)}}))},1952:function(e,l,n){n.d(l,{o:function(){return v}});var t=n(1413),i=n(9439),s=n(3144),a=n(5671),r=n(2791),d=n(1487),o=n(2417),c=n(184),u=(0,s.Z)((function e(l){(0,a.Z)(this,e),this.loading=!1,this.content="",this.loading=l.loading,this.content=l.content})),v=function(e){var l=(0,r.useState)(new u(e)),n=(0,i.Z)(l,2),s=n[0],a=n[1];return(0,r.useEffect)((function(){a((function(l){return(0,t.Z)((0,t.Z)({},l),{},{loading:e.loading})}))}),[e.loading]),(0,c.jsx)(d.Z,(0,t.Z)((0,t.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},s.loading?{active:!0}:{}),{},{children:(0,c.jsx)(o.Z,{})}))}},2530:function(){}}]);
//# sourceMappingURL=978.8d5917c0.chunk.js.map