"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[978],{6978:function(e,n,t){t.a(e,(async function(e,l){try{t.r(n),t.d(n,{UsersComponent:function(){return I}});var a=t(1413),i=t(9439),s=t(2791),r=(t(2530),t(899)),d=t(2836),o=t(8900),c=t(7950),u=t(5978),h=t(4599),v=t(7687),m=t(3656),g=t(7900),x=t(2426),p=t.n(x),w=t(7689),f=t(1952),j=t(1418),b=t.n(j),S=t(99),k=t(1918),Z=t(2115),y=t(1911),C=t(763),N=t(184),A=e([g]);g=(A.then?(await A)():A)[0];var I=(0,s.memo)((function(){var e,n,t,l=(0,m.h_)((function(){return g.b.getUsers()}),{withLoading:!1}),x=(0,i.Z)(l,2),j=x[0],A=x[1],I=(0,s.useMemo)((function(){return[]}),[]),P=JSON.stringify(window.location.href),W=(0,w.s0)(),H=(0,m.On)((function(e){I.length=0,e.checked=!0,I.push(e),W("@".concat(e._id),{relative:"route",replace:P.includes("@")})}),[W]),J=(0,s.useCallback)((function(e,n){e.stopPropagation();var t=JSON.parse(n.value),l=I.find((function(e){return e.build===t.build}));l?l.checked=n.checked:(t.checked=n.checked,I.push(t));var a=I.filter((function(e){return!0===e.checked})).map((function(e){return e._id})).join(",");W(0===(null===a||void 0===a?void 0:a.length)?"":"@".concat(a),{relative:"route",replace:P.includes("@")})}),[I,P,W]),M=null===(e=P.replaceAll('"',"").split("/").pop())||void 0===e?void 0:e.replace("@",""),_=(0,s.useMemo)((function(){var e,n;return(null===(e=j.data)||void 0===e||null===(n=e.filter((function(e){var n,t,l=!1===(null===(n=e.data)||void 0===n||null===(t=n.weekStatus)||void 0===t?void 0:t.done),a=p()(e.updatedAt||e.createdAt),i=p().duration(a.diff(Date.now())),s=Math.abs(i.asMinutes());return l&&s<30})))||void 0===n?void 0:n.length)||0}),[j.data]),B=(0,s.useCallback)((function(e,n){var t=(0,C.orderBy)(j.data,[function(e){return(0,m.hL)(e)===n.value},"data.weekStatus.betSummary.betSummary.totalStaked"],["desc","desc"]);A((function(e){return(0,a.Z)((0,a.Z)({},e),{},{data:t})}))}),[j.data]);return(0,N.jsxs)("div",{className:b()({"users-wrap":!0}),children:[(0,N.jsxs)(r.Z,{inverted:!0,children:[(0,N.jsxs)("div",{className:"ttl",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{children:"Users"}),!!I.length&&(0,N.jsxs)("span",{children:["(",I.filter((function(e){return e.checked})).length,")"]})]}),(0,N.jsx)(d.Z,{size:"small",className:"pointer",onClick:j.reload,name:"refresh"})]}),(0,N.jsx)("hr",{}),(0,N.jsx)("div",{className:"tbl-wrap",children:(0,N.jsxs)(o.Z,{celled:!0,striped:!0,selectable:!0,inverted:!0,compact:!0,children:[(0,N.jsx)(o.Z.Header,{children:(0,N.jsxs)(o.Z.Row,{children:[(0,N.jsx)(o.Z.HeaderCell,{className:"multi-select",textAlign:"center",children:"#"}),(0,N.jsx)(o.Z.HeaderCell,{children:"App"}),(0,N.jsxs)(o.Z.HeaderCell,{textAlign:"center",className:"status",children:[(0,N.jsx)(c.Z,{text:"Status",closeOnChange:!1,onChange:B,options:[{key:m.J0.IsDone,value:m.J0.IsDone,text:"Done"},{key:m.J0.InProgress,value:m.J0.InProgress,text:"InProgress"},{key:m.J0.IsWaiting,value:m.J0.IsWaiting,text:"Waiting"}]}),(0,N.jsx)("br",{}),!!_&&"#".concat(_)]}),(0,N.jsx)(o.Z.HeaderCell,{children:"Version"}),(0,N.jsxs)(o.Z.HeaderCell,{className:"weekly-summary",textAlign:"center",children:["Weekly Summary",(0,N.jsx)("br",{}),"(Bonus + Earnings = Total)"]}),(0,N.jsx)(o.Z.HeaderCell,{className:"weekly-progress",textAlign:"center",children:"Weekly Progress"}),(0,N.jsx)(o.Z.HeaderCell,{textAlign:"center",className:"bets",children:"Bets"}),(0,N.jsx)(o.Z.HeaderCell,{className:"last-update",textAlign:"right",children:"Active"})]})}),(0,N.jsx)(o.Z.Body,{children:null===(n=j.data)||void 0===n?void 0:n.map((function(e,n){var t,l,a,i,s,r,d,c,g,x,w,f,C,A,P,W,_,B,D,O,T,U,E,L,R,z=(0,m.Sn)().weekStart,F=(0,m.hL)(e),V=z.toISOString()!==(null===(t=e.data)||void 0===t||null===(l=t.weekStatus)||void 0===l?void 0:l.startDate),q=p()(e.updatedAt||e.createdAt),G=p().duration(q.diff(Date.now())),K=Math.abs(G.asMinutes()),Q=(null===(a=e.data)||void 0===a||null===(i=a.weekStatus)||void 0===i||null===(s=i.betSummary)||void 0===s?void 0:s.betSummary.totalStaked)||0,X=(null===(r=e.data)||void 0===r||null===(d=r.weekStatus)||void 0===d||null===(c=d.betSummary)||void 0===c?void 0:c.betSummary.totalEarnings)||0,Y=(null===(g=e.data)||void 0===g||null===(x=g.weekStatus)||void 0===x||null===(w=x.betSummary)||void 0===w?void 0:w.betSummary.bonus)||0,$=(null===(f=e.data)||void 0===f||null===(C=f.weekStatus)||void 0===C||null===(A=C.betSummary)||void 0===A?void 0:A.betSummary.winnings)||0;V&&(Q=0,X=0,Y=0,$=0);var ee=K>30?(0,m.Bb)(29):(0,m.Bb)(Math.floor(K)),ne=I.find((function(n){return n.build===e.build})),te=I.filter((function(e){return e.checked})).map((function(e){return e.build})),le=(null===M||void 0===M?void 0:M.split(","))||[];return(0,N.jsxs)(o.Z.Row,{className:b()({selected:te.includes(e.build)||le.includes(e._id)}),onClick:H(e),children:[(0,N.jsx)(o.Z.Cell,{selectable:!0,className:"multi-select",textAlign:"center",children:(0,N.jsx)(u.Z,{value:JSON.stringify(e),checked:!(null===ne||void 0===ne||!ne.checked),onChange:J})}),(0,N.jsxs)(o.Z.Cell,{collapsing:!0,children:[!(null===(P=e.data.weekStatus)||void 0===P||!P.withdrawal)&&(0,N.jsx)(N.Fragment,{children:[{Pending:"Pending"===(null===(W=e.data.weekStatus)||void 0===W?void 0:W.withdrawal.TransactionStatus),Approved:"Approved"===(null===(_=e.data.weekStatus)||void 0===_?void 0:_.withdrawal.TransactionStatus),Processing:["In Process","Sending to Processor"].includes(null===(B=e.data.weekStatus)||void 0===B?void 0:B.withdrawal.TransactionStatus)}].map((function(n,t){var l,a,i,s,r,d;return(0,N.jsxs)(h.Z,{position:"right center",trigger:(0,N.jsx)("div",{className:b()({"has-withdrawal":!0,yellow:n.Pending,green:n.Approved,blue:n.Processing})}),flowing:!0,children:[(0,N.jsxs)(h.Z.Header,{children:["Withdrawal (",(0,N.jsx)("span",{className:b()({"yellow-light":n.Pending,"green-light":n.Approved,"blue-light":n.Processing}),children:null===(l=e.data.weekStatus)||void 0===l||null===(a=l.withdrawal)||void 0===a?void 0:a.TransactionStatus}),")"]}),(0,N.jsx)(h.Z.Content,{children:"".concat(null===(i=e.data.weekStatus)||void 0===i||null===(s=i.withdrawal)||void 0===s?void 0:s.PaymentMethodInfo," ").concat((0,m.WI)((null===(r=e.data.weekStatus)||void 0===r||null===(d=r.withdrawal)||void 0===d?void 0:d.Amount)||0))})]},t)}))}),(0,N.jsx)("span",{children:e.build})]}),(0,N.jsx)(o.Z.Cell,{collapsing:!0,textAlign:"center",className:"status",children:!j.loading&&[F].map((function(e,n){var t=y.Z,l="greenyellow";return e===m.J0.InProgress?(t=k.Z,l="#fbbd08"):e===m.J0.IsWaiting&&(t=Z.Z,l="#ff5f5f"),(0,N.jsx)(S.Z,{animation:t,size:25,autoplay:!0,strokeColor:l,loop:!0,speed:.4},n)}))}),(0,N.jsx)(o.Z.Cell,{collapsing:!0,children:null===(D=e.data)||void 0===D?void 0:D.version}),(0,N.jsx)(o.Z.Cell,{textAlign:"center",className:"week-summary",children:(0,N.jsxs)("div",{className:"week-summary-wrap",children:[(0,N.jsx)("span",{className:b()({win:Y>0,lose:Y<0}),children:(0,m.WI)(Y)})," + ",(0,N.jsx)("span",{className:b()({win:X>0,lose:X<0}),children:(0,m.WI)(X)})," = ",(0,N.jsx)("span",{className:b()({win:$>0,lose:$<0}),children:(0,m.WI)($)})]})}),(0,N.jsx)(o.Z.Cell,{textAlign:"right",className:"progress",children:(0,N.jsx)(v.Z,{indicating:!0,inverted:!0,success:!0===(null===(O=e.data)||void 0===O||null===(T=O.weekStatus)||void 0===T?void 0:T.done)&&0!==Q,precision:0,value:Math.floor(Q),progress:"percent",total:380,label:(0,m.WI)(Q)})}),(0,N.jsx)(o.Z.Cell,{textAlign:"center",className:"bets",children:[{open:(null===(U=e.data.weekStatus)||void 0===U||null===(E=U.betSummary)||void 0===E?void 0:E.betSummary.openBets)||0,settled:(null===(L=e.data.weekStatus)||void 0===L||null===(R=L.betSummary)||void 0===R?void 0:R.betSummary.settledBets)||0}].map((function(e,n){var t=e.open,l=e.settled;return(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{children:t}),(0,N.jsx)("span",{children:l})]},n)}))}),(0,N.jsx)(o.Z.Cell,{textAlign:"right",className:"last-login",children:(0,N.jsx)("span",{style:{color:ee},children:q.fromNow()})})]},e._id)}))}),(0,N.jsx)(o.Z.Footer,{children:(0,N.jsx)(o.Z.Row,{children:(0,N.jsxs)(o.Z.HeaderCell,{colSpan:"100",children:["Total Users ",null===(t=j.data)||void 0===t?void 0:t.length]})})})]})}),(0,N.jsx)(f.o,{loading:j.loading})]}),(0,N.jsx)(w.j3,{})]})}));l()}catch(P){l(P)}}))},1952:function(e,n,t){t.d(n,{o:function(){return h}});var l=t(1413),a=t(9439),i=t(3144),s=t(5671),r=t(2791),d=t(1487),o=t(2417),c=t(184),u=(0,i.Z)((function e(n){(0,s.Z)(this,e),this.loading=!1,this.content="",this.loading=n.loading,this.content=n.content})),h=function(e){var n=(0,r.useState)(new u(e)),t=(0,a.Z)(n,2),i=t[0],s=t[1];return(0,r.useEffect)((function(){s((function(n){return(0,l.Z)((0,l.Z)({},n),{},{loading:e.loading})}))}),[e.loading]),(0,c.jsx)(d.Z,(0,l.Z)((0,l.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},i.loading?{active:!0}:{}),{},{children:(0,c.jsx)(o.Z,{})}))}},2530:function(){}}]);
//# sourceMappingURL=978.ed99504c.chunk.js.map