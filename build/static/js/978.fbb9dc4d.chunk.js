"use strict";(self.webpackChunkplay_ab_web=self.webpackChunkplay_ab_web||[]).push([[978],{6978:function(e,t,n){n.a(e,(async function(e,l){try{n.r(t),n.d(t,{UsersComponent:function(){return Z}});var a=n(2791),i=(n(2530),n(899)),r=n(2836),s=n(8900),d=n(5978),o=n(3656),c=n(7900),u=n(2426),p=n.n(u),h=n(7689),v=n(1952),m=n(1418),f=n.n(m),g=n(184),b=e([c]);c=(b.then?(await b)():b)[0];var Z=(0,a.memo)((function(){var e,t,n,l=(0,o.h_)((function(){return c.b.getUsers()}),{withLoading:!1}),u=(0,a.useMemo)((function(){return[]}),[]),m=JSON.stringify(window.location.href),b=(0,h.s0)(),Z=(0,o.On)((function(e){u.length=0,e.checked=!0,u.push(e),b("@".concat(e._id),{relative:"route",replace:m.includes("@")})}),[b]),w=(0,a.useCallback)((function(e,t){e.stopPropagation();var n=JSON.parse(t.value),l=u.find((function(e){return e.build===n.build}));l?l.checked=t.checked:(n.checked=t.checked,u.push(n));var a=u.filter((function(e){return!0===e.checked})).map((function(e){return e._id})).join(",");b(0===(null===a||void 0===a?void 0:a.length)?"":"@".concat(a),{relative:"route",replace:m.includes("@")})}),[]),k=null===(e=m.replaceAll('"',"").split("/").pop())||void 0===e?void 0:e.replace("@","");return(0,g.jsxs)("div",{className:f()({"users-wrap":!0}),children:[(0,g.jsxs)(i.Z,{inverted:!0,children:[(0,g.jsxs)("div",{className:"row-wrap between ttl-wrap",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"ttl",children:"Users"}),!!u.length&&(0,g.jsxs)("span",{className:"ttl",children:["(",u.filter((function(e){return e.checked})).length,")"]})]}),(0,g.jsx)(r.Z,{onClick:l.reload,name:"refresh"})]}),(0,g.jsx)("hr",{}),(0,g.jsx)("div",{className:"tbl-wrap",children:(0,g.jsxs)(s.Z,{celled:!0,striped:!0,selectable:!0,inverted:!0,children:[(0,g.jsx)(s.Z.Header,{children:(0,g.jsxs)(s.Z.Row,{children:[(0,g.jsx)(s.Z.HeaderCell,{className:"multi-select",textAlign:"center",children:"#"}),(0,g.jsx)(s.Z.HeaderCell,{children:"App"}),(0,g.jsx)(s.Z.HeaderCell,{children:"Status"}),(0,g.jsx)(s.Z.HeaderCell,{children:"Version"}),(0,g.jsx)(s.Z.HeaderCell,{textAlign:"center",width:1,children:"Staked"}),(0,g.jsxs)(s.Z.HeaderCell,{textAlign:"center",width:4,children:["Weekly Summary",(0,g.jsx)("br",{}),"(Bonus + Earnings = Total)"]}),(0,g.jsx)(s.Z.HeaderCell,{textAlign:"right",children:"Active"})]})}),(0,g.jsx)(s.Z.Body,{children:null===(t=l.data)||void 0===t?void 0:t.map((function(e,t){var n,l,a,i,r,c,h,v,m,b,x,y,C,j,S,N,G,A,R,D,P,E,T,U,H,M,I,O,_,B,F,W,K,L,z,J,X,V,q,Q=6e4*(new Date).getTimezoneOffset(),Y=new Date((new Date).getTime()-Q);Y.setUTCHours(0,0,0,0);var $=Y.getDay(),ee=new Date(Y);ee.setUTCHours(0,0,0,0),ee.setDate(Y.getDate()-$);var te=new Date(ee);te.setUTCHours(0,0,0,0);var ne=new Date(te);ne.setUTCHours(0,0,0,0),ne.setDate(te.getDate()+6),new Date(ne).setUTCHours(23,59,59,999);var le=!1===(null===(n=e.data)||void 0===n||null===(l=n.weekStatus)||void 0===l?void 0:l.done),ae=p()(e.updatedAt||e.createdAt),ie=p().duration(ae.diff(Date.now())),re=Math.abs(ie.asMinutes()),se=!1;le&&re>=30&&(se=!0);var de=re>30?(0,o.Bb)(29):(0,o.Bb)(Math.floor(re)),oe=u.find((function(t){return t.build===e.build})),ce=u.filter((function(e){return e.checked})).map((function(e){return e.build})),ue=(null===k||void 0===k?void 0:k.split(","))||[];return(0,g.jsxs)(s.Z.Row,{className:f()({selected:ce.includes(e.build)||ue.includes(e._id)}),onClick:Z(e),children:[(0,g.jsx)(s.Z.Cell,{selectable:!0,className:"multi-select",textAlign:"center",children:(0,g.jsx)(d.Z,{value:JSON.stringify(e),checked:!(null===oe||void 0===oe||!oe.checked),onChange:w})}),(0,g.jsx)(s.Z.Cell,{collapsing:!0,children:(0,g.jsx)("span",{onClick:function(e){},children:e.build})}),(0,g.jsx)(s.Z.Cell,{collapsing:!0,children:(0,g.jsx)("span",{className:f()({status:!0,done:!0===(null===(a=e.data)||void 0===a||null===(i=a.weekStatus)||void 0===i?void 0:i.done),"in-progress":le,unknown:void 0===(null===(r=e.data)||void 0===r||null===(c=r.weekStatus)||void 0===c?void 0:c.done),waiting:te.toISOString()!==(null===(h=e.data)||void 0===h||null===(v=h.weekStatus)||void 0===v?void 0:v.startDate)||se})})}),(0,g.jsx)(s.Z.Cell,{collapsing:!0,children:null===(m=e.data)||void 0===m?void 0:m.version}),(0,g.jsx)(s.Z.Cell,{textAlign:"center",children:(0,g.jsx)("span",{children:(0,o.WI)((null===(b=e.data)||void 0===b||null===(x=b.weekStatus)||void 0===x||null===(y=x.betSummary)||void 0===y?void 0:y.betSummary.totalStaked)||0)})}),(0,g.jsxs)(s.Z.Cell,{textAlign:"center",children:[(0,g.jsx)("span",{className:f()({win:((null===(C=e.data)||void 0===C||null===(j=C.weekStatus)||void 0===j||null===(S=j.betSummary)||void 0===S?void 0:S.betSummary.bonus)||0)>0,lose:((null===(N=e.data)||void 0===N||null===(G=N.weekStatus)||void 0===G||null===(A=G.betSummary)||void 0===A?void 0:A.betSummary.bonus)||0)<0}),children:(0,o.WI)((null===(R=e.data)||void 0===R||null===(D=R.weekStatus)||void 0===D||null===(P=D.betSummary)||void 0===P?void 0:P.betSummary.bonus)||0)})," + ",(0,g.jsx)("span",{className:f()({win:((null===(E=e.data)||void 0===E||null===(T=E.weekStatus)||void 0===T||null===(U=T.betSummary)||void 0===U?void 0:U.betSummary.totalEarnings)||0)>0,lose:((null===(H=e.data)||void 0===H||null===(M=H.weekStatus)||void 0===M||null===(I=M.betSummary)||void 0===I?void 0:I.betSummary.totalEarnings)||0)<0}),children:(0,o.WI)((null===(O=e.data)||void 0===O||null===(_=O.weekStatus)||void 0===_||null===(B=_.betSummary)||void 0===B?void 0:B.betSummary.totalEarnings)||0)})," = ",(0,g.jsx)("span",{className:f()({win:((null===(F=e.data)||void 0===F||null===(W=F.weekStatus)||void 0===W||null===(K=W.betSummary)||void 0===K?void 0:K.betSummary.winnings)||0)>0,lose:((null===(L=e.data)||void 0===L||null===(z=L.weekStatus)||void 0===z||null===(J=z.betSummary)||void 0===J?void 0:J.betSummary.winnings)||0)<0}),children:(0,o.WI)((null===(X=e.data)||void 0===X||null===(V=X.weekStatus)||void 0===V||null===(q=V.betSummary)||void 0===q?void 0:q.betSummary.winnings)||0)})]}),(0,g.jsx)(s.Z.Cell,{textAlign:"right",children:(0,g.jsx)("span",{style:{color:de},children:ae.fromNow()})})]},e._id)}))}),(0,g.jsx)(s.Z.Footer,{children:(0,g.jsx)(s.Z.Row,{children:(0,g.jsxs)(s.Z.HeaderCell,{colSpan:"100",children:["Total Users ",null===(n=l.data)||void 0===n?void 0:n.length]})})})]})}),(0,g.jsx)(v.o,{loading:l.loading})]}),(0,g.jsx)(h.j3,{})]})}));l()}catch(w){l(w)}}))},1952:function(e,t,n){n.d(t,{o:function(){return p}});var l=n(1413),a=n(9439),i=n(3144),r=n(5671),s=n(2791),d=n(1487),o=n(2417),c=n(184),u=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.loading=!1,this.content="",this.loading=t.loading,this.content=t.content})),p=function(e){var t=(0,s.useState)(new u(e)),n=(0,a.Z)(t,2),i=n[0],r=n[1];return(0,s.useEffect)((function(){r((function(t){return(0,l.Z)((0,l.Z)({},t),{},{loading:e.loading})}))}),[e.loading]),(0,c.jsx)(d.Z,(0,l.Z)((0,l.Z)({style:{position:"absolute",top:0,left:0,right:0,bottom:0}},i.loading?{active:!0}:{}),{},{children:(0,c.jsx)(o.Z,{})}))}},8900:function(e,t,n){n.d(t,{Z:function(){return S}});var l=n(7462),a=n(4210),i=n(8182),r=n(2791),s=n(7826),d=n(6755),o=n(6246),c=n(5831);function u(e){var t=e.children,n=e.className,a=(0,i.Z)(n),s=(0,d.Z)(u,e),c=(0,o.Z)(u,e);return r.createElement(c,(0,l.Z)({},s,{className:a}),t)}u.handledProps=["as","children","className"],u.defaultProps={as:"tbody"},u.propTypes={};var p=u,h=n(1126),v=n(2836);function m(e){var t=e.active,n=e.children,a=e.className,u=e.collapsing,p=e.content,h=e.disabled,f=e.error,g=e.icon,b=e.negative,Z=e.positive,w=e.selectable,k=e.singleLine,x=e.textAlign,y=e.verticalAlign,C=e.warning,j=e.width,S=(0,i.Z)((0,s.lG)(t,"active"),(0,s.lG)(u,"collapsing"),(0,s.lG)(h,"disabled"),(0,s.lG)(f,"error"),(0,s.lG)(b,"negative"),(0,s.lG)(Z,"positive"),(0,s.lG)(w,"selectable"),(0,s.lG)(k,"single line"),(0,s.lG)(C,"warning"),(0,s.X4)(x),(0,s.Ok)(y),(0,s.H0)(j,"wide"),a),N=(0,d.Z)(m,e),G=(0,o.Z)(m,e);return c.kK(n)?r.createElement(G,(0,l.Z)({},N,{className:S}),v.Z.create(g),p):r.createElement(G,(0,l.Z)({},N,{className:S}),n)}m.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],m.defaultProps={as:"td"},m.propTypes={},m.create=(0,h.u5)(m,(function(e){return{content:e}}));var f=m;function g(e){var t=e.children,n=e.className,a=e.content,u=e.fullWidth,p=(0,i.Z)((0,s.lG)(u,"full-width"),n),h=(0,d.Z)(g,e),v=(0,o.Z)(g,e);return r.createElement(v,(0,l.Z)({},h,{className:p}),c.kK(t)?a:t)}g.handledProps=["as","children","className","content","fullWidth"],g.defaultProps={as:"thead"},g.propTypes={};var b=g;function Z(e){var t=e.as,n=(0,d.Z)(Z,e);return r.createElement(b,(0,l.Z)({},n,{as:t}))}Z.handledProps=["as"],Z.propTypes={},Z.defaultProps={as:"tfoot"};var w=Z;function k(e){var t=e.as,n=e.className,a=e.sorted,o=(0,i.Z)((0,s.cD)(a,"sorted"),n),c=(0,d.Z)(k,e);return r.createElement(f,(0,l.Z)({},c,{as:t,className:o}))}k.handledProps=["as","className","sorted"],k.propTypes={},k.defaultProps={as:"th"};var x=k;function y(e){var t=e.active,n=e.cellAs,u=e.cells,p=e.children,h=e.className,v=e.disabled,m=e.error,g=e.negative,b=e.positive,Z=e.textAlign,w=e.verticalAlign,k=e.warning,x=(0,i.Z)((0,s.lG)(t,"active"),(0,s.lG)(v,"disabled"),(0,s.lG)(m,"error"),(0,s.lG)(g,"negative"),(0,s.lG)(b,"positive"),(0,s.lG)(k,"warning"),(0,s.X4)(Z),(0,s.Ok)(w),h),C=(0,d.Z)(y,e),j=(0,o.Z)(y,e);return c.kK(p)?r.createElement(j,(0,l.Z)({},C,{className:x}),(0,a.Z)(u,(function(e){return f.create(e,{defaultProps:{as:n}})}))):r.createElement(j,(0,l.Z)({},C,{className:x}),p)}y.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],y.defaultProps={as:"tr",cellAs:"td"},y.propTypes={},y.create=(0,h.u5)(y,(function(e){return{cells:e}}));var C=y;function j(e){var t=e.attached,n=e.basic,u=e.celled,h=e.children,v=e.className,m=e.collapsing,f=e.color,g=e.columns,Z=e.compact,k=e.definition,x=e.fixed,y=e.footerRow,S=e.headerRow,N=e.headerRows,G=e.inverted,A=e.padded,R=e.renderBodyRow,D=e.selectable,P=e.singleLine,E=e.size,T=e.sortable,U=e.stackable,H=e.striped,M=e.structured,I=e.tableData,O=e.textAlign,_=e.unstackable,B=e.verticalAlign,F=(0,i.Z)("ui",f,E,(0,s.lG)(u,"celled"),(0,s.lG)(m,"collapsing"),(0,s.lG)(k,"definition"),(0,s.lG)(x,"fixed"),(0,s.lG)(G,"inverted"),(0,s.lG)(D,"selectable"),(0,s.lG)(P,"single line"),(0,s.lG)(T,"sortable"),(0,s.lG)(U,"stackable"),(0,s.lG)(H,"striped"),(0,s.lG)(M,"structured"),(0,s.lG)(_,"unstackable"),(0,s.sU)(t,"attached"),(0,s.sU)(n,"basic"),(0,s.sU)(Z,"compact"),(0,s.sU)(A,"padded"),(0,s.X4)(O),(0,s.Ok)(B),(0,s.H0)(g,"column"),"table",v),W=(0,d.Z)(j,e),K=(0,o.Z)(j,e);if(!c.kK(h))return r.createElement(K,(0,l.Z)({},W,{className:F}),h);var L={defaultProps:{cellAs:"th"}},z=(S||N)&&r.createElement(b,null,C.create(S,L),(0,a.Z)(N,(function(e){return C.create(e,L)})));return r.createElement(K,(0,l.Z)({},W,{className:F}),z,r.createElement(p,null,R&&(0,a.Z)(I,(function(e,t){return C.create(R(e,t))}))),y&&r.createElement(w,null,C.create(y)))}j.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],j.defaultProps={as:"table"},j.propTypes={},j.Body=p,j.Cell=f,j.Footer=w,j.Header=b,j.HeaderCell=x,j.Row=C;var S=j},5978:function(e,t,n){n.d(t,{Z:function(){return g}});var l=n(7462),a=n(4578),i=n(5622);var r=function(e,t,n){return null==e?e:(0,i.Z)(e,t,n)},s=n(2942),d=n(4517),o=n(2766),c=n(8182),u=n(2791),p=n(7826),h=n(6755),v=n(6246),m=n(2623),f=n(1126),g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).inputRef=(0,u.createRef)(),t.labelRef=(0,u.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,l=e.radio,a=e.readOnly,i=t.state.checked;return!n&&!a&&!(l&&i)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,l=e.tabIndex;return(0,d.Z)(l)?n?-1:0:l},t.handleClick=function(e){var n=t.props.id,a=t.state,i=a.checked,r=a.indeterminate,o=(0,s.Z)(t.inputRef.current,"contains",e.target),c=(0,s.Z)(t.labelRef.current,"contains",e.target),u=!c&&!o,p=!(0,d.Z)(n);c&&p||(0,s.Z)(t.props,"onClick",e,(0,l.Z)({},t.props,{checked:!i,indeterminate:!!r})),t.isClickFromMouse&&(t.isClickFromMouse=!1,c&&!p&&t.handleChange(e),u&&t.handleChange(e),c&&p&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&((0,s.Z)(t.props,"onChange",e,(0,l.Z)({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,a=n.checked,i=n.indeterminate;(0,s.Z)(t.props,"onMouseDown",e,(0,l.Z)({},t.props,{checked:!!a,indeterminate:!!i})),e.defaultPrevented||(0,s.Z)(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,a=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,(0,s.Z)(t.props,"onMouseUp",e,(0,l.Z)({},t.props,{checked:!!a,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;r(t.inputRef,"current.indeterminate",!!e)},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,a=e.disabled,i=e.label,r=e.id,s=e.name,g=e.radio,b=e.readOnly,Z=e.slider,w=e.toggle,k=e.type,x=e.value,y=this.state,C=y.checked,j=y.indeterminate,S=(0,c.Z)("ui",(0,p.lG)(C,"checked"),(0,p.lG)(a,"disabled"),(0,p.lG)(j,"indeterminate"),(0,p.lG)((0,d.Z)(i),"fitted"),(0,p.lG)(g,"radio"),(0,p.lG)(b,"read-only"),(0,p.lG)(Z,"slider"),(0,p.lG)(w,"toggle"),"checkbox",n),N=(0,h.Z)(t,this.props),G=(0,v.Z)(t,this.props),A=(0,m.vR)(N,{htmlProps:m._l}),R=A[0],D=A[1],P=(0,f.i9)(i,{defaultProps:{htmlFor:r},autoGenerateKey:!1})||u.createElement("label",{htmlFor:r});return u.createElement(G,(0,l.Z)({},D,{className:S,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),u.createElement(o.R,{innerRef:this.inputRef},u.createElement("input",(0,l.Z)({},R,{checked:C,className:"hidden",disabled:a,id:r,name:s,readOnly:!0,tabIndex:this.computeTabIndex(),type:k,value:x}))),u.createElement(o.R,{innerRef:this.labelRef},P))},t}(n(5326).Z);g.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],g.propTypes={},g.defaultProps={type:"checkbox"},g.autoControlledProps=["checked","indeterminate"]},2530:function(){}}]);
//# sourceMappingURL=978.fbb9dc4d.chunk.js.map