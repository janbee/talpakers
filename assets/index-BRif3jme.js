var WT=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var M8=WT((Vl,Ql)=>{function HT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var $f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var c0={exports:{}},Mg={},d0={exports:{}},Bt={};var V_;function qT(){if(V_)return Bt;V_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function E(ie){return ie===null||typeof ie!="object"?null:(ie=x&&ie[x]||ie["@@iterator"],typeof ie=="function"?ie:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function I(ie,Ce,Ue){this.props=ie,this.context=Ce,this.refs=A,this.updater=Ue||C}I.prototype.isReactComponent={},I.prototype.setState=function(ie,Ce){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,Ce,"setState")},I.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function L(){}L.prototype=I.prototype;function G(ie,Ce,Ue){this.props=ie,this.context=Ce,this.refs=A,this.updater=Ue||C}var W=G.prototype=new L;W.constructor=G,N(W,I.prototype),W.isPureReactComponent=!0;var Q=Array.isArray,z=Object.prototype.hasOwnProperty,K={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function Y(ie,Ce,Ue){var Qe,rt={},ht=null,Nt=null;if(Ce!=null)for(Qe in Ce.ref!==void 0&&(Nt=Ce.ref),Ce.key!==void 0&&(ht=""+Ce.key),Ce)z.call(Ce,Qe)&&!H.hasOwnProperty(Qe)&&(rt[Qe]=Ce[Qe]);var pt=arguments.length-2;if(pt===1)rt.children=Ue;else if(1<pt){for(var xt=Array(pt),qt=0;qt<pt;qt++)xt[qt]=arguments[qt+2];rt.children=xt}if(ie&&ie.defaultProps)for(Qe in pt=ie.defaultProps,pt)rt[Qe]===void 0&&(rt[Qe]=pt[Qe]);return{$$typeof:n,type:ie,key:ht,ref:Nt,props:rt,_owner:K.current}}function re(ie,Ce){return{$$typeof:n,type:ie.type,key:Ce,ref:ie.ref,props:ie.props,_owner:ie._owner}}function ve(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===n}function _e(ie){var Ce={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(Ue){return Ce[Ue]})}var ke=/\/+/g;function Re(ie,Ce){return typeof ie=="object"&&ie!==null&&ie.key!=null?_e(""+ie.key):Ce.toString(36)}function Ee(ie,Ce,Ue,Qe,rt){var ht=typeof ie;(ht==="undefined"||ht==="boolean")&&(ie=null);var Nt=!1;if(ie===null)Nt=!0;else switch(ht){case"string":case"number":Nt=!0;break;case"object":switch(ie.$$typeof){case n:case e:Nt=!0}}if(Nt)return Nt=ie,rt=rt(Nt),ie=Qe===""?"."+Re(Nt,0):Qe,Q(rt)?(Ue="",ie!=null&&(Ue=ie.replace(ke,"$&/")+"/"),Ee(rt,Ce,Ue,"",function(qt){return qt})):rt!=null&&(ve(rt)&&(rt=re(rt,Ue+(!rt.key||Nt&&Nt.key===rt.key?"":(""+rt.key).replace(ke,"$&/")+"/")+ie)),Ce.push(rt)),1;if(Nt=0,Qe=Qe===""?".":Qe+":",Q(ie))for(var pt=0;pt<ie.length;pt++){ht=ie[pt];var xt=Qe+Re(ht,pt);Nt+=Ee(ht,Ce,Ue,xt,rt)}else if(xt=E(ie),typeof xt=="function")for(ie=xt.call(ie),pt=0;!(ht=ie.next()).done;)ht=ht.value,xt=Qe+Re(ht,pt++),Nt+=Ee(ht,Ce,Ue,xt,rt);else if(ht==="object")throw Ce=String(ie),Error("Objects are not valid as a React child (found: "+(Ce==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":Ce)+"). If you meant to render a collection of children, use an array instead.");return Nt}function he(ie,Ce,Ue){if(ie==null)return ie;var Qe=[],rt=0;return Ee(ie,Qe,"","",function(ht){return Ce.call(Ue,ht,rt++)}),Qe}function ge(ie){if(ie._status===-1){var Ce=ie._result;Ce=Ce(),Ce.then(function(Ue){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=Ue)},function(Ue){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=Ue)}),ie._status===-1&&(ie._status=0,ie._result=Ce)}if(ie._status===1)return ie._result.default;throw ie._result}var me={current:null},V={transition:null},Ne={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function De(){throw Error("act(...) is not supported in production builds of React.")}return Bt.Children={map:he,forEach:function(ie,Ce,Ue){he(ie,function(){Ce.apply(this,arguments)},Ue)},count:function(ie){var Ce=0;return he(ie,function(){Ce++}),Ce},toArray:function(ie){return he(ie,function(Ce){return Ce})||[]},only:function(ie){if(!ve(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}},Bt.Component=I,Bt.Fragment=t,Bt.Profiler=s,Bt.PureComponent=G,Bt.StrictMode=r,Bt.Suspense=p,Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ne,Bt.act=De,Bt.cloneElement=function(ie,Ce,Ue){if(ie==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ie+".");var Qe=N({},ie.props),rt=ie.key,ht=ie.ref,Nt=ie._owner;if(Ce!=null){if(Ce.ref!==void 0&&(ht=Ce.ref,Nt=K.current),Ce.key!==void 0&&(rt=""+Ce.key),ie.type&&ie.type.defaultProps)var pt=ie.type.defaultProps;for(xt in Ce)z.call(Ce,xt)&&!H.hasOwnProperty(xt)&&(Qe[xt]=Ce[xt]===void 0&&pt!==void 0?pt[xt]:Ce[xt])}var xt=arguments.length-2;if(xt===1)Qe.children=Ue;else if(1<xt){pt=Array(xt);for(var qt=0;qt<xt;qt++)pt[qt]=arguments[qt+2];Qe.children=pt}return{$$typeof:n,type:ie.type,key:rt,ref:ht,props:Qe,_owner:Nt}},Bt.createContext=function(ie){return ie={$$typeof:c,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ie.Provider={$$typeof:o,_context:ie},ie.Consumer=ie},Bt.createElement=Y,Bt.createFactory=function(ie){var Ce=Y.bind(null,ie);return Ce.type=ie,Ce},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(ie){return{$$typeof:d,render:ie}},Bt.isValidElement=ve,Bt.lazy=function(ie){return{$$typeof:b,_payload:{_status:-1,_result:ie},_init:ge}},Bt.memo=function(ie,Ce){return{$$typeof:v,type:ie,compare:Ce===void 0?null:Ce}},Bt.startTransition=function(ie){var Ce=V.transition;V.transition={};try{ie()}finally{V.transition=Ce}},Bt.unstable_act=De,Bt.useCallback=function(ie,Ce){return me.current.useCallback(ie,Ce)},Bt.useContext=function(ie){return me.current.useContext(ie)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(ie){return me.current.useDeferredValue(ie)},Bt.useEffect=function(ie,Ce){return me.current.useEffect(ie,Ce)},Bt.useId=function(){return me.current.useId()},Bt.useImperativeHandle=function(ie,Ce,Ue){return me.current.useImperativeHandle(ie,Ce,Ue)},Bt.useInsertionEffect=function(ie,Ce){return me.current.useInsertionEffect(ie,Ce)},Bt.useLayoutEffect=function(ie,Ce){return me.current.useLayoutEffect(ie,Ce)},Bt.useMemo=function(ie,Ce){return me.current.useMemo(ie,Ce)},Bt.useReducer=function(ie,Ce,Ue){return me.current.useReducer(ie,Ce,Ue)},Bt.useRef=function(ie){return me.current.useRef(ie)},Bt.useState=function(ie){return me.current.useState(ie)},Bt.useSyncExternalStore=function(ie,Ce,Ue){return me.current.useSyncExternalStore(ie,Ce,Ue)},Bt.useTransition=function(){return me.current.useTransition()},Bt.version="18.3.1",Bt}var Q_;function sb(){return Q_||(Q_=1,d0.exports=qT()),d0.exports}var J_;function zT(){if(J_)return Mg;J_=1;var n=sb(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,v){var b,x={},E=null,C=null;v!==void 0&&(E=""+v),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(C=p.ref);for(b in p)r.call(p,b)&&!o.hasOwnProperty(b)&&(x[b]=p[b]);if(d&&d.defaultProps)for(b in p=d.defaultProps,p)x[b]===void 0&&(x[b]=p[b]);return{$$typeof:e,type:d,key:E,ref:C,props:x,_owner:s.current}}return Mg.Fragment=t,Mg.jsx=c,Mg.jsxs=c,Mg}var X_;function KT(){return X_||(X_=1,c0.exports=zT()),c0.exports}var M=KT(),Hv={},h0={exports:{}},ui={},f0={exports:{}},p0={};var Z_;function YT(){return Z_||(Z_=1,(function(n){function e(V,Ne){var De=V.length;V.push(Ne);e:for(;0<De;){var ie=De-1>>>1,Ce=V[ie];if(0<s(Ce,Ne))V[ie]=Ne,V[De]=Ce,De=ie;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Ne=V[0],De=V.pop();if(De!==Ne){V[0]=De;e:for(var ie=0,Ce=V.length,Ue=Ce>>>1;ie<Ue;){var Qe=2*(ie+1)-1,rt=V[Qe],ht=Qe+1,Nt=V[ht];if(0>s(rt,De))ht<Ce&&0>s(Nt,rt)?(V[ie]=Nt,V[ht]=De,ie=ht):(V[ie]=rt,V[Qe]=De,ie=Qe);else if(ht<Ce&&0>s(Nt,De))V[ie]=Nt,V[ht]=De,ie=ht;else break e}}return Ne}function s(V,Ne){var De=V.sortIndex-Ne.sortIndex;return De!==0?De:V.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],v=[],b=1,x=null,E=3,C=!1,N=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(V){for(var Ne=t(v);Ne!==null;){if(Ne.callback===null)r(v);else if(Ne.startTime<=V)r(v),Ne.sortIndex=Ne.expirationTime,e(p,Ne);else break;Ne=t(v)}}function Q(V){if(A=!1,W(V),!N)if(t(p)!==null)N=!0,ge(z);else{var Ne=t(v);Ne!==null&&me(Q,Ne.startTime-V)}}function z(V,Ne){N=!1,A&&(A=!1,L(Y),Y=-1),C=!0;var De=E;try{for(W(Ne),x=t(p);x!==null&&(!(x.expirationTime>Ne)||V&&!_e());){var ie=x.callback;if(typeof ie=="function"){x.callback=null,E=x.priorityLevel;var Ce=ie(x.expirationTime<=Ne);Ne=n.unstable_now(),typeof Ce=="function"?x.callback=Ce:x===t(p)&&r(p),W(Ne)}else r(p);x=t(p)}if(x!==null)var Ue=!0;else{var Qe=t(v);Qe!==null&&me(Q,Qe.startTime-Ne),Ue=!1}return Ue}finally{x=null,E=De,C=!1}}var K=!1,H=null,Y=-1,re=5,ve=-1;function _e(){return!(n.unstable_now()-ve<re)}function ke(){if(H!==null){var V=n.unstable_now();ve=V;var Ne=!0;try{Ne=H(!0,V)}finally{Ne?Re():(K=!1,H=null)}}else K=!1}var Re;if(typeof G=="function")Re=function(){G(ke)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,he=Ee.port2;Ee.port1.onmessage=ke,Re=function(){he.postMessage(null)}}else Re=function(){I(ke,0)};function ge(V){H=V,K||(K=!0,Re())}function me(V,Ne){Y=I(function(){V(n.unstable_now())},Ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){N||C||(N=!0,ge(z))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(V){switch(E){case 1:case 2:case 3:var Ne=3;break;default:Ne=E}var De=E;E=Ne;try{return V()}finally{E=De}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,Ne){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var De=E;E=V;try{return Ne()}finally{E=De}},n.unstable_scheduleCallback=function(V,Ne,De){var ie=n.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?ie+De:ie):De=ie,V){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=De+Ce,V={id:b++,callback:Ne,priorityLevel:V,startTime:De,expirationTime:Ce,sortIndex:-1},De>ie?(V.sortIndex=De,e(v,V),t(p)===null&&V===t(v)&&(A?(L(Y),Y=-1):A=!0,me(Q,De-ie))):(V.sortIndex=Ce,e(p,V),N||C||(N=!0,ge(z))),V},n.unstable_shouldYield=_e,n.unstable_wrapCallback=function(V){var Ne=E;return function(){var De=E;E=Ne;try{return V.apply(this,arguments)}finally{E=De}}}})(p0)),p0}var eS;function GT(){return eS||(eS=1,f0.exports=YT()),f0.exports}var tS;function VT(){if(tS)return ui;tS=1;var n=sb(),e=GT();function t(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(s[a]=l,a=0;a<l.length;a++)r.add(l[a])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},x={};function E(a){return p.call(x,a)?!0:p.call(b,a)?!1:v.test(a)?x[a]=!0:(b[a]=!0,!1)}function C(a,l,g,y){if(g!==null&&g.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function N(a,l,g,y){if(l===null||typeof l>"u"||C(a,l,g,y))return!0;if(y)return!1;if(g!==null)switch(g.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function A(a,l,g,y,k,D,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=g,this.propertyName=a,this.type=l,this.sanitizeURL=D,this.removeEmptyString=$}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new A(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];I[l]=new A(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new A(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new A(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new A(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new A(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new A(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new A(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new A(a,5,!1,a.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function G(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(L,G);I[l]=new A(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(L,G);I[l]=new A(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(L,G);I[l]=new A(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new A(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new A(a,1,!1,a.toLowerCase(),null,!0,!0)});function W(a,l,g,y){var k=I.hasOwnProperty(l)?I[l]:null;(k!==null?k.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,g,k,y)&&(g=null),y||k===null?E(l)&&(g===null?a.removeAttribute(l):a.setAttribute(l,""+g)):k.mustUseProperty?a[k.propertyName]=g===null?k.type===3?!1:"":g:(l=k.attributeName,y=k.attributeNamespace,g===null?a.removeAttribute(l):(k=k.type,g=k===3||k===4&&g===!0?"":""+g,y?a.setAttributeNS(y,l,g):a.setAttribute(l,g))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),K=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),_e=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),V=Symbol.iterator;function Ne(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var De=Object.assign,ie;function Ce(a){if(ie===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);ie=l&&l[1]||""}return`
`+ie+a}var Ue=!1;function Qe(a,l){if(!a||Ue)return"";Ue=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Pe){var y=Pe}Reflect.construct(a,[],l)}else{try{l.call()}catch(Pe){y=Pe}a.call(l.prototype)}else{try{throw Error()}catch(Pe){y=Pe}a()}}catch(Pe){if(Pe&&y&&typeof Pe.stack=="string"){for(var k=Pe.stack.split(`
`),D=y.stack.split(`
`),$=k.length-1,Z=D.length-1;1<=$&&0<=Z&&k[$]!==D[Z];)Z--;for(;1<=$&&0<=Z;$--,Z--)if(k[$]!==D[Z]){if($!==1||Z!==1)do if($--,Z--,0>Z||k[$]!==D[Z]){var oe=`
`+k[$].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=$&&0<=Z);break}}}finally{Ue=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?Ce(a):""}function rt(a){switch(a.tag){case 5:return Ce(a.type);case 16:return Ce("Lazy");case 13:return Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 2:case 15:return a=Qe(a.type,!1),a;case 11:return a=Qe(a.type.render,!1),a;case 1:return a=Qe(a.type,!0),a;default:return""}}function ht(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case H:return"Fragment";case K:return"Portal";case re:return"Profiler";case Y:return"StrictMode";case Re:return"Suspense";case Ee:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case _e:return(a.displayName||"Context")+".Consumer";case ve:return(a._context.displayName||"Context")+".Provider";case ke:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case he:return l=a.displayName||null,l!==null?l:ht(a.type)||"Memo";case ge:l=a._payload,a=a._init;try{return ht(a(l))}catch{}}return null}function Nt(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ht(l);case 8:return l===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function pt(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function xt(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function qt(a){var l=xt(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),y=""+a[l];if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var k=g.get,D=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return k.call(this)},set:function($){y=""+$,D.call(this,$)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return y},setValue:function($){y=""+$},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Dn(a){a._valueTracker||(a._valueTracker=qt(a))}function or(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var g=l.getValue(),y="";return a&&(y=xt(a)?a.checked?"true":"false":a.value),a=y,a!==g?(l.setValue(a),!0):!1}function Gt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Vn(a,l){var g=l.checked;return De({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function mi(a,l){var g=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;g=pt(l.value!=null?l.value:g),a._wrapperState={initialChecked:y,initialValue:g,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function tl(a,l){l=l.checked,l!=null&&W(a,"checked",l,!1)}function Rr(a,l){tl(a,l);var g=pt(l.value),y=l.type;if(g!=null)y==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?ba(a,l.type,g):l.hasOwnProperty("defaultValue")&&ba(a,l.type,pt(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function nl(a,l,g){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,g||l===a.value||(a.value=l),a.defaultValue=l}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function ba(a,l,g){(l!=="number"||Gt(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var Wn=Array.isArray;function mn(a,l,g,y){if(a=a.options,l){l={};for(var k=0;k<g.length;k++)l["$"+g[k]]=!0;for(g=0;g<a.length;g++)k=l.hasOwnProperty("$"+a[g].value),a[g].selected!==k&&(a[g].selected=k),k&&y&&(a[g].defaultSelected=!0)}else{for(g=""+pt(g),l=null,k=0;k<a.length;k++){if(a[k].value===g){a[k].selected=!0,y&&(a[k].defaultSelected=!0);return}l!==null||a[k].disabled||(l=a[k])}l!==null&&(l.selected=!0)}}function qs(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return De({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Bi(a,l){var g=l.value;if(g==null){if(g=l.children,l=l.defaultValue,g!=null){if(l!=null)throw Error(t(92));if(Wn(g)){if(1<g.length)throw Error(t(93));g=g[0]}l=g}l==null&&(l=""),g=l}a._wrapperState={initialValue:pt(g)}}function to(a,l){var g=pt(l.value),y=pt(l.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),l.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),y!=null&&(a.defaultValue=""+y)}function vi(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function ln(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yr(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?ln(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ls,Gr=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,g,y,k){MSApp.execUnsafeLocalFunction(function(){return a(l,g,y,k)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ls.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function yt(a,l){if(l){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=l;return}}a.textContent=l}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rl=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(a){rl.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),zt[l]=zt[a]})});function sl(a,l,g){return l==null||typeof l=="boolean"||l===""?"":g||typeof l!="number"||l===0||zt.hasOwnProperty(a)&&zt[a]?(""+l).trim():l+"px"}function il(a,l){a=a.style;for(var g in l)if(l.hasOwnProperty(g)){var y=g.indexOf("--")===0,k=sl(g,l[g],y);g==="float"&&(g="cssFloat"),y?a.setProperty(g,k):a[g]=k}}var kc=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function al(a,l){if(l){if(kc[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function ol(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function Ec(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Cc=null,wa=null,Wi=null;function Ir(a){if(a=$r(a)){if(typeof Cc!="function")throw Error(t(280));var l=a.stateNode;l&&(l=Th(l),Cc(a.stateNode,a.type,l))}}function Oc(a){wa?Wi?Wi.push(a):Wi=[a]:wa=a}function Pc(){if(wa){var a=wa,l=Wi;if(Wi=wa=null,Ir(a),l)for(a=0;a<l.length;a++)Ir(l[a])}}function Qn(a,l){return a(l)}function no(){}var ro=!1;function Tc(a,l,g){if(ro)return a(l,g);ro=!0;try{return Qn(a,l,g)}finally{ro=!1,(wa!==null||Wi!==null)&&(no(),Pc())}}function ll(a,l){var g=a.stateNode;if(g===null)return null;var y=Th(g);if(y===null)return null;g=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(t(231,l,typeof g));return g}var ul=!1;if(d)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){ul=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{ul=!1}function zs(a,l,g,y,k,D,$,Z,oe){var Pe=Array.prototype.slice.call(arguments,3);try{l.apply(g,Pe)}catch(Be){this.onError(Be)}}var _a=!1,Vr=null,so=!1,dl=null,Dc={onError:function(a){_a=!0,Vr=a}};function mu(a,l,g,y,k,D,$,Z,oe){_a=!1,Vr=null,zs.apply(Dc,arguments)}function io(a,l,g,y,k,D,$,Z,oe){if(mu.apply(this,arguments),_a){if(_a){var Pe=Vr;_a=!1,Vr=null}else throw Error(t(198));so||(so=!0,dl=Pe)}}function Es(a){var l=a,g=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(g=l.return),a=l.return;while(a)}return l.tag===3?g:null}function Sa(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Nc(a){if(Es(a)!==a)throw Error(t(188))}function uh(a){var l=a.alternate;if(!l){if(l=Es(a),l===null)throw Error(t(188));return l!==a?null:a}for(var g=a,y=l;;){var k=g.return;if(k===null)break;var D=k.alternate;if(D===null){if(y=k.return,y!==null){g=y;continue}break}if(k.child===D.child){for(D=k.child;D;){if(D===g)return Nc(k),a;if(D===y)return Nc(k),l;D=D.sibling}throw Error(t(188))}if(g.return!==y.return)g=k,y=D;else{for(var $=!1,Z=k.child;Z;){if(Z===g){$=!0,g=k,y=D;break}if(Z===y){$=!0,y=k,g=D;break}Z=Z.sibling}if(!$){for(Z=D.child;Z;){if(Z===g){$=!0,g=D,y=k;break}if(Z===y){$=!0,y=D,g=k;break}Z=Z.sibling}if(!$)throw Error(t(189))}}if(g.alternate!==y)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?a:l}function Ac(a){return a=uh(a),a!==null?ch(a):null}function ch(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=ch(a);if(l!==null)return l;a=a.sibling}return null}var Ks=e.unstable_scheduleCallback,yi=e.unstable_cancelCallback,bi=e.unstable_shouldYield,Jn=e.unstable_requestPaint,sn=e.unstable_now,Op=e.unstable_getCurrentPriorityLevel,hl=e.unstable_ImmediatePriority,vu=e.unstable_UserBlockingPriority,ao=e.unstable_NormalPriority,Qr=e.unstable_LowPriority,us=e.unstable_IdlePriority,Cs=null,Os=null;function dh(a){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(Cs,a,void 0,(a.current.flags&128)===128)}catch{}}var cs=Math.clz32?Math.clz32:oo,Rc=Math.log,yu=Math.LN2;function oo(a){return a>>>=0,a===0?32:31-(Rc(a)/yu|0)|0}var Ps=64,cn=4194304;function ds(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function hs(a,l){var g=a.pendingLanes;if(g===0)return 0;var y=0,k=a.suspendedLanes,D=a.pingedLanes,$=g&268435455;if($!==0){var Z=$&~k;Z!==0?y=ds(Z):(D&=$,D!==0&&(y=ds(D)))}else $=g&~k,$!==0?y=ds($):D!==0&&(y=ds(D));if(y===0)return 0;if(l!==0&&l!==y&&(l&k)===0&&(k=y&-y,D=l&-l,k>=D||k===16&&(D&4194240)!==0))return l;if((y&4)!==0&&(y|=g&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=y;0<l;)g=31-cs(l),k=1<<g,y|=a[g],l&=~k;return y}function Mn(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(a,l){for(var g=a.suspendedLanes,y=a.pingedLanes,k=a.expirationTimes,D=a.pendingLanes;0<D;){var $=31-cs(D),Z=1<<$,oe=k[$];oe===-1?((Z&g)===0||(Z&y)!==0)&&(k[$]=Mn(Z,l)):oe<=l&&(a.expiredLanes|=Z),D&=~Z}}function wi(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function kr(){var a=Ps;return Ps<<=1,(Ps&4194240)===0&&(Ps=64),a}function fl(a){for(var l=[],g=0;31>g;g++)l.push(a);return l}function pl(a,l,g){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-cs(l),a[l]=g}function hh(a,l){var g=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<g;){var k=31-cs(g),D=1<<k;l[k]=0,y[k]=-1,a[k]=-1,g&=~D}}function gl(a,l){var g=a.entangledLanes|=l;for(a=a.entanglements;g;){var y=31-cs(g),k=1<<y;k&l|a[y]&l&&(a[y]|=l),g&=~k}}var Vt=0;function ka(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Hi,fs,Ic,bu,Mc,Ys=!1,ml=[],Ts=null,qi=null,zi=null,Ki=new Map,vl=new Map,Yi=[],Pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fh(a,l){switch(a){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Ki.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(l.pointerId)}}function Ea(a,l,g,y,k,D){return a===null||a.nativeEvent!==D?(a={blockedOn:l,domEventName:g,eventSystemFlags:y,nativeEvent:D,targetContainers:[k]},l!==null&&(l=$r(l),l!==null&&fs(l)),a):(a.eventSystemFlags|=y,l=a.targetContainers,k!==null&&l.indexOf(k)===-1&&l.push(k),a)}function jc(a,l,g,y,k){switch(l){case"focusin":return Ts=Ea(Ts,a,l,g,y,k),!0;case"dragenter":return qi=Ea(qi,a,l,g,y,k),!0;case"mouseover":return zi=Ea(zi,a,l,g,y,k),!0;case"pointerover":var D=k.pointerId;return Ki.set(D,Ea(Ki.get(D)||null,a,l,g,y,k)),!0;case"gotpointercapture":return D=k.pointerId,vl.set(D,Ea(vl.get(D)||null,a,l,g,y,k)),!0}return!1}function yl(a){var l=Xi(a.target);if(l!==null){var g=Es(l);if(g!==null){if(l=g.tag,l===13){if(l=Sa(g),l!==null){a.blockedOn=l,Mc(a.priority,function(){Ic(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function lo(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var g=Ca(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var y=new g.constructor(g.type,g);gu=y,g.target.dispatchEvent(y),gu=null}else return l=$r(g),l!==null&&fs(l),a.blockedOn=g,!1;l.shift()}return!0}function ph(a,l,g){lo(a)&&g.delete(l)}function Tp(){Ys=!1,Ts!==null&&lo(Ts)&&(Ts=null),qi!==null&&lo(qi)&&(qi=null),zi!==null&&lo(zi)&&(zi=null),Ki.forEach(ph),vl.forEach(ph)}function an(a,l){a.blockedOn===l&&(a.blockedOn=null,Ys||(Ys=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tp)))}function Zt(a){function l(k){return an(k,a)}if(0<ml.length){an(ml[0],a);for(var g=1;g<ml.length;g++){var y=ml[g];y.blockedOn===a&&(y.blockedOn=null)}}for(Ts!==null&&an(Ts,a),qi!==null&&an(qi,a),zi!==null&&an(zi,a),Ki.forEach(l),vl.forEach(l),g=0;g<Yi.length;g++)y=Yi[g],y.blockedOn===a&&(y.blockedOn=null);for(;0<Yi.length&&(g=Yi[0],g.blockedOn===null);)yl(g),g.blockedOn===null&&Yi.shift()}var uo=Q.ReactCurrentBatchConfig,wu=!0;function Dp(a,l,g,y){var k=Vt,D=uo.transition;uo.transition=null;try{Vt=1,bl(a,l,g,y)}finally{Vt=k,uo.transition=D}}function Np(a,l,g,y){var k=Vt,D=uo.transition;uo.transition=null;try{Vt=4,bl(a,l,g,y)}finally{Vt=k,uo.transition=D}}function bl(a,l,g,y){if(wu){var k=Ca(a,l,g,y);if(k===null)Lp(a,l,y,_u,g),fh(a,y);else if(jc(k,a,l,g,y))y.stopPropagation();else if(fh(a,y),l&4&&-1<Pp.indexOf(a)){for(;k!==null;){var D=$r(k);if(D!==null&&Hi(D),D=Ca(a,l,g,y),D===null&&Lp(a,l,y,_u,g),D===k)break;k=D}k!==null&&y.stopPropagation()}else Lp(a,l,y,null,g)}}var _u=null;function Ca(a,l,g,y){if(_u=null,a=Ec(y),a=Xi(a),a!==null)if(l=Es(a),l===null)a=null;else if(g=l.tag,g===13){if(a=Sa(l),a!==null)return a;a=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return _u=a,null}function gh(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Op()){case hl:return 1;case vu:return 4;case ao:case Qr:return 16;case us:return 536870912;default:return 16}default:return 16}}var _n=null,wl=null,Gs=null;function $c(){if(Gs)return Gs;var a,l=wl,g=l.length,y,k="value"in _n?_n.value:_n.textContent,D=k.length;for(a=0;a<g&&l[a]===k[a];a++);var $=g-a;for(y=1;y<=$&&l[g-y]===k[D-y];y++);return Gs=k.slice(a,1<y?1-y:void 0)}function co(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Er(){return!0}function Lc(){return!1}function Mr(a){function l(g,y,k,D,$){this._reactName=g,this._targetInst=k,this.type=y,this.nativeEvent=D,this.target=$,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(g=a[Z],this[Z]=g?g(D):D[Z]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Er:Lc,this.isPropagationStopped=Lc,this}return De(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),l}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Mr(Oa),ho=De({},Oa,{view:0,detail:0}),mh=Mr(ho),Cr,Uc,vr,Su=De({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==vr&&(vr&&a.type==="mousemove"?(Cr=a.screenX-vr.screenX,Uc=a.screenY-vr.screenY):Uc=Cr=0,vr=a),Cr)},movementY:function(a){return"movementY"in a?a.movementY:Uc}}),Fc=Mr(Su),Gi=De({},Su,{dataTransfer:0}),_l=Mr(Gi),Bc=De({},ho,{relatedTarget:0}),dn=Mr(Bc),Vi=De({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Wc=Mr(Vi),Ap=De({},Oa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xu=Mr(Ap),Rp=De({},Oa,{data:0}),vh=Mr(Rp),Ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yr(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ku[a])?!!l[a]:!1}function Hc(){return yr}var fo=De({},ho,{key:function(a){if(a.key){var l=Ip[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=co(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?yh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(a){return a.type==="keypress"?co(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?co(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),O=Mr(fo),i=De({},Su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h=Mr(i),m=De({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),_=Mr(m),S=De({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=Mr(S),R=De({},Su,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),U=Mr(R),F=[9,13,27,32],ae=d&&"CompositionEvent"in window,ne=null;d&&"documentMode"in document&&(ne=document.documentMode);var te=d&&"TextEvent"in window&&!ne,ye=d&&(!ae||ne&&8<ne&&11>=ne),se=" ",ce=!1;function de(a,l){switch(a){case"keyup":return F.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var nt=!1;function bt(a,l){switch(a){case"compositionend":return Te(l);case"keypress":return l.which!==32?null:(ce=!0,se);case"textInput":return a=l.data,a===se&&ce?null:a;default:return null}}function It(a,l){if(nt)return a==="compositionend"||!ae&&de(a,l)?(a=$c(),Gs=wl=_n=null,nt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ye&&l.locale!=="ko"?null:l.data;default:return null}}var Ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Je(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Ge[a.type]:l==="textarea"}function Oe(a,l,g,y){Oc(y),l=Eh(l,"onChange"),0<l.length&&(g=new Pa("onChange","change",null,g,y),a.push({event:g,listeners:l}))}var Le=null,Ve=null;function $t(a){Qm(a,0)}function Tt(a){var l=Mt(a);if(or(l))return a}function Rt(a,l){if(a==="change")return l}var jn=!1;if(d){var Me;if(d){var Ye="oninput"in document;if(!Ye){var He=document.createElement("div");He.setAttribute("oninput","return;"),Ye=typeof He.oninput=="function"}Me=Ye}else Me=!1;jn=Me&&(!document.documentMode||9<document.documentMode)}function ze(){Le&&(Le.detachEvent("onpropertychange",Jr),Ve=Le=null)}function Jr(a){if(a.propertyName==="value"&&Tt(Ve)){var l=[];Oe(l,Ve,a,Ec(a)),Tc($t,l)}}function Xr(a,l,g){a==="focusin"?(ze(),Le=l,Ve=g,Le.attachEvent("onpropertychange",Jr)):a==="focusout"&&ze()}function Ds(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Tt(Ve)}function Ns(a,l){if(a==="click")return Tt(l)}function pe(a,l){if(a==="input"||a==="change")return Tt(l)}function Ae(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Se=typeof Object.is=="function"?Object.is:Ae;function Ze(a,l){if(Se(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var g=Object.keys(a),y=Object.keys(l);if(g.length!==y.length)return!1;for(y=0;y<g.length;y++){var k=g[y];if(!p.call(l,k)||!Se(a[k],l[k]))return!1}return!0}function At(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function en(a,l){var g=At(a);a=0;for(var y;g;){if(g.nodeType===3){if(y=a+g.textContent.length,a<=l&&y>=l)return{node:g,offset:l-a};a=y}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=At(g)}}function Xn(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Xn(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function hn(){for(var a=window,l=Gt();l instanceof a.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)a=l.contentWindow;else break;l=Gt(a.document)}return l}function qc(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function Db(a){var l=hn(),g=a.focusedElem,y=a.selectionRange;if(l!==g&&g&&g.ownerDocument&&Xn(g.ownerDocument.documentElement,g)){if(y!==null&&qc(g)){if(l=y.start,a=y.end,a===void 0&&(a=l),"selectionStart"in g)g.selectionStart=l,g.selectionEnd=Math.min(a,g.value.length);else if(a=(l=g.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var k=g.textContent.length,D=Math.min(y.start,k);y=y.end===void 0?D:Math.min(y.end,k),!a.extend&&D>y&&(k=y,y=D,D=k),k=en(g,D);var $=en(g,y);k&&$&&(a.rangeCount!==1||a.anchorNode!==k.node||a.anchorOffset!==k.offset||a.focusNode!==$.node||a.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(k.node,k.offset),a.removeAllRanges(),D>y?(a.addRange(l),a.extend($.node,$.offset)):(l.setEnd($.node,$.offset),a.addRange(l)))}}for(l=[],a=g;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<l.length;g++)a=l[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Vs=d&&"documentMode"in document&&11>=document.documentMode,Ta=null,Mp=null,Qi=null,Eu=!1;function zc(a,l,g){var y=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Eu||Ta==null||Ta!==Gt(y)||(y=Ta,"selectionStart"in y&&qc(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Qi&&Ze(Qi,y)||(Qi=y,y=Eh(Mp,"onSelect"),0<y.length&&(l=new Pa("onSelect","select",null,l,g),a.push({event:l,listeners:y}),l.target=Ta)))}function Qt(a,l){var g={};return g[a.toLowerCase()]=l.toLowerCase(),g["Webkit"+a]="webkit"+l,g["Moz"+a]="moz"+l,g}var Cu={animationend:Qt("Animation","AnimationEnd"),animationiteration:Qt("Animation","AnimationIteration"),animationstart:Qt("Animation","AnimationStart"),transitionend:Qt("Transition","TransitionEnd")},bh={},Kc={};d&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete Cu.animationend.animation,delete Cu.animationiteration.animation,delete Cu.animationstart.animation),"TransitionEvent"in window||delete Cu.transitionend.transition);function wh(a){if(bh[a])return bh[a];if(!Cu[a])return a;var l=Cu[a],g;for(g in l)if(l.hasOwnProperty(g)&&g in Kc)return bh[a]=l[g];return a}var Ym=wh("animationend"),Gm=wh("animationiteration"),Yc=wh("animationstart"),Da=wh("transitionend"),Gc=new Map,jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(a,l){Gc.set(a,l),o(l,[a])}for(var _h=0;_h<jp.length;_h++){var Sh=jp[_h],xh=Sh.toLowerCase(),Vm=Sh[0].toUpperCase()+Sh.slice(1);_i(xh,"on"+Vm)}_i(Ym,"onAnimationEnd"),_i(Gm,"onAnimationIteration"),_i(Yc,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Da,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function Vc(a,l,g){var y=a.type||"unknown-event";a.currentTarget=g,io(y,l,void 0,a),a.currentTarget=null}function Qm(a,l){l=(l&4)!==0;for(var g=0;g<a.length;g++){var y=a[g],k=y.event;y=y.listeners;e:{var D=void 0;if(l)for(var $=y.length-1;0<=$;$--){var Z=y[$],oe=Z.instance,Pe=Z.currentTarget;if(Z=Z.listener,oe!==D&&k.isPropagationStopped())break e;Vc(k,Z,Pe),D=oe}else for($=0;$<y.length;$++){if(Z=y[$],oe=Z.instance,Pe=Z.currentTarget,Z=Z.listener,oe!==D&&k.isPropagationStopped())break e;Vc(k,Z,Pe),D=oe}}}if(so)throw a=dl,so=!1,dl=null,a}function kn(a,l){var g=l[Ph];g===void 0&&(g=l[Ph]=new Set);var y=a+"__bubble";g.has(y)||(kh(l,a,2,!1),g.add(y))}function $p(a,l,g){var y=0;l&&(y|=4),kh(g,a,y,l)}var xl="_reactListening"+Math.random().toString(36).slice(2);function po(a){if(!a[xl]){a[xl]=!0,r.forEach(function(g){g!=="selectionchange"&&(Sl.has(g)||$p(g,!1,a),$p(g,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[xl]||(l[xl]=!0,$p("selectionchange",!1,l))}}function kh(a,l,g,y){switch(gh(l)){case 1:var k=Dp;break;case 4:k=Np;break;default:k=bl}g=k.bind(null,l,g,a),k=void 0,!ul||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(k=!0),y?k!==void 0?a.addEventListener(l,g,{capture:!0,passive:k}):a.addEventListener(l,g,!0):k!==void 0?a.addEventListener(l,g,{passive:k}):a.addEventListener(l,g,!1)}function Lp(a,l,g,y,k){var D=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var $=y.tag;if($===3||$===4){var Z=y.stateNode.containerInfo;if(Z===k||Z.nodeType===8&&Z.parentNode===k)break;if($===4)for($=y.return;$!==null;){var oe=$.tag;if((oe===3||oe===4)&&(oe=$.stateNode.containerInfo,oe===k||oe.nodeType===8&&oe.parentNode===k))return;$=$.return}for(;Z!==null;){if($=Xi(Z),$===null)return;if(oe=$.tag,oe===5||oe===6){y=D=$;continue e}Z=Z.parentNode}}y=y.return}Tc(function(){var Pe=D,Be=Ec(g),qe=[];e:{var Fe=Gc.get(a);if(Fe!==void 0){var et=Pa,ot=a;switch(a){case"keypress":if(co(g)===0)break e;case"keydown":case"keyup":et=O;break;case"focusin":ot="focus",et=dn;break;case"focusout":ot="blur",et=dn;break;case"beforeblur":case"afterblur":et=dn;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=_l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=_;break;case Ym:case Gm:case Yc:et=Wc;break;case Da:et=P;break;case"scroll":et=mh;break;case"wheel":et=U;break;case"copy":case"cut":case"paste":et=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=h}var lt=(l&4)!==0,qn=!lt&&a==="scroll",we=lt?Fe!==null?Fe+"Capture":null:Fe;lt=[];for(var fe=Pe,xe;fe!==null;){xe=fe;var Ke=xe.stateNode;if(xe.tag===5&&Ke!==null&&(xe=Ke,we!==null&&(Ke=ll(fe,we),Ke!=null&&lt.push(Ou(fe,Ke,xe)))),qn)break;fe=fe.return}0<lt.length&&(Fe=new et(Fe,ot,null,g,Be),qe.push({event:Fe,listeners:lt}))}}if((l&7)===0){e:{if(Fe=a==="mouseover"||a==="pointerover",et=a==="mouseout"||a==="pointerout",Fe&&g!==gu&&(ot=g.relatedTarget||g.fromElement)&&(Xi(ot)||ot[As]))break e;if((et||Fe)&&(Fe=Be.window===Be?Be:(Fe=Be.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,et?(ot=g.relatedTarget||g.toElement,et=Pe,ot=ot?Xi(ot):null,ot!==null&&(qn=Es(ot),ot!==qn||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(et=null,ot=Pe),et!==ot)){if(lt=Fc,Ke="onMouseLeave",we="onMouseEnter",fe="mouse",(a==="pointerout"||a==="pointerover")&&(lt=h,Ke="onPointerLeave",we="onPointerEnter",fe="pointer"),qn=et==null?Fe:Mt(et),xe=ot==null?Fe:Mt(ot),Fe=new lt(Ke,fe+"leave",et,g,Be),Fe.target=qn,Fe.relatedTarget=xe,Ke=null,Xi(Be)===Pe&&(lt=new lt(we,fe+"enter",ot,g,Be),lt.target=xe,lt.relatedTarget=qn,Ke=lt),qn=Ke,et&&ot)t:{for(lt=et,we=ot,fe=0,xe=lt;xe;xe=Pu(xe))fe++;for(xe=0,Ke=we;Ke;Ke=Pu(Ke))xe++;for(;0<fe-xe;)lt=Pu(lt),fe--;for(;0<xe-fe;)we=Pu(we),xe--;for(;fe--;){if(lt===we||we!==null&&lt===we.alternate)break t;lt=Pu(lt),we=Pu(we)}lt=null}else lt=null;et!==null&&Zn(qe,Fe,et,lt,!1),ot!==null&&qn!==null&&Zn(qe,qn,ot,lt,!0)}}e:{if(Fe=Pe?Mt(Pe):window,et=Fe.nodeName&&Fe.nodeName.toLowerCase(),et==="select"||et==="input"&&Fe.type==="file")var dt=Rt;else if(Je(Fe))if(jn)dt=pe;else{dt=Ds;var _t=Xr}else(et=Fe.nodeName)&&et.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(dt=Ns);if(dt&&(dt=dt(a,Pe))){Oe(qe,dt,g,Be);break e}_t&&_t(a,Fe,Pe),a==="focusout"&&(_t=Fe._wrapperState)&&_t.controlled&&Fe.type==="number"&&ba(Fe,"number",Fe.value)}switch(_t=Pe?Mt(Pe):window,a){case"focusin":(Je(_t)||_t.contentEditable==="true")&&(Ta=_t,Mp=Pe,Qi=null);break;case"focusout":Qi=Mp=Ta=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,zc(qe,g,Be);break;case"selectionchange":if(Vs)break;case"keydown":case"keyup":zc(qe,g,Be)}var wt;if(ae)e:{switch(a){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else nt?de(a,g)&&(kt="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(kt="onCompositionStart");kt&&(ye&&g.locale!=="ko"&&(nt||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&nt&&(wt=$c()):(_n=Be,wl="value"in _n?_n.value:_n.textContent,nt=!0)),_t=Eh(Pe,kt),0<_t.length&&(kt=new vh(kt,a,null,g,Be),qe.push({event:kt,listeners:_t}),wt?kt.data=wt:(wt=Te(g),wt!==null&&(kt.data=wt)))),(wt=te?bt(a,g):It(a,g))&&(Pe=Eh(Pe,"onBeforeInput"),0<Pe.length&&(Be=new vh("onBeforeInput","beforeinput",null,g,Be),qe.push({event:Be,listeners:Pe}),Be.data=wt))}Qm(qe,l)})}function Ou(a,l,g){return{instance:a,listener:l,currentTarget:g}}function Eh(a,l){for(var g=l+"Capture",y=[];a!==null;){var k=a,D=k.stateNode;k.tag===5&&D!==null&&(k=D,D=ll(a,g),D!=null&&y.unshift(Ou(a,D,k)),D=ll(a,l),D!=null&&y.push(Ou(a,D,k))),a=a.return}return y}function Pu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Zn(a,l,g,y,k){for(var D=l._reactName,$=[];g!==null&&g!==y;){var Z=g,oe=Z.alternate,Pe=Z.stateNode;if(oe!==null&&oe===y)break;Z.tag===5&&Pe!==null&&(Z=Pe,k?(oe=ll(g,D),oe!=null&&$.unshift(Ou(g,oe,Z))):k||(oe=ll(g,D),oe!=null&&$.push(Ou(g,oe,Z)))),g=g.return}$.length!==0&&a.push({event:l,listeners:$})}var jr=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function Jm(a){return(typeof a=="string"?a:""+a).replace(jr,`
`).replace(Nb,"")}function Qc(a,l,g){if(l=Jm(l),Jm(a)!==l&&g)throw Error(t(425))}function Ch(){}var Jc=null,kl=null;function Xc(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var go=typeof setTimeout=="function"?setTimeout:void 0,Zc=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,Oh=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(a){return Tu.resolve(null).then(a).catch(Du)}:go;function Du(a){setTimeout(function(){throw a})}function Up(a,l){var g=l,y=0;do{var k=g.nextSibling;if(a.removeChild(g),k&&k.nodeType===8)if(g=k.data,g==="/$"){if(y===0){a.removeChild(k),Zt(l);return}y--}else g!=="$"&&g!=="$?"&&g!=="$!"||y++;g=k}while(g);Zt(l)}function mo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function Xm(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(l===0)return a;l--}else g==="/$"&&l++}a=a.previousSibling}return null}var Nu=Math.random().toString(36).slice(2),Ji="__reactFiber$"+Nu,vo="__reactProps$"+Nu,As="__reactContainer$"+Nu,Ph="__reactEvents$"+Nu,B="__reactListeners$"+Nu,Au="__reactHandles$"+Nu;function Xi(a){var l=a[Ji];if(l)return l;for(var g=a.parentNode;g;){if(l=g[As]||g[Ji]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(a=Xm(a);a!==null;){if(g=a[Ji])return g;a=Xm(a)}return l}a=g,g=a.parentNode}return null}function $r(a){return a=a[Ji]||a[As],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Mt(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Th(a){return a[vo]||null}var Fp=[],Ru=-1;function ps(a){return{current:a}}function En(a){0>Ru||(a.current=Fp[Ru],Fp[Ru]=null,Ru--)}function Sn(a,l){Ru++,Fp[Ru]=a.current,a.current=l}var yo={},Lr=ps(yo),gs=ps(!1),Zr=yo;function Iu(a,l){var g=a.type.contextTypes;if(!g)return yo;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var k={},D;for(D in g)k[D]=l[D];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=k),k}function ms(a){return a=a.childContextTypes,a!=null}function Dh(){En(gs),En(Lr)}function Zm(a,l,g){if(Lr.current!==yo)throw Error(t(168));Sn(Lr,l),Sn(gs,g)}function ev(a,l,g){var y=a.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return g;y=y.getChildContext();for(var k in y)if(!(k in l))throw Error(t(108,Nt(a)||"Unknown",k));return De({},g,y)}function Qs(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||yo,Zr=Lr.current,Sn(Lr,a),Sn(gs,gs.current),!0}function tv(a,l,g){var y=a.stateNode;if(!y)throw Error(t(169));g?(a=ev(a,l,Zr),y.__reactInternalMemoizedMergedChildContext=a,En(gs),En(Lr),Sn(Lr,a)):En(gs),Sn(gs,g)}var Aa=null,Nh=!1,Bp=!1;function nv(a){Aa===null?Aa=[a]:Aa.push(a)}function El(a){Nh=!0,nv(a)}function bo(){if(!Bp&&Aa!==null){Bp=!0;var a=0,l=Vt;try{var g=Aa;for(Vt=1;a<g.length;a++){var y=g[a];do y=y(!0);while(y!==null)}Aa=null,Nh=!1}catch(k){throw Aa!==null&&(Aa=Aa.slice(a+1)),Ks(hl,bo),k}finally{Vt=l,Bp=!1}}return null}var Mu=[],Ur=0,Ah=null,Rh=0,Js=[],Xs=0,Cl=null,Zi=1,ea="";function Ol(a,l){Mu[Ur++]=Rh,Mu[Ur++]=Ah,Ah=a,Rh=l}function rv(a,l,g){Js[Xs++]=Zi,Js[Xs++]=ea,Js[Xs++]=Cl,Cl=a;var y=Zi;a=ea;var k=32-cs(y)-1;y&=~(1<<k),g+=1;var D=32-cs(l)+k;if(30<D){var $=k-k%5;D=(y&(1<<$)-1).toString(32),y>>=$,k-=$,Zi=1<<32-cs(l)+k|g<<k|y,ea=D+a}else Zi=1<<D|g<<k|y,ea=a}function ed(a){a.return!==null&&(Ol(a,1),rv(a,1,0))}function Pl(a){for(;a===Ah;)Ah=Mu[--Ur],Mu[Ur]=null,Rh=Mu[--Ur],Mu[Ur]=null;for(;a===Cl;)Cl=Js[--Xs],Js[Xs]=null,ea=Js[--Xs],Js[Xs]=null,Zi=Js[--Xs],Js[Xs]=null}var Fr=null,Rs=null,Cn=!1,Si=null;function ta(a,l){var g=ii(5,null,null,0);g.elementType="DELETED",g.stateNode=l,g.return=a,l=a.deletions,l===null?(a.deletions=[g],a.flags|=16):l.push(g)}function Ih(a,l){switch(a.tag){case 5:var g=a.type;return l=l.nodeType!==1||g.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Fr=a,Rs=mo(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Fr=a,Rs=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(g=Cl!==null?{id:Zi,overflow:ea}:null,a.memoizedState={dehydrated:l,treeContext:g,retryLane:1073741824},g=ii(18,null,null,0),g.stateNode=l,g.return=a,a.child=g,Fr=a,Rs=null,!0):!1;default:return!1}}function Ra(a){return(a.mode&1)!==0&&(a.flags&128)===0}function vs(a){if(Cn){var l=Rs;if(l){var g=l;if(!Ih(a,l)){if(Ra(a))throw Error(t(418));l=mo(g.nextSibling);var y=Fr;l&&Ih(a,l)?ta(y,g):(a.flags=a.flags&-4097|2,Cn=!1,Fr=a)}}else{if(Ra(a))throw Error(t(418));a.flags=a.flags&-4097|2,Cn=!1,Fr=a}}}function sv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Fr=a}function td(a){if(a!==Fr)return!1;if(!Cn)return sv(a),Cn=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Xc(a.type,a.memoizedProps)),l&&(l=Rs)){if(Ra(a))throw Wp(),Error(t(418));for(;l;)ta(a,l),l=mo(l.nextSibling)}if(sv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(l===0){Rs=mo(a.nextSibling);break e}l--}else g!=="$"&&g!=="$!"&&g!=="$?"||l++}a=a.nextSibling}Rs=null}}else Rs=Fr?mo(a.stateNode.nextSibling):null;return!0}function Wp(){for(var a=Rs;a;)a=mo(a.nextSibling)}function na(){Rs=Fr=null,Cn=!1}function ra(a){Si===null?Si=[a]:Si.push(a)}var iv=Q.ReactCurrentBatchConfig;function nd(a,l,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var y=g.stateNode}if(!y)throw Error(t(147,a));var k=y,D=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===D?l.ref:(l=function($){var Z=k.refs;$===null?delete Z[D]:Z[D]=$},l._stringRef=D,l)}if(typeof a!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,a))}return a}function Tl(a,l){throw a=Object.prototype.toString.call(l),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function av(a){var l=a._init;return l(a._payload)}function Hp(a){function l(we,fe){if(a){var xe=we.deletions;xe===null?(we.deletions=[fe],we.flags|=16):xe.push(fe)}}function g(we,fe){if(!a)return null;for(;fe!==null;)l(we,fe),fe=fe.sibling;return null}function y(we,fe){for(we=new Map;fe!==null;)fe.key!==null?we.set(fe.key,fe):we.set(fe.index,fe),fe=fe.sibling;return we}function k(we,fe){return we=Ti(we,fe),we.index=0,we.sibling=null,we}function D(we,fe,xe){return we.index=xe,a?(xe=we.alternate,xe!==null?(xe=xe.index,xe<fe?(we.flags|=2,fe):xe):(we.flags|=2,fe)):(we.flags|=1048576,fe)}function $(we){return a&&we.alternate===null&&(we.flags|=2),we}function Z(we,fe,xe,Ke){return fe===null||fe.tag!==6?(fe=Tg(xe,we.mode,Ke),fe.return=we,fe):(fe=k(fe,xe),fe.return=we,fe)}function oe(we,fe,xe,Ke){var dt=xe.type;return dt===H?Be(we,fe,xe.props.children,Ke,xe.key):fe!==null&&(fe.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===ge&&av(dt)===fe.type)?(Ke=k(fe,xe.props),Ke.ref=nd(we,fe,xe),Ke.return=we,Ke):(Ke=mf(xe.type,xe.key,xe.props,null,we.mode,Ke),Ke.ref=nd(we,fe,xe),Ke.return=we,Ke)}function Pe(we,fe,xe,Ke){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==xe.containerInfo||fe.stateNode.implementation!==xe.implementation?(fe=Dg(xe,we.mode,Ke),fe.return=we,fe):(fe=k(fe,xe.children||[]),fe.return=we,fe)}function Be(we,fe,xe,Ke,dt){return fe===null||fe.tag!==7?(fe=Fl(xe,we.mode,Ke,dt),fe.return=we,fe):(fe=k(fe,xe),fe.return=we,fe)}function qe(we,fe,xe){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=Tg(""+fe,we.mode,xe),fe.return=we,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case z:return xe=mf(fe.type,fe.key,fe.props,null,we.mode,xe),xe.ref=nd(we,null,fe),xe.return=we,xe;case K:return fe=Dg(fe,we.mode,xe),fe.return=we,fe;case ge:var Ke=fe._init;return qe(we,Ke(fe._payload),xe)}if(Wn(fe)||Ne(fe))return fe=Fl(fe,we.mode,xe,null),fe.return=we,fe;Tl(we,fe)}return null}function Fe(we,fe,xe,Ke){var dt=fe!==null?fe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return dt!==null?null:Z(we,fe,""+xe,Ke);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:return xe.key===dt?oe(we,fe,xe,Ke):null;case K:return xe.key===dt?Pe(we,fe,xe,Ke):null;case ge:return dt=xe._init,Fe(we,fe,dt(xe._payload),Ke)}if(Wn(xe)||Ne(xe))return dt!==null?null:Be(we,fe,xe,Ke,null);Tl(we,xe)}return null}function et(we,fe,xe,Ke,dt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return we=we.get(xe)||null,Z(fe,we,""+Ke,dt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case z:return we=we.get(Ke.key===null?xe:Ke.key)||null,oe(fe,we,Ke,dt);case K:return we=we.get(Ke.key===null?xe:Ke.key)||null,Pe(fe,we,Ke,dt);case ge:var _t=Ke._init;return et(we,fe,xe,_t(Ke._payload),dt)}if(Wn(Ke)||Ne(Ke))return we=we.get(xe)||null,Be(fe,we,Ke,dt,null);Tl(fe,Ke)}return null}function ot(we,fe,xe,Ke){for(var dt=null,_t=null,wt=fe,kt=fe=0,_r=null;wt!==null&&kt<xe.length;kt++){wt.index>kt?(_r=wt,wt=null):_r=wt.sibling;var tn=Fe(we,wt,xe[kt],Ke);if(tn===null){wt===null&&(wt=_r);break}a&&wt&&tn.alternate===null&&l(we,wt),fe=D(tn,fe,kt),_t===null?dt=tn:_t.sibling=tn,_t=tn,wt=_r}if(kt===xe.length)return g(we,wt),Cn&&Ol(we,kt),dt;if(wt===null){for(;kt<xe.length;kt++)wt=qe(we,xe[kt],Ke),wt!==null&&(fe=D(wt,fe,kt),_t===null?dt=wt:_t.sibling=wt,_t=wt);return Cn&&Ol(we,kt),dt}for(wt=y(we,wt);kt<xe.length;kt++)_r=et(wt,we,kt,xe[kt],Ke),_r!==null&&(a&&_r.alternate!==null&&wt.delete(_r.key===null?kt:_r.key),fe=D(_r,fe,kt),_t===null?dt=_r:_t.sibling=_r,_t=_r);return a&&wt.forEach(function(No){return l(we,No)}),Cn&&Ol(we,kt),dt}function lt(we,fe,xe,Ke){var dt=Ne(xe);if(typeof dt!="function")throw Error(t(150));if(xe=dt.call(xe),xe==null)throw Error(t(151));for(var _t=dt=null,wt=fe,kt=fe=0,_r=null,tn=xe.next();wt!==null&&!tn.done;kt++,tn=xe.next()){wt.index>kt?(_r=wt,wt=null):_r=wt.sibling;var No=Fe(we,wt,tn.value,Ke);if(No===null){wt===null&&(wt=_r);break}a&&wt&&No.alternate===null&&l(we,wt),fe=D(No,fe,kt),_t===null?dt=No:_t.sibling=No,_t=No,wt=_r}if(tn.done)return g(we,wt),Cn&&Ol(we,kt),dt;if(wt===null){for(;!tn.done;kt++,tn=xe.next())tn=qe(we,tn.value,Ke),tn!==null&&(fe=D(tn,fe,kt),_t===null?dt=tn:_t.sibling=tn,_t=tn);return Cn&&Ol(we,kt),dt}for(wt=y(we,wt);!tn.done;kt++,tn=xe.next())tn=et(wt,we,kt,tn.value,Ke),tn!==null&&(a&&tn.alternate!==null&&wt.delete(tn.key===null?kt:tn.key),fe=D(tn,fe,kt),_t===null?dt=tn:_t.sibling=tn,_t=tn);return a&&wt.forEach(function(Xb){return l(we,Xb)}),Cn&&Ol(we,kt),dt}function qn(we,fe,xe,Ke){if(typeof xe=="object"&&xe!==null&&xe.type===H&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:e:{for(var dt=xe.key,_t=fe;_t!==null;){if(_t.key===dt){if(dt=xe.type,dt===H){if(_t.tag===7){g(we,_t.sibling),fe=k(_t,xe.props.children),fe.return=we,we=fe;break e}}else if(_t.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===ge&&av(dt)===_t.type){g(we,_t.sibling),fe=k(_t,xe.props),fe.ref=nd(we,_t,xe),fe.return=we,we=fe;break e}g(we,_t);break}else l(we,_t);_t=_t.sibling}xe.type===H?(fe=Fl(xe.props.children,we.mode,Ke,xe.key),fe.return=we,we=fe):(Ke=mf(xe.type,xe.key,xe.props,null,we.mode,Ke),Ke.ref=nd(we,fe,xe),Ke.return=we,we=Ke)}return $(we);case K:e:{for(_t=xe.key;fe!==null;){if(fe.key===_t)if(fe.tag===4&&fe.stateNode.containerInfo===xe.containerInfo&&fe.stateNode.implementation===xe.implementation){g(we,fe.sibling),fe=k(fe,xe.children||[]),fe.return=we,we=fe;break e}else{g(we,fe);break}else l(we,fe);fe=fe.sibling}fe=Dg(xe,we.mode,Ke),fe.return=we,we=fe}return $(we);case ge:return _t=xe._init,qn(we,fe,_t(xe._payload),Ke)}if(Wn(xe))return ot(we,fe,xe,Ke);if(Ne(xe))return lt(we,fe,xe,Ke);Tl(we,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,fe!==null&&fe.tag===6?(g(we,fe.sibling),fe=k(fe,xe),fe.return=we,we=fe):(g(we,fe),fe=Tg(xe,we.mode,Ke),fe.return=we,we=fe),$(we)):g(we,fe)}return qn}var Bn=Hp(!0),Mh=Hp(!1),rd=ps(null),Is=null,wo=null,ju=null;function Ia(){ju=wo=Is=null}function jh(a){var l=rd.current;En(rd),a._currentValue=l}function Or(a,l,g){for(;a!==null;){var y=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),a===g)break;a=a.return}}function _o(a,l){Is=a,ju=wo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(ts=!0),a.firstContext=null)}function Zs(a){var l=a._currentValue;if(ju!==a)if(a={context:a,memoizedValue:l,next:null},wo===null){if(Is===null)throw Error(t(308));wo=a,Is.dependencies={lanes:0,firstContext:a}}else wo=wo.next=a;return l}var Dl=null;function qp(a){Dl===null?Dl=[a]:Dl.push(a)}function $h(a,l,g,y){var k=l.interleaved;return k===null?(g.next=g,qp(l)):(g.next=k.next,k.next=g),l.interleaved=g,Ma(a,y)}function Ma(a,l){a.lanes|=l;var g=a.alternate;for(g!==null&&(g.lanes|=l),g=a,a=a.return;a!==null;)a.childLanes|=l,g=a.alternate,g!==null&&(g.childLanes|=l),g=a,a=a.return;return g.tag===3?g.stateNode:null}var ei=!1;function Lh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ja(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ti(a,l,g){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Jt&2)!==0){var k=y.pending;return k===null?l.next=l:(l.next=k.next,k.next=l),y.pending=l,Ma(a,g)}return k=y.interleaved,k===null?(l.next=l,qp(y)):(l.next=k.next,k.next=l),y.interleaved=l,Ma(a,g)}function Uh(a,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194240)!==0)){var y=l.lanes;y&=a.pendingLanes,g|=y,l.lanes=g,gl(a,g)}}function lv(a,l){var g=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,g===y)){var k=null,D=null;if(g=g.firstBaseUpdate,g!==null){do{var $={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};D===null?k=D=$:D=D.next=$,g=g.next}while(g!==null);D===null?k=D=l:D=D.next=l}else k=D=l;g={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:D,shared:y.shared,effects:y.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=l:a.next=l,g.lastBaseUpdate=l}function $u(a,l,g,y){var k=a.updateQueue;ei=!1;var D=k.firstBaseUpdate,$=k.lastBaseUpdate,Z=k.shared.pending;if(Z!==null){k.shared.pending=null;var oe=Z,Pe=oe.next;oe.next=null,$===null?D=Pe:$.next=Pe,$=oe;var Be=a.alternate;Be!==null&&(Be=Be.updateQueue,Z=Be.lastBaseUpdate,Z!==$&&(Z===null?Be.firstBaseUpdate=Pe:Z.next=Pe,Be.lastBaseUpdate=oe))}if(D!==null){var qe=k.baseState;$=0,Be=Pe=oe=null,Z=D;do{var Fe=Z.lane,et=Z.eventTime;if((y&Fe)===Fe){Be!==null&&(Be=Be.next={eventTime:et,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var ot=a,lt=Z;switch(Fe=l,et=g,lt.tag){case 1:if(ot=lt.payload,typeof ot=="function"){qe=ot.call(et,qe,Fe);break e}qe=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=lt.payload,Fe=typeof ot=="function"?ot.call(et,qe,Fe):ot,Fe==null)break e;qe=De({},qe,Fe);break e;case 2:ei=!0}}Z.callback!==null&&Z.lane!==0&&(a.flags|=64,Fe=k.effects,Fe===null?k.effects=[Z]:Fe.push(Z))}else et={eventTime:et,lane:Fe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Be===null?(Pe=Be=et,oe=qe):Be=Be.next=et,$|=Fe;if(Z=Z.next,Z===null){if(Z=k.shared.pending,Z===null)break;Fe=Z,Z=Fe.next,Fe.next=null,k.lastBaseUpdate=Fe,k.shared.pending=null}}while(!0);if(Be===null&&(oe=qe),k.baseState=oe,k.firstBaseUpdate=Pe,k.lastBaseUpdate=Be,l=k.shared.interleaved,l!==null){k=l;do $|=k.lane,k=k.next;while(k!==l)}else D===null&&(k.shared.lanes=0);Co|=$,a.lanes=$,a.memoizedState=qe}}function zp(a,l,g){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var y=a[l],k=y.callback;if(k!==null){if(y.callback=null,y=g,typeof k!="function")throw Error(t(191,k));k.call(y)}}}var sd={},sa=ps(sd),id=ps(sd),Lu=ps(sd);function $a(a){if(a===sd)throw Error(t(174));return a}function Kp(a,l){switch(Sn(Lu,l),Sn(id,a),Sn(sa,sd),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Yr(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Yr(l,a)}En(sa),Sn(sa,l)}function So(){En(sa),En(id),En(Lu)}function Yp(a){$a(Lu.current);var l=$a(sa.current),g=Yr(l,a.type);l!==g&&(Sn(id,a),Sn(sa,g))}function Fh(a){id.current===a&&(En(sa),En(id))}var Nn=ps(0);function Nl(a){for(var l=a;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Gp=[];function Bh(){for(var a=0;a<Gp.length;a++)Gp[a]._workInProgressVersionPrimary=null;Gp.length=0}var ad=Q.ReactCurrentDispatcher,Vp=Q.ReactCurrentBatchConfig,xo=0,$n=null,Hn=null,lr=null,Uu=!1,od=!1,Al=0,Lt=0;function Br(){throw Error(t(321))}function Qp(a,l){if(l===null)return!1;for(var g=0;g<l.length&&g<a.length;g++)if(!Se(a[g],l[g]))return!1;return!0}function Rl(a,l,g,y,k,D){if(xo=D,$n=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ad.current=a===null||a.memoizedState===null?Rb:Gh,a=g(y,k),od){D=0;do{if(od=!1,Al=0,25<=D)throw Error(t(301));D+=1,lr=Hn=null,l.updateQueue=null,ad.current=Hu,a=g(y,k)}while(od)}if(ad.current=Yh,l=Hn!==null&&Hn.next!==null,xo=0,lr=Hn=$n=null,Uu=!1,l)throw Error(t(300));return a}function Wh(){var a=Al!==0;return Al=0,a}function ia(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?$n.memoizedState=lr=a:lr=lr.next=a,lr}function ni(){if(Hn===null){var a=$n.alternate;a=a!==null?a.memoizedState:null}else a=Hn.next;var l=lr===null?$n.memoizedState:lr.next;if(l!==null)lr=l,Hn=a;else{if(a===null)throw Error(t(310));Hn=a,a={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},lr===null?$n.memoizedState=lr=a:lr=lr.next=a}return lr}function Wr(a,l){return typeof l=="function"?l(a):l}function Jp(a){var l=ni(),g=l.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var y=Hn,k=y.baseQueue,D=g.pending;if(D!==null){if(k!==null){var $=k.next;k.next=D.next,D.next=$}y.baseQueue=k=D,g.pending=null}if(k!==null){D=k.next,y=y.baseState;var Z=$=null,oe=null,Pe=D;do{var Be=Pe.lane;if((xo&Be)===Be)oe!==null&&(oe=oe.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),y=Pe.hasEagerState?Pe.eagerState:a(y,Pe.action);else{var qe={lane:Be,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};oe===null?(Z=oe=qe,$=y):oe=oe.next=qe,$n.lanes|=Be,Co|=Be}Pe=Pe.next}while(Pe!==null&&Pe!==D);oe===null?$=y:oe.next=Z,Se(y,l.memoizedState)||(ts=!0),l.memoizedState=y,l.baseState=$,l.baseQueue=oe,g.lastRenderedState=y}if(a=g.interleaved,a!==null){k=a;do D=k.lane,$n.lanes|=D,Co|=D,k=k.next;while(k!==a)}else k===null&&(g.lanes=0);return[l.memoizedState,g.dispatch]}function Fu(a){var l=ni(),g=l.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var y=g.dispatch,k=g.pending,D=l.memoizedState;if(k!==null){g.pending=null;var $=k=k.next;do D=a(D,$.action),$=$.next;while($!==k);Se(D,l.memoizedState)||(ts=!0),l.memoizedState=D,l.baseQueue===null&&(l.baseState=D),g.lastRenderedState=D}return[D,y]}function Hh(){}function Xp(a,l){var g=$n,y=ni(),k=l(),D=!Se(y.memoizedState,k);if(D&&(y.memoizedState=k,ts=!0),y=y.queue,aa(La.bind(null,g,y,a),[a]),y.getSnapshot!==l||D||lr!==null&&lr.memoizedState.tag&1){if(g.flags|=2048,Bu(9,ys.bind(null,g,y,k,l),void 0,null),wr===null)throw Error(t(349));(xo&30)!==0||Zp(g,l,k)}return k}function Zp(a,l,g){a.flags|=16384,a={getSnapshot:l,value:g},l=$n.updateQueue,l===null?(l={lastEffect:null,stores:null},$n.updateQueue=l,l.stores=[a]):(g=l.stores,g===null?l.stores=[a]:g.push(a))}function ys(a,l,g,y){l.value=g,l.getSnapshot=y,qh(l)&&eg(a)}function La(a,l,g){return g(function(){qh(l)&&eg(a)})}function qh(a){var l=a.getSnapshot;a=a.value;try{var g=l();return!Se(a,g)}catch{return!0}}function eg(a){var l=Ma(a,1);l!==null&&Pi(l,a,1,-1)}function ld(a){var l=ia();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:a},l.queue=a,a=a.dispatch=pv.bind(null,$n,a),[l.memoizedState,a]}function Bu(a,l,g,y){return a={tag:a,create:l,destroy:g,deps:y,next:null},l=$n.updateQueue,l===null?(l={lastEffect:null,stores:null},$n.updateQueue=l,l.lastEffect=a.next=a):(g=l.lastEffect,g===null?l.lastEffect=a.next=a:(y=g.next,g.next=a,a.next=y,l.lastEffect=a)),a}function zh(){return ni().memoizedState}function ud(a,l,g,y){var k=ia();$n.flags|=a,k.memoizedState=Bu(1|l,g,void 0,y===void 0?null:y)}function Wu(a,l,g,y){var k=ni();y=y===void 0?null:y;var D=void 0;if(Hn!==null){var $=Hn.memoizedState;if(D=$.destroy,y!==null&&Qp(y,$.deps)){k.memoizedState=Bu(l,g,D,y);return}}$n.flags|=a,k.memoizedState=Bu(1|l,g,D,y)}function Kh(a,l){return ud(8390656,8,a,l)}function aa(a,l){return Wu(2048,8,a,l)}function uv(a,l){return Wu(4,2,a,l)}function Ua(a,l){return Wu(4,4,a,l)}function tg(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function ng(a,l,g){return g=g!=null?g.concat([a]):null,Wu(4,4,tg.bind(null,l,a),g)}function cd(){}function cv(a,l){var g=ni();l=l===void 0?null:l;var y=g.memoizedState;return y!==null&&l!==null&&Qp(l,y[1])?y[0]:(g.memoizedState=[a,l],a)}function dv(a,l){var g=ni();l=l===void 0?null:l;var y=g.memoizedState;return y!==null&&l!==null&&Qp(l,y[1])?y[0]:(a=a(),g.memoizedState=[a,l],a)}function hv(a,l,g){return(xo&21)===0?(a.baseState&&(a.baseState=!1,ts=!0),a.memoizedState=g):(Se(g,l)||(g=kr(),$n.lanes|=g,Co|=g,a.baseState=!0),l)}function fv(a,l){var g=Vt;Vt=g!==0&&4>g?g:4,a(!0);var y=Vp.transition;Vp.transition={};try{a(!1),l()}finally{Vt=g,Vp.transition=y}}function rg(){return ni().memoizedState}function Ab(a,l,g){var y=To(a);if(g={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null},sg(a))es(l,g);else if(g=$h(a,l,g,y),g!==null){var k=ss();Pi(g,a,y,k),xi(g,l,y)}}function pv(a,l,g){var y=To(a),k={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null};if(sg(a))es(l,k);else{var D=a.alternate;if(a.lanes===0&&(D===null||D.lanes===0)&&(D=l.lastRenderedReducer,D!==null))try{var $=l.lastRenderedState,Z=D($,g);if(k.hasEagerState=!0,k.eagerState=Z,Se(Z,$)){var oe=l.interleaved;oe===null?(k.next=k,qp(l)):(k.next=oe.next,oe.next=k),l.interleaved=k;return}}catch{}g=$h(a,l,k,y),g!==null&&(k=ss(),Pi(g,a,y,k),xi(g,l,y))}}function sg(a){var l=a.alternate;return a===$n||l!==null&&l===$n}function es(a,l){od=Uu=!0;var g=a.pending;g===null?l.next=l:(l.next=g.next,g.next=l),a.pending=l}function xi(a,l,g){if((g&4194240)!==0){var y=l.lanes;y&=a.pendingLanes,g|=y,l.lanes=g,gl(a,g)}}var Yh={readContext:Zs,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},Rb={readContext:Zs,useCallback:function(a,l){return ia().memoizedState=[a,l===void 0?null:l],a},useContext:Zs,useEffect:Kh,useImperativeHandle:function(a,l,g){return g=g!=null?g.concat([a]):null,ud(4194308,4,tg.bind(null,l,a),g)},useLayoutEffect:function(a,l){return ud(4194308,4,a,l)},useInsertionEffect:function(a,l){return ud(4,2,a,l)},useMemo:function(a,l){var g=ia();return l=l===void 0?null:l,a=a(),g.memoizedState=[a,l],a},useReducer:function(a,l,g){var y=ia();return l=g!==void 0?g(l):l,y.memoizedState=y.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},y.queue=a,a=a.dispatch=Ab.bind(null,$n,a),[y.memoizedState,a]},useRef:function(a){var l=ia();return a={current:a},l.memoizedState=a},useState:ld,useDebugValue:cd,useDeferredValue:function(a){return ia().memoizedState=a},useTransition:function(){var a=ld(!1),l=a[0];return a=fv.bind(null,a[1]),ia().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,g){var y=$n,k=ia();if(Cn){if(g===void 0)throw Error(t(407));g=g()}else{if(g=l(),wr===null)throw Error(t(349));(xo&30)!==0||Zp(y,l,g)}k.memoizedState=g;var D={value:g,getSnapshot:l};return k.queue=D,Kh(La.bind(null,y,D,a),[a]),y.flags|=2048,Bu(9,ys.bind(null,y,D,g,l),void 0,null),g},useId:function(){var a=ia(),l=wr.identifierPrefix;if(Cn){var g=ea,y=Zi;g=(y&~(1<<32-cs(y)-1)).toString(32)+g,l=":"+l+"R"+g,g=Al++,0<g&&(l+="H"+g.toString(32)),l+=":"}else g=Lt++,l=":"+l+"r"+g.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},Gh={readContext:Zs,useCallback:cv,useContext:Zs,useEffect:aa,useImperativeHandle:ng,useInsertionEffect:uv,useLayoutEffect:Ua,useMemo:dv,useReducer:Jp,useRef:zh,useState:function(){return Jp(Wr)},useDebugValue:cd,useDeferredValue:function(a){var l=ni();return hv(l,Hn.memoizedState,a)},useTransition:function(){var a=Jp(Wr)[0],l=ni().memoizedState;return[a,l]},useMutableSource:Hh,useSyncExternalStore:Xp,useId:rg,unstable_isNewReconciler:!1},Hu={readContext:Zs,useCallback:cv,useContext:Zs,useEffect:aa,useImperativeHandle:ng,useInsertionEffect:uv,useLayoutEffect:Ua,useMemo:dv,useReducer:Fu,useRef:zh,useState:function(){return Fu(Wr)},useDebugValue:cd,useDeferredValue:function(a){var l=ni();return Hn===null?l.memoizedState=a:hv(l,Hn.memoizedState,a)},useTransition:function(){var a=Fu(Wr)[0],l=ni().memoizedState;return[a,l]},useMutableSource:Hh,useSyncExternalStore:Xp,useId:rg,unstable_isNewReconciler:!1};function ri(a,l){if(a&&a.defaultProps){l=De({},l),a=a.defaultProps;for(var g in a)l[g]===void 0&&(l[g]=a[g]);return l}return l}function Vh(a,l,g,y){l=a.memoizedState,g=g(y,l),g=g==null?l:De({},l,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Qh={isMounted:function(a){return(a=a._reactInternals)?Es(a)===a:!1},enqueueSetState:function(a,l,g){a=a._reactInternals;var y=ss(),k=To(a),D=ja(y,k);D.payload=l,g!=null&&(D.callback=g),l=ti(a,D,k),l!==null&&(Pi(l,a,k,y),Uh(l,a,k))},enqueueReplaceState:function(a,l,g){a=a._reactInternals;var y=ss(),k=To(a),D=ja(y,k);D.tag=1,D.payload=l,g!=null&&(D.callback=g),l=ti(a,D,k),l!==null&&(Pi(l,a,k,y),Uh(l,a,k))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var g=ss(),y=To(a),k=ja(g,y);k.tag=2,l!=null&&(k.callback=l),l=ti(a,k,y),l!==null&&(Pi(l,a,y,g),Uh(l,a,y))}};function ig(a,l,g,y,k,D,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,D,$):l.prototype&&l.prototype.isPureReactComponent?!Ze(g,y)||!Ze(k,D):!0}function Il(a,l,g){var y=!1,k=yo,D=l.contextType;return typeof D=="object"&&D!==null?D=Zs(D):(k=ms(l)?Zr:Lr.current,y=l.contextTypes,D=(y=y!=null)?Iu(a,k):yo),l=new l(g,D),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Qh,a.stateNode=l,l._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=k,a.__reactInternalMemoizedMaskedChildContext=D),l}function qu(a,l,g,y){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,y),l.state!==a&&Qh.enqueueReplaceState(l,l.state,null)}function ag(a,l,g,y){var k=a.stateNode;k.props=g,k.state=a.memoizedState,k.refs={},Lh(a);var D=l.contextType;typeof D=="object"&&D!==null?k.context=Zs(D):(D=ms(l)?Zr:Lr.current,k.context=Iu(a,D)),k.state=a.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(Vh(a,l,D,g),k.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(l=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),l!==k.state&&Qh.enqueueReplaceState(k,k.state,null),$u(a,g,k,y),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308)}function Ml(a,l){try{var g="",y=l;do g+=rt(y),y=y.return;while(y);var k=g}catch(D){k=`
Error generating stack: `+D.message+`
`+D.stack}return{value:a,source:l,stack:k,digest:null}}function Jh(a,l,g){return{value:a,source:null,stack:g??null,digest:l??null}}function zu(a,l){try{console.error(l.value)}catch(g){setTimeout(function(){throw g})}}var gv=typeof WeakMap=="function"?WeakMap:Map;function dd(a,l,g){g=ja(-1,g),g.tag=3,g.payload={element:null};var y=l.value;return g.callback=function(){uf||(uf=!0,Sg=y),zu(a,l)},g}function Xh(a,l,g){g=ja(-1,g),g.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var k=l.value;g.payload=function(){return y(k)},g.callback=function(){zu(a,l)}}var D=a.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(g.callback=function(){zu(a,l),typeof y!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),g}function hd(a,l,g){var y=a.pingCache;if(y===null){y=a.pingCache=new gv;var k=new Set;y.set(l,k)}else k=y.get(l),k===void 0&&(k=new Set,y.set(l,k));k.has(g)||(k.add(g),a=Bb.bind(null,a,l,g),l.then(a,a))}function mv(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function og(a,l,g,y,k){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(l=ja(-1,1),l.tag=2,ti(g,l,1))),g.lanes|=1),a):(a.flags|=65536,a.lanes=k,a)}var Zh=Q.ReactCurrentOwner,ts=!1;function Pr(a,l,g,y){l.child=a===null?Mh(l,null,g,y):Bn(l,a.child,g,y)}function vv(a,l,g,y,k){g=g.render;var D=l.ref;return _o(l,k),y=Rl(a,l,g,y,D,k),g=Wh(),a!==null&&!ts?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~k,ki(a,l,k)):(Cn&&g&&ed(l),l.flags|=1,Pr(a,l,y,k),l.child)}function lg(a,l,g,y,k){if(a===null){var D=g.type;return typeof D=="function"&&!gf(D)&&D.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(l.tag=15,l.type=D,oa(a,l,D,y,k)):(a=mf(g.type,null,y,l,l.mode,k),a.ref=l.ref,a.return=l,l.child=a)}if(D=a.child,(a.lanes&k)===0){var $=D.memoizedProps;if(g=g.compare,g=g!==null?g:Ze,g($,y)&&a.ref===l.ref)return ki(a,l,k)}return l.flags|=1,a=Ti(D,y),a.ref=l.ref,a.return=l,l.child=a}function oa(a,l,g,y,k){if(a!==null){var D=a.memoizedProps;if(Ze(D,y)&&a.ref===l.ref)if(ts=!1,l.pendingProps=y=D,(a.lanes&k)!==0)(a.flags&131072)!==0&&(ts=!0);else return l.lanes=a.lanes,ki(a,l,k)}return dg(a,l,g,y,k)}function ug(a,l,g){var y=l.pendingProps,k=y.children,D=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Vu,js),js|=g;else{if((g&1073741824)===0)return a=D!==null?D.baseLanes|g:g,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Sn(Vu,js),js|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=D!==null?D.baseLanes:g,Sn(Vu,js),js|=y}else D!==null?(y=D.baseLanes|g,l.memoizedState=null):y=g,Sn(Vu,js),js|=y;return Pr(a,l,k,g),l.child}function cg(a,l){var g=l.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(l.flags|=512,l.flags|=2097152)}function dg(a,l,g,y,k){var D=ms(g)?Zr:Lr.current;return D=Iu(l,D),_o(l,k),g=Rl(a,l,g,y,D,k),y=Wh(),a!==null&&!ts?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~k,ki(a,l,k)):(Cn&&y&&ed(l),l.flags|=1,Pr(a,l,g,k),l.child)}function hg(a,l,g,y,k){if(ms(g)){var D=!0;Qs(l)}else D=!1;if(_o(l,k),l.stateNode===null)tf(a,l),Il(l,g,y),ag(l,g,y,k),y=!0;else if(a===null){var $=l.stateNode,Z=l.memoizedProps;$.props=Z;var oe=$.context,Pe=g.contextType;typeof Pe=="object"&&Pe!==null?Pe=Zs(Pe):(Pe=ms(g)?Zr:Lr.current,Pe=Iu(l,Pe));var Be=g.getDerivedStateFromProps,qe=typeof Be=="function"||typeof $.getSnapshotBeforeUpdate=="function";qe||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Z!==y||oe!==Pe)&&qu(l,$,y,Pe),ei=!1;var Fe=l.memoizedState;$.state=Fe,$u(l,y,$,k),oe=l.memoizedState,Z!==y||Fe!==oe||gs.current||ei?(typeof Be=="function"&&(Vh(l,g,Be,y),oe=l.memoizedState),(Z=ei||ig(l,g,Z,y,Fe,oe,Pe))?(qe||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=oe),$.props=y,$.state=oe,$.context=Pe,y=Z):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{$=l.stateNode,ov(a,l),Z=l.memoizedProps,Pe=l.type===l.elementType?Z:ri(l.type,Z),$.props=Pe,qe=l.pendingProps,Fe=$.context,oe=g.contextType,typeof oe=="object"&&oe!==null?oe=Zs(oe):(oe=ms(g)?Zr:Lr.current,oe=Iu(l,oe));var et=g.getDerivedStateFromProps;(Be=typeof et=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Z!==qe||Fe!==oe)&&qu(l,$,y,oe),ei=!1,Fe=l.memoizedState,$.state=Fe,$u(l,y,$,k);var ot=l.memoizedState;Z!==qe||Fe!==ot||gs.current||ei?(typeof et=="function"&&(Vh(l,g,et,y),ot=l.memoizedState),(Pe=ei||ig(l,g,Pe,y,Fe,ot,oe)||!1)?(Be||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(y,ot,oe),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(y,ot,oe)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||Z===a.memoizedProps&&Fe===a.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&Fe===a.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=ot),$.props=y,$.state=ot,$.context=oe,y=Pe):(typeof $.componentDidUpdate!="function"||Z===a.memoizedProps&&Fe===a.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&Fe===a.memoizedState||(l.flags|=1024),y=!1)}return fg(a,l,g,y,D,k)}function fg(a,l,g,y,k,D){cg(a,l);var $=(l.flags&128)!==0;if(!y&&!$)return k&&tv(l,g,!1),ki(a,l,D);y=l.stateNode,Zh.current=l;var Z=$&&typeof g.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,a!==null&&$?(l.child=Bn(l,a.child,null,D),l.child=Bn(l,null,Z,D)):Pr(a,l,Z,D),l.memoizedState=y.state,k&&tv(l,g,!0),l.child}function yv(a){var l=a.stateNode;l.pendingContext?Zm(a,l.pendingContext,l.pendingContext!==l.context):l.context&&Zm(a,l.context,!1),Kp(a,l.containerInfo)}function la(a,l,g,y,k){return na(),ra(k),l.flags|=256,Pr(a,l,g,y),l.child}var fd={dehydrated:null,treeContext:null,retryLane:0};function pd(a){return{baseLanes:a,cachePool:null,transitions:null}}function ef(a,l,g){var y=l.pendingProps,k=Nn.current,D=!1,$=(l.flags&128)!==0,Z;if((Z=$)||(Z=a!==null&&a.memoizedState===null?!1:(k&2)!==0),Z?(D=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(k|=1),Sn(Nn,k&1),a===null)return vs(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=y.children,a=y.fallback,D?(y=l.mode,D=l.child,$={mode:"hidden",children:$},(y&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=$):D=vf($,y,0,null),a=Fl(a,y,g,null),D.return=l,a.return=l,D.sibling=a,l.child=D,l.child.memoizedState=pd(g),l.memoizedState=fd,a):Ku(l,$));if(k=a.memoizedState,k!==null&&(Z=k.dehydrated,Z!==null))return St(a,l,$,y,Z,k,g);if(D){D=y.fallback,$=l.mode,k=a.child,Z=k.sibling;var oe={mode:"hidden",children:y.children};return($&1)===0&&l.child!==k?(y=l.child,y.childLanes=0,y.pendingProps=oe,l.deletions=null):(y=Ti(k,oe),y.subtreeFlags=k.subtreeFlags&14680064),Z!==null?D=Ti(Z,D):(D=Fl(D,$,g,null),D.flags|=2),D.return=l,y.return=l,y.sibling=D,l.child=y,y=D,D=l.child,$=a.child.memoizedState,$=$===null?pd(g):{baseLanes:$.baseLanes|g,cachePool:null,transitions:$.transitions},D.memoizedState=$,D.childLanes=a.childLanes&~g,l.memoizedState=fd,y}return D=a.child,a=D.sibling,y=Ti(D,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=g),y.return=l,y.sibling=null,a!==null&&(g=l.deletions,g===null?(l.deletions=[a],l.flags|=16):g.push(a)),l.child=y,l.memoizedState=null,y}function Ku(a,l){return l=vf({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Fa(a,l,g,y){return y!==null&&ra(y),Bn(l,a.child,null,g),a=Ku(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function St(a,l,g,y,k,D,$){if(g)return l.flags&256?(l.flags&=-257,y=Jh(Error(t(422))),Fa(a,l,$,y)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(D=y.fallback,k=l.mode,y=vf({mode:"visible",children:y.children},k,0,null),D=Fl(D,k,$,null),D.flags|=2,y.return=l,D.return=l,y.sibling=D,l.child=y,(l.mode&1)!==0&&Bn(l,a.child,null,$),l.child.memoizedState=pd($),l.memoizedState=fd,D);if((l.mode&1)===0)return Fa(a,l,$,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var Z=y.dgst;return y=Z,D=Error(t(419)),y=Jh(D,y,void 0),Fa(a,l,$,y)}if(Z=($&a.childLanes)!==0,ts||Z){if(y=wr,y!==null){switch($&-$){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|$))!==0?0:k,k!==0&&k!==D.retryLane&&(D.retryLane=k,Ma(a,k),Pi(y,a,k,-1))}return Pg(),y=Jh(Error(t(421))),Fa(a,l,$,y)}return k.data==="$?"?(l.flags|=128,l.child=a.child,l=Wb.bind(null,a),k._reactRetry=l,null):(a=D.treeContext,Rs=mo(k.nextSibling),Fr=l,Cn=!0,Si=null,a!==null&&(Js[Xs++]=Zi,Js[Xs++]=ea,Js[Xs++]=Cl,Zi=a.id,ea=a.overflow,Cl=l),l=Ku(l,y.children),l.flags|=4096,l)}function gd(a,l,g){a.lanes|=l;var y=a.alternate;y!==null&&(y.lanes|=l),Or(a.return,l,g)}function md(a,l,g,y,k){var D=a.memoizedState;D===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:g,tailMode:k}:(D.isBackwards=l,D.rendering=null,D.renderingStartTime=0,D.last=y,D.tail=g,D.tailMode=k)}function ko(a,l,g){var y=l.pendingProps,k=y.revealOrder,D=y.tail;if(Pr(a,l,y.children,g),y=Nn.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&gd(a,g,l);else if(a.tag===19)gd(a,g,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(Sn(Nn,y),(l.mode&1)===0)l.memoizedState=null;else switch(k){case"forwards":for(g=l.child,k=null;g!==null;)a=g.alternate,a!==null&&Nl(a)===null&&(k=g),g=g.sibling;g=k,g===null?(k=l.child,l.child=null):(k=g.sibling,g.sibling=null),md(l,!1,k,g,D);break;case"backwards":for(g=null,k=l.child,l.child=null;k!==null;){if(a=k.alternate,a!==null&&Nl(a)===null){l.child=k;break}a=k.sibling,k.sibling=g,g=k,k=a}md(l,!0,g,null,D);break;case"together":md(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function tf(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function ki(a,l,g){if(a!==null&&(l.dependencies=a.dependencies),Co|=l.lanes,(g&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(t(153));if(l.child!==null){for(a=l.child,g=Ti(a,a.pendingProps),l.child=g,g.return=l;a.sibling!==null;)a=a.sibling,g=g.sibling=Ti(a,a.pendingProps),g.return=l;g.sibling=null}return l.child}function bv(a,l,g){switch(l.tag){case 3:yv(l),na();break;case 5:Yp(l);break;case 1:ms(l.type)&&Qs(l);break;case 4:Kp(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,k=l.memoizedProps.value;Sn(rd,y._currentValue),y._currentValue=k;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(Sn(Nn,Nn.current&1),l.flags|=128,null):(g&l.child.childLanes)!==0?ef(a,l,g):(Sn(Nn,Nn.current&1),a=ki(a,l,g),a!==null?a.sibling:null);Sn(Nn,Nn.current&1);break;case 19:if(y=(g&l.childLanes)!==0,(a.flags&128)!==0){if(y)return ko(a,l,g);l.flags|=128}if(k=l.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Sn(Nn,Nn.current),y)break;return null;case 22:case 23:return l.lanes=0,ug(a,l,g)}return ki(a,l,g)}var Tr,pg,wv,gg;Tr=function(a,l){for(var g=l.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break;for(;g.sibling===null;){if(g.return===null||g.return===l)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},pg=function(){},wv=function(a,l,g,y){var k=a.memoizedProps;if(k!==y){a=l.stateNode,$a(sa.current);var D=null;switch(g){case"input":k=Vn(a,k),y=Vn(a,y),D=[];break;case"select":k=De({},k,{value:void 0}),y=De({},y,{value:void 0}),D=[];break;case"textarea":k=qs(a,k),y=qs(a,y),D=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Ch)}al(g,y);var $;g=null;for(Pe in k)if(!y.hasOwnProperty(Pe)&&k.hasOwnProperty(Pe)&&k[Pe]!=null)if(Pe==="style"){var Z=k[Pe];for($ in Z)Z.hasOwnProperty($)&&(g||(g={}),g[$]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(s.hasOwnProperty(Pe)?D||(D=[]):(D=D||[]).push(Pe,null));for(Pe in y){var oe=y[Pe];if(Z=k?.[Pe],y.hasOwnProperty(Pe)&&oe!==Z&&(oe!=null||Z!=null))if(Pe==="style")if(Z){for($ in Z)!Z.hasOwnProperty($)||oe&&oe.hasOwnProperty($)||(g||(g={}),g[$]="");for($ in oe)oe.hasOwnProperty($)&&Z[$]!==oe[$]&&(g||(g={}),g[$]=oe[$])}else g||(D||(D=[]),D.push(Pe,g)),g=oe;else Pe==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,Z=Z?Z.__html:void 0,oe!=null&&Z!==oe&&(D=D||[]).push(Pe,oe)):Pe==="children"?typeof oe!="string"&&typeof oe!="number"||(D=D||[]).push(Pe,""+oe):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(s.hasOwnProperty(Pe)?(oe!=null&&Pe==="onScroll"&&kn("scroll",a),D||Z===oe||(D=[])):(D=D||[]).push(Pe,oe))}g&&(D=D||[]).push("style",g);var Pe=D;(l.updateQueue=Pe)&&(l.flags|=4)}},gg=function(a,l,g,y){g!==y&&(l.flags|=4)};function vd(a,l){if(!Cn)switch(a.tailMode){case"hidden":l=a.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Dr(a){var l=a.alternate!==null&&a.alternate.child===a.child,g=0,y=0;if(l)for(var k=a.child;k!==null;)g|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)g|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=y,a.childLanes=g,l}function Ib(a,l,g){var y=l.pendingProps;switch(Pl(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(l),null;case 1:return ms(l.type)&&Dh(),Dr(l),null;case 3:return y=l.stateNode,So(),En(gs),En(Lr),Bh(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(td(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Si!==null&&(Eg(Si),Si=null))),pg(a,l),Dr(l),null;case 5:Fh(l);var k=$a(Lu.current);if(g=l.type,a!==null&&l.stateNode!=null)wv(a,l,g,y,k),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(t(166));return Dr(l),null}if(a=$a(sa.current),td(l)){y=l.stateNode,g=l.type;var D=l.memoizedProps;switch(y[Ji]=l,y[vo]=D,a=(l.mode&1)!==0,g){case"dialog":kn("cancel",y),kn("close",y);break;case"iframe":case"object":case"embed":kn("load",y);break;case"video":case"audio":for(k=0;k<Na.length;k++)kn(Na[k],y);break;case"source":kn("error",y);break;case"img":case"image":case"link":kn("error",y),kn("load",y);break;case"details":kn("toggle",y);break;case"input":mi(y,D),kn("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!D.multiple},kn("invalid",y);break;case"textarea":Bi(y,D),kn("invalid",y)}al(g,D),k=null;for(var $ in D)if(D.hasOwnProperty($)){var Z=D[$];$==="children"?typeof Z=="string"?y.textContent!==Z&&(D.suppressHydrationWarning!==!0&&Qc(y.textContent,Z,a),k=["children",Z]):typeof Z=="number"&&y.textContent!==""+Z&&(D.suppressHydrationWarning!==!0&&Qc(y.textContent,Z,a),k=["children",""+Z]):s.hasOwnProperty($)&&Z!=null&&$==="onScroll"&&kn("scroll",y)}switch(g){case"input":Dn(y),nl(y,D,!0);break;case"textarea":Dn(y),vi(y);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(y.onclick=Ch)}y=k,l.updateQueue=y,y!==null&&(l.flags|=4)}else{$=k.nodeType===9?k:k.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ln(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=$.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=$.createElement(g,{is:y.is}):(a=$.createElement(g),g==="select"&&($=a,y.multiple?$.multiple=!0:y.size&&($.size=y.size))):a=$.createElementNS(a,g),a[Ji]=l,a[vo]=y,Tr(a,l,!1,!1),l.stateNode=a;e:{switch($=ol(g,y),g){case"dialog":kn("cancel",a),kn("close",a),k=y;break;case"iframe":case"object":case"embed":kn("load",a),k=y;break;case"video":case"audio":for(k=0;k<Na.length;k++)kn(Na[k],a);k=y;break;case"source":kn("error",a),k=y;break;case"img":case"image":case"link":kn("error",a),kn("load",a),k=y;break;case"details":kn("toggle",a),k=y;break;case"input":mi(a,y),k=Vn(a,y),kn("invalid",a);break;case"option":k=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},k=De({},y,{value:void 0}),kn("invalid",a);break;case"textarea":Bi(a,y),k=qs(a,y),kn("invalid",a);break;default:k=y}al(g,k),Z=k;for(D in Z)if(Z.hasOwnProperty(D)){var oe=Z[D];D==="style"?il(a,oe):D==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&Gr(a,oe)):D==="children"?typeof oe=="string"?(g!=="textarea"||oe!=="")&&yt(a,oe):typeof oe=="number"&&yt(a,""+oe):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(s.hasOwnProperty(D)?oe!=null&&D==="onScroll"&&kn("scroll",a):oe!=null&&W(a,D,oe,$))}switch(g){case"input":Dn(a),nl(a,y,!1);break;case"textarea":Dn(a),vi(a);break;case"option":y.value!=null&&a.setAttribute("value",""+pt(y.value));break;case"select":a.multiple=!!y.multiple,D=y.value,D!=null?mn(a,!!y.multiple,D,!1):y.defaultValue!=null&&mn(a,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(a.onclick=Ch)}switch(g){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Dr(l),null;case 6:if(a&&l.stateNode!=null)gg(a,l,a.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(t(166));if(g=$a(Lu.current),$a(sa.current),td(l)){if(y=l.stateNode,g=l.memoizedProps,y[Ji]=l,(D=y.nodeValue!==g)&&(a=Fr,a!==null))switch(a.tag){case 3:Qc(y.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Qc(y.nodeValue,g,(a.mode&1)!==0)}D&&(l.flags|=4)}else y=(g.nodeType===9?g:g.ownerDocument).createTextNode(y),y[Ji]=l,l.stateNode=y}return Dr(l),null;case 13:if(En(Nn),y=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Cn&&Rs!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Wp(),na(),l.flags|=98560,D=!1;else if(D=td(l),y!==null&&y.dehydrated!==null){if(a===null){if(!D)throw Error(t(318));if(D=l.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(t(317));D[Ji]=l}else na(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dr(l),D=!1}else Si!==null&&(Eg(Si),Si=null),D=!0;if(!D)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=g,l):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Nn.current&1)!==0?ur===0&&(ur=3):Pg())),l.updateQueue!==null&&(l.flags|=4),Dr(l),null);case 4:return So(),pg(a,l),a===null&&po(l.stateNode.containerInfo),Dr(l),null;case 10:return jh(l.type._context),Dr(l),null;case 17:return ms(l.type)&&Dh(),Dr(l),null;case 19:if(En(Nn),D=l.memoizedState,D===null)return Dr(l),null;if(y=(l.flags&128)!==0,$=D.rendering,$===null)if(y)vd(D,!1);else{if(ur!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if($=Nl(a),$!==null){for(l.flags|=128,vd(D,!1),y=$.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=g,g=l.child;g!==null;)D=g,a=y,D.flags&=14680066,$=D.alternate,$===null?(D.childLanes=0,D.lanes=a,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=$.childLanes,D.lanes=$.lanes,D.child=$.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=$.memoizedProps,D.memoizedState=$.memoizedState,D.updateQueue=$.updateQueue,D.type=$.type,a=$.dependencies,D.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return Sn(Nn,Nn.current&1|2),l.child}a=a.sibling}D.tail!==null&&sn()>jl&&(l.flags|=128,y=!0,vd(D,!1),l.lanes=4194304)}else{if(!y)if(a=Nl($),a!==null){if(l.flags|=128,y=!0,g=a.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),vd(D,!0),D.tail===null&&D.tailMode==="hidden"&&!$.alternate&&!Cn)return Dr(l),null}else 2*sn()-D.renderingStartTime>jl&&g!==1073741824&&(l.flags|=128,y=!0,vd(D,!1),l.lanes=4194304);D.isBackwards?($.sibling=l.child,l.child=$):(g=D.last,g!==null?g.sibling=$:l.child=$,D.last=$)}return D.tail!==null?(l=D.tail,D.rendering=l,D.tail=l.sibling,D.renderingStartTime=sn(),l.sibling=null,g=Nn.current,Sn(Nn,y?g&1|2:g&1),l):(Dr(l),null);case 22:case 23:return Og(),y=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(js&1073741824)!==0&&(Dr(l),l.subtreeFlags&6&&(l.flags|=8192)):Dr(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function Mb(a,l){switch(Pl(l),l.tag){case 1:return ms(l.type)&&Dh(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return So(),En(gs),En(Lr),Bh(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Fh(l),null;case 13:if(En(Nn),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(t(340));na()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return En(Nn),null;case 4:return So(),null;case 10:return jh(l.type._context),null;case 22:case 23:return Og(),null;case 24:return null;default:return null}}var nf=!1,An=!1,ns=typeof WeakSet=="function"?WeakSet:Set,st=null;function Yu(a,l){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(y){Ln(a,l,y)}else g.current=null}function yd(a,l,g){try{g()}catch(y){Ln(a,l,y)}}var _v=!1;function jb(a,l){if(Jc=wu,a=hn(),qc(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var y=g.getSelection&&g.getSelection();if(y&&y.rangeCount!==0){g=y.anchorNode;var k=y.anchorOffset,D=y.focusNode;y=y.focusOffset;try{g.nodeType,D.nodeType}catch{g=null;break e}var $=0,Z=-1,oe=-1,Pe=0,Be=0,qe=a,Fe=null;t:for(;;){for(var et;qe!==g||k!==0&&qe.nodeType!==3||(Z=$+k),qe!==D||y!==0&&qe.nodeType!==3||(oe=$+y),qe.nodeType===3&&($+=qe.nodeValue.length),(et=qe.firstChild)!==null;)Fe=qe,qe=et;for(;;){if(qe===a)break t;if(Fe===g&&++Pe===k&&(Z=$),Fe===D&&++Be===y&&(oe=$),(et=qe.nextSibling)!==null)break;qe=Fe,Fe=qe.parentNode}qe=et}g=Z===-1||oe===-1?null:{start:Z,end:oe}}else g=null}g=g||{start:0,end:0}}else g=null;for(kl={focusedElem:a,selectionRange:g},wu=!1,st=l;st!==null;)if(l=st,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,st=a;else for(;st!==null;){l=st;try{var ot=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var lt=ot.memoizedProps,qn=ot.memoizedState,we=l.stateNode,fe=we.getSnapshotBeforeUpdate(l.elementType===l.type?lt:ri(l.type,lt),qn);we.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var xe=l.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ke){Ln(l,l.return,Ke)}if(a=l.sibling,a!==null){a.return=l.return,st=a;break}st=l.return}return ot=_v,_v=!1,ot}function Ba(a,l,g){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&a)===a){var D=k.destroy;k.destroy=void 0,D!==void 0&&yd(l,g,D)}k=k.next}while(k!==y)}}function bd(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&a)===a){var y=g.create;g.destroy=y()}g=g.next}while(g!==l)}}function rf(a){var l=a.ref;if(l!==null){var g=a.stateNode;a.tag,a=g,typeof l=="function"?l(a):l.current=a}}function Sv(a){var l=a.alternate;l!==null&&(a.alternate=null,Sv(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ji],delete l[vo],delete l[Ph],delete l[B],delete l[Au])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function xv(a){return a.tag===5||a.tag===3||a.tag===4}function kv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function mg(a,l,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?g.nodeType===8?g.parentNode.insertBefore(a,l):g.insertBefore(a,l):(g.nodeType===8?(l=g.parentNode,l.insertBefore(a,g)):(l=g,l.appendChild(a)),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=Ch));else if(y!==4&&(a=a.child,a!==null))for(mg(a,l,g),a=a.sibling;a!==null;)mg(a,l,g),a=a.sibling}function sf(a,l,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?g.insertBefore(a,l):g.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(sf(a,l,g),a=a.sibling;a!==null;)sf(a,l,g),a=a.sibling}var br=null,Ei=!1;function ua(a,l,g){for(g=g.child;g!==null;)vg(a,l,g),g=g.sibling}function vg(a,l,g){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(Cs,g)}catch{}switch(g.tag){case 5:An||Yu(g,l);case 6:var y=br,k=Ei;br=null,ua(a,l,g),br=y,Ei=k,br!==null&&(Ei?(a=br,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):br.removeChild(g.stateNode));break;case 18:br!==null&&(Ei?(a=br,g=g.stateNode,a.nodeType===8?Up(a.parentNode,g):a.nodeType===1&&Up(a,g),Zt(a)):Up(br,g.stateNode));break;case 4:y=br,k=Ei,br=g.stateNode.containerInfo,Ei=!0,ua(a,l,g),br=y,Ei=k;break;case 0:case 11:case 14:case 15:if(!An&&(y=g.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var D=k,$=D.destroy;D=D.tag,$!==void 0&&((D&2)!==0||(D&4)!==0)&&yd(g,l,$),k=k.next}while(k!==y)}ua(a,l,g);break;case 1:if(!An&&(Yu(g,l),y=g.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=g.memoizedProps,y.state=g.memoizedState,y.componentWillUnmount()}catch(Z){Ln(g,l,Z)}ua(a,l,g);break;case 21:ua(a,l,g);break;case 22:g.mode&1?(An=(y=An)||g.memoizedState!==null,ua(a,l,g),An=y):ua(a,l,g);break;default:ua(a,l,g)}}function Gu(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new ns),l.forEach(function(y){var k=Hb.bind(null,a,y);g.has(y)||(g.add(y),y.then(k,k))})}}function Ms(a,l){var g=l.deletions;if(g!==null)for(var y=0;y<g.length;y++){var k=g[y];try{var D=a,$=l,Z=$;e:for(;Z!==null;){switch(Z.tag){case 5:br=Z.stateNode,Ei=!1;break e;case 3:br=Z.stateNode.containerInfo,Ei=!0;break e;case 4:br=Z.stateNode.containerInfo,Ei=!0;break e}Z=Z.return}if(br===null)throw Error(t(160));vg(D,$,k),br=null,Ei=!1;var oe=k.alternate;oe!==null&&(oe.return=null),k.return=null}catch(Pe){Ln(k,l,Pe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)yg(l,a),l=l.sibling}function yg(a,l){var g=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ms(l,a),Ci(a),y&4){try{Ba(3,a,a.return),bd(3,a)}catch(lt){Ln(a,a.return,lt)}try{Ba(5,a,a.return)}catch(lt){Ln(a,a.return,lt)}}break;case 1:Ms(l,a),Ci(a),y&512&&g!==null&&Yu(g,g.return);break;case 5:if(Ms(l,a),Ci(a),y&512&&g!==null&&Yu(g,g.return),a.flags&32){var k=a.stateNode;try{yt(k,"")}catch(lt){Ln(a,a.return,lt)}}if(y&4&&(k=a.stateNode,k!=null)){var D=a.memoizedProps,$=g!==null?g.memoizedProps:D,Z=a.type,oe=a.updateQueue;if(a.updateQueue=null,oe!==null)try{Z==="input"&&D.type==="radio"&&D.name!=null&&tl(k,D),ol(Z,$);var Pe=ol(Z,D);for($=0;$<oe.length;$+=2){var Be=oe[$],qe=oe[$+1];Be==="style"?il(k,qe):Be==="dangerouslySetInnerHTML"?Gr(k,qe):Be==="children"?yt(k,qe):W(k,Be,qe,Pe)}switch(Z){case"input":Rr(k,D);break;case"textarea":to(k,D);break;case"select":var Fe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!D.multiple;var et=D.value;et!=null?mn(k,!!D.multiple,et,!1):Fe!==!!D.multiple&&(D.defaultValue!=null?mn(k,!!D.multiple,D.defaultValue,!0):mn(k,!!D.multiple,D.multiple?[]:"",!1))}k[vo]=D}catch(lt){Ln(a,a.return,lt)}}break;case 6:if(Ms(l,a),Ci(a),y&4){if(a.stateNode===null)throw Error(t(162));k=a.stateNode,D=a.memoizedProps;try{k.nodeValue=D}catch(lt){Ln(a,a.return,lt)}}break;case 3:if(Ms(l,a),Ci(a),y&4&&g!==null&&g.memoizedState.isDehydrated)try{Zt(l.containerInfo)}catch(lt){Ln(a,a.return,lt)}break;case 4:Ms(l,a),Ci(a);break;case 13:Ms(l,a),Ci(a),k=a.child,k.flags&8192&&(D=k.memoizedState!==null,k.stateNode.isHidden=D,!D||k.alternate!==null&&k.alternate.memoizedState!==null||(_g=sn())),y&4&&Gu(a);break;case 22:if(Be=g!==null&&g.memoizedState!==null,a.mode&1?(An=(Pe=An)||Be,Ms(l,a),An=Pe):Ms(l,a),Ci(a),y&8192){if(Pe=a.memoizedState!==null,(a.stateNode.isHidden=Pe)&&!Be&&(a.mode&1)!==0)for(st=a,Be=a.child;Be!==null;){for(qe=st=Be;st!==null;){switch(Fe=st,et=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Ba(4,Fe,Fe.return);break;case 1:Yu(Fe,Fe.return);var ot=Fe.stateNode;if(typeof ot.componentWillUnmount=="function"){y=Fe,g=Fe.return;try{l=y,ot.props=l.memoizedProps,ot.state=l.memoizedState,ot.componentWillUnmount()}catch(lt){Ln(y,g,lt)}}break;case 5:Yu(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){Eo(qe);continue}}et!==null?(et.return=Fe,st=et):Eo(qe)}Be=Be.sibling}e:for(Be=null,qe=a;;){if(qe.tag===5){if(Be===null){Be=qe;try{k=qe.stateNode,Pe?(D=k.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(Z=qe.stateNode,oe=qe.memoizedProps.style,$=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,Z.style.display=sl("display",$))}catch(lt){Ln(a,a.return,lt)}}}else if(qe.tag===6){if(Be===null)try{qe.stateNode.nodeValue=Pe?"":qe.memoizedProps}catch(lt){Ln(a,a.return,lt)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===a)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===a)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===a)break e;Be===qe&&(Be=null),qe=qe.return}Be===qe&&(Be=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Ms(l,a),Ci(a),y&4&&Gu(a);break;case 21:break;default:Ms(l,a),Ci(a)}}function Ci(a){var l=a.flags;if(l&2){try{e:{for(var g=a.return;g!==null;){if(xv(g)){var y=g;break e}g=g.return}throw Error(t(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(yt(k,""),y.flags&=-33);var D=kv(a);sf(a,D,k);break;case 3:case 4:var $=y.stateNode.containerInfo,Z=kv(a);mg(a,Z,$);break;default:throw Error(t(161))}}catch(oe){Ln(a,a.return,oe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function af(a,l,g){st=a,bg(a)}function bg(a,l,g){for(var y=(a.mode&1)!==0;st!==null;){var k=st,D=k.child;if(k.tag===22&&y){var $=k.memoizedState!==null||nf;if(!$){var Z=k.alternate,oe=Z!==null&&Z.memoizedState!==null||An;Z=nf;var Pe=An;if(nf=$,(An=oe)&&!Pe)for(st=k;st!==null;)$=st,oe=$.child,$.tag===22&&$.memoizedState!==null?Ev(k):oe!==null?(oe.return=$,st=oe):Ev(k);for(;D!==null;)st=D,bg(D),D=D.sibling;st=k,nf=Z,An=Pe}Oi(a)}else(k.subtreeFlags&8772)!==0&&D!==null?(D.return=k,st=D):Oi(a)}}function Oi(a){for(;st!==null;){var l=st;if((l.flags&8772)!==0){var g=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:An||bd(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!An)if(g===null)y.componentDidMount();else{var k=l.elementType===l.type?g.memoizedProps:ri(l.type,g.memoizedProps);y.componentDidUpdate(k,g.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var D=l.updateQueue;D!==null&&zp(l,D,y);break;case 3:var $=l.updateQueue;if($!==null){if(g=null,l.child!==null)switch(l.child.tag){case 5:g=l.child.stateNode;break;case 1:g=l.child.stateNode}zp(l,$,g)}break;case 5:var Z=l.stateNode;if(g===null&&l.flags&4){g=Z;var oe=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&g.focus();break;case"img":oe.src&&(g.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Pe=l.alternate;if(Pe!==null){var Be=Pe.memoizedState;if(Be!==null){var qe=Be.dehydrated;qe!==null&&Zt(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||l.flags&512&&rf(l)}catch(Fe){Ln(l,l.return,Fe)}}if(l===a){st=null;break}if(g=l.sibling,g!==null){g.return=l.return,st=g;break}st=l.return}}function Eo(a){for(;st!==null;){var l=st;if(l===a){st=null;break}var g=l.sibling;if(g!==null){g.return=l.return,st=g;break}st=l.return}}function Ev(a){for(;st!==null;){var l=st;try{switch(l.tag){case 0:case 11:case 15:var g=l.return;try{bd(4,l)}catch(oe){Ln(l,g,oe)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var k=l.return;try{y.componentDidMount()}catch(oe){Ln(l,k,oe)}}var D=l.return;try{rf(l)}catch(oe){Ln(l,D,oe)}break;case 5:var $=l.return;try{rf(l)}catch(oe){Ln(l,$,oe)}}}catch(oe){Ln(l,l.return,oe)}if(l===a){st=null;break}var Z=l.sibling;if(Z!==null){Z.return=l.return,st=Z;break}st=l.return}}var Cv=Math.ceil,of=Q.ReactCurrentDispatcher,wg=Q.ReactCurrentOwner,si=Q.ReactCurrentBatchConfig,Jt=0,wr=null,er=null,Nr=0,js=0,Vu=ps(0),ur=0,wd=null,Co=0,_d=0,lf=0,Sd=null,bs=null,_g=0,jl=1/0,Wa=null,uf=!1,Sg=null,Oo=null,cf=!1,Po=null,rs=0,xd=0,xg=null,df=-1,kd=0;function ss(){return(Jt&6)!==0?sn():df!==-1?df:df=sn()}function To(a){return(a.mode&1)===0?1:(Jt&2)!==0&&Nr!==0?Nr&-Nr:iv.transition!==null?(kd===0&&(kd=kr()),kd):(a=Vt,a!==0||(a=window.event,a=a===void 0?16:gh(a.type)),a)}function Pi(a,l,g,y){if(50<xd)throw xd=0,xg=null,Error(t(185));pl(a,g,y),((Jt&2)===0||a!==wr)&&(a===wr&&((Jt&2)===0&&(_d|=g),ur===4&&Do(a,Nr)),ws(a,y),g===1&&Jt===0&&(l.mode&1)===0&&(jl=sn()+500,Nh&&bo()))}function ws(a,l){var g=a.callbackNode;xa(a,l);var y=hs(a,a===wr?Nr:0);if(y===0)g!==null&&yi(g),a.callbackNode=null,a.callbackPriority=0;else if(l=y&-y,a.callbackPriority!==l){if(g!=null&&yi(g),l===1)a.tag===0?El(Ov.bind(null,a)):nv(Ov.bind(null,a)),Oh(function(){(Jt&6)===0&&bo()}),g=null;else{switch(ka(y)){case 1:g=hl;break;case 4:g=vu;break;case 16:g=ao;break;case 536870912:g=us;break;default:g=ao}g=Iv(g,hf.bind(null,a))}a.callbackPriority=l,a.callbackNode=g}}function hf(a,l){if(df=-1,kd=0,(Jt&6)!==0)throw Error(t(327));var g=a.callbackNode;if(Qu()&&a.callbackNode!==g)return null;var y=hs(a,a===wr?Nr:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||l)l=ff(a,y);else{l=y;var k=Jt;Jt|=2;var D=Tv();(wr!==a||Nr!==l)&&(Wa=null,jl=sn()+500,Ll(a,l));do try{Ub();break}catch(Z){Pv(a,Z)}while(!0);Ia(),of.current=D,Jt=k,er!==null?l=0:(wr=null,Nr=0,l=ur)}if(l!==0){if(l===2&&(k=wi(a),k!==0&&(y=k,l=kg(a,k))),l===1)throw g=wd,Ll(a,0),Do(a,y),ws(a,sn()),g;if(l===6)Do(a,y);else{if(k=a.current.alternate,(y&30)===0&&!$b(k)&&(l=ff(a,y),l===2&&(D=wi(a),D!==0&&(y=D,l=kg(a,D))),l===1))throw g=wd,Ll(a,0),Do(a,y),ws(a,sn()),g;switch(a.finishedWork=k,a.finishedLanes=y,l){case 0:case 1:throw Error(t(345));case 2:Ul(a,bs,Wa);break;case 3:if(Do(a,y),(y&130023424)===y&&(l=_g+500-sn(),10<l)){if(hs(a,0)!==0)break;if(k=a.suspendedLanes,(k&y)!==y){ss(),a.pingedLanes|=a.suspendedLanes&k;break}a.timeoutHandle=go(Ul.bind(null,a,bs,Wa),l);break}Ul(a,bs,Wa);break;case 4:if(Do(a,y),(y&4194240)===y)break;for(l=a.eventTimes,k=-1;0<y;){var $=31-cs(y);D=1<<$,$=l[$],$>k&&(k=$),y&=~D}if(y=k,y=sn()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*Cv(y/1960))-y,10<y){a.timeoutHandle=go(Ul.bind(null,a,bs,Wa),y);break}Ul(a,bs,Wa);break;case 5:Ul(a,bs,Wa);break;default:throw Error(t(329))}}}return ws(a,sn()),a.callbackNode===g?hf.bind(null,a):null}function kg(a,l){var g=Sd;return a.current.memoizedState.isDehydrated&&(Ll(a,l).flags|=256),a=ff(a,l),a!==2&&(l=bs,bs=g,l!==null&&Eg(l)),a}function Eg(a){bs===null?bs=a:bs.push.apply(bs,a)}function $b(a){for(var l=a;;){if(l.flags&16384){var g=l.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var y=0;y<g.length;y++){var k=g[y],D=k.getSnapshot;k=k.value;try{if(!Se(D(),k))return!1}catch{return!1}}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Do(a,l){for(l&=~lf,l&=~_d,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var g=31-cs(l),y=1<<g;a[g]=-1,l&=~y}}function Ov(a){if((Jt&6)!==0)throw Error(t(327));Qu();var l=hs(a,0);if((l&1)===0)return ws(a,sn()),null;var g=ff(a,l);if(a.tag!==0&&g===2){var y=wi(a);y!==0&&(l=y,g=kg(a,y))}if(g===1)throw g=wd,Ll(a,0),Do(a,l),ws(a,sn()),g;if(g===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Ul(a,bs,Wa),ws(a,sn()),null}function Cg(a,l){var g=Jt;Jt|=1;try{return a(l)}finally{Jt=g,Jt===0&&(jl=sn()+500,Nh&&bo())}}function $l(a){Po!==null&&Po.tag===0&&(Jt&6)===0&&Qu();var l=Jt;Jt|=1;var g=si.transition,y=Vt;try{if(si.transition=null,Vt=1,a)return a()}finally{Vt=y,si.transition=g,Jt=l,(Jt&6)===0&&bo()}}function Og(){js=Vu.current,En(Vu)}function Ll(a,l){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,Zc(g)),er!==null)for(g=er.return;g!==null;){var y=g;switch(Pl(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Dh();break;case 3:So(),En(gs),En(Lr),Bh();break;case 5:Fh(y);break;case 4:So();break;case 13:En(Nn);break;case 19:En(Nn);break;case 10:jh(y.type._context);break;case 22:case 23:Og()}g=g.return}if(wr=a,er=a=Ti(a.current,null),Nr=js=l,ur=0,wd=null,lf=_d=Co=0,bs=Sd=null,Dl!==null){for(l=0;l<Dl.length;l++)if(g=Dl[l],y=g.interleaved,y!==null){g.interleaved=null;var k=y.next,D=g.pending;if(D!==null){var $=D.next;D.next=k,y.next=$}g.pending=y}Dl=null}return a}function Pv(a,l){do{var g=er;try{if(Ia(),ad.current=Yh,Uu){for(var y=$n.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}Uu=!1}if(xo=0,lr=Hn=$n=null,od=!1,Al=0,wg.current=null,g===null||g.return===null){ur=1,wd=l,er=null;break}e:{var D=a,$=g.return,Z=g,oe=l;if(l=Nr,Z.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Pe=oe,Be=Z,qe=Be.tag;if((Be.mode&1)===0&&(qe===0||qe===11||qe===15)){var Fe=Be.alternate;Fe?(Be.updateQueue=Fe.updateQueue,Be.memoizedState=Fe.memoizedState,Be.lanes=Fe.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var et=mv($);if(et!==null){et.flags&=-257,og(et,$,Z,D,l),et.mode&1&&hd(D,Pe,l),l=et,oe=Pe;var ot=l.updateQueue;if(ot===null){var lt=new Set;lt.add(oe),l.updateQueue=lt}else ot.add(oe);break e}else{if((l&1)===0){hd(D,Pe,l),Pg();break e}oe=Error(t(426))}}else if(Cn&&Z.mode&1){var qn=mv($);if(qn!==null){(qn.flags&65536)===0&&(qn.flags|=256),og(qn,$,Z,D,l),ra(Ml(oe,Z));break e}}D=oe=Ml(oe,Z),ur!==4&&(ur=2),Sd===null?Sd=[D]:Sd.push(D),D=$;do{switch(D.tag){case 3:D.flags|=65536,l&=-l,D.lanes|=l;var we=dd(D,oe,l);lv(D,we);break e;case 1:Z=oe;var fe=D.type,xe=D.stateNode;if((D.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Oo===null||!Oo.has(xe)))){D.flags|=65536,l&=-l,D.lanes|=l;var Ke=Xh(D,Z,l);lv(D,Ke);break e}}D=D.return}while(D!==null)}Nv(g)}catch(dt){l=dt,er===g&&g!==null&&(er=g=g.return);continue}break}while(!0)}function Tv(){var a=of.current;return of.current=Yh,a===null?Yh:a}function Pg(){(ur===0||ur===3||ur===2)&&(ur=4),wr===null||(Co&268435455)===0&&(_d&268435455)===0||Do(wr,Nr)}function ff(a,l){var g=Jt;Jt|=2;var y=Tv();(wr!==a||Nr!==l)&&(Wa=null,Ll(a,l));do try{Lb();break}catch(k){Pv(a,k)}while(!0);if(Ia(),Jt=g,of.current=y,er!==null)throw Error(t(261));return wr=null,Nr=0,ur}function Lb(){for(;er!==null;)Dv(er)}function Ub(){for(;er!==null&&!bi();)Dv(er)}function Dv(a){var l=Rv(a.alternate,a,js);a.memoizedProps=a.pendingProps,l===null?Nv(a):er=l,wg.current=null}function Nv(a){var l=a;do{var g=l.alternate;if(a=l.return,(l.flags&32768)===0){if(g=Ib(g,l,js),g!==null){er=g;return}}else{if(g=Mb(g,l),g!==null){g.flags&=32767,er=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ur=6,er=null;return}}if(l=l.sibling,l!==null){er=l;return}er=l=a}while(l!==null);ur===0&&(ur=5)}function Ul(a,l,g){var y=Vt,k=si.transition;try{si.transition=null,Vt=1,Fb(a,l,g,y)}finally{si.transition=k,Vt=y}return null}function Fb(a,l,g,y){do Qu();while(Po!==null);if((Jt&6)!==0)throw Error(t(327));g=a.finishedWork;var k=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var D=g.lanes|g.childLanes;if(hh(a,D),a===wr&&(er=wr=null,Nr=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||cf||(cf=!0,Iv(ao,function(){return Qu(),null})),D=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||D){D=si.transition,si.transition=null;var $=Vt;Vt=1;var Z=Jt;Jt|=4,wg.current=null,jb(a,g),yg(g,a),Db(kl),wu=!!Jc,kl=Jc=null,a.current=g,af(g),Jn(),Jt=Z,Vt=$,si.transition=D}else a.current=g;if(cf&&(cf=!1,Po=a,rs=k),D=a.pendingLanes,D===0&&(Oo=null),dh(g.stateNode),ws(a,sn()),l!==null)for(y=a.onRecoverableError,g=0;g<l.length;g++)k=l[g],y(k.value,{componentStack:k.stack,digest:k.digest});if(uf)throw uf=!1,a=Sg,Sg=null,a;return(rs&1)!==0&&a.tag!==0&&Qu(),D=a.pendingLanes,(D&1)!==0?a===xg?xd++:(xd=0,xg=a):xd=0,bo(),null}function Qu(){if(Po!==null){var a=ka(rs),l=si.transition,g=Vt;try{if(si.transition=null,Vt=16>a?16:a,Po===null)var y=!1;else{if(a=Po,Po=null,rs=0,(Jt&6)!==0)throw Error(t(331));var k=Jt;for(Jt|=4,st=a.current;st!==null;){var D=st,$=D.child;if((st.flags&16)!==0){var Z=D.deletions;if(Z!==null){for(var oe=0;oe<Z.length;oe++){var Pe=Z[oe];for(st=Pe;st!==null;){var Be=st;switch(Be.tag){case 0:case 11:case 15:Ba(8,Be,D)}var qe=Be.child;if(qe!==null)qe.return=Be,st=qe;else for(;st!==null;){Be=st;var Fe=Be.sibling,et=Be.return;if(Sv(Be),Be===Pe){st=null;break}if(Fe!==null){Fe.return=et,st=Fe;break}st=et}}}var ot=D.alternate;if(ot!==null){var lt=ot.child;if(lt!==null){ot.child=null;do{var qn=lt.sibling;lt.sibling=null,lt=qn}while(lt!==null)}}st=D}}if((D.subtreeFlags&2064)!==0&&$!==null)$.return=D,st=$;else e:for(;st!==null;){if(D=st,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Ba(9,D,D.return)}var we=D.sibling;if(we!==null){we.return=D.return,st=we;break e}st=D.return}}var fe=a.current;for(st=fe;st!==null;){$=st;var xe=$.child;if(($.subtreeFlags&2064)!==0&&xe!==null)xe.return=$,st=xe;else e:for($=fe;st!==null;){if(Z=st,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:bd(9,Z)}}catch(dt){Ln(Z,Z.return,dt)}if(Z===$){st=null;break e}var Ke=Z.sibling;if(Ke!==null){Ke.return=Z.return,st=Ke;break e}st=Z.return}}if(Jt=k,bo(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(Cs,a)}catch{}y=!0}return y}finally{Vt=g,si.transition=l}}return!1}function pf(a,l,g){l=Ml(g,l),l=dd(a,l,1),a=ti(a,l,1),l=ss(),a!==null&&(pl(a,1,l),ws(a,l))}function Ln(a,l,g){if(a.tag===3)pf(a,a,g);else for(;l!==null;){if(l.tag===3){pf(l,a,g);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Oo===null||!Oo.has(y))){a=Ml(g,a),a=Xh(l,a,1),l=ti(l,a,1),a=ss(),l!==null&&(pl(l,1,a),ws(l,a));break}}l=l.return}}function Bb(a,l,g){var y=a.pingCache;y!==null&&y.delete(l),l=ss(),a.pingedLanes|=a.suspendedLanes&g,wr===a&&(Nr&g)===g&&(ur===4||ur===3&&(Nr&130023424)===Nr&&500>sn()-_g?Ll(a,0):lf|=g),ws(a,l)}function Av(a,l){l===0&&((a.mode&1)===0?l=1:(l=cn,cn<<=1,(cn&130023424)===0&&(cn=4194304)));var g=ss();a=Ma(a,l),a!==null&&(pl(a,l,g),ws(a,g))}function Wb(a){var l=a.memoizedState,g=0;l!==null&&(g=l.retryLane),Av(a,g)}function Hb(a,l){var g=0;switch(a.tag){case 13:var y=a.stateNode,k=a.memoizedState;k!==null&&(g=k.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(l),Av(a,g)}var Rv;Rv=function(a,l,g){if(a!==null)if(a.memoizedProps!==l.pendingProps||gs.current)ts=!0;else{if((a.lanes&g)===0&&(l.flags&128)===0)return ts=!1,bv(a,l,g);ts=(a.flags&131072)!==0}else ts=!1,Cn&&(l.flags&1048576)!==0&&rv(l,Rh,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;tf(a,l),a=l.pendingProps;var k=Iu(l,Lr.current);_o(l,g),k=Rl(null,l,y,a,k,g);var D=Wh();return l.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ms(y)?(D=!0,Qs(l)):D=!1,l.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Lh(l),k.updater=Qh,l.stateNode=k,k._reactInternals=l,ag(l,y,a,g),l=fg(null,l,y,!0,D,g)):(l.tag=0,Cn&&D&&ed(l),Pr(null,l,k,g),l=l.child),l;case 16:y=l.elementType;e:{switch(tf(a,l),a=l.pendingProps,k=y._init,y=k(y._payload),l.type=y,k=l.tag=zb(y),a=ri(y,a),k){case 0:l=dg(null,l,y,a,g);break e;case 1:l=hg(null,l,y,a,g);break e;case 11:l=vv(null,l,y,a,g);break e;case 14:l=lg(null,l,y,ri(y.type,a),g);break e}throw Error(t(306,y,""))}return l;case 0:return y=l.type,k=l.pendingProps,k=l.elementType===y?k:ri(y,k),dg(a,l,y,k,g);case 1:return y=l.type,k=l.pendingProps,k=l.elementType===y?k:ri(y,k),hg(a,l,y,k,g);case 3:e:{if(yv(l),a===null)throw Error(t(387));y=l.pendingProps,D=l.memoizedState,k=D.element,ov(a,l),$u(l,y,null,g);var $=l.memoizedState;if(y=$.element,D.isDehydrated)if(D={element:y,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=D,l.memoizedState=D,l.flags&256){k=Ml(Error(t(423)),l),l=la(a,l,y,g,k);break e}else if(y!==k){k=Ml(Error(t(424)),l),l=la(a,l,y,g,k);break e}else for(Rs=mo(l.stateNode.containerInfo.firstChild),Fr=l,Cn=!0,Si=null,g=Mh(l,null,y,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(na(),y===k){l=ki(a,l,g);break e}Pr(a,l,y,g)}l=l.child}return l;case 5:return Yp(l),a===null&&vs(l),y=l.type,k=l.pendingProps,D=a!==null?a.memoizedProps:null,$=k.children,Xc(y,k)?$=null:D!==null&&Xc(y,D)&&(l.flags|=32),cg(a,l),Pr(a,l,$,g),l.child;case 6:return a===null&&vs(l),null;case 13:return ef(a,l,g);case 4:return Kp(l,l.stateNode.containerInfo),y=l.pendingProps,a===null?l.child=Bn(l,null,y,g):Pr(a,l,y,g),l.child;case 11:return y=l.type,k=l.pendingProps,k=l.elementType===y?k:ri(y,k),vv(a,l,y,k,g);case 7:return Pr(a,l,l.pendingProps,g),l.child;case 8:return Pr(a,l,l.pendingProps.children,g),l.child;case 12:return Pr(a,l,l.pendingProps.children,g),l.child;case 10:e:{if(y=l.type._context,k=l.pendingProps,D=l.memoizedProps,$=k.value,Sn(rd,y._currentValue),y._currentValue=$,D!==null)if(Se(D.value,$)){if(D.children===k.children&&!gs.current){l=ki(a,l,g);break e}}else for(D=l.child,D!==null&&(D.return=l);D!==null;){var Z=D.dependencies;if(Z!==null){$=D.child;for(var oe=Z.firstContext;oe!==null;){if(oe.context===y){if(D.tag===1){oe=ja(-1,g&-g),oe.tag=2;var Pe=D.updateQueue;if(Pe!==null){Pe=Pe.shared;var Be=Pe.pending;Be===null?oe.next=oe:(oe.next=Be.next,Be.next=oe),Pe.pending=oe}}D.lanes|=g,oe=D.alternate,oe!==null&&(oe.lanes|=g),Or(D.return,g,l),Z.lanes|=g;break}oe=oe.next}}else if(D.tag===10)$=D.type===l.type?null:D.child;else if(D.tag===18){if($=D.return,$===null)throw Error(t(341));$.lanes|=g,Z=$.alternate,Z!==null&&(Z.lanes|=g),Or($,g,l),$=D.sibling}else $=D.child;if($!==null)$.return=D;else for($=D;$!==null;){if($===l){$=null;break}if(D=$.sibling,D!==null){D.return=$.return,$=D;break}$=$.return}D=$}Pr(a,l,k.children,g),l=l.child}return l;case 9:return k=l.type,y=l.pendingProps.children,_o(l,g),k=Zs(k),y=y(k),l.flags|=1,Pr(a,l,y,g),l.child;case 14:return y=l.type,k=ri(y,l.pendingProps),k=ri(y.type,k),lg(a,l,y,k,g);case 15:return oa(a,l,l.type,l.pendingProps,g);case 17:return y=l.type,k=l.pendingProps,k=l.elementType===y?k:ri(y,k),tf(a,l),l.tag=1,ms(y)?(a=!0,Qs(l)):a=!1,_o(l,g),Il(l,y,k),ag(l,y,k,g),fg(null,l,y,!0,a,g);case 19:return ko(a,l,g);case 22:return ug(a,l,g)}throw Error(t(156,l.tag))};function Iv(a,l){return Ks(a,l)}function qb(a,l,g,y){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(a,l,g,y){return new qb(a,l,g,y)}function gf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function zb(a){if(typeof a=="function")return gf(a)?1:0;if(a!=null){if(a=a.$$typeof,a===ke)return 11;if(a===he)return 14}return 2}function Ti(a,l){var g=a.alternate;return g===null?(g=ii(a.tag,l,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=l,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,l=a.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function mf(a,l,g,y,k,D){var $=2;if(y=a,typeof a=="function")gf(a)&&($=1);else if(typeof a=="string")$=5;else e:switch(a){case H:return Fl(g.children,k,D,l);case Y:$=8,k|=8;break;case re:return a=ii(12,g,l,k|2),a.elementType=re,a.lanes=D,a;case Re:return a=ii(13,g,l,k),a.elementType=Re,a.lanes=D,a;case Ee:return a=ii(19,g,l,k),a.elementType=Ee,a.lanes=D,a;case me:return vf(g,k,D,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case ve:$=10;break e;case _e:$=9;break e;case ke:$=11;break e;case he:$=14;break e;case ge:$=16,y=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return l=ii($,g,l,k),l.elementType=a,l.type=y,l.lanes=D,l}function Fl(a,l,g,y){return a=ii(7,a,y,l),a.lanes=g,a}function vf(a,l,g,y){return a=ii(22,a,y,l),a.elementType=me,a.lanes=g,a.stateNode={isHidden:!1},a}function Tg(a,l,g){return a=ii(6,a,null,l),a.lanes=g,a}function Dg(a,l,g){return l=ii(4,a.children!==null?a.children:[],a.key,l),l.lanes=g,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function Kb(a,l,g,y,k){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Ng(a,l,g,y,k,D,$,Z,oe){return a=new Kb(a,l,g,Z,oe),l===1?(l=1,D===!0&&(l|=8)):l=0,D=ii(3,null,null,l),a.current=D,D.stateNode=a,D.memoizedState={element:y,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lh(D),a}function Yb(a,l,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:y==null?null:""+y,children:a,containerInfo:l,implementation:g}}function Mv(a){if(!a)return yo;a=a._reactInternals;e:{if(Es(a)!==a||a.tag!==1)throw Error(t(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ms(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(a.tag===1){var g=a.type;if(ms(g))return ev(a,g,l)}return l}function jv(a,l,g,y,k,D,$,Z,oe){return a=Ng(g,y,!0,a,k,D,$,Z,oe),a.context=Mv(null),g=a.current,y=ss(),k=To(g),D=ja(y,k),D.callback=l??null,ti(g,D,k),a.current.lanes=k,pl(a,k,y),ws(a,y),a}function yf(a,l,g,y){var k=l.current,D=ss(),$=To(k);return g=Mv(g),l.context===null?l.context=g:l.pendingContext=g,l=ja(D,$),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=ti(k,l,$),a!==null&&(Pi(a,k,$,D),Uh(a,k,$)),$}function bf(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function $v(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<l?g:l}}function Ag(a,l){$v(a,l),(a=a.alternate)&&$v(a,l)}function Gb(){return null}var Lv=typeof reportError=="function"?reportError:function(a){console.error(a)};function wf(a){this._internalRoot=a}Ed.prototype.render=wf.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(t(409));yf(a,l,null,null)},Ed.prototype.unmount=wf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;$l(function(){yf(null,a,null,null)}),l[As]=null}};function Ed(a){this._internalRoot=a}Ed.prototype.unstable_scheduleHydration=function(a){if(a){var l=bu();a={blockedOn:null,target:a,priority:l};for(var g=0;g<Yi.length&&l!==0&&l<Yi[g].priority;g++);Yi.splice(g,0,a),g===0&&yl(a)}};function Rg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function _f(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Uv(){}function Vb(a,l,g,y,k){if(k){if(typeof y=="function"){var D=y;y=function(){var Pe=bf($);D.call(Pe)}}var $=jv(l,y,a,0,null,!1,!1,"",Uv);return a._reactRootContainer=$,a[As]=$.current,po(a.nodeType===8?a.parentNode:a),$l(),$}for(;k=a.lastChild;)a.removeChild(k);if(typeof y=="function"){var Z=y;y=function(){var Pe=bf(oe);Z.call(Pe)}}var oe=Ng(a,0,!1,null,null,!1,!1,"",Uv);return a._reactRootContainer=oe,a[As]=oe.current,po(a.nodeType===8?a.parentNode:a),$l(function(){yf(l,oe,g,y)}),oe}function Bl(a,l,g,y,k){var D=g._reactRootContainer;if(D){var $=D;if(typeof k=="function"){var Z=k;k=function(){var oe=bf($);Z.call(oe)}}yf(l,$,a,k)}else $=Vb(g,l,a,k,y);return bf($)}Hi=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var g=ds(l.pendingLanes);g!==0&&(gl(l,g|1),ws(l,sn()),(Jt&6)===0&&(jl=sn()+500,bo()))}break;case 13:$l(function(){var y=Ma(a,1);if(y!==null){var k=ss();Pi(y,a,1,k)}}),Ag(a,1)}},fs=function(a){if(a.tag===13){var l=Ma(a,134217728);if(l!==null){var g=ss();Pi(l,a,134217728,g)}Ag(a,134217728)}},Ic=function(a){if(a.tag===13){var l=To(a),g=Ma(a,l);if(g!==null){var y=ss();Pi(g,a,l,y)}Ag(a,l)}},bu=function(){return Vt},Mc=function(a,l){var g=Vt;try{return Vt=a,l()}finally{Vt=g}},Cc=function(a,l,g){switch(l){case"input":if(Rr(a,g),l=g.name,g.type==="radio"&&l!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<g.length;l++){var y=g[l];if(y!==a&&y.form===a.form){var k=Th(y);if(!k)throw Error(t(90));or(y),Rr(y,k)}}}break;case"textarea":to(a,g);break;case"select":l=g.value,l!=null&&mn(a,!!g.multiple,l,!1)}},Qn=Cg,no=$l;var Qb={usingClientEntryPoint:!1,Events:[$r,Mt,Th,Oc,Pc,Cg]},Cd={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jb={bundleType:Cd.bundleType,version:Cd.version,rendererPackageName:Cd.rendererPackageName,rendererConfig:Cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ac(a),a===null?null:a.stateNode},findFiberByHostInstance:Cd.findFiberByHostInstance||Gb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{Cs=Sf.inject(Jb),Os=Sf}catch{}}return ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qb,ui.createPortal=function(a,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rg(l))throw Error(t(200));return Yb(a,l,null,g)},ui.createRoot=function(a,l){if(!Rg(a))throw Error(t(299));var g=!1,y="",k=Lv;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=Ng(a,1,!1,null,null,g,!1,y,k),a[As]=l.current,po(a.nodeType===8?a.parentNode:a),new wf(l)},ui.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Ac(l),a=a===null?null:a.stateNode,a},ui.flushSync=function(a){return $l(a)},ui.hydrate=function(a,l,g){if(!_f(l))throw Error(t(200));return Bl(null,a,l,!0,g)},ui.hydrateRoot=function(a,l,g){if(!Rg(a))throw Error(t(405));var y=g!=null&&g.hydratedSources||null,k=!1,D="",$=Lv;if(g!=null&&(g.unstable_strictMode===!0&&(k=!0),g.identifierPrefix!==void 0&&(D=g.identifierPrefix),g.onRecoverableError!==void 0&&($=g.onRecoverableError)),l=jv(l,null,a,1,g??null,k,!1,D,$),a[As]=l.current,po(a),y)for(a=0;a<y.length;a++)g=y[a],k=g._getVersion,k=k(g._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[g,k]:l.mutableSourceEagerHydrationData.push(g,k);return new Ed(l)},ui.render=function(a,l,g){if(!_f(l))throw Error(t(200));return Bl(null,a,l,!1,g)},ui.unmountComponentAtNode=function(a){if(!_f(a))throw Error(t(40));return a._reactRootContainer?($l(function(){Bl(null,null,a,!1,function(){a._reactRootContainer=null,a[As]=null})}),!0):!1},ui.unstable_batchedUpdates=Cg,ui.unstable_renderSubtreeIntoContainer=function(a,l,g,y){if(!_f(g))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Bl(a,l,g,!1,y)},ui.version="18.3.1-next-f1338f8080-20240426",ui}var nS;function Gk(){if(nS)return h0.exports;nS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),h0.exports=VT(),h0.exports}var rS;function QT(){if(rS)return Hv;rS=1;var n=Gk();return Hv.createRoot=n.createRoot,Hv.hydrateRoot=n.hydrateRoot,Hv}var JT=QT();const XT=mr(JT);var uy={exports:{}},ZT=uy.exports,sS;function eD(){return sS||(sS=1,(function(n,e){(function(t,r){n.exports=r()})(ZT,(function(){var t=1e3,r=6e4,s=36e5,o="millisecond",c="second",d="minute",p="hour",v="day",b="week",x="month",E="quarter",C="year",N="date",A="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,G={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ee){var he=["th","st","nd","rd"],ge=Ee%100;return"["+Ee+(he[(ge-20)%10]||he[ge]||he[0])+"]"}},W=function(Ee,he,ge){var me=String(Ee);return!me||me.length>=he?Ee:""+Array(he+1-me.length).join(ge)+Ee},Q={s:W,z:function(Ee){var he=-Ee.utcOffset(),ge=Math.abs(he),me=Math.floor(ge/60),V=ge%60;return(he<=0?"+":"-")+W(me,2,"0")+":"+W(V,2,"0")},m:function Ee(he,ge){if(he.date()<ge.date())return-Ee(ge,he);var me=12*(ge.year()-he.year())+(ge.month()-he.month()),V=he.clone().add(me,x),Ne=ge-V<0,De=he.clone().add(me+(Ne?-1:1),x);return+(-(me+(ge-V)/(Ne?V-De:De-V))||0)},a:function(Ee){return Ee<0?Math.ceil(Ee)||0:Math.floor(Ee)},p:function(Ee){return{M:x,y:C,w:b,d:v,D:N,h:p,m:d,s:c,ms:o,Q:E}[Ee]||String(Ee||"").toLowerCase().replace(/s$/,"")},u:function(Ee){return Ee===void 0}},z="en",K={};K[z]=G;var H="$isDayjsObject",Y=function(Ee){return Ee instanceof ke||!(!Ee||!Ee[H])},re=function Ee(he,ge,me){var V;if(!he)return z;if(typeof he=="string"){var Ne=he.toLowerCase();K[Ne]&&(V=Ne),ge&&(K[Ne]=ge,V=Ne);var De=he.split("-");if(!V&&De.length>1)return Ee(De[0])}else{var ie=he.name;K[ie]=he,V=ie}return!me&&V&&(z=V),V||!me&&z},ve=function(Ee,he){if(Y(Ee))return Ee.clone();var ge=typeof he=="object"?he:{};return ge.date=Ee,ge.args=arguments,new ke(ge)},_e=Q;_e.l=re,_e.i=Y,_e.w=function(Ee,he){return ve(Ee,{locale:he.$L,utc:he.$u,x:he.$x,$offset:he.$offset})};var ke=(function(){function Ee(ge){this.$L=re(ge.locale,null,!0),this.parse(ge),this.$x=this.$x||ge.x||{},this[H]=!0}var he=Ee.prototype;return he.parse=function(ge){this.$d=(function(me){var V=me.date,Ne=me.utc;if(V===null)return new Date(NaN);if(_e.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var De=V.match(I);if(De){var ie=De[2]-1||0,Ce=(De[7]||"0").substring(0,3);return Ne?new Date(Date.UTC(De[1],ie,De[3]||1,De[4]||0,De[5]||0,De[6]||0,Ce)):new Date(De[1],ie,De[3]||1,De[4]||0,De[5]||0,De[6]||0,Ce)}}return new Date(V)})(ge),this.init()},he.init=function(){var ge=this.$d;this.$y=ge.getFullYear(),this.$M=ge.getMonth(),this.$D=ge.getDate(),this.$W=ge.getDay(),this.$H=ge.getHours(),this.$m=ge.getMinutes(),this.$s=ge.getSeconds(),this.$ms=ge.getMilliseconds()},he.$utils=function(){return _e},he.isValid=function(){return this.$d.toString()!==A},he.isSame=function(ge,me){var V=ve(ge);return this.startOf(me)<=V&&V<=this.endOf(me)},he.isAfter=function(ge,me){return ve(ge)<this.startOf(me)},he.isBefore=function(ge,me){return this.endOf(me)<ve(ge)},he.$g=function(ge,me,V){return _e.u(ge)?this[me]:this.set(V,ge)},he.unix=function(){return Math.floor(this.valueOf()/1e3)},he.valueOf=function(){return this.$d.getTime()},he.startOf=function(ge,me){var V=this,Ne=!!_e.u(me)||me,De=_e.p(ge),ie=function(xt,qt){var Dn=_e.w(V.$u?Date.UTC(V.$y,qt,xt):new Date(V.$y,qt,xt),V);return Ne?Dn:Dn.endOf(v)},Ce=function(xt,qt){return _e.w(V.toDate()[xt].apply(V.toDate("s"),(Ne?[0,0,0,0]:[23,59,59,999]).slice(qt)),V)},Ue=this.$W,Qe=this.$M,rt=this.$D,ht="set"+(this.$u?"UTC":"");switch(De){case C:return Ne?ie(1,0):ie(31,11);case x:return Ne?ie(1,Qe):ie(0,Qe+1);case b:var Nt=this.$locale().weekStart||0,pt=(Ue<Nt?Ue+7:Ue)-Nt;return ie(Ne?rt-pt:rt+(6-pt),Qe);case v:case N:return Ce(ht+"Hours",0);case p:return Ce(ht+"Minutes",1);case d:return Ce(ht+"Seconds",2);case c:return Ce(ht+"Milliseconds",3);default:return this.clone()}},he.endOf=function(ge){return this.startOf(ge,!1)},he.$set=function(ge,me){var V,Ne=_e.p(ge),De="set"+(this.$u?"UTC":""),ie=(V={},V[v]=De+"Date",V[N]=De+"Date",V[x]=De+"Month",V[C]=De+"FullYear",V[p]=De+"Hours",V[d]=De+"Minutes",V[c]=De+"Seconds",V[o]=De+"Milliseconds",V)[Ne],Ce=Ne===v?this.$D+(me-this.$W):me;if(Ne===x||Ne===C){var Ue=this.clone().set(N,1);Ue.$d[ie](Ce),Ue.init(),this.$d=Ue.set(N,Math.min(this.$D,Ue.daysInMonth())).$d}else ie&&this.$d[ie](Ce);return this.init(),this},he.set=function(ge,me){return this.clone().$set(ge,me)},he.get=function(ge){return this[_e.p(ge)]()},he.add=function(ge,me){var V,Ne=this;ge=Number(ge);var De=_e.p(me),ie=function(Qe){var rt=ve(Ne);return _e.w(rt.date(rt.date()+Math.round(Qe*ge)),Ne)};if(De===x)return this.set(x,this.$M+ge);if(De===C)return this.set(C,this.$y+ge);if(De===v)return ie(1);if(De===b)return ie(7);var Ce=(V={},V[d]=r,V[p]=s,V[c]=t,V)[De]||1,Ue=this.$d.getTime()+ge*Ce;return _e.w(Ue,this)},he.subtract=function(ge,me){return this.add(-1*ge,me)},he.format=function(ge){var me=this,V=this.$locale();if(!this.isValid())return V.invalidDate||A;var Ne=ge||"YYYY-MM-DDTHH:mm:ssZ",De=_e.z(this),ie=this.$H,Ce=this.$m,Ue=this.$M,Qe=V.weekdays,rt=V.months,ht=V.meridiem,Nt=function(qt,Dn,or,Gt){return qt&&(qt[Dn]||qt(me,Ne))||or[Dn].slice(0,Gt)},pt=function(qt){return _e.s(ie%12||12,qt,"0")},xt=ht||function(qt,Dn,or){var Gt=qt<12?"AM":"PM";return or?Gt.toLowerCase():Gt};return Ne.replace(L,(function(qt,Dn){return Dn||(function(or){switch(or){case"YY":return String(me.$y).slice(-2);case"YYYY":return _e.s(me.$y,4,"0");case"M":return Ue+1;case"MM":return _e.s(Ue+1,2,"0");case"MMM":return Nt(V.monthsShort,Ue,rt,3);case"MMMM":return Nt(rt,Ue);case"D":return me.$D;case"DD":return _e.s(me.$D,2,"0");case"d":return String(me.$W);case"dd":return Nt(V.weekdaysMin,me.$W,Qe,2);case"ddd":return Nt(V.weekdaysShort,me.$W,Qe,3);case"dddd":return Qe[me.$W];case"H":return String(ie);case"HH":return _e.s(ie,2,"0");case"h":return pt(1);case"hh":return pt(2);case"a":return xt(ie,Ce,!0);case"A":return xt(ie,Ce,!1);case"m":return String(Ce);case"mm":return _e.s(Ce,2,"0");case"s":return String(me.$s);case"ss":return _e.s(me.$s,2,"0");case"SSS":return _e.s(me.$ms,3,"0");case"Z":return De}return null})(qt)||De.replace(":","")}))},he.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},he.diff=function(ge,me,V){var Ne,De=this,ie=_e.p(me),Ce=ve(ge),Ue=(Ce.utcOffset()-this.utcOffset())*r,Qe=this-Ce,rt=function(){return _e.m(De,Ce)};switch(ie){case C:Ne=rt()/12;break;case x:Ne=rt();break;case E:Ne=rt()/3;break;case b:Ne=(Qe-Ue)/6048e5;break;case v:Ne=(Qe-Ue)/864e5;break;case p:Ne=Qe/s;break;case d:Ne=Qe/r;break;case c:Ne=Qe/t;break;default:Ne=Qe}return V?Ne:_e.a(Ne)},he.daysInMonth=function(){return this.endOf(x).$D},he.$locale=function(){return K[this.$L]},he.locale=function(ge,me){if(!ge)return this.$L;var V=this.clone(),Ne=re(ge,me,!0);return Ne&&(V.$L=Ne),V},he.clone=function(){return _e.w(this.$d,this)},he.toDate=function(){return new Date(this.valueOf())},he.toJSON=function(){return this.isValid()?this.toISOString():null},he.toISOString=function(){return this.$d.toISOString()},he.toString=function(){return this.$d.toUTCString()},Ee})(),Re=ke.prototype;return ve.prototype=Re,[["$ms",o],["$s",c],["$m",d],["$H",p],["$W",v],["$M",x],["$y",C],["$D",N]].forEach((function(Ee){Re[Ee[1]]=function(he){return this.$g(he,Ee[0],Ee[1])}})),ve.extend=function(Ee,he){return Ee.$i||(Ee(he,ke,ve),Ee.$i=!0),ve},ve.locale=re,ve.isDayjs=Y,ve.unix=function(Ee){return ve(1e3*Ee)},ve.en=K[z],ve.Ls=K,ve.p={},ve}))})(uy)),uy.exports}var tD=eD();const mt=mr(tD);var cy={exports:{}},nD=cy.exports,iS;function rD(){return iS||(iS=1,(function(n,e){(function(t,r){n.exports=r()})(nD,(function(){return function(t,r,s){t=t||{};var o=r.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(v,b,x,E){return o.fromToBase(v,b,x,E)}s.en.relativeTime=c,o.fromToBase=function(v,b,x,E,C){for(var N,A,I,L=x.$locale().relativeTime||c,G=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],W=G.length,Q=0;Q<W;Q+=1){var z=G[Q];z.d&&(N=E?s(v).diff(x,z.d,!0):x.diff(v,z.d,!0));var K=(t.rounding||Math.round)(Math.abs(N));if(I=N>0,K<=z.r||!z.r){K<=1&&Q>0&&(z=G[Q-1]);var H=L[z.l];C&&(K=C(""+K)),A=typeof H=="string"?H.replace("%d",K):H(K,b,z.l,I);break}}if(b)return A;var Y=I?L.future:L.past;return typeof Y=="function"?Y(A):Y.replace("%s",A)},o.to=function(v,b){return d(v,b,this,!0)},o.from=function(v,b){return d(v,b,this)};var p=function(v){return v.$u?s.utc():s()};o.toNow=function(v){return this.to(p(this),v)},o.fromNow=function(v){return this.from(p(this),v)}}}))})(cy)),cy.exports}var sD=rD();const Vk=mr(sD);var dy={exports:{}},iD=dy.exports,aS;function aD(){return aS||(aS=1,(function(n,e){(function(t,r){n.exports=r()})(iD,(function(){var t="day";return function(r,s,o){var c=function(v){return v.add(4-v.isoWeekday(),t)},d=s.prototype;d.isoWeekYear=function(){return c(this).year()},d.isoWeek=function(v){if(!this.$utils().u(v))return this.add(7*(v-this.isoWeek()),t);var b,x,E,C,N=c(this),A=(b=this.isoWeekYear(),x=this.$u,E=(x?o.utc:o)().year(b).startOf("year"),C=4-E.isoWeekday(),E.isoWeekday()>4&&(C+=7),E.add(C,t));return N.diff(A,"week")+1},d.isoWeekday=function(v){return this.$utils().u(v)?this.day()||7:this.day(this.day()%7?v:v-7)};var p=d.startOf;d.startOf=function(v,b){var x=this.$utils(),E=!!x.u(b)||b;return x.p(v)==="isoweek"?E?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):p.bind(this)(v,b)}}}))})(dy)),dy.exports}var oD=aD();const lD=mr(oD);var hy={exports:{}},uD=hy.exports,oS;function cD(){return oS||(oS=1,(function(n,e){(function(t,r){n.exports=r()})(uD,(function(){return function(t,r){r.prototype.isoWeeksInYear=function(){var s=this.isLeapYear(),o=this.endOf("y").day();return o===4||s&&o===5?53:52}}}))})(hy)),hy.exports}var dD=cD();const hD=mr(dD);var fy={exports:{}},fD=fy.exports,lS;function pD(){return lS||(lS=1,(function(n,e){(function(t,r){n.exports=r()})(fD,(function(){return function(t,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(fy)),fy.exports}var gD=pD();const mD=mr(gD);var py={exports:{}},vD=py.exports,uS;function yD(){return uS||(uS=1,(function(n,e){(function(t,r){n.exports=r()})(vD,(function(){return function(t,r){r.prototype.isSameOrAfter=function(s,o){return this.isSame(s,o)||this.isAfter(s,o)}}}))})(py)),py.exports}var bD=yD();const wD=mr(bD);var gy={exports:{}},_D=gy.exports,cS;function SD(){return cS||(cS=1,(function(n,e){(function(t,r){n.exports=r()})(_D,(function(){return function(t,r){r.prototype.isSameOrBefore=function(s,o){return this.isSame(s,o)||this.isBefore(s,o)}}}))})(gy)),gy.exports}var xD=SD();const kD=mr(xD);var my={exports:{}},ED=my.exports,dS;function CD(){return dS||(dS=1,(function(n,e){(function(t,r){n.exports=r()})(ED,(function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(o,c,d){var p=c.prototype;d.utc=function(A){var I={date:A,utc:!0,args:arguments};return new c(I)},p.utc=function(A){var I=d(this.toDate(),{locale:this.$L,utc:!0});return A?I.add(this.utcOffset(),t):I},p.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var v=p.parse;p.parse=function(A){A.utc&&(this.$u=!0),this.$utils().u(A.$offset)||(this.$offset=A.$offset),v.call(this,A)};var b=p.init;p.init=function(){if(this.$u){var A=this.$d;this.$y=A.getUTCFullYear(),this.$M=A.getUTCMonth(),this.$D=A.getUTCDate(),this.$W=A.getUTCDay(),this.$H=A.getUTCHours(),this.$m=A.getUTCMinutes(),this.$s=A.getUTCSeconds(),this.$ms=A.getUTCMilliseconds()}else b.call(this)};var x=p.utcOffset;p.utcOffset=function(A,I){var L=this.$utils().u;if(L(A))return this.$u?0:L(this.$offset)?x.call(this):this.$offset;if(typeof A=="string"&&(A=(function(z){z===void 0&&(z="");var K=z.match(r);if(!K)return null;var H=(""+K[0]).match(s)||["-",0,0],Y=H[0],re=60*+H[1]+ +H[2];return re===0?0:Y==="+"?re:-re})(A),A===null))return this;var G=Math.abs(A)<=16?60*A:A;if(G===0)return this.utc(I);var W=this.clone();if(I)return W.$offset=G,W.$u=!1,W;var Q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(W=this.local().add(G+Q,t)).$offset=G,W.$x.$localOffset=Q,W};var E=p.format;p.format=function(A){var I=A||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return E.call(this,I)},p.valueOf=function(){var A=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*A},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var C=p.toDate;p.toDate=function(A){return A==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():C.call(this)};var N=p.diff;p.diff=function(A,I,L){if(A&&this.$u===A.$u)return N.call(this,A,I,L);var G=this.local(),W=d(A).local();return N.call(G,W,I,L)}}}))})(my)),my.exports}var OD=CD();const Qk=mr(OD);var vy={exports:{}},PD=vy.exports,hS;function TD(){return hS||(hS=1,(function(n,e){(function(t,r){n.exports=r()})(PD,(function(){var t,r,s=1e3,o=6e4,c=36e5,d=864e5,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v=31536e6,b=2628e6,x=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,E={years:v,months:b,days:d,hours:c,minutes:o,seconds:s,milliseconds:1,weeks:6048e5},C=function(K){return K instanceof Q},N=function(K,H,Y){return new Q(K,Y,H.$l)},A=function(K){return r.p(K)+"s"},I=function(K){return K<0},L=function(K){return I(K)?Math.ceil(K):Math.floor(K)},G=function(K){return Math.abs(K)},W=function(K,H){return K?I(K)?{negative:!0,format:""+G(K)+H}:{negative:!1,format:""+K+H}:{negative:!1,format:""}},Q=(function(){function K(Y,re,ve){var _e=this;if(this.$d={},this.$l=ve,Y===void 0&&(this.$ms=0,this.parseFromMilliseconds()),re)return N(Y*E[A(re)],this);if(typeof Y=="number")return this.$ms=Y,this.parseFromMilliseconds(),this;if(typeof Y=="object")return Object.keys(Y).forEach((function(Ee){_e.$d[A(Ee)]=Y[Ee]})),this.calMilliseconds(),this;if(typeof Y=="string"){var ke=Y.match(x);if(ke){var Re=ke.slice(2).map((function(Ee){return Ee!=null?Number(Ee):0}));return this.$d.years=Re[0],this.$d.months=Re[1],this.$d.weeks=Re[2],this.$d.days=Re[3],this.$d.hours=Re[4],this.$d.minutes=Re[5],this.$d.seconds=Re[6],this.calMilliseconds(),this}}return this}var H=K.prototype;return H.calMilliseconds=function(){var Y=this;this.$ms=Object.keys(this.$d).reduce((function(re,ve){return re+(Y.$d[ve]||0)*E[ve]}),0)},H.parseFromMilliseconds=function(){var Y=this.$ms;this.$d.years=L(Y/v),Y%=v,this.$d.months=L(Y/b),Y%=b,this.$d.days=L(Y/d),Y%=d,this.$d.hours=L(Y/c),Y%=c,this.$d.minutes=L(Y/o),Y%=o,this.$d.seconds=L(Y/s),Y%=s,this.$d.milliseconds=Y},H.toISOString=function(){var Y=W(this.$d.years,"Y"),re=W(this.$d.months,"M"),ve=+this.$d.days||0;this.$d.weeks&&(ve+=7*this.$d.weeks);var _e=W(ve,"D"),ke=W(this.$d.hours,"H"),Re=W(this.$d.minutes,"M"),Ee=this.$d.seconds||0;this.$d.milliseconds&&(Ee+=this.$d.milliseconds/1e3,Ee=Math.round(1e3*Ee)/1e3);var he=W(Ee,"S"),ge=Y.negative||re.negative||_e.negative||ke.negative||Re.negative||he.negative,me=ke.format||Re.format||he.format?"T":"",V=(ge?"-":"")+"P"+Y.format+re.format+_e.format+me+ke.format+Re.format+he.format;return V==="P"||V==="-P"?"P0D":V},H.toJSON=function(){return this.toISOString()},H.format=function(Y){var re=Y||"YYYY-MM-DDTHH:mm:ss",ve={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return re.replace(p,(function(_e,ke){return ke||String(ve[_e])}))},H.as=function(Y){return this.$ms/E[A(Y)]},H.get=function(Y){var re=this.$ms,ve=A(Y);return ve==="milliseconds"?re%=1e3:re=ve==="weeks"?L(re/E[ve]):this.$d[ve],re||0},H.add=function(Y,re,ve){var _e;return _e=re?Y*E[A(re)]:C(Y)?Y.$ms:N(Y,this).$ms,N(this.$ms+_e*(ve?-1:1),this)},H.subtract=function(Y,re){return this.add(Y,re,!0)},H.locale=function(Y){var re=this.clone();return re.$l=Y,re},H.clone=function(){return N(this.$ms,this)},H.humanize=function(Y){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!Y)},H.valueOf=function(){return this.asMilliseconds()},H.milliseconds=function(){return this.get("milliseconds")},H.asMilliseconds=function(){return this.as("milliseconds")},H.seconds=function(){return this.get("seconds")},H.asSeconds=function(){return this.as("seconds")},H.minutes=function(){return this.get("minutes")},H.asMinutes=function(){return this.as("minutes")},H.hours=function(){return this.get("hours")},H.asHours=function(){return this.as("hours")},H.days=function(){return this.get("days")},H.asDays=function(){return this.as("days")},H.weeks=function(){return this.get("weeks")},H.asWeeks=function(){return this.as("weeks")},H.months=function(){return this.get("months")},H.asMonths=function(){return this.as("months")},H.years=function(){return this.get("years")},H.asYears=function(){return this.as("years")},K})(),z=function(K,H,Y){return K.add(H.years()*Y,"y").add(H.months()*Y,"M").add(H.days()*Y,"d").add(H.hours()*Y,"h").add(H.minutes()*Y,"m").add(H.seconds()*Y,"s").add(H.milliseconds()*Y,"ms")};return function(K,H,Y){t=Y,r=Y().$utils(),Y.duration=function(_e,ke){var Re=Y.locale();return N(_e,{$l:Re},ke)},Y.isDuration=C;var re=H.prototype.add,ve=H.prototype.subtract;H.prototype.add=function(_e,ke){return C(_e)?z(this,_e,1):re.bind(this)(_e,ke)},H.prototype.subtract=function(_e,ke){return C(_e)?z(this,_e,-1):ve.bind(this)(_e,ke)}}}))})(vy)),vy.exports}var DD=TD();const Rw=mr(DD);var yy={exports:{}},ND=yy.exports,fS;function AD(){return fS||(fS=1,(function(n,e){(function(t,r){n.exports=r()})(ND,(function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(s,o,c){var d,p=function(E,C,N){N===void 0&&(N={});var A=new Date(E),I=(function(L,G){G===void 0&&(G={});var W=G.timeZoneName||"short",Q=L+"|"+W,z=r[Q];return z||(z=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:L,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:W}),r[Q]=z),z})(C,N);return I.formatToParts(A)},v=function(E,C){for(var N=p(E,C),A=[],I=0;I<N.length;I+=1){var L=N[I],G=L.type,W=L.value,Q=t[G];Q>=0&&(A[Q]=parseInt(W,10))}var z=A[3],K=z===24?0:z,H=A[0]+"-"+A[1]+"-"+A[2]+" "+K+":"+A[4]+":"+A[5]+":000",Y=+E;return(c.utc(H).valueOf()-(Y-=Y%1e3))/6e4},b=o.prototype;b.tz=function(E,C){E===void 0&&(E=d);var N,A=this.utcOffset(),I=this.toDate(),L=I.toLocaleString("en-US",{timeZone:E}),G=Math.round((I-new Date(L))/1e3/60),W=15*-Math.round(I.getTimezoneOffset()/15)-G;if(!Number(W))N=this.utcOffset(0,C);else if(N=c(L,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(W,!0),C){var Q=N.utcOffset();N=N.add(A-Q,"minute")}return N.$x.$timezone=E,N},b.offsetName=function(E){var C=this.$x.$timezone||c.tz.guess(),N=p(this.valueOf(),C,{timeZoneName:E}).find((function(A){return A.type.toLowerCase()==="timezonename"}));return N&&N.value};var x=b.startOf;b.startOf=function(E,C){if(!this.$x||!this.$x.$timezone)return x.call(this,E,C);var N=c(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return x.call(N,E,C).tz(this.$x.$timezone,!0)},c.tz=function(E,C,N){var A=N&&C,I=N||C||d,L=v(+c(),I);if(typeof E!="string")return c(E).tz(I);var G=(function(K,H,Y){var re=K-60*H*1e3,ve=v(re,Y);if(H===ve)return[re,H];var _e=v(re-=60*(ve-H)*1e3,Y);return ve===_e?[re,ve]:[K-60*Math.min(ve,_e)*1e3,Math.max(ve,_e)]})(c.utc(E,A).valueOf(),L,I),W=G[0],Q=G[1],z=c(W).utcOffset(Q);return z.$x.$timezone=I,z},c.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},c.tz.setDefault=function(E){d=E}}}))})(yy)),yy.exports}var RD=AD();const Jk=mr(RD);var X=sb();const J=mr(X),Iw=HT({__proto__:null,default:J},[X]);var Kf=Gk();const ID=mr(Kf);function im(){return im=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},im.apply(this,arguments)}var jd;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(jd||(jd={}));const pS="popstate";function MD(n){n===void 0&&(n={});function e(s,o){let{pathname:c="/",search:d="",hash:p=""}=_p(s.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),K0("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=s.location.href,v=p.indexOf("#");d=v===-1?p:p.slice(0,v)}return d+"#"+(typeof o=="string"?o:Ay(o))}function r(s,o){ib(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return $D(e,t,r,n)}function Ss(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ib(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jD(){return Math.random().toString(36).substr(2,8)}function gS(n,e){return{usr:n.state,key:n.key,idx:e}}function K0(n,e,t,r){return t===void 0&&(t=null),im({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?_p(e):e,{state:t,key:e&&e.key||r||jD()})}function Ay(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _p(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function $D(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,d=jd.Pop,p=null,v=b();v==null&&(v=0,c.replaceState(im({},c.state,{idx:v}),""));function b(){return(c.state||{idx:null}).idx}function x(){d=jd.Pop;let I=b(),L=I==null?null:I-v;v=I,p&&p({action:d,location:A.location,delta:L})}function E(I,L){d=jd.Push;let G=K0(A.location,I,L);t&&t(G,I),v=b()+1;let W=gS(G,v),Q=A.createHref(G);try{c.pushState(W,"",Q)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(Q)}o&&p&&p({action:d,location:A.location,delta:1})}function C(I,L){d=jd.Replace;let G=K0(A.location,I,L);t&&t(G,I),v=b();let W=gS(G,v),Q=A.createHref(G);c.replaceState(W,"",Q),o&&p&&p({action:d,location:A.location,delta:0})}function N(I){let L=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof I=="string"?I:Ay(I);return G=G.replace(/ $/,"%20"),Ss(L,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,L)}let A={get action(){return d},get location(){return n(s,c)},listen(I){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(pS,x),p=I,()=>{s.removeEventListener(pS,x),p=null}},createHref(I){return e(s,I)},createURL:N,encodeLocation(I){let L=N(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:C,go(I){return c.go(I)}};return A}var mS;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(mS||(mS={}));function LD(n,e,t){return t===void 0&&(t="/"),UD(n,e,t)}function UD(n,e,t,r){let s=typeof e=="string"?_p(e):e,o=Mw(s.pathname||"/",t);if(o==null)return null;let c=Xk(n);FD(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let v=XD(o);d=VD(c[p],v)}return d}function Xk(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(o,c,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&(Ss(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let v=sc([r,p.relativePath]),b=t.concat(p);o.children&&o.children.length>0&&(Ss(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Xk(o.children,e,b,v)),!(o.path==null&&!o.index)&&e.push({path:v,score:YD(v,o.index),routesMeta:b})};return n.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,c);else for(let p of Zk(o.path))s(o,c,p)}),e}function Zk(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=Zk(r.join("/")),d=[];return d.push(...c.map(p=>p===""?o:[o,p].join("/"))),s&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function FD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const BD=/^:[\w-]+$/,WD=3,HD=2,qD=1,zD=10,KD=-2,vS=n=>n==="*";function YD(n,e){let t=n.split("/"),r=t.length;return t.some(vS)&&(r+=KD),e&&(r+=HD),t.filter(s=>!vS(s)).reduce((s,o)=>s+(BD.test(o)?WD:o===""?qD:zD),r)}function GD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function VD(n,e,t){let{routesMeta:r}=n,s={},o="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],v=d===r.length-1,b=o==="/"?e:e.slice(o.length)||"/",x=QD({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},b),E=p.route;if(!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:sc([o,x.pathname]),pathnameBase:rN(sc([o,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(o=sc([o,x.pathnameBase]))}return c}function QD(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=JD(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((v,b,x)=>{let{paramName:E,isOptional:C}=b;if(E==="*"){let A=d[x]||"";c=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const N=d[x];return C&&!N?v[E]=void 0:v[E]=(N||"").replace(/%2F/g,"/"),v},{}),pathname:o,pathnameBase:c,pattern:n}}function JD(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ib(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function XD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ib(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Mw(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const ZD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eN=n=>ZD.test(n);function tN(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?_p(n):n,o;if(t)if(eN(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),ib(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+t))}t.startsWith("/")?o=yS(t.substring(1),"/"):o=yS(t,e)}else o=e;return{pathname:o,search:sN(r),hash:iN(s)}}function yS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function g0(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eE(n,e){let t=nN(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function tE(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=_p(n):(s=im({},n),Ss(!s.pathname||!s.pathname.includes("?"),g0("?","pathname","search",s)),Ss(!s.pathname||!s.pathname.includes("#"),g0("#","pathname","hash",s)),Ss(!s.search||!s.search.includes("#"),g0("#","search","hash",s)));let o=n===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=t;else{let x=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),x-=1;s.pathname=E.join("/")}d=x>=0?e[x]:"/"}let p=tN(s,d),v=c&&c!=="/"&&c.endsWith("/"),b=(o||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||b)&&(p.pathname+="/"),p}const sc=n=>n.join("/").replace(/\/\/+/g,"/"),rN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,iN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function aN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const nE=["post","put","patch","delete"];new Set(nE);const oN=["get",...nE];new Set(oN);function Ry(){return Ry=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ry.apply(this,arguments)}const jw=X.createContext(null),lN=X.createContext(null),eh=X.createContext(null),$w=X.createContext(null),wc=X.createContext({outlet:null,matches:[],isDataRoute:!1}),rE=X.createContext(null);function uN(n,e){let{relative:t}=e===void 0?{}:e;Am()||Ss(!1);let{basename:r,navigator:s}=X.useContext(eh),{hash:o,pathname:c,search:d}=aE(n,{relative:t}),p=c;return r!=="/"&&(p=c==="/"?r:sc([r,c])),s.createHref({pathname:p,search:d,hash:o})}function Am(){return X.useContext($w)!=null}function th(){return Am()||Ss(!1),X.useContext($w).location}function sE(n){X.useContext(eh).static||X.useLayoutEffect(n)}function iE(){let{isDataRoute:n}=X.useContext(wc);return n?kN():cN()}function cN(){Am()||Ss(!1);let n=X.useContext(jw),{basename:e,future:t,navigator:r}=X.useContext(eh),{matches:s}=X.useContext(wc),{pathname:o}=th(),c=JSON.stringify(eE(s,t.v7_relativeSplatPath)),d=X.useRef(!1);return sE(()=>{d.current=!0}),X.useCallback(function(v,b){if(b===void 0&&(b={}),!d.current)return;if(typeof v=="number"){r.go(v);return}let x=tE(v,JSON.parse(c),o,b.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:sc([e,x.pathname])),(b.replace?r.replace:r.push)(x,b.state,b)},[e,r,c,o,n])}const dN=X.createContext(null);function hN(n){let e=X.useContext(wc).outlet;return e&&X.createElement(dN.Provider,{value:n},e)}function aE(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=X.useContext(eh),{matches:s}=X.useContext(wc),{pathname:o}=th(),c=JSON.stringify(eE(s,r.v7_relativeSplatPath));return X.useMemo(()=>tE(n,JSON.parse(c),o,t==="path"),[n,c,o,t])}function fN(n,e){return pN(n)}function pN(n,e,t,r){Am()||Ss(!1);let{navigator:s}=X.useContext(eh),{matches:o}=X.useContext(wc),c=o[o.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let v=th(),b;b=v;let x=b.pathname||"/",E=x;if(p!=="/"){let A=p.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=LD(n,{pathname:E});return bN(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:sc([p,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:sc([p,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,t,r)}function gN(){let n=xN(),e=aN(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:s},t):null,null)}const mN=X.createElement(gN,null);class vN extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?X.createElement(wc.Provider,{value:this.props.routeContext},X.createElement(rE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yN(n){let{routeContext:e,match:t,children:r}=n,s=X.useContext(jw);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(wc.Provider,{value:e},r)}function bN(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let b=c.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);b>=0||Ss(!1),c=c.slice(0,Math.min(c.length,b+1))}let p=!1,v=-1;if(t&&r&&r.v7_partialHydration)for(let b=0;b<c.length;b++){let x=c[b];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=b),x.route.id){let{loaderData:E,errors:C}=t,N=x.route.loader&&E[x.route.id]===void 0&&(!C||C[x.route.id]===void 0);if(x.route.lazy||N){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((b,x,E)=>{let C,N=!1,A=null,I=null;t&&(C=d&&x.route.id?d[x.route.id]:void 0,A=x.route.errorElement||mN,p&&(v<0&&E===0?(EN("route-fallback"),N=!0,I=null):v===E&&(N=!0,I=x.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,E+1)),G=()=>{let W;return C?W=A:N?W=I:x.route.Component?W=X.createElement(x.route.Component,null):x.route.element?W=x.route.element:W=b,X.createElement(yN,{match:x,routeContext:{outlet:b,matches:L,isDataRoute:t!=null},children:W})};return t&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?X.createElement(vN,{location:t.location,revalidation:t.revalidation,component:A,error:C,children:G(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):G()},null)}var oE=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(oE||{}),lE=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(lE||{});function wN(n){let e=X.useContext(jw);return e||Ss(!1),e}function _N(n){let e=X.useContext(lN);return e||Ss(!1),e}function SN(n){let e=X.useContext(wc);return e||Ss(!1),e}function uE(n){let e=SN(),t=e.matches[e.matches.length-1];return t.route.id||Ss(!1),t.route.id}function xN(){var n;let e=X.useContext(rE),t=_N(),r=uE();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function kN(){let{router:n}=wN(oE.UseNavigateStable),e=uE(lE.UseNavigateStable),t=X.useRef(!1);return sE(()=>{t.current=!0}),X.useCallback(function(s,o){o===void 0&&(o={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Ry({fromRouteId:e},o)))},[n,e])}const bS={};function EN(n,e,t){bS[n]||(bS[n]=!0)}function CN(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function ON(n){return hN(n.context)}function PN(n){let{basename:e="/",children:t=null,location:r,navigationType:s=jd.Pop,navigator:o,static:c=!1,future:d}=n;Am()&&Ss(!1);let p=e.replace(/^\/*/,"/"),v=X.useMemo(()=>({basename:p,navigator:o,static:c,future:Ry({v7_relativeSplatPath:!1},d)}),[p,d,o,c]);typeof r=="string"&&(r=_p(r));let{pathname:b="/",search:x="",hash:E="",state:C=null,key:N="default"}=r,A=X.useMemo(()=>{let I=Mw(b,p);return I==null?null:{location:{pathname:I,search:x,hash:E,state:C,key:N},navigationType:s}},[p,b,x,E,C,N,s]);return A==null?null:X.createElement(eh.Provider,{value:v},X.createElement($w.Provider,{children:t,value:A}))}new Promise(()=>{});function Y0(){return Y0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Y0.apply(this,arguments)}function TN(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function DN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function NN(n,e){return n.button===0&&(!e||e==="_self")&&!DN(n)}const AN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RN="6";try{window.__reactRouterVersion=RN}catch{}const IN="startTransition",wS=Iw[IN];function MN(n){let{basename:e,children:t,future:r,window:s}=n,o=X.useRef();o.current==null&&(o.current=MD({window:s,v5Compat:!0}));let c=o.current,[d,p]=X.useState({action:c.action,location:c.location}),{v7_startTransition:v}=r||{},b=X.useCallback(x=>{v&&wS?wS(()=>p(x)):p(x)},[p,v]);return X.useLayoutEffect(()=>c.listen(b),[c,b]),X.useEffect(()=>CN(r),[r]),X.createElement(PN,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:r})}const jN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iy=X.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:o,replace:c,state:d,target:p,to:v,preventScrollReset:b,viewTransition:x}=e,E=TN(e,AN),{basename:C}=X.useContext(eh),N,A=!1;if(typeof v=="string"&&$N.test(v)&&(N=v,jN))try{let W=new URL(window.location.href),Q=v.startsWith("//")?new URL(W.protocol+v):new URL(v),z=Mw(Q.pathname,C);Q.origin===W.origin&&z!=null?v=z+Q.search+Q.hash:A=!0}catch{}let I=uN(v,{relative:s}),L=LN(v,{replace:c,state:d,target:p,preventScrollReset:b,relative:s,viewTransition:x});function G(W){r&&r(W),W.defaultPrevented||L(W)}return X.createElement("a",Y0({},E,{href:N||I,onClick:A||o?r:G,ref:t,target:p}))});var _S;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(_S||(_S={}));var SS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(SS||(SS={}));function LN(n,e){let{target:t,replace:r,state:s,preventScrollReset:o,relative:c,viewTransition:d}=e===void 0?{}:e,p=iE(),v=th(),b=aE(n,{relative:c});return X.useCallback(x=>{if(NN(x,t)){x.preventDefault();let E=r!==void 0?r:Ay(v)===Ay(b);p(n,{replace:E,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[v,p,b,r,s,t,n,o,c,d])}const UN=X.createContext(null),m0={didCatch:!1,error:null};class FN extends X.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=m0}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];(t=(r=this.props).onReset)===null||t===void 0||t.call(r,{args:o,reason:"imperative-api"}),this.setState(m0)}}componentDidCatch(e,t){var r,s;(r=(s=this.props).onError)===null||r===void 0||r.call(s,e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:s}=this.props;if(r&&t.error!==null&&BN(e.resetKeys,s)){var o,c;(o=(c=this.props).onReset)===null||o===void 0||o.call(c,{next:s,prev:e.resetKeys,reason:"keys"}),this.setState(m0)}}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:s}=this.props,{didCatch:o,error:c}=this.state;let d=e;if(o){const p={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")d=t(p);else if(r)d=X.createElement(r,p);else if(s!==void 0)d=s;else throw c}return X.createElement(UN.Provider,{value:{didCatch:o,error:c,resetErrorBoundary:this.resetErrorBoundary}},d)}}function BN(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,r)=>!Object.is(t,e[r]))}function WN(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var v0={exports:{}},pn={};var xS;function HN(){if(xS)return pn;xS=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,v=n?Symbol.for("react.concurrent_mode"):60111,b=n?Symbol.for("react.forward_ref"):60112,x=n?Symbol.for("react.suspense"):60113,E=n?Symbol.for("react.suspense_list"):60120,C=n?Symbol.for("react.memo"):60115,N=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,I=n?Symbol.for("react.fundamental"):60117,L=n?Symbol.for("react.responder"):60118,G=n?Symbol.for("react.scope"):60119;function W(z){if(typeof z=="object"&&z!==null){var K=z.$$typeof;switch(K){case e:switch(z=z.type,z){case p:case v:case r:case o:case s:case x:return z;default:switch(z=z&&z.$$typeof,z){case d:case b:case N:case C:case c:return z;default:return K}}case t:return K}}}function Q(z){return W(z)===v}return pn.AsyncMode=p,pn.ConcurrentMode=v,pn.ContextConsumer=d,pn.ContextProvider=c,pn.Element=e,pn.ForwardRef=b,pn.Fragment=r,pn.Lazy=N,pn.Memo=C,pn.Portal=t,pn.Profiler=o,pn.StrictMode=s,pn.Suspense=x,pn.isAsyncMode=function(z){return Q(z)||W(z)===p},pn.isConcurrentMode=Q,pn.isContextConsumer=function(z){return W(z)===d},pn.isContextProvider=function(z){return W(z)===c},pn.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===e},pn.isForwardRef=function(z){return W(z)===b},pn.isFragment=function(z){return W(z)===r},pn.isLazy=function(z){return W(z)===N},pn.isMemo=function(z){return W(z)===C},pn.isPortal=function(z){return W(z)===t},pn.isProfiler=function(z){return W(z)===o},pn.isStrictMode=function(z){return W(z)===s},pn.isSuspense=function(z){return W(z)===x},pn.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===r||z===v||z===o||z===s||z===x||z===E||typeof z=="object"&&z!==null&&(z.$$typeof===N||z.$$typeof===C||z.$$typeof===c||z.$$typeof===d||z.$$typeof===b||z.$$typeof===I||z.$$typeof===L||z.$$typeof===G||z.$$typeof===A)},pn.typeOf=W,pn}var kS;function qN(){return kS||(kS=1,v0.exports=HN()),v0.exports}var zN=qN();function G0(n,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},G0(n,e)}function In(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,G0(n,e)}var Lo=function(e,t){if(typeof e=="function"){e(t);return}e!==null&&typeof e=="object"&&(e.current=t)},KN=function(e){return e!==null&&typeof e=="object"&&e.hasOwnProperty("current")},YN=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.prevNode=void 0,r}var t=e.prototype;return t.componentDidMount=function(){var s=Kf.findDOMNode(this);this.prevNode=s,Lo(this.props.innerRef,s)},t.componentDidUpdate=function(s){var o=Kf.findDOMNode(this);this.prevNode!==o&&(this.prevNode=o,Lo(this.props.innerRef,o)),s.innerRef!==this.props.innerRef&&Lo(this.props.innerRef,o)},t.componentWillUnmount=function(){Lo(this.props.innerRef,null),delete this.prevNode},t.render=function(){var s=this.props.children;return s},e})(X.Component),GN=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.currentNode=void 0,r.handleRefOverride=function(d){var p=r.props,v=p.children,b=p.innerRef;Lo(v.ref,d),Lo(b,d),r.currentNode=d},r}var t=e.prototype;return t.componentDidUpdate=function(s){s.innerRef!==this.props.innerRef&&Lo(this.props.innerRef,this.currentNode)},t.componentWillUnmount=function(){delete this.currentNode},t.render=function(){var s=this.props.children;return X.cloneElement(s,{ref:this.handleRefOverride})},e})(X.Component),VN=["children","innerRef"],zo=function(e){var t=e.children,r=e.innerRef,s=WN(e,VN),o=X.Children.only(t),c=zN.isForwardRef(o)?GN:YN,d=o&&s&&Object.keys(s).length>0?X.cloneElement(o,s):o;return X.createElement(c,{innerRef:r},d)};function Ie(){return Ie=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ie.apply(null,arguments)}var xr=Array.isArray,cE=typeof global=="object"&&global&&global.Object===Object&&global,QN=typeof self=="object"&&self&&self.Object===Object&&self,Jo=cE||QN||Function("return this")(),Ko=Jo.Symbol,dE=Object.prototype,JN=dE.hasOwnProperty,XN=dE.toString,jg=Ko?Ko.toStringTag:void 0;function ZN(n){var e=JN.call(n,jg),t=n[jg];try{n[jg]=void 0;var r=!0}catch{}var s=XN.call(n);return r&&(e?n[jg]=t:delete n[jg]),s}var eA=Object.prototype,tA=eA.toString;function nA(n){return tA.call(n)}var rA="[object Null]",sA="[object Undefined]",ES=Ko?Ko.toStringTag:void 0;function Xo(n){return n==null?n===void 0?sA:rA:ES&&ES in Object(n)?ZN(n):nA(n)}function pa(n){return n!=null&&typeof n=="object"}var iA="[object Symbol]";function ab(n){return typeof n=="symbol"||pa(n)&&Xo(n)==iA}var aA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oA=/^\w*$/;function Lw(n,e){if(xr(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||ab(n)?!0:oA.test(n)||!aA.test(n)||e!=null&&n in Object(e)}function zd(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var lA="[object AsyncFunction]",uA="[object Function]",cA="[object GeneratorFunction]",dA="[object Proxy]";function Yf(n){if(!zd(n))return!1;var e=Xo(n);return e==uA||e==cA||e==lA||e==dA}var y0=Jo["__core-js_shared__"],CS=(function(){var n=/[^.]+$/.exec(y0&&y0.keys&&y0.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function hA(n){return!!CS&&CS in n}var fA=Function.prototype,pA=fA.toString;function nh(n){if(n!=null){try{return pA.call(n)}catch{}try{return n+""}catch{}}return""}var gA=/[\\^$.*+?()[\]{}|]/g,mA=/^\[object .+?Constructor\]$/,vA=Function.prototype,yA=Object.prototype,bA=vA.toString,wA=yA.hasOwnProperty,_A=RegExp("^"+bA.call(wA).replace(gA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SA(n){if(!zd(n)||hA(n))return!1;var e=Yf(n)?_A:mA;return e.test(nh(n))}function xA(n,e){return n?.[e]}function rh(n,e){var t=xA(n,e);return SA(t)?t:void 0}var am=rh(Object,"create");function kA(){this.__data__=am?am(null):{},this.size=0}function EA(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var CA="__lodash_hash_undefined__",OA=Object.prototype,PA=OA.hasOwnProperty;function TA(n){var e=this.__data__;if(am){var t=e[n];return t===CA?void 0:t}return PA.call(e,n)?e[n]:void 0}var DA=Object.prototype,NA=DA.hasOwnProperty;function AA(n){var e=this.__data__;return am?e[n]!==void 0:NA.call(e,n)}var RA="__lodash_hash_undefined__";function IA(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=am&&e===void 0?RA:e,this}function Kd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Kd.prototype.clear=kA;Kd.prototype.delete=EA;Kd.prototype.get=TA;Kd.prototype.has=AA;Kd.prototype.set=IA;function MA(){this.__data__=[],this.size=0}function Uw(n,e){return n===e||n!==n&&e!==e}function ob(n,e){for(var t=n.length;t--;)if(Uw(n[t][0],e))return t;return-1}var jA=Array.prototype,$A=jA.splice;function LA(n){var e=this.__data__,t=ob(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():$A.call(e,t,1),--this.size,!0}function UA(n){var e=this.__data__,t=ob(e,n);return t<0?void 0:e[t][1]}function FA(n){return ob(this.__data__,n)>-1}function BA(n,e){var t=this.__data__,r=ob(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function du(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}du.prototype.clear=MA;du.prototype.delete=LA;du.prototype.get=UA;du.prototype.has=FA;du.prototype.set=BA;var om=rh(Jo,"Map");function WA(){this.size=0,this.__data__={hash:new Kd,map:new(om||du),string:new Kd}}function HA(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function lb(n,e){var t=n.__data__;return HA(e)?t[typeof e=="string"?"string":"hash"]:t.map}function qA(n){var e=lb(this,n).delete(n);return this.size-=e?1:0,e}function zA(n){return lb(this,n).get(n)}function KA(n){return lb(this,n).has(n)}function YA(n,e){var t=lb(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function hu(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}hu.prototype.clear=WA;hu.prototype.delete=qA;hu.prototype.get=zA;hu.prototype.has=KA;hu.prototype.set=YA;var GA="Expected a function";function ub(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(GA);var t=function(){var r=arguments,s=e?e.apply(this,r):r[0],o=t.cache;if(o.has(s))return o.get(s);var c=n.apply(this,r);return t.cache=o.set(s,c)||o,c};return t.cache=new(ub.Cache||hu),t}ub.Cache=hu;var VA=500;function QA(n){var e=ub(n,function(r){return t.size===VA&&t.clear(),r}),t=e.cache;return e}var JA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XA=/\\(\\)?/g,ZA=QA(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(JA,function(t,r,s,o){e.push(s?o.replace(XA,"$1"):r||t)}),e});function Fw(n,e){for(var t=-1,r=n==null?0:n.length,s=Array(r);++t<r;)s[t]=e(n[t],t,n);return s}var OS=Ko?Ko.prototype:void 0,PS=OS?OS.toString:void 0;function hE(n){if(typeof n=="string")return n;if(xr(n))return Fw(n,hE)+"";if(ab(n))return PS?PS.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Yd(n){return n==null?"":hE(n)}function Rm(n,e){return xr(n)?n:Lw(n,e)?[n]:ZA(Yd(n))}var eR="[object Arguments]";function TS(n){return pa(n)&&Xo(n)==eR}var fE=Object.prototype,tR=fE.hasOwnProperty,nR=fE.propertyIsEnumerable,cb=TS((function(){return arguments})())?TS:function(n){return pa(n)&&tR.call(n,"callee")&&!nR.call(n,"callee")},rR=9007199254740991,sR=/^(?:0|[1-9]\d*)$/;function Bw(n,e){var t=typeof n;return e=e??rR,!!e&&(t=="number"||t!="symbol"&&sR.test(n))&&n>-1&&n%1==0&&n<e}var iR=9007199254740991;function Ww(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=iR}function Sp(n){if(typeof n=="string"||ab(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function aR(n,e,t){e=Rm(e,n);for(var r=-1,s=e.length,o=!1;++r<s;){var c=Sp(e[r]);if(!(o=n!=null&&t(n,c)))break;n=n[c]}return o||++r!=s?o:(s=n==null?0:n.length,!!s&&Ww(s)&&Bw(c,s)&&(xr(n)||cb(n)))}function pE(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function oR(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function db(n,e){e=Rm(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Sp(e[t++])];return t&&t==r?n:void 0}function Hw(n,e,t){var r=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(s);++r<s;)o[r]=n[r+e];return o}function lR(n,e){return e.length<2?n:db(n,Hw(e,0,-1))}function uR(n,e,t){e=Rm(e,n),n=lR(n,e);var r=n==null?n:n[Sp(oR(e))];return r==null?void 0:pE(r,n,t)}function Im(n){return n}var DS=Math.max;function gE(n,e,t){return e=DS(e===void 0?n.length-1:e,0),function(){for(var r=arguments,s=-1,o=DS(r.length-e,0),c=Array(o);++s<o;)c[s]=r[e+s];s=-1;for(var d=Array(e+1);++s<e;)d[s]=r[s];return d[e]=t(c),pE(n,this,d)}}function mE(n){return function(){return n}}var My=(function(){try{var n=rh(Object,"defineProperty");return n({},"",{}),n}catch{}})(),cR=My?function(n,e){return My(n,"toString",{configurable:!0,enumerable:!1,value:mE(e),writable:!0})}:Im,dR=800,hR=16,fR=Date.now;function pR(n){var e=0,t=0;return function(){var r=fR(),s=hR-(r-t);if(t=r,s>0){if(++e>=dR)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var vE=pR(cR);function hb(n,e){return vE(gE(n,e,Im),n+"")}var it=hb(uR);function gR(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ya(n){return n===void 0}function mR(n,e,t){return n===n&&(t!==void 0&&(n=n<=t?n:t),e!==void 0&&(n=n>=e?n:e)),n}var vR=/\s/;function yR(n){for(var e=n.length;e--&&vR.test(n.charAt(e)););return e}var bR=/^\s+/;function wR(n){return n&&n.slice(0,yR(n)+1).replace(bR,"")}var NS=NaN,_R=/^[-+]0x[0-9a-f]+$/i,SR=/^0b[01]+$/i,xR=/^0o[0-7]+$/i,kR=parseInt;function Ff(n){if(typeof n=="number")return n;if(ab(n))return NS;if(zd(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=zd(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=wR(n);var t=SR.test(n);return t||xR.test(n)?kR(n.slice(2),t?2:8):_R.test(n)?NS:+n}var AS=1/0,ER=17976931348623157e292;function V0(n){if(!n)return n===0?n:0;if(n=Ff(n),n===AS||n===-AS){var e=n<0?-1:1;return e*ER}return n===n?n:0}function fb(n){var e=V0(n),t=e%1;return e===e?t?e-t:e:0}function yE(n,e){for(var t=-1,r=n==null?0:n.length,s=0,o=[];++t<r;){var c=n[t];e(c,t,n)&&(o[s++]=c)}return o}function CR(n){return function(e,t,r){for(var s=-1,o=Object(e),c=r(e),d=c.length;d--;){var p=c[++s];if(t(o[p],p,o)===!1)break}return e}}var OR=CR();function PR(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}function TR(){return!1}var bE=typeof Vl=="object"&&Vl&&!Vl.nodeType&&Vl,RS=bE&&typeof Ql=="object"&&Ql&&!Ql.nodeType&&Ql,DR=RS&&RS.exports===bE,IS=DR?Jo.Buffer:void 0,NR=IS?IS.isBuffer:void 0,jy=NR||TR,AR="[object Arguments]",RR="[object Array]",IR="[object Boolean]",MR="[object Date]",jR="[object Error]",$R="[object Function]",LR="[object Map]",UR="[object Number]",FR="[object Object]",BR="[object RegExp]",WR="[object Set]",HR="[object String]",qR="[object WeakMap]",zR="[object ArrayBuffer]",KR="[object DataView]",YR="[object Float32Array]",GR="[object Float64Array]",VR="[object Int8Array]",QR="[object Int16Array]",JR="[object Int32Array]",XR="[object Uint8Array]",ZR="[object Uint8ClampedArray]",eI="[object Uint16Array]",tI="[object Uint32Array]",Un={};Un[YR]=Un[GR]=Un[VR]=Un[QR]=Un[JR]=Un[XR]=Un[ZR]=Un[eI]=Un[tI]=!0;Un[AR]=Un[RR]=Un[zR]=Un[IR]=Un[KR]=Un[MR]=Un[jR]=Un[$R]=Un[LR]=Un[UR]=Un[FR]=Un[BR]=Un[WR]=Un[HR]=Un[qR]=!1;function nI(n){return pa(n)&&Ww(n.length)&&!!Un[Xo(n)]}function rI(n){return function(e){return n(e)}}var wE=typeof Vl=="object"&&Vl&&!Vl.nodeType&&Vl,Jg=wE&&typeof Ql=="object"&&Ql&&!Ql.nodeType&&Ql,sI=Jg&&Jg.exports===wE,b0=sI&&cE.process,MS=(function(){try{var n=Jg&&Jg.require&&Jg.require("util").types;return n||b0&&b0.binding&&b0.binding("util")}catch{}})(),jS=MS&&MS.isTypedArray,qw=jS?rI(jS):nI,iI=Object.prototype,aI=iI.hasOwnProperty;function oI(n,e){var t=xr(n),r=!t&&cb(n),s=!t&&!r&&jy(n),o=!t&&!r&&!s&&qw(n),c=t||r||s||o,d=c?PR(n.length,String):[],p=d.length;for(var v in n)aI.call(n,v)&&!(c&&(v=="length"||s&&(v=="offset"||v=="parent")||o&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Bw(v,p)))&&d.push(v);return d}var lI=Object.prototype;function _E(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||lI;return n===t}function SE(n,e){return function(t){return n(e(t))}}var uI=SE(Object.keys,Object),cI=Object.prototype,dI=cI.hasOwnProperty;function zw(n){if(!_E(n))return uI(n);var e=[];for(var t in Object(n))dI.call(n,t)&&t!="constructor"&&e.push(t);return e}function _c(n){return n!=null&&Ww(n.length)&&!Yf(n)}function xp(n){return _c(n)?oI(n):zw(n)}function xE(n,e){return n&&OR(n,e,xp)}function hI(n,e){return function(t,r){if(t==null)return t;if(!_c(t))return n(t,r);for(var s=t.length,o=-1,c=Object(t);++o<s&&r(c[o],o,c)!==!1;);return t}}var kp=hI(xE);function fI(n,e){var t=[];return kp(n,function(r,s,o){e(r,s,o)&&t.push(r)}),t}function pI(){this.__data__=new du,this.size=0}function gI(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function mI(n){return this.__data__.get(n)}function vI(n){return this.__data__.has(n)}var yI=200;function bI(n,e){var t=this.__data__;if(t instanceof du){var r=t.__data__;if(!om||r.length<yI-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new hu(r)}return t.set(n,e),this.size=t.size,this}function Jl(n){var e=this.__data__=new du(n);this.size=e.size}Jl.prototype.clear=pI;Jl.prototype.delete=gI;Jl.prototype.get=mI;Jl.prototype.has=vI;Jl.prototype.set=bI;var wI="__lodash_hash_undefined__";function _I(n){return this.__data__.set(n,wI),this}function SI(n){return this.__data__.has(n)}function Gf(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new hu;++e<t;)this.add(n[e])}Gf.prototype.add=Gf.prototype.push=_I;Gf.prototype.has=SI;function kE(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function Kw(n,e){return n.has(e)}var xI=1,kI=2;function EE(n,e,t,r,s,o){var c=t&xI,d=n.length,p=e.length;if(d!=p&&!(c&&p>d))return!1;var v=o.get(n),b=o.get(e);if(v&&b)return v==e&&b==n;var x=-1,E=!0,C=t&kI?new Gf:void 0;for(o.set(n,e),o.set(e,n);++x<d;){var N=n[x],A=e[x];if(r)var I=c?r(A,N,x,e,n,o):r(N,A,x,n,e,o);if(I!==void 0){if(I)continue;E=!1;break}if(C){if(!kE(e,function(L,G){if(!Kw(C,G)&&(N===L||s(N,L,t,r,o)))return C.push(G)})){E=!1;break}}else if(!(N===A||s(N,A,t,r,o))){E=!1;break}}return o.delete(n),o.delete(e),E}var $S=Jo.Uint8Array;function EI(n){var e=-1,t=Array(n.size);return n.forEach(function(r,s){t[++e]=[s,r]}),t}function Yw(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var CI=1,OI=2,PI="[object Boolean]",TI="[object Date]",DI="[object Error]",NI="[object Map]",AI="[object Number]",RI="[object RegExp]",II="[object Set]",MI="[object String]",jI="[object Symbol]",$I="[object ArrayBuffer]",LI="[object DataView]",LS=Ko?Ko.prototype:void 0,w0=LS?LS.valueOf:void 0;function UI(n,e,t,r,s,o,c){switch(t){case LI:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case $I:return!(n.byteLength!=e.byteLength||!o(new $S(n),new $S(e)));case PI:case TI:case AI:return Uw(+n,+e);case DI:return n.name==e.name&&n.message==e.message;case RI:case MI:return n==e+"";case NI:var d=EI;case II:var p=r&CI;if(d||(d=Yw),n.size!=e.size&&!p)return!1;var v=c.get(n);if(v)return v==e;r|=OI,c.set(n,e);var b=EE(d(n),d(e),r,s,o,c);return c.delete(n),b;case jI:if(w0)return w0.call(n)==w0.call(e)}return!1}function CE(n,e){for(var t=-1,r=e.length,s=n.length;++t<r;)n[s+t]=e[t];return n}function FI(n,e,t){var r=e(n);return xr(n)?r:CE(r,t(n))}function BI(){return[]}var WI=Object.prototype,HI=WI.propertyIsEnumerable,US=Object.getOwnPropertySymbols,qI=US?function(n){return n==null?[]:(n=Object(n),yE(US(n),function(e){return HI.call(n,e)}))}:BI;function FS(n){return FI(n,xp,qI)}var zI=1,KI=Object.prototype,YI=KI.hasOwnProperty;function GI(n,e,t,r,s,o){var c=t&zI,d=FS(n),p=d.length,v=FS(e),b=v.length;if(p!=b&&!c)return!1;for(var x=p;x--;){var E=d[x];if(!(c?E in e:YI.call(e,E)))return!1}var C=o.get(n),N=o.get(e);if(C&&N)return C==e&&N==n;var A=!0;o.set(n,e),o.set(e,n);for(var I=c;++x<p;){E=d[x];var L=n[E],G=e[E];if(r)var W=c?r(G,L,E,e,n,o):r(L,G,E,n,e,o);if(!(W===void 0?L===G||s(L,G,t,r,o):W)){A=!1;break}I||(I=E=="constructor")}if(A&&!I){var Q=n.constructor,z=e.constructor;Q!=z&&"constructor"in n&&"constructor"in e&&!(typeof Q=="function"&&Q instanceof Q&&typeof z=="function"&&z instanceof z)&&(A=!1)}return o.delete(n),o.delete(e),A}var Q0=rh(Jo,"DataView"),J0=rh(Jo,"Promise"),Bf=rh(Jo,"Set"),X0=rh(Jo,"WeakMap"),BS="[object Map]",VI="[object Object]",WS="[object Promise]",HS="[object Set]",qS="[object WeakMap]",zS="[object DataView]",QI=nh(Q0),JI=nh(om),XI=nh(J0),ZI=nh(Bf),eM=nh(X0),Ro=Xo;(Q0&&Ro(new Q0(new ArrayBuffer(1)))!=zS||om&&Ro(new om)!=BS||J0&&Ro(J0.resolve())!=WS||Bf&&Ro(new Bf)!=HS||X0&&Ro(new X0)!=qS)&&(Ro=function(n){var e=Xo(n),t=e==VI?n.constructor:void 0,r=t?nh(t):"";if(r)switch(r){case QI:return zS;case JI:return BS;case XI:return WS;case ZI:return HS;case eM:return qS}return e});var tM=1,KS="[object Arguments]",YS="[object Array]",qv="[object Object]",nM=Object.prototype,GS=nM.hasOwnProperty;function rM(n,e,t,r,s,o){var c=xr(n),d=xr(e),p=c?YS:Ro(n),v=d?YS:Ro(e);p=p==KS?qv:p,v=v==KS?qv:v;var b=p==qv,x=v==qv,E=p==v;if(E&&jy(n)){if(!jy(e))return!1;c=!0,b=!1}if(E&&!b)return o||(o=new Jl),c||qw(n)?EE(n,e,t,r,s,o):UI(n,e,p,t,r,s,o);if(!(t&tM)){var C=b&&GS.call(n,"__wrapped__"),N=x&&GS.call(e,"__wrapped__");if(C||N){var A=C?n.value():n,I=N?e.value():e;return o||(o=new Jl),s(A,I,t,r,o)}}return E?(o||(o=new Jl),GI(n,e,t,r,s,o)):!1}function pb(n,e,t,r,s){return n===e?!0:n==null||e==null||!pa(n)&&!pa(e)?n!==n&&e!==e:rM(n,e,t,r,pb,s)}var sM=1,iM=2;function aM(n,e,t,r){var s=t.length,o=s;if(n==null)return!o;for(n=Object(n);s--;){var c=t[s];if(c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++s<o;){c=t[s];var d=c[0],p=n[d],v=c[1];if(c[2]){if(p===void 0&&!(d in n))return!1}else{var b=new Jl,x;if(!(x===void 0?pb(v,p,sM|iM,r,b):x))return!1}}return!0}function OE(n){return n===n&&!zd(n)}function oM(n){for(var e=xp(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,OE(s)]}return e}function PE(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function lM(n){var e=oM(n);return e.length==1&&e[0][2]?PE(e[0][0],e[0][1]):function(t){return t===n||aM(t,n,e)}}function Uo(n,e,t){var r=n==null?void 0:db(n,e);return r===void 0?t:r}function uM(n,e){return n!=null&&e in Object(n)}function TE(n,e){return n!=null&&aR(n,e,uM)}var cM=1,dM=2;function hM(n,e){return Lw(n)&&OE(e)?PE(Sp(n),e):function(t){var r=Uo(t,n);return r===void 0&&r===e?TE(t,n):pb(e,r,cM|dM)}}function DE(n){return function(e){return e?.[n]}}function fM(n){return function(e){return db(e,n)}}function pM(n){return Lw(n)?DE(Sp(n)):fM(n)}function sh(n){return typeof n=="function"?n:n==null?Im:typeof n=="object"?xr(n)?hM(n[0],n[1]):lM(n):pM(n)}function VS(n,e){var t=xr(n)?yE:fI;return t(n,sh(e))}var gM="[object Map]",mM="[object Set]",vM=Object.prototype,yM=vM.hasOwnProperty;function zv(n){if(n==null)return!0;if(_c(n)&&(xr(n)||typeof n=="string"||typeof n.splice=="function"||jy(n)||qw(n)||cb(n)))return!n.length;var e=Ro(n);if(e==gM||e==mM)return!n.size;if(_E(n))return!zw(n).length;for(var t in n)if(yM.call(n,t))return!1;return!0}function NE(n,e,t,r){for(var s=n.length,o=t+-1;++o<s;)if(e(n[o],o,n))return o;return-1}function bM(n){return n!==n}function wM(n,e,t){for(var r=t-1,s=n.length;++r<s;)if(n[r]===e)return r;return-1}function AE(n,e,t){return e===e?wM(n,e,t):NE(n,bM,t)}function RE(n,e){var t=n==null?0:n.length;return!!t&&AE(n,e,0)>-1}function $y(n){return pa(n)&&_c(n)}function _M(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}function SM(n){return typeof n=="function"?n:Im}function xM(n,e){var t=xr(n)?_M:kp;return t(n,SM(e))}var kM=function(e){return"default"+(e[0].toUpperCase()+e.slice(1))},EM=function(e,t,r,s){var o=t[e];if(o!==void 0)return o;{var c=t[kM(e)];if(c!==void 0)return c;if(r){var d=r[e];if(d!==void 0)return d}}if(e==="checked")return!1;if(e==="value")return t.multiple?[]:""},Mm=(function(n){In(e,n);function e(){for(var t,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];t=n.call.apply(n,[this].concat(s))||this;var c=t.constructor,d=c.autoControlledProps,p=c.getAutoControlledStateFromProps,v=it(gR(t),"getInitialAutoControlledState",t.props)||{},b=d.reduce(function(x,E){return x[E]=EM(E,t.props,v),x},{});return t.state=Ie({},v,b,{autoControlledProps:d,getAutoControlledStateFromProps:p}),t}return e.getDerivedStateFromProps=function(r,s){var o=s.autoControlledProps,c=s.getAutoControlledStateFromProps,d=o.reduce(function(v,b){var x=!Ya(r[b]);return x&&(v[b]=r[b]),v},{});if(c){var p=c(r,Ie({},s,d),s);return Ie({},d,p)}return d},e.getAutoControlledStateFromProps=function(){return null},e})(J.Component);function CM(n){return function(e,t,r){var s=Object(e);if(!_c(e)){var o=sh(t);e=xp(e),t=function(d){return o(s[d],d,s)}}var c=n(e,t,r);return c>-1?s[o?e[c]:c]:void 0}}var OM=Math.max;function Z0(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var s=t==null?0:fb(t);return s<0&&(s=OM(r+s,0)),NE(n,sh(e),s)}var IE=CM(Z0);function PM(n,e){var t;return kp(n,function(r,s,o){return t=e(r,s,o),!t}),!!t}function Xg(n,e,t){var r=xr(n)?kE:PM;return r(n,sh(e))}var TM=function(e,t){return Xg(X.Children.toArray(e),{type:t})},Dt=function(e){return e==null||Array.isArray(e)&&e.length===0},DM={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function QS(n){var e=typeof n;return e==="string"||e==="number"?DM[n]||n:""}var ue=function(e,t){return e&&t},Ws=function(e,t){return e&&e!==!0&&e+" "+t},rr=function(e,t){return e&&(e===!0?t:e+" "+t)},gb=function(e){return e==="justified"?"justified":Ws(e,"aligned")},jm=function(e){return Ws(e,"aligned")},ih=function(e,t,r){if(t===void 0&&(t=""),r===void 0&&(r=!1),r&&e==="equal")return"equal width";var s=typeof e;return(s==="string"||s==="number")&&t?QS(e)+" "+t:QS(e)},NM=200;function ME(n,e,t,r){var s=-1,o=RE,c=!0,d=n.length,p=[],v=e.length;if(!d)return p;e.length>=NM&&(o=Kw,c=!1,e=new Gf(e));e:for(;++s<d;){var b=n[s],x=b;if(b=b!==0?b:0,c&&x===x){for(var E=v;E--;)if(e[E]===x)continue e;p.push(b)}else o(e,x,r)||p.push(b)}return p}var JS=Ko?Ko.isConcatSpreadable:void 0;function AM(n){return xr(n)||cb(n)||!!(JS&&n&&n[JS])}function Gw(n,e,t,r,s){var o=-1,c=n.length;for(t||(t=AM),s||(s=[]);++o<c;){var d=n[o];t(d)?CE(s,d):r||(s[s.length]=d)}return s}var XS=hb(function(n,e){return $y(n)?ME(n,Gw(e,1,$y,!0)):[]});function RM(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:Hw(n,e,t)}function IM(n){return n.split("")}var MM="\\ud800-\\udfff",jM="\\u0300-\\u036f",$M="\\ufe20-\\ufe2f",LM="\\u20d0-\\u20ff",UM=jM+$M+LM,FM="\\ufe0e\\ufe0f",BM="\\u200d",WM=RegExp("["+BM+MM+UM+FM+"]");function Vw(n){return WM.test(n)}var jE="\\ud800-\\udfff",HM="\\u0300-\\u036f",qM="\\ufe20-\\ufe2f",zM="\\u20d0-\\u20ff",KM=HM+qM+zM,YM="\\ufe0e\\ufe0f",GM="["+jE+"]",ew="["+KM+"]",tw="\\ud83c[\\udffb-\\udfff]",VM="(?:"+ew+"|"+tw+")",$E="[^"+jE+"]",LE="(?:\\ud83c[\\udde6-\\uddff]){2}",UE="[\\ud800-\\udbff][\\udc00-\\udfff]",QM="\\u200d",FE=VM+"?",BE="["+YM+"]?",JM="(?:"+QM+"(?:"+[$E,LE,UE].join("|")+")"+BE+FE+")*",XM=BE+FE+JM,ZM="(?:"+[$E+ew+"?",ew,LE,UE,GM].join("|")+")",ej=RegExp(tw+"(?="+tw+")|"+ZM+XM,"g");function tj(n){return n.match(ej)||[]}function nj(n){return Vw(n)?tj(n):IM(n)}function rj(n,e,t){e=="__proto__"&&My?My(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var sj=Object.prototype,ij=sj.hasOwnProperty;function aj(n,e,t){var r=n[e];(!(ij.call(n,e)&&Uw(r,t))||t===void 0&&!(e in n))&&rj(n,e,t)}function WE(n,e,t,r){if(!zd(n))return n;e=Rm(e,n);for(var s=-1,o=e.length,c=o-1,d=n;d!=null&&++s<o;){var p=Sp(e[s]),v=t;if(p==="__proto__"||p==="constructor"||p==="prototype")return n;if(s!=c){var b=d[p];v=void 0,v===void 0&&(v=zd(b)?b:Bw(e[s+1])?[]:{})}aj(d,p,v),d=d[p]}return n}function oj(n,e,t){for(var r=-1,s=e.length,o={};++r<s;){var c=e[r],d=db(n,c);t(d,c)&&WE(o,Rm(c,n),d)}return o}function lj(n,e){return oj(n,e,function(t,r){return TE(n,r)})}function uj(n){var e=n==null?0:n.length;return e?Gw(n):[]}function cj(n){return vE(gE(n,void 0,uj),n+"")}var HE=cj(function(n,e){return n==null?{}:lj(n,e)}),dj=SE(Object.getPrototypeOf,Object),hj="[object Object]",fj=Function.prototype,pj=Object.prototype,qE=fj.toString,gj=pj.hasOwnProperty,mj=qE.call(Object);function zE(n){if(!pa(n)||Xo(n)!=hj)return!1;var e=dj(n);if(e===null)return!0;var t=gj.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&qE.call(t)==mj}function Yt(n){return n==null}function vj(n,e){var t=-1,r=_c(n)?Array(n.length):[];return kp(n,function(s,o,c){r[++t]=e(s,o,c)}),r}function Xa(n,e){var t=xr(n)?Fw:vj;return t(n,sh(e))}var Kv={exports:{}},$g={},_0={exports:{}};var ZS;function yj(){return ZS||(ZS=1,(function(n){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};n.exports?n.exports=t:window.ExecutionEnvironment=t})()})(_0)),_0.exports}var ex;function bj(){if(ex)return $g;ex=1,Object.defineProperty($g,"__esModule",{value:!0});var n=yj(),e=sb();function t(K){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(K)}function r(K,H){if(!(K instanceof H))throw new TypeError("Cannot call a class as a function")}function s(K,H){for(var Y=0;Y<H.length;Y++){var re=H[Y];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(K,re.key,re)}}function o(K,H,Y){return H&&s(K.prototype,H),K}function c(K,H,Y){return H in K?Object.defineProperty(K,H,{value:Y,enumerable:!0,configurable:!0,writable:!0}):K[H]=Y,K}function d(K,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(H&&H.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),H&&v(K,H)}function p(K){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)})(K)}function v(K,H){return(v=Object.setPrototypeOf||function(Y,re){return Y.__proto__=re,Y})(K,H)}function b(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function x(K,H){return!H||typeof H!="object"&&typeof H!="function"?b(K):H}var E=(function(){function K(H){r(this,K),c(this,"handlers",void 0),this.handlers=H.slice(0)}return o(K,[{key:"addHandlers",value:function(H){for(var Y=this.handlers.slice(0),re=H.length,ve=0;ve<re;ve+=1)Y.push(H[ve]);return new K(Y)}},{key:"dispatchEvent",value:function(H,Y){var re=this.handlers.length-1;if(Y){for(var ve=re;ve>=0;ve-=1)this.handlers[ve].called||(this.handlers[ve].called=!0,this.handlers[ve](H));for(var _e=re;_e>=0;_e-=1)this.handlers[_e].called=!1}else(0,this.handlers[re])(H)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(H){for(var Y=[],re=this.handlers.length,ve=0;ve<re;ve+=1){var _e=this.handlers[ve];H.indexOf(_e)===-1&&Y.push(_e)}return new K(Y)}}]),K})();function C(K){var H=new Map;return K.forEach(function(Y,re){H.set(re,Y)}),H}function N(K){return Array.isArray(K)?K:[K]}var A=function(K){return K!==null&&t(K)==="object"&&K.hasOwnProperty("current")};function I(K){return K==="document"?document:K==="window"?window:A(K)?K.current||document:K||document}var L=(function(){function K(H,Y){r(this,K),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=Y,this.poolName=H}return o(K,[{key:"addHandlers",value:function(H,Y){var re=C(this.handlerSets);if(re.has(H)){var ve=re.get(H);re.set(H,ve.addHandlers(Y))}else re.set(H,new E(Y));return new K(this.poolName,re)}},{key:"dispatchEvent",value:function(H,Y){var re=this.handlerSets.get(H),ve=this.poolName==="default";re&&re.dispatchEvent(Y,ve)}},{key:"hasHandlers",value:function(H){if(!H)return this.handlerSets.size>0;var Y=this.handlerSets.get(H);return!!Y&&Y.hasHandlers()}},{key:"removeHandlers",value:function(H,Y){var re=C(this.handlerSets);if(!re.has(H))return new K(this.poolName,re);var ve=re.get(H).removeHandlers(Y);return ve.hasHandlers()?re.set(H,ve):re.delete(H),new K(this.poolName,re)}}]),K})();c(L,"createByType",function(K,H,Y){var re=new Map;return re.set(H,new E(Y)),new L(K,re)});var G=(function(){function K(H){var Y=this;r(this,K),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",function(re){return function(ve){Y.pools.forEach(function(_e){_e.dispatchEvent(re,ve)})}}),this.target=H}return o(K,[{key:"addHandlers",value:function(H,Y,re){if(this.pools.has(H)){var ve=this.pools.get(H);this.pools.set(H,ve.addHandlers(Y,re))}else this.pools.set(H,L.createByType(H,Y,re));this.handlers.has(Y)||this.addTargetHandler(Y)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(H,Y,re){if(this.pools.has(H)){var ve=this.pools.get(H).removeHandlers(Y,re);ve.hasHandlers()?this.pools.set(H,ve):this.pools.delete(H);var _e=!1;this.pools.forEach(function(ke){return _e=_e||ke.hasHandlers(Y)}),_e||this.removeTargetHandler(Y)}}},{key:"addTargetHandler",value:function(H){var Y=this.createEmitter(H);this.handlers.set(H,Y),this.target.addEventListener(H,Y,!0)}},{key:"removeTargetHandler",value:function(H){this.handlers.has(H)&&(this.target.removeEventListener(H,this.handlers.get(H),!0),this.handlers.delete(H))}}]),K})(),W=(function(){function K(){var H=this;r(this,K),c(this,"targets",new Map),c(this,"getTarget",function(Y){var re=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ve=I(Y);if(H.targets.has(ve))return H.targets.get(ve);if(!re)return null;var _e=new G(ve);return H.targets.set(ve,_e),_e}),c(this,"removeTarget",function(Y){H.targets.delete(I(Y))})}return o(K,[{key:"sub",value:function(H,Y){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.canUseDOM){var ve=re.target,_e=ve===void 0?document:ve,ke=re.pool,Re=ke===void 0?"default":ke;this.getTarget(_e).addHandlers(Re,H,N(Y))}}},{key:"unsub",value:function(H,Y){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.canUseDOM){var ve=re.target,_e=ve===void 0?document:ve,ke=re.pool,Re=ke===void 0?"default":ke,Ee=this.getTarget(_e,!1);Ee&&(Ee.removeHandlers(Re,H,N(Y)),Ee.hasHandlers()||this.removeTarget(_e))}}}]),K})(),Q=new W,z=(function(K){function H(){return r(this,H),x(this,p(H).apply(this,arguments))}return d(H,e.PureComponent),o(H,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(Y){this.unsubscribe(Y),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(Y){var re=Y.name,ve=Y.on,_e=Y.pool,ke=Y.target;Q.sub(re,ve,{pool:_e,target:ke})}},{key:"unsubscribe",value:function(Y){var re=Y.name,ve=Y.on,_e=Y.pool,ke=Y.target;Q.unsub(re,ve,{pool:_e,target:ke})}},{key:"render",value:function(){return null}}]),H})();return c(z,"defaultProps",{pool:"default",target:"document"}),z.propTypes={},$g.instance=Q,$g.default=z,$g}var tx;function wj(){if(tx)return Kv.exports;tx=1;var n;return n=bj(),Kv.exports=n.default,Kv.exports.instance=n.instance,Kv.exports}var KE=wj();const Gl=mr(KE),_j=KE.instance;function YE(){}var Sj=1/0,xj=Bf&&1/Yw(new Bf([,-0]))[1]==Sj?function(n){return new Bf(n)}:YE,kj=200;function GE(n,e,t){var r=-1,s=RE,o=n.length,c=!0,d=[],p=d;if(o>=kj){var v=xj(n);if(v)return Yw(v);c=!1,s=Kw,p=new Gf}else p=d;e:for(;++r<o;){var b=n[r],x=b;if(b=b!==0?b:0,c&&x===x){for(var E=p.length;E--;)if(p[E]===x)continue e;d.push(b)}else s(p,x,t)||(p!==d&&p.push(x),d.push(b))}return d}function Ej(n){return n&&n.length?GE(n):[]}var Cj="[object Number]";function Oj(n){return typeof n=="number"||pa(n)&&Xo(n)==Cj}var Pj="[object String]";function Qw(n){return typeof n=="string"||!xr(n)&&pa(n)&&Xo(n)==Pj}var Tj="[object Boolean]";function Dj(n){return n===!0||n===!1||pa(n)&&Xo(n)==Tj}function VE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=VE(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function ct(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=VE(n))&&(r&&(r+=" "),r+=e);return r}function nw(n,e,t,r){if(r===void 0&&(r={}),typeof n!="function"&&typeof n!="string")throw new Error("createShorthand() Component must be a string or function.");if(Yt(t)||Dj(t))return null;var s=Qw(t),o=Oj(t),c=Yf(t),d=X.isValidElement(t),p=zE(t),v=s||o||xr(t);if(!c&&!d&&!p&&!v)return null;var b=r,x=b.defaultProps,E=x===void 0?{}:x,C=d&&t.props||p&&t||v&&e(t),N=r,A=N.overrideProps,I=A===void 0?{}:A;I=Yf(I)?I(Ie({},E,C)):I;var L=Ie({},E,C,I);if(E.className||I.className||C.className){var G=ct(E.className,I.className,C.className);L.className=Ej(G.split(" ")).join(" ")}if((E.style||I.style||C.style)&&(L.style=Ie({},E.style,C.style,I.style)),Yt(L.key)){var W=L.childKey,Q=r,z=Q.autoGenerateKey,K=z===void 0?!0:z;Yt(W)?K&&(s||o)&&(L.key=t):(L.key=typeof W=="function"?W(L):W,delete L.childKey)}if(d)return X.cloneElement(t,L);if(typeof L.children=="function")return L.children(n,Ie({},L,{children:void 0}));if(v||p)return X.createElement(n,L);if(c)return t(n,L,L.children)}function gn(n,e){if(typeof n!="function"&&typeof n!="string")throw new Error("createShorthandFactory() Component must be a string or function.");return function(t,r){return nw(n,e,t,r)}}var QE=gn("div",function(n){return{children:n}}),Nj=gn("input",function(n){return{type:n}}),rw=gn("label",function(n){return{children:n}}),Aj=gn("p",function(n){return{children:n}}),ut=function(e,t){var r=e.handledProps,s=r===void 0?[]:r;return Object.keys(t).reduce(function(o,c){return c==="childKey"||s.indexOf(c)===-1&&(o[c]=t[c]),o},{})};function vt(n,e,t){var r=n.defaultProps,s=r===void 0?{}:r;if(e.as&&e.as!==s.as)return e.as;if(t){var o=t();if(o)return o}return e.href?"a":s.as||"div"}function Rj(n,e){return Fw(e,function(t){return n[t]})}function Ij(n){return n==null?[]:Rj(n,xp(n))}var Mj=Math.max;function Qa(n,e,t,r){n=_c(n)?n:Ij(n),t=t?fb(t):0;var s=n.length;return t<0&&(t=Mj(s+t,0)),Qw(n)?t<=s&&n.indexOf(e,t)>-1:!!s&&AE(n,e,t)>-1}var JE=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],jj=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],$j=[].concat(JE,jj),Lj=["alt","height","src","srcSet","width","loading"],Jw=function(e,t){t===void 0&&(t={});var r=t,s=r.htmlProps,o=s===void 0?$j:s,c=r.includeAria,d=c===void 0?!0:c,p={},v={};return xM(e,function(b,x){var E=d&&(/^aria-.*$/.test(x)||x==="role"),C=Qa(o,x)||E?p:v;C[x]=b}),[p,v]},Uj=typeof document=="object"&&document!==null,Fj=typeof window=="object"&&window!==null&&window.self===window,sw=function n(){return Yt(n.override)?Uj&&Fj:n.override},Bj=Math.max,Wj=Math.min;function Hj(n,e,t){return n>=Wj(e,t)&&n<Bj(e,t)}function nx(n,e,t){return e=V0(e),t===void 0?(t=e,e=0):t=V0(t),n=Ff(n),Hj(n,e,t)}function qj(n){return n&&n.length?n[0]:void 0}var Zg=function(e,t){if(Xg([t,e],Yt))return!1;if(t.target&&(it(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return it(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var r=t.clientX,s=t.clientY;if(Xg([r,s],Yt))return!1;var o=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!o||!o.length)return!1;var c=qj(o),d=c.top,p=c.bottom,v=c.left,b=c.right;return Xg([d,p,v,b],Yt)?!1:nx(s,d,p+.001)&&nx(r,v,b+.001)};function zj(n,e){return pb(n,e)}var XE=hb(function(n,e){return $y(n)?ME(n,e):[]});function Vf(n){var e=n.children,t=n.className,r=n.content,s=n.size,o=ct(s,"icons",t),c=ut(Vf,n),d=vt(Vf,n);return J.createElement(d,Ie({},c,{className:o}),Dt(e)?r:e)}Vf.handledProps=["as","children","className","content","size"];Vf.propTypes={};Vf.defaultProps={as:"i"};var wn=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleClick=function(d){var p=r.props.disabled;if(p){d.preventDefault();return}it(r.props,"onClick",d,r.props)},r}var t=e.prototype;return t.getIconAriaOptions=function(){var s={},o=this.props,c=o["aria-label"],d=o["aria-hidden"];return Yt(c)?s["aria-hidden"]="true":s["aria-label"]=c,Yt(d)||(s["aria-hidden"]=d),s},t.render=function(){var s=this.props,o=s.bordered,c=s.circular,d=s.className,p=s.color,v=s.corner,b=s.disabled,x=s.fitted,E=s.flipped,C=s.inverted,N=s.link,A=s.loading,I=s.name,L=s.rotated,G=s.size,W=ct(p,I,G,ue(o,"bordered"),ue(c,"circular"),ue(b,"disabled"),ue(x,"fitted"),ue(C,"inverted"),ue(N,"link"),ue(A,"loading"),rr(v,"corner"),Ws(E,"flipped"),Ws(L,"rotated"),"icon",d),Q=ut(e,this.props),z=vt(e,this.props),K=this.getIconAriaOptions();return J.createElement(z,Ie({},Q,K,{className:W,onClick:this.handleClick}))},e})(X.PureComponent);wn.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"];wn.propTypes={};wn.defaultProps={as:"i"};wn.Group=Vf;wn.create=gn(wn,function(n){return{name:n}});var S0,rx;function Kj(){if(rx)return S0;rx=1;for(var n=function(d){return d!==null&&!Array.isArray(d)&&typeof d=="object"},e={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},t=0;t<24;t+=1)e[112+t]="F"+(t+1);for(var r=0;r<26;r+=1){var s=r+65;e[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var o={codes:e,getCode:function(d){return n(d)?d.keyCode||d.which||this[d.key]:this[d]},getKey:function(d){var p=n(d);if(p&&d.key)return d.key;var v=e[p?d.keyCode||d.which:d];return Array.isArray(v)&&(p?v=v[d.shiftKey?1:0]:v=v[0]),v},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};return o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],S0=o,S0}var Yj=Kj();const zr=mr(Yj);var mb=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleRef=function(d){Lo(r.props.innerRef,d)},r}var t=e.prototype;return t.componentDidMount=function(){it(this.props,"onMount",null,this.props)},t.componentWillUnmount=function(){it(this.props,"onUnmount",null,this.props)},t.render=function(){if(!sw())return null;var s=this.props,o=s.children,c=s.mountNode,d=c===void 0?document.body:c;return Kf.createPortal(J.createElement(zo,{innerRef:this.handleRef},o),d)},e})(X.Component);mb.handledProps=["children","innerRef","mountNode","onMount","onUnmount"];mb.propTypes={};var Xl=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.contentRef=J.createRef(),r.triggerRef=J.createRef(),r.latestDocumentMouseDownEvent=null,r.handleDocumentMouseDown=function(d){r.latestDocumentMouseDownEvent=d},r.handleDocumentClick=function(d){var p=r.props.closeOnDocumentClick,v=r.latestDocumentMouseDownEvent;r.latestDocumentMouseDownEvent=null,!(!r.contentRef.current||Zg(r.triggerRef.current,d)||v&&Zg(r.contentRef.current,v)||Zg(r.contentRef.current,d))&&p&&r.close(d)},r.handleEscape=function(d){r.props.closeOnEscape&&zr.getCode(d)===zr.Escape&&r.close(d)},r.handlePortalMouseLeave=function(d){var p=r.props,v=p.closeOnPortalMouseLeave,b=p.mouseLeaveDelay;v&&d.target===r.contentRef.current&&(r.mouseLeaveTimer=r.closeWithTimeout(d,b))},r.handlePortalMouseEnter=function(){var d=r.props.closeOnPortalMouseLeave;d&&clearTimeout(r.mouseLeaveTimer)},r.handleTriggerBlur=function(d){for(var p=r.props,v=p.trigger,b=p.closeOnTriggerBlur,x=arguments.length,E=new Array(x>1?x-1:0),C=1;C<x;C++)E[C-1]=arguments[C];it.apply(void 0,[v,"props.onBlur",d].concat(E));var N=d.relatedTarget||document.activeElement,A=it(r.contentRef.current,"contains",N);!b||A||r.close(d)},r.handleTriggerClick=function(d){for(var p=r.props,v=p.trigger,b=p.closeOnTriggerClick,x=p.openOnTriggerClick,E=r.state.open,C=arguments.length,N=new Array(C>1?C-1:0),A=1;A<C;A++)N[A-1]=arguments[A];it.apply(void 0,[v,"props.onClick",d].concat(N)),E&&b?r.close(d):!E&&x&&r.open(d)},r.handleTriggerFocus=function(d){for(var p=r.props,v=p.trigger,b=p.openOnTriggerFocus,x=arguments.length,E=new Array(x>1?x-1:0),C=1;C<x;C++)E[C-1]=arguments[C];it.apply(void 0,[v,"props.onFocus",d].concat(E)),b&&r.open(d)},r.handleTriggerMouseLeave=function(d){clearTimeout(r.mouseEnterTimer);for(var p=r.props,v=p.trigger,b=p.closeOnTriggerMouseLeave,x=p.mouseLeaveDelay,E=arguments.length,C=new Array(E>1?E-1:0),N=1;N<E;N++)C[N-1]=arguments[N];it.apply(void 0,[v,"props.onMouseLeave",d].concat(C)),b&&(r.mouseLeaveTimer=r.closeWithTimeout(d,x))},r.handleTriggerMouseEnter=function(d){clearTimeout(r.mouseLeaveTimer);for(var p=r.props,v=p.trigger,b=p.mouseEnterDelay,x=p.openOnTriggerMouseEnter,E=arguments.length,C=new Array(E>1?E-1:0),N=1;N<E;N++)C[N-1]=arguments[N];it.apply(void 0,[v,"props.onMouseEnter",d].concat(C)),x&&(r.mouseEnterTimer=r.openWithTimeout(d,b))},r.open=function(d){it(r.props,"onOpen",d,Ie({},r.props,{open:!0})),r.setState({open:!0})},r.openWithTimeout=function(d,p){var v=Ie({},d);return setTimeout(function(){return r.open(v)},p||0)},r.close=function(d){r.setState({open:!1}),it(r.props,"onClose",d,Ie({},r.props,{open:!1}))},r.closeWithTimeout=function(d,p){var v=Ie({},d);return setTimeout(function(){return r.close(v)},p||0)},r.handleMount=function(){it(r.props,"onMount",null,r.props)},r.handleUnmount=function(){it(r.props,"onUnmount",null,r.props)},r.handleTriggerRef=function(d){r.triggerRef.current=d,Lo(r.props.triggerRef,d)},r}var t=e.prototype;return t.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},t.render=function(){var s=this.props,o=s.children,c=s.eventPool,d=s.mountNode,p=s.trigger,v=this.state.open;return J.createElement(J.Fragment,null,v&&J.createElement(J.Fragment,null,J.createElement(mb,{innerRef:this.contentRef,mountNode:d,onMount:this.handleMount,onUnmount:this.handleUnmount},o),J.createElement(Gl,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:c,target:this.contentRef}),J.createElement(Gl,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:c,target:this.contentRef}),J.createElement(Gl,{name:"mousedown",on:this.handleDocumentMouseDown,pool:c}),J.createElement(Gl,{name:"click",on:this.handleDocumentClick,pool:c}),J.createElement(Gl,{name:"keydown",on:this.handleEscape,pool:c})),p&&J.createElement(zo,{innerRef:this.handleTriggerRef},J.cloneElement(p,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},e})(Mm);Xl.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"];Xl.propTypes={};Xl.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0};Xl.autoControlledProps=["open"];Xl.Inner=mb;function lm(n){var e=n.blurring,t=n.className,r=n.children,s=n.content,o=n.dimmed,c=ct(ue(e,"blurring"),ue(o,"dimmed"),"dimmable",t),d=ut(lm,n),p=vt(lm,n);return J.createElement(p,Ie({},d,{className:c}),Dt(r)?s:r)}lm.handledProps=["as","blurring","children","className","content","dimmed"];lm.propTypes={};var um=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.containerRef=X.createRef(),r.contentRef=X.createRef(),r.handleClick=function(d){var p=r.contentRef.current;it(r.props,"onClick",d,r.props),!(p&&p!==d.target&&Zg(p,d))&&it(r.props,"onClickOutside",d,r.props)},r}var t=e.prototype;return t.componentDidMount=function(){var s=this.props.active;this.toggleStyles(s)},t.componentDidUpdate=function(s){var o=this.props.active,c=s.active;c!==o&&this.toggleStyles(o)},t.toggleStyles=function(s){var o=this.containerRef.current;!o||!o.style||(s?o.style.setProperty("display","flex","important"):o.style.removeProperty("display"))},t.render=function(){var s=this.props,o=s.active,c=s.children,d=s.className,p=s.content,v=s.disabled,b=s.inverted,x=s.page,E=s.simple,C=s.verticalAlign,N=ct("ui",ue(o,"active transition visible"),ue(v,"disabled"),ue(b,"inverted"),ue(x,"page"),ue(E,"simple"),jm(C),"dimmer",d),A=ut(e,this.props),I=vt(e,this.props),L=Dt(c)?p:c;return J.createElement(zo,{innerRef:this.containerRef},J.createElement(I,Ie({},A,{className:N,onClick:this.handleClick}),L&&J.createElement("div",{className:"content",ref:this.contentRef},L)))},e})(X.Component);um.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"];um.propTypes={};var gi=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handlePortalMount=function(){sw()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},r.handlePortalUnmount=function(){sw()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.page,d=ut(e,this.props);return c?J.createElement(Xl,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:o,openOnTriggerClick:!1},J.createElement(um,Ie({},d,{active:o,page:c}))):J.createElement(um,Ie({},d,{active:o,page:c}))},e})(X.Component);gi.handledProps=["active","page"];gi.propTypes={};gi.Dimmable=lm;gi.Inner=um;gi.create=gn(gi,function(n){return{content:n}});function cm(n){var e=n.children,t=n.className,r=n.content,s=n.size,o=ct("ui",s,t,"images"),c=ut(cm,n),d=vt(cm,n);return J.createElement(d,Ie({},c,{className:o}),Dt(e)?r:e)}cm.handledProps=["as","children","className","content","size"];cm.propTypes={};function ga(n){var e=n.avatar,t=n.bordered,r=n.centered,s=n.children,o=n.circular,c=n.className,d=n.content,p=n.dimmer,v=n.disabled,b=n.floated,x=n.fluid,E=n.hidden,C=n.href,N=n.inline,A=n.label,I=n.rounded,L=n.size,G=n.spaced,W=n.verticalAlign,Q=n.wrapped,z=n.ui,K=ct(ue(z,"ui"),L,ue(e,"avatar"),ue(t,"bordered"),ue(o,"circular"),ue(r,"centered"),ue(v,"disabled"),ue(x,"fluid"),ue(E,"hidden"),ue(N,"inline"),ue(I,"rounded"),rr(G,"spaced"),Ws(b,"floated"),jm(W),"image",c),H=ut(ga,n),Y=Jw(H,{htmlProps:Lj}),re=Y[0],ve=Y[1],_e=vt(ga,n,function(){if(!Yt(p)||!Yt(A)||!Yt(Q)||!Dt(s))return"div"});return Dt(s)?Dt(d)?_e==="img"?J.createElement(_e,Ie({},ve,re,{className:K})):J.createElement(_e,Ie({},ve,{className:K,href:C}),gi.create(p,{autoGenerateKey:!1}),_s.create(A,{autoGenerateKey:!1}),J.createElement("img",re)):J.createElement(_e,Ie({},H,{className:K}),d):J.createElement(_e,Ie({},H,{className:K}),s)}ga.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"];ga.Group=cm;ga.propTypes={};ga.defaultProps={as:"img",ui:!0};ga.create=gn(ga,function(n){return{src:n}});function lc(n){var e=n.children,t=n.className,r=n.content,s=ct("detail",t),o=ut(lc,n),c=vt(lc,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?r:e)}lc.handledProps=["as","children","className","content"];lc.propTypes={};lc.create=gn(lc,function(n){return{content:n}});function dm(n){var e=n.children,t=n.circular,r=n.className,s=n.color,o=n.content,c=n.size,d=n.tag,p=ct("ui",s,c,ue(t,"circular"),ue(d,"tag"),"labels",r),v=ut(dm,n),b=vt(dm,n);return J.createElement(b,Ie({},v,{className:p}),Dt(e)?o:e)}dm.handledProps=["as","children","circular","className","color","content","size","tag"];dm.propTypes={};var _s=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleClick=function(d){var p=r.props.onClick;p&&p(d,r.props)},r.handleIconOverrides=function(d){return{onClick:function(v){it(d,"onClick",v),it(r.props,"onRemove",v,r.props)}}},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.attached,d=s.basic,p=s.children,v=s.circular,b=s.className,x=s.color,E=s.content,C=s.corner,N=s.detail,A=s.empty,I=s.floating,L=s.horizontal,G=s.icon,W=s.image,Q=s.onRemove,z=s.pointing,K=s.prompt,H=s.removeIcon,Y=s.ribbon,re=s.size,ve=s.tag,_e=z===!0&&"pointing"||(z==="left"||z==="right")&&z+" pointing"||(z==="above"||z==="below")&&"pointing "+z,ke=ct("ui",x,_e,re,ue(o,"active"),ue(d,"basic"),ue(v,"circular"),ue(A,"empty"),ue(I,"floating"),ue(L,"horizontal"),ue(W===!0,"image"),ue(K,"prompt"),ue(ve,"tag"),rr(C,"corner"),rr(Y,"ribbon"),Ws(c,"attached"),"label",b),Re=ut(e,this.props),Ee=vt(e,this.props);if(!Dt(p))return J.createElement(Ee,Ie({},Re,{className:ke,onClick:this.handleClick}),p);var he=Ya(H)?"delete":H;return J.createElement(Ee,Ie({className:ke,onClick:this.handleClick},Re),wn.create(G,{autoGenerateKey:!1}),typeof W!="boolean"&&ga.create(W,{autoGenerateKey:!1}),E,lc.create(N,{autoGenerateKey:!1}),Q&&wn.create(he,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},e})(X.Component);_s.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"];_s.propTypes={};_s.Detail=lc;_s.Group=dm;_s.create=gn(_s,function(n){return{content:n}});function hm(n){var e=n.children,t=n.className,r=n.content,s=n.hidden,o=n.visible,c=ct(ue(o,"visible"),ue(s,"hidden"),"content",t),d=ut(hm,n),p=vt(hm,n);return J.createElement(p,Ie({},d,{className:c}),Dt(e)?r:e)}hm.handledProps=["as","children","className","content","hidden","visible"];hm.propTypes={};function fm(n){var e=n.attached,t=n.basic,r=n.buttons,s=n.children,o=n.className,c=n.color,d=n.compact,p=n.content,v=n.floated,b=n.fluid,x=n.icon,E=n.inverted,C=n.labeled,N=n.negative,A=n.positive,I=n.primary,L=n.secondary,G=n.size,W=n.toggle,Q=n.vertical,z=n.widths,K=ct("ui",c,G,ue(t,"basic"),ue(d,"compact"),ue(b,"fluid"),ue(x,"icon"),ue(E,"inverted"),ue(C,"labeled"),ue(N,"negative"),ue(A,"positive"),ue(I,"primary"),ue(L,"secondary"),ue(W,"toggle"),ue(Q,"vertical"),rr(e,"attached"),Ws(v,"floated"),ih(z),"buttons",o),H=ut(fm,n),Y=vt(fm,n);return Yt(r)?J.createElement(Y,Ie({},H,{className:K}),Dt(s)?p:s):J.createElement(Y,Ie({},H,{className:K}),Xa(r,function(re){return Yn.create(re)}))}fm.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"];fm.propTypes={};function pm(n){var e=n.className,t=n.text,r=ct("or",e),s=ut(pm,n),o=vt(pm,n);return J.createElement(o,Ie({},s,{className:r,"data-text":t}))}pm.handledProps=["as","className","text"];pm.propTypes={};var Yn=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.ref=X.createRef(),r.computeElementType=function(){var d=r.props,p=d.attached,v=d.label;if(!Yt(p)||!Yt(v))return"div"},r.computeTabIndex=function(d){var p=r.props,v=p.disabled,b=p.tabIndex;if(!Yt(b))return b;if(v)return-1;if(d==="div")return 0},r.focus=function(d){return it(r.ref.current,"focus",d)},r.handleClick=function(d){var p=r.props.disabled;if(p){d.preventDefault();return}it(r.props,"onClick",d,r.props)},r.hasIconClass=function(){var d=r.props,p=d.labelPosition,v=d.children,b=d.content,x=d.icon;return x===!0?!0:x&&(p||Dt(v)&&Yt(b))},r}var t=e.prototype;return t.computeButtonAriaRole=function(s){var o=this.props.role;if(!Yt(o))return o;if(s!=="button")return"button"},t.render=function(){var s=this.props,o=s.active,c=s.animated,d=s.attached,p=s.basic,v=s.children,b=s.circular,x=s.className,E=s.color,C=s.compact,N=s.content,A=s.disabled,I=s.floated,L=s.fluid,G=s.icon,W=s.inverted,Q=s.label,z=s.labelPosition,K=s.loading,H=s.negative,Y=s.positive,re=s.primary,ve=s.secondary,_e=s.size,ke=s.toggle,Re=s.type,Ee=ct(E,_e,ue(o,"active"),ue(p,"basic"),ue(b,"circular"),ue(C,"compact"),ue(L,"fluid"),ue(this.hasIconClass(),"icon"),ue(W,"inverted"),ue(K,"loading"),ue(H,"negative"),ue(Y,"positive"),ue(re,"primary"),ue(ve,"secondary"),ue(ke,"toggle"),rr(c,"animated"),rr(d,"attached")),he=ct(rr(z||!!Q,"labeled")),ge=ct(ue(A,"disabled"),Ws(I,"floated")),me=ut(e,this.props),V=vt(e,this.props,this.computeElementType),Ne=this.computeTabIndex(V);if(!Yt(Q)){var De=ct("ui",Ee,"button",x),ie=ct("ui",he,"button",x,ge),Ce=_s.create(Q,{defaultProps:{basic:!0,pointing:z==="left"?"right":"left"},autoGenerateKey:!1});return J.createElement(V,Ie({},me,{className:ie,onClick:this.handleClick}),z==="left"&&Ce,J.createElement(zo,{innerRef:this.ref},J.createElement("button",{className:De,"aria-pressed":ke?!!o:void 0,disabled:A,type:Re,tabIndex:Ne},wn.create(G,{autoGenerateKey:!1})," ",N)),(z==="right"||!z)&&Ce)}var Ue=ct("ui",Ee,ge,he,"button",x),Qe=!Dt(v),rt=this.computeButtonAriaRole(V);return J.createElement(zo,{innerRef:this.ref},J.createElement(V,Ie({},me,{className:Ue,"aria-pressed":ke?!!o:void 0,disabled:A&&V==="button"||void 0,onClick:this.handleClick,role:rt,type:Re,tabIndex:Ne}),Qe&&v,!Qe&&wn.create(G,{autoGenerateKey:!1}),!Qe&&N))},e})(X.Component);Yn.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"];Yn.propTypes={};Yn.defaultProps={as:"button"};Yn.Content=hm;Yn.Group=fm;Yn.Or=pm;Yn.create=gn(Yn,function(n){return{content:n}});function ZE(n,e,t,r){var s=-1,o=n==null?0:n.length;for(r&&o&&(t=n[++s]);++s<o;)t=e(t,n[s],s,n);return t}function Gj(n,e,t,r,s){return s(n,function(o,c,d){t=r?(r=!1,o):e(t,o,c,d)}),t}function e1(n,e,t){var r=xr(n)?ZE:Gj,s=arguments.length<3;return r(n,sh(e),t,s,kp)}var x0,sx;function Vj(){return sx||(sx=1,x0=function(e,t,r,s){var o=r?r.call(s,e,t):void 0;if(o!==void 0)return!!o;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var c=Object.keys(e),d=Object.keys(t);if(c.length!==d.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(t),v=0;v<c.length;v++){var b=c[v];if(!p(b))return!1;var x=e[b],E=t[b];if(o=r?r.call(s,x,E,b):void 0,o===!1||o===void 0&&x!==E)return!1}return!0}),x0}var Qj=Vj();const by=mr(Qj);function gm(n){var e=n.children,t=n.className,r=n.content,s=ct("header",t),o=ut(gm,n),c=vt(gm,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?r:e)}gm.handledProps=["as","children","className","content"];gm.propTypes={};function Jj(n){return function(e){return n?.[e]}}var Xj={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Zj=Jj(Xj),e$=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,t$="\\u0300-\\u036f",n$="\\ufe20-\\ufe2f",r$="\\u20d0-\\u20ff",s$=t$+n$+r$,i$="["+s$+"]",a$=RegExp(i$,"g");function iw(n){return n=Yd(n),n&&n.replace(e$,Zj).replace(a$,"")}var o$=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function l$(n){return n.match(o$)||[]}var u$=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function c$(n){return u$.test(n)}var t1="\\ud800-\\udfff",d$="\\u0300-\\u036f",h$="\\ufe20-\\ufe2f",f$="\\u20d0-\\u20ff",p$=d$+h$+f$,n1="\\u2700-\\u27bf",r1="a-z\\xdf-\\xf6\\xf8-\\xff",g$="\\xac\\xb1\\xd7\\xf7",m$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",v$="\\u2000-\\u206f",y$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s1="A-Z\\xc0-\\xd6\\xd8-\\xde",b$="\\ufe0e\\ufe0f",i1=g$+m$+v$+y$,a1="[']",ix="["+i1+"]",w$="["+p$+"]",o1="\\d+",_$="["+n1+"]",l1="["+r1+"]",u1="[^"+t1+i1+o1+n1+r1+s1+"]",S$="\\ud83c[\\udffb-\\udfff]",x$="(?:"+w$+"|"+S$+")",k$="[^"+t1+"]",c1="(?:\\ud83c[\\udde6-\\uddff]){2}",d1="[\\ud800-\\udbff][\\udc00-\\udfff]",Af="["+s1+"]",E$="\\u200d",ax="(?:"+l1+"|"+u1+")",C$="(?:"+Af+"|"+u1+")",ox="(?:"+a1+"(?:d|ll|m|re|s|t|ve))?",lx="(?:"+a1+"(?:D|LL|M|RE|S|T|VE))?",h1=x$+"?",f1="["+b$+"]?",O$="(?:"+E$+"(?:"+[k$,c1,d1].join("|")+")"+f1+h1+")*",P$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",T$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",D$=f1+h1+O$,N$="(?:"+[_$,c1,d1].join("|")+")"+D$,A$=RegExp([Af+"?"+l1+"+"+ox+"(?="+[ix,Af,"$"].join("|")+")",C$+"+"+lx+"(?="+[ix,Af+ax,"$"].join("|")+")",Af+"?"+ax+"+"+ox,Af+"+"+lx,T$,P$,o1,N$].join("|"),"g");function R$(n){return n.match(A$)||[]}function I$(n,e,t){return n=Yd(n),e=e,e===void 0?c$(n)?R$(n):l$(n):n.match(e)||[]}var M$="[']",j$=RegExp(M$,"g");function $$(n){return function(e){return ZE(I$(iw(e).replace(j$,"")),n,"")}}function L$(n){return function(e){e=Yd(e);var t=Vw(e)?nj(e):void 0,r=t?t[0]:e.charAt(0),s=t?RM(t,1).join(""):e.slice(1);return r[n]()+s}}var U$=L$("toUpperCase"),F$=$$(function(n,e,t){return n+(t?" ":"")+U$(e)}),Qf=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleClick=function(d){var p=r.props.disabled;p||it(r.props,"onClick",d,r.props)},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.children,d=s.className,p=s.color,v=s.content,b=s.disabled,x=s.fitted,E=s.header,C=s.icon,N=s.link,A=s.name,I=s.onClick,L=s.position,G=ct(p,L,ue(o,"active"),ue(b,"disabled"),ue(C===!0||C&&!(A||v),"icon"),ue(E,"header"),ue(N,"link"),rr(x,"fitted"),"item",d),W=vt(e,this.props,function(){if(I)return"a"}),Q=ut(e,this.props);return Dt(c)?J.createElement(W,Ie({},Q,{className:G,onClick:this.handleClick}),wn.create(C,{autoGenerateKey:!1}),Dt(v)?F$(A):v):J.createElement(W,Ie({},Q,{className:G,onClick:this.handleClick}),c)},e})(X.Component);Qf.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"];Qf.propTypes={};Qf.create=gn(Qf,function(n){return{content:n,name:n}});function mm(n){var e=n.children,t=n.className,r=n.content,s=n.position,o=ct(s,"menu",t),c=ut(mm,n),d=vt(mm,n);return J.createElement(d,Ie({},c,{className:o}),Dt(e)?r:e)}mm.handledProps=["as","children","className","content","position"];mm.propTypes={};var di=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleItemOverrides=function(d){return{onClick:function(v,b){var x=b.index;r.setState({activeIndex:x}),it(d,"onClick",v,b),it(r.props,"onItemClick",v,b)}}},r}var t=e.prototype;return t.renderItems=function(){var s=this,o=this.props.items,c=this.state.activeIndex;return Xa(o,function(d,p){return Qf.create(d,{defaultProps:{active:parseInt(c,10)===p,index:p},overrideProps:s.handleItemOverrides})})},t.render=function(){var s=this.props,o=s.attached,c=s.borderless,d=s.children,p=s.className,v=s.color,b=s.compact,x=s.fixed,E=s.floated,C=s.fluid,N=s.icon,A=s.inverted,I=s.pagination,L=s.pointing,G=s.secondary,W=s.size,Q=s.stackable,z=s.tabular,K=s.text,H=s.vertical,Y=s.widths,re=ct("ui",v,W,ue(c,"borderless"),ue(b,"compact"),ue(C,"fluid"),ue(A,"inverted"),ue(I,"pagination"),ue(L,"pointing"),ue(G,"secondary"),ue(Q,"stackable"),ue(K,"text"),ue(H,"vertical"),rr(o,"attached"),rr(E,"floated"),rr(N,"icon"),rr(z,"tabular"),Ws(x,"fixed"),ih(Y,"item"),p,"menu"),ve=ut(e,this.props),_e=vt(e,this.props);return J.createElement(_e,Ie({},ve,{className:re}),Dt(d)?this.renderItems():d)},e})(Mm);di.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"];di.propTypes={};di.autoControlledProps=["activeIndex"];di.Header=gm;di.Item=Qf;di.Menu=mm;di.create=gn(di,function(n){return{items:n}});function B$(n,e,t){return n==null?n:WE(n,e,t)}var ru=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.inputRef=X.createRef(),r.labelRef=X.createRef(),r.canToggle=function(){var d=r.props,p=d.disabled,v=d.radio,b=d.readOnly,x=r.state.checked;return!p&&!b&&!(v&&x)},r.computeTabIndex=function(){var d=r.props,p=d.disabled,v=d.tabIndex;return Yt(v)?p?-1:0:v},r.handleClick=function(d){var p=r.props.id,v=r.state,b=v.checked,x=v.indeterminate,E=it(r.inputRef.current,"contains",d.target),C=it(r.labelRef.current,"contains",d.target),N=!C&&!E,A=!Yt(p),I=C&&A;I||it(r.props,"onClick",d,Ie({},r.props,{checked:!b,indeterminate:!!x})),r.isClickFromMouse&&(r.isClickFromMouse=!1,C&&!A&&r.handleChange(d),N&&r.handleChange(d),C&&A&&d.stopPropagation())},r.handleChange=function(d){var p=r.state.checked;r.canToggle()&&(it(r.props,"onChange",d,Ie({},r.props,{checked:!p,indeterminate:!1})),r.setState({checked:!p,indeterminate:!1}))},r.handleMouseDown=function(d){var p=r.state,v=p.checked,b=p.indeterminate;it(r.props,"onMouseDown",d,Ie({},r.props,{checked:!!v,indeterminate:!!b})),d.defaultPrevented||it(r.inputRef.current,"focus"),d.preventDefault()},r.handleMouseUp=function(d){var p=r.state,v=p.checked,b=p.indeterminate;r.isClickFromMouse=!0,it(r.props,"onMouseUp",d,Ie({},r.props,{checked:!!v,indeterminate:!!b}))},r.setIndeterminate=function(){var d=r.state.indeterminate;B$(r.inputRef,"current.indeterminate",!!d)},r}var t=e.prototype;return t.componentDidMount=function(){this.setIndeterminate()},t.componentDidUpdate=function(){this.setIndeterminate()},t.render=function(){var s=this.props,o=s.className,c=s.disabled,d=s.label,p=s.id,v=s.name,b=s.radio,x=s.readOnly,E=s.slider,C=s.toggle,N=s.type,A=s.value,I=this.state,L=I.checked,G=I.indeterminate,W=ct("ui",ue(L,"checked"),ue(c,"disabled"),ue(G,"indeterminate"),ue(Yt(d),"fitted"),ue(b,"radio"),ue(x,"read-only"),ue(E,"slider"),ue(C,"toggle"),"checkbox",o),Q=ut(e,this.props),z=vt(e,this.props),K=Jw(Q,{htmlProps:JE}),H=K[0],Y=K[1],re=rw(d,{defaultProps:{htmlFor:p},autoGenerateKey:!1})||J.createElement("label",{htmlFor:p});return J.createElement(z,Ie({},Y,{className:W,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),J.createElement(zo,{innerRef:this.inputRef},J.createElement("input",Ie({},H,{checked:L,className:"hidden",disabled:c,id:p,name:v,readOnly:!0,tabIndex:this.computeTabIndex(),type:N,value:A}))),J.createElement(zo,{innerRef:this.labelRef},re))},e})(Mm);ru.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"];ru.propTypes={};ru.defaultProps={type:"checkbox"};ru.autoControlledProps=["checked","indeterminate"];function Ep(n){var e=n.slider,t=n.toggle,r=n.type,s=ut(Ep,n),o=!(e||t)||void 0;return J.createElement(ru,Ie({},s,{type:r,radio:o,slider:e,toggle:t}))}Ep.handledProps=["slider","toggle","type"];Ep.propTypes={};Ep.defaultProps={type:"radio"};function W$(n){for(var e=-1,t=n==null?0:n.length,r=0,s=[];++e<t;){var o=n[e];o&&(s[r++]=o)}return s}function H$(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(!e(n[t],t,n))return!1;return!0}function q$(n,e){var t=!0;return kp(n,function(r,s,o){return t=!!e(r,s,o),t}),t}function z$(n,e,t){var r=xr(n)?H$:q$;return r(n,sh(e))}function K$(n,e,t){var r=n==null?0:n.length;return r?(e=e===void 0?1:fb(e),e=r-e,Hw(n,0,e<0?0:e)):[]}var Y$=DE("length"),p1="\\ud800-\\udfff",G$="\\u0300-\\u036f",V$="\\ufe20-\\ufe2f",Q$="\\u20d0-\\u20ff",J$=G$+V$+Q$,X$="\\ufe0e\\ufe0f",Z$="["+p1+"]",aw="["+J$+"]",ow="\\ud83c[\\udffb-\\udfff]",e2="(?:"+aw+"|"+ow+")",g1="[^"+p1+"]",m1="(?:\\ud83c[\\udde6-\\uddff]){2}",v1="[\\ud800-\\udbff][\\udc00-\\udfff]",t2="\\u200d",y1=e2+"?",b1="["+X$+"]?",n2="(?:"+t2+"(?:"+[g1,m1,v1].join("|")+")"+b1+y1+")*",r2=b1+y1+n2,s2="(?:"+[g1+aw+"?",aw,m1,v1,Z$].join("|")+")",ux=RegExp(ow+"(?="+ow+")|"+s2+r2,"g");function i2(n){for(var e=ux.lastIndex=0;ux.test(n);)++e;return e}function a2(n){return Vw(n)?i2(n):Y$(n)}var o2="[object Map]",l2="[object Set]";function u2(n){if(n==null)return 0;if(_c(n))return Qw(n)?a2(n):n.length;var e=Ro(n);return e==o2||e==l2?n.size:zw(n).length}var cx=hb(function(n){return GE(Gw(n,1,$y,!0))}),Gd=(function(n){In(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var s=this.props,o=s.className,c=s.name,d=ct(c,"flag",o),p=ut(e,this.props),v=vt(e,this.props);return J.createElement(v,Ie({},p,{className:d}))},e})(X.PureComponent);Gd.handledProps=["as","className","name"];Gd.propTypes={};Gd.defaultProps={as:"i"};Gd.create=gn(Gd,function(n){return{name:n}});function vm(n){var e=n.className,t=ct("divider",e),r=ut(vm,n),s=vt(vm,n);return J.createElement(s,Ie({},r,{className:t}))}vm.handledProps=["as","className"];vm.propTypes={};var Jf=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleClick=function(d){it(r.props,"onClick",d,r.props)},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.children,d=s.className,p=s.content,v=s.disabled,b=s.description,x=s.flag,E=s.icon,C=s.image,N=s.label,A=s.selected,I=s.text,L=ct(ue(o,"active"),ue(v,"disabled"),ue(A,"selected"),"item",d),G=Yt(E)?TM(c,"DropdownMenu")&&"dropdown":E,W=ut(e,this.props),Q=vt(e,this.props),z={role:"option","aria-disabled":v,"aria-checked":o,"aria-selected":A};if(!Dt(c))return J.createElement(Q,Ie({},W,z,{className:L,onClick:this.handleClick}),c);var K=Gd.create(x,{autoGenerateKey:!1}),H=wn.create(G,{autoGenerateKey:!1}),Y=ga.create(C,{autoGenerateKey:!1}),re=_s.create(N,{autoGenerateKey:!1}),ve=nw("span",function(ke){return{children:ke}},b,{defaultProps:{className:"description"},autoGenerateKey:!1}),_e=nw("span",function(ke){return{children:ke}},Dt(p)?I:p,{defaultProps:{className:"text"},autoGenerateKey:!1});return J.createElement(Q,Ie({},W,z,{className:L,onClick:this.handleClick}),Y,H,K,re,ve,_e)},e})(X.Component);Jf.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"];Jf.propTypes={};Jf.create=gn(Jf,function(n){return n});function uc(n){var e=n.children,t=n.className,r=n.content,s=n.icon,o=ct("header",t),c=ut(uc,n),d=vt(uc,n);return Dt(e)?J.createElement(d,Ie({},c,{className:o}),wn.create(s,{autoGenerateKey:!1}),r):J.createElement(d,Ie({},c,{className:o}),e)}uc.handledProps=["as","children","className","content","icon"];uc.propTypes={};uc.create=gn(uc,function(n){return{content:n}});function Xf(n){var e=n.children,t=n.className,r=n.content,s=n.direction,o=n.open,c=n.scrolling,d=ct(s,ue(o,"visible"),ue(c,"scrolling"),"menu transition",t),p=ut(Xf,n),v=vt(Xf,n);return J.createElement(v,Ie({},p,{className:d}),Dt(e)?r:e)}Xf.handledProps=["as","children","className","content","direction","open","scrolling"];Xf.propTypes={};var Vd=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleChange=function(d){var p=Uo(d,"target.value");it(r.props,"onChange",d,Ie({},r.props,{value:p}))},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.autoComplete,c=s.className,d=s.tabIndex,p=s.type,v=s.value,b=ct("search",c),x=ut(e,this.props);return J.createElement("input",Ie({},x,{"aria-autocomplete":"list",autoComplete:o,className:b,onChange:this.handleChange,tabIndex:d,type:p,value:v}))},e})(X.Component);Vd.handledProps=["as","autoComplete","className","tabIndex","type","value"];Vd.propTypes={};Vd.defaultProps={autoComplete:"off",type:"text"};Vd.create=gn(Vd,function(n){return{type:n}});function cc(n){var e=n.children,t=n.className,r=n.content,s=ct("divider",t),o=ut(cc,n),c=vt(cc,n);return J.createElement(c,Ie({"aria-atomic":!0,"aria-live":"polite",role:"alert"},o,{className:s}),Dt(e)?r:e)}cc.handledProps=["as","children","className","content"];cc.propTypes={};cc.create=gn(cc,function(n){return{content:n}});var w1=/[\\^$.*+?()[\]{}|]/g,c2=RegExp(w1.source);function d2(n){return n=Yd(n),n&&c2.test(n)?n.replace(w1,"\\$&"):n}function Lf(n){var e=n.additionLabel,t=n.additionPosition,r=n.allowAdditions,s=n.deburr,o=n.multiple,c=n.options,d=n.search,p=n.searchQuery,v=n.value,b=c;if(o&&(b=VS(b,function(A){return!Qa(v,A.value)})),d&&p)if(Yf(d))b=d(b,p);else{var x=s?iw(p):p,E=new RegExp(d2(x),"i");b=VS(b,function(A){return E.test(s?iw(A.text):A.text)})}if(r&&d&&p&&!Xg(b,{text:p})){var C=J.isValidElement(e)?J.cloneElement(e,{key:"addition-label"}):e||"",N={key:"addition",text:[C,J.createElement("b",{key:"addition-query"},p)],value:p,className:"addition","data-additional":!0};t==="top"?b.unshift(N):b.push(N)}return b}Lf.handledProps=[];function dx(n){var e=n.additionLabel,t=n.additionPosition,r=n.allowAdditions,s=n.deburr,o=n.multiple,c=n.options,d=n.search,p=n.searchQuery,v=n.selectedIndex,b=n.value,x=Lf({value:b,options:c,searchQuery:p,additionLabel:e,additionPosition:t,allowAdditions:r,deburr:s,multiple:o,search:d}),E=e1(x,function(I,L,G){return L.disabled||I.push(G),I},[]),C;if(!v||v<0){var N=E[0];C=o?N:Z0(x,["value",b])||E[0]}else if(o)C=IE(E,function(I){return I>=v}),v>=x.length-1&&(C=E[E.length-1]);else{var A=Z0(x,["value",b]);C=Qa(E,A)?A:void 0}return(!C||C<0)&&(C=E[0]),C}var hx=function(e,t){return Yt(e)?t:e},fx=function(e){return e&&e.map(function(t){return HE(t,["key","value"])})};function _1(n){var e=n.flag,t=n.image,r=n.text;return Yf(r)?r:{content:J.createElement(J.Fragment,null,Gd.create(e),ga.create(t),r)}}var ks=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.searchRef=X.createRef(),r.sizerRef=X.createRef(),r.ref=X.createRef(),r.handleChange=function(d,p){it(r.props,"onChange",d,Ie({},r.props,{value:p}))},r.closeOnChange=function(d){var p=r.props,v=p.closeOnChange,b=p.multiple,x=Ya(v)?!b:v;x&&r.close(d,YE)},r.closeOnEscape=function(d){r.props.closeOnEscape&&zr.getCode(d)===zr.Escape&&(d.preventDefault(),r.close(d))},r.moveSelectionOnKeyDown=function(d){var p,v=r.props,b=v.multiple,x=v.selectOnNavigation,E=r.state.open;if(E){var C=(p={},p[zr.ArrowDown]=1,p[zr.ArrowUp]=-1,p),N=C[zr.getCode(d)];if(N!==void 0){d.preventDefault();var A=r.getSelectedIndexAfterMove(N);!b&&x&&r.makeSelectedItemActive(d,A),r.setState({selectedIndex:A})}}},r.openOnSpace=function(d){var p,v,b,x=r.state.focus&&!r.state.open&&zr.getCode(d)===zr.Spacebar,E=((p=d.target)==null?void 0:p.tagName)!=="INPUT"&&((v=d.target)==null?void 0:v.tagName)!=="TEXTAREA"&&((b=d.target)==null?void 0:b.isContentEditable)!==!0;x&&(E&&d.preventDefault(),r.open(d))},r.openOnArrow=function(d){var p=r.state,v=p.focus,b=p.open;if(v&&!b){var x=zr.getCode(d);(x===zr.ArrowDown||x===zr.ArrowUp)&&(d.preventDefault(),r.open(d))}},r.makeSelectedItemActive=function(d,p){var v=r.state,b=v.open,x=v.value,E=r.props.multiple,C=r.getSelectedItem(p),N=Uo(C,"value"),A=Uo(C,"disabled");if(Yt(N)||!b||A)return x;var I=E?cx(x,[N]):N,L=E?!!XS(I,x).length:I!==x;return L&&(r.setState({value:I}),r.handleChange(d,I),C["data-additional"]&&it(r.props,"onAddItem",d,Ie({},r.props,{value:N}))),x},r.selectItemOnEnter=function(d){var p=r.props.search,v=r.state,b=v.open,x=v.selectedIndex;if(b){var E=zr.getCode(d)===zr.Enter||!p&&zr.getCode(d)===zr.Spacebar;if(E){d.preventDefault();var C=u2(Lf({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search}));if(!(p&&C===0)){var N=r.makeSelectedItemActive(d,x);r.setState({selectedIndex:dx({additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search,selectedIndex:x,value:N,options:r.props.options,searchQuery:""})}),r.closeOnChange(d),r.clearSearchQuery(),p&&it(r.searchRef.current,"focus")}}}},r.removeItemOnBackspace=function(d){var p=r.props,v=p.multiple,b=p.search,x=r.state,E=x.searchQuery,C=x.value;if(zr.getCode(d)===zr.Backspace&&!(E||!b||!v||zv(C))){d.preventDefault();var N=K$(C);r.setState({value:N}),r.handleChange(d,N)}},r.closeOnDocumentClick=function(d){r.props.closeOnBlur&&(r.ref.current&&Zg(r.ref.current,d)||r.close())},r.handleMouseDown=function(d){r.isMouseDown=!0,it(r.props,"onMouseDown",d,r.props),document.addEventListener("mouseup",r.handleDocumentMouseUp)},r.handleDocumentMouseUp=function(){r.isMouseDown=!1,document.removeEventListener("mouseup",r.handleDocumentMouseUp)},r.handleClick=function(d){var p=r.props,v=p.minCharacters,b=p.search,x=r.state,E=x.open,C=x.searchQuery;if(it(r.props,"onClick",d,r.props),d.stopPropagation(),!b)return r.toggle(d);if(E){it(r.searchRef.current,"focus");return}if(C.length>=v||v===1){r.open(d);return}it(r.searchRef.current,"focus")},r.handleIconClick=function(d){var p=r.props.clearable,v=r.hasValue();it(r.props,"onClick",d,r.props),d.stopPropagation(),p&&v?r.clearValue(d):r.toggle(d)},r.handleItemClick=function(d,p){var v=r.props,b=v.multiple,x=v.search,E=r.state.value,C=p.value;if(d.stopPropagation(),(b||p.disabled)&&d.nativeEvent.stopImmediatePropagation(),!p.disabled){var N=p["data-additional"],A=b?cx(r.state.value,[C]):C,I=b?!!XS(A,E).length:A!==E;I&&(r.setState({value:A}),r.handleChange(d,A)),r.clearSearchQuery(),it(x?r.searchRef.current:r.ref.current,"focus"),r.closeOnChange(d),N&&it(r.props,"onAddItem",d,Ie({},r.props,{value:C}))}},r.handleFocus=function(d){var p=r.state.focus;p||(it(r.props,"onFocus",d,r.props),r.setState({focus:!0}))},r.handleBlur=function(d){var p=Uo(d,"currentTarget");if(!(p&&p.contains(document.activeElement))){var v=r.props,b=v.closeOnBlur,x=v.multiple,E=v.selectOnBlur;r.isMouseDown||(it(r.props,"onBlur",d,r.props),E&&!x&&(r.makeSelectedItemActive(d,r.state.selectedIndex),b&&r.close()),r.setState({focus:!1}),r.clearSearchQuery())}},r.handleSearchChange=function(d,p){var v=p.value;d.stopPropagation();var b=r.props.minCharacters,x=r.state.open,E=v;if(it(r.props,"onSearchChange",d,Ie({},r.props,{searchQuery:E})),r.setState({searchQuery:E,selectedIndex:0}),!x&&E.length>=b){r.open();return}x&&b!==1&&E.length<b&&r.close()},r.handleKeyDown=function(d){r.moveSelectionOnKeyDown(d),r.openOnArrow(d),r.openOnSpace(d),r.selectItemOnEnter(d),it(r.props,"onKeyDown",d)},r.getSelectedItem=function(d){var p=Lf({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search});return Uo(p,"["+d+"]")},r.getItemByValue=function(d){var p=r.props.options;return IE(p,{value:d})},r.getDropdownAriaOptions=function(){var d=r.props,p=d.loading,v=d.disabled,b=d.search,x=d.multiple,E=r.state.open,C={role:b?"combobox":"listbox","aria-busy":p,"aria-disabled":v,"aria-expanded":!!E};return C.role==="listbox"&&(C["aria-multiselectable"]=x),C},r.clearSearchQuery=function(){var d=r.state.searchQuery;d===void 0||d===""||r.setState({searchQuery:""})},r.handleLabelClick=function(d,p){d.stopPropagation(),r.setState({selectedLabel:p.value}),it(r.props,"onLabelClick",d,p)},r.handleLabelRemove=function(d,p){d.stopPropagation();var v=r.state.value,b=XE(v,p.value);r.setState({value:b}),r.handleChange(d,b)},r.getSelectedIndexAfterMove=function(d,p){p===void 0&&(p=r.state.selectedIndex);var v=Lf({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search});if(!(v===void 0||z$(v,"disabled"))){var b=v.length-1,x=r.props.wrapSelection,E=p+d;return!x&&(E>b||E<0)?E=p:E>b?E=0:E<0&&(E=b),v[E].disabled?r.getSelectedIndexAfterMove(d,E):E}},r.handleIconOverrides=function(d){var p=r.props.clearable,v=ct(p&&r.hasValue()&&"clear",d.className);return{className:v,onClick:function(x){it(d,"onClick",x,d),r.handleIconClick(x)}}},r.clearValue=function(d){var p=r.props.multiple,v=p?[]:"";r.setState({value:v}),r.handleChange(d,v)},r.computeSearchInputTabIndex=function(){var d=r.props,p=d.disabled,v=d.tabIndex;return Yt(v)?p?-1:0:v},r.computeSearchInputWidth=function(){var d=r.state.searchQuery;if(r.sizerRef.current&&d){r.sizerRef.current.style.display="inline",r.sizerRef.current.textContent=d;var p=Math.ceil(r.sizerRef.current.getBoundingClientRect().width);return r.sizerRef.current.style.removeProperty("display"),p}},r.computeTabIndex=function(){var d=r.props,p=d.disabled,v=d.search,b=d.tabIndex;if(!v)return p?-1:Yt(b)?0:b},r.handleSearchInputOverrides=function(d){return{onChange:function(v,b){it(d,"onChange",v,b),r.handleSearchChange(v,b)}}},r.hasValue=function(){var d=r.props.multiple,p=r.state.value;return d?!zv(p):!Yt(p)&&p!==""},r.scrollSelectedItemIntoView=function(){if(r.ref.current){var d=r.ref.current.querySelector(".menu.visible");if(d){var p=d.querySelector(".item.selected");if(p){var v=p.offsetTop<d.scrollTop,b=p.offsetTop+p.clientHeight>d.scrollTop+d.clientHeight;v?d.scrollTop=p.offsetTop:b&&(d.scrollTop=p.offsetTop+p.clientHeight-d.clientHeight)}}}},r.setOpenDirection=function(){if(r.ref.current){var d=r.ref.current.querySelector(".menu.visible");if(d){var p=r.ref.current.getBoundingClientRect(),v=d.clientHeight,b=document.documentElement.clientHeight-p.top-p.height-v,x=p.top-v,E=b<0&&x>b;!E!=!r.state.upward&&r.setState({upward:E})}}},r.open=function(d,p){d===void 0&&(d=null),p===void 0&&(p=!0);var v=r.props,b=v.disabled,x=v.search;b||(x&&it(r.searchRef.current,"focus"),it(r.props,"onOpen",d,r.props),p&&r.setState({open:!0}),r.scrollSelectedItemIntoView())},r.close=function(d,p){p===void 0&&(p=r.handleClose),r.state.open&&(it(r.props,"onClose",d,r.props),r.setState({open:!1},p))},r.handleClose=function(){var d=document.activeElement===r.searchRef.current;!d&&r.ref.current&&r.ref.current.blur();var p=document.activeElement===r.ref.current,v=d||p;r.setState({focus:v})},r.toggle=function(d){return r.state.open?r.close(d):r.open(d)},r.renderText=function(){var d=r.props,p=d.multiple,v=d.placeholder,b=d.search,x=d.text,E=r.state,C=E.searchQuery,N=E.selectedIndex,A=E.value,I=E.open,L=r.hasValue(),G=ct(v&&!L&&"default","text",b&&C&&"filtered"),W=v,Q;return x?W=x:I&&!p?Q=r.getSelectedItem(N):L&&(Q=r.getItemByValue(A)),cc.create(Q?_1(Q):W,{defaultProps:{className:G}})},r.renderSearchInput=function(){var d=r.props,p=d.search,v=d.searchInput,b=r.state.searchQuery;return p&&J.createElement(zo,{innerRef:r.searchRef},Vd.create(v,{defaultProps:{style:{width:r.computeSearchInputWidth()},tabIndex:r.computeSearchInputTabIndex(),value:b},overrideProps:r.handleSearchInputOverrides}))},r.renderSearchSizer=function(){var d=r.props,p=d.search,v=d.multiple;return p&&v&&J.createElement("span",{className:"sizer",ref:r.sizerRef})},r.renderLabels=function(){var d=r.props,p=d.multiple,v=d.renderLabel,b=r.state,x=b.selectedLabel,E=b.value;if(!(!p||zv(E))){var C=Xa(E,r.getItemByValue);return Xa(W$(C),function(N,A){var I={active:N.value===x,as:"a",key:hx(N.key,N.value),onClick:r.handleLabelClick,onRemove:r.handleLabelRemove,value:N.value};return _s.create(v(N,A,I),{defaultProps:I})})}},r.renderOptions=function(){var d=r.props,p=d.lazyLoad,v=d.multiple,b=d.search,x=d.noResultsMessage,E=r.state,C=E.open,N=E.selectedIndex,A=E.value;if(p&&!C)return null;var I=Lf({value:r.state.value,options:r.props.options,searchQuery:r.state.searchQuery,additionLabel:r.props.additionLabel,additionPosition:r.props.additionPosition,allowAdditions:r.props.allowAdditions,deburr:r.props.deburr,multiple:r.props.multiple,search:r.props.search});if(x!==null&&b&&zv(I))return J.createElement("div",{className:"message"},x);var L=v?function(G){return Qa(A,G)}:function(G){return G===A};return Xa(I,function(G,W){return Jf.create(Ie({active:L(G.value),selected:N===W},G,{key:hx(G.key,G.value),style:Ie({},G.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(z){return{onClick:function(H,Y){z.onClick==null||z.onClick(H,Y),r.handleItemClick(H,Y)}}}})})},r.renderMenu=function(){var d=r.props,p=d.children,v=d.direction,b=d.header,x=r.state.open,E=r.getDropdownMenuAriaOptions();if(!Dt(p)){var C=X.Children.only(p),N=ct(v,ue(x,"visible"),C.props.className);return X.cloneElement(C,Ie({className:N},E))}return J.createElement(Xf,Ie({},E,{direction:v,open:x}),uc.create(b,{autoGenerateKey:!1}),r.renderOptions())},r}var t=e.prototype;return t.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},e.getAutoControlledStateFromProps=function(s,o,c){var d={__options:s.options,__value:o.value},p=!by(c.__value,o.value)||!zj(fx(s.options),fx(c.__options));return p&&(d.selectedIndex=dx({additionLabel:s.additionLabel,additionPosition:s.additionPosition,allowAdditions:s.allowAdditions,deburr:s.deburr,multiple:s.multiple,search:s.search,selectedIndex:o.selectedIndex,value:o.value,options:s.options,searchQuery:o.searchQuery})),d},t.componentDidMount=function(){var s=this.state.open;s&&this.open(null,!1)},t.shouldComponentUpdate=function(s,o){return!by(s,this.props)||!by(o,this.state)},t.componentDidUpdate=function(s,o){var c=this.props,d=c.closeOnBlur,p=c.minCharacters,v=c.openOnFocus,b=c.search;if(!o.focus&&this.state.focus){if(!this.isMouseDown){var x=!b||b&&p===1&&!this.state.open;v&&x&&this.open()}}else o.focus&&!this.state.focus&&!this.isMouseDown&&d&&this.close();!o.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):o.open&&this.state.open,o.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},t.getDropdownMenuAriaOptions=function(){var s=this.props,o=s.search,c=s.multiple,d={};return o&&(d["aria-multiselectable"]=c,d.role="listbox"),d},t.render=function(){var s=this.props,o=s.basic,c=s.button,d=s.className,p=s.compact,v=s.disabled,b=s.error,x=s.fluid,E=s.floating,C=s.icon,N=s.inline,A=s.item,I=s.labeled,L=s.loading,G=s.multiple,W=s.pointing,Q=s.search,z=s.selection,K=s.scrolling,H=s.simple,Y=s.trigger,re=this.state,ve=re.focus,_e=re.open,ke=re.upward,Re=ct("ui",ue(_e,"active visible"),ue(v,"disabled"),ue(b,"error"),ue(L,"loading"),ue(o,"basic"),ue(c,"button"),ue(p,"compact"),ue(x,"fluid"),ue(E,"floating"),ue(N,"inline"),ue(I,"labeled"),ue(A,"item"),ue(G,"multiple"),ue(Q,"search"),ue(z,"selection"),ue(H,"simple"),ue(K,"scrolling"),ue(ke,"upward"),rr(W,"pointing"),"dropdown",d),Ee=ut(e,this.props),he=vt(e,this.props),ge=this.getDropdownAriaOptions(he,this.props);return J.createElement(zo,{innerRef:this.ref},J.createElement(he,Ie({},Ee,ge,{className:Re,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),Y||this.renderText(),wn.create(C,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),_e&&J.createElement(Gl,{name:"keydown",on:this.closeOnEscape}),_e&&J.createElement(Gl,{name:"click",on:this.closeOnDocumentClick}),ve&&J.createElement(Gl,{name:"keydown",on:this.removeItemOnBackspace})))},e})(Mm);ks.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"];ks.propTypes={};ks.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:_1,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0};ks.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"];ks.Divider=vm;ks.Header=uc;ks.Item=Jf;ks.Menu=Xf;ks.SearchInput=Vd;ks.Text=cc;function ah(n){return J.createElement(ks,Ie({},n,{selection:!0}))}ah.handledProps=["options"];ah.propTypes={};ah.Divider=ks.Divider;ah.Header=ks.Header;ah.Item=ks.Item;ah.Menu=ks.Menu;var vb=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.ref=X.createRef(),r.focus=function(){return r.ref.current.focus()},r.handleChange=function(d){var p=Uo(d,"target.value");it(r.props,"onChange",d,Ie({},r.props,{value:p}))},r.handleInput=function(d){var p=Uo(d,"target.value");it(r.props,"onInput",d,Ie({},r.props,{value:p}))},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.rows,c=s.value,d=ut(e,this.props),p=vt(e,this.props);return J.createElement(zo,{innerRef:this.ref},J.createElement(p,Ie({},d,{onChange:this.handleChange,onInput:this.handleInput,rows:o,value:c})))},e})(X.Component);vb.handledProps=["as","onChange","onInput","rows","value"];vb.propTypes={};vb.defaultProps={as:"textarea",rows:3};function Ui(n){var e=n.children,t=n.className,r=n.content,s=n.control,o=n.disabled,c=n.error,d=n.inline,p=n.label,v=n.required,b=n.type,x=n.width,E=n.id,C=ct(ue(o,"disabled"),ue(c,"error"),ue(d,"inline"),ue(v,"required"),ih(x,"wide"),"field",t),N=ut(Ui,n),A=vt(Ui,n),I=Uo(c,"pointing","above"),L=_s.create(c,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:I,id:E?E+"-error-message":void 0,role:"alert","aria-atomic":!0}}),G=(I==="below"||I==="right")&&L,W=(I==="above"||I==="left")&&L;if(Yt(s))return Yt(p)?J.createElement(A,Ie({},N,{className:C,id:E}),Dt(e)?r:e):J.createElement(A,Ie({},N,{className:C,id:E}),G,rw(p,{autoGenerateKey:!1}),W);var Q=E&&c?E+"-error-message":null,z={"aria-describedby":Q,"aria-invalid":c?!0:void 0},K=Ie({},N,{content:r,children:e,disabled:o,required:v,type:b,id:E});return s==="input"&&(b==="checkbox"||b==="radio")?J.createElement(A,{className:C},J.createElement("label",null,G,X.createElement(s,Ie({},z,K))," ",p,W)):s===ru||s===Ep?J.createElement(A,{className:C},G,X.createElement(s,Ie({},z,K,{label:p})),W):J.createElement(A,{className:C},rw(p,{defaultProps:{htmlFor:E},autoGenerateKey:!1}),G,X.createElement(s,Ie({},z,K)),W)}Ui.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"];Ui.propTypes={};function Zf(n){var e=n.control,t=ut(Zf,n),r=vt(Zf,n);return J.createElement(r,Ie({},t,{control:e}))}Zf.handledProps=["as","control"];Zf.propTypes={};Zf.defaultProps={as:Ui,control:Yn};function ep(n){var e=n.control,t=ut(ep,n),r=vt(ep,n);return J.createElement(r,Ie({},t,{control:e}))}ep.handledProps=["as","control"];ep.propTypes={};ep.defaultProps={as:Ui,control:ru};function tp(n){var e=n.control,t=ut(tp,n),r=vt(tp,n);return J.createElement(r,Ie({},t,{control:e}))}tp.handledProps=["as","control"];tp.propTypes={};tp.defaultProps={as:Ui,control:ks};function ym(n){var e=n.children,t=n.className,r=n.grouped,s=n.inline,o=n.unstackable,c=n.widths,d=ct(ue(r,"grouped"),ue(s,"inline"),ue(o,"unstackable"),ih(c,null,!0),"fields",t),p=ut(ym,n),v=vt(ym,n);return J.createElement(v,Ie({},p,{className:d}),e)}ym.handledProps=["as","children","className","grouped","inline","unstackable","widths"];ym.propTypes={};var dc=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.inputRef=X.createRef(),r.computeIcon=function(){var d=r.props,p=d.loading,v=d.icon;if(!Yt(v))return v;if(p)return"spinner"},r.computeTabIndex=function(){var d=r.props,p=d.disabled,v=d.tabIndex;if(!Yt(v))return v;if(p)return-1},r.focus=function(d){return r.inputRef.current.focus(d)},r.select=function(){return r.inputRef.current.select()},r.handleChange=function(d){var p=Uo(d,"target.value");it(r.props,"onChange",d,Ie({},r.props,{value:p}))},r.handleChildOverrides=function(d,p){return Ie({},p,d.props,{ref:function(b){Lo(d.ref,b),r.inputRef.current=b}})},r.partitionProps=function(){var d=r.props,p=d.disabled,v=d.type,b=r.computeTabIndex(),x=ut(e,r.props),E=Jw(x),C=E[0],N=E[1];return[Ie({},C,{disabled:p,type:v,tabIndex:b,onChange:r.handleChange,ref:r.inputRef}),N]},r}var t=e.prototype;return t.render=function(){var s=this,o=this.props,c=o.action,d=o.actionPosition,p=o.children,v=o.className,b=o.disabled,x=o.error,E=o.fluid,C=o.focus,N=o.icon,A=o.iconPosition,I=o.input,L=o.inverted,G=o.label,W=o.labelPosition,Q=o.loading,z=o.size,K=o.transparent,H=o.type,Y=ct("ui",z,ue(b,"disabled"),ue(x,"error"),ue(E,"fluid"),ue(C,"focus"),ue(L,"inverted"),ue(Q,"loading"),ue(K,"transparent"),Ws(d,"action")||ue(c,"action"),Ws(A,"icon")||ue(N||Q,"icon"),Ws(W,"labeled")||ue(G,"labeled"),"input",v),re=vt(e,this.props),ve=this.partitionProps(),_e=ve[0],ke=ve[1];if(!Dt(p)){var Re=Xa(X.Children.toArray(p),function(ge){return ge.type!=="input"?ge:X.cloneElement(ge,s.handleChildOverrides(ge,_e))});return J.createElement(re,Ie({},ke,{className:Y}),Re)}var Ee=Yn.create(c,{autoGenerateKey:!1}),he=_s.create(G,{defaultProps:{className:ct("label",Qa(W,"corner")&&W)},autoGenerateKey:!1});return J.createElement(re,Ie({},ke,{className:Y}),d==="left"&&Ee,W!=="right"&&he,Nj(I||H,{defaultProps:_e,autoGenerateKey:!1}),wn.create(this.computeIcon(),{autoGenerateKey:!1}),d!=="left"&&Ee,W==="right"&&he)},e})(X.Component);dc.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"];dc.propTypes={};dc.defaultProps={type:"text"};dc.create=gn(dc,function(n){return{type:n}});function np(n){var e=n.control,t=ut(np,n),r=vt(np,n);return J.createElement(r,Ie({},t,{control:e}))}np.handledProps=["as","control"];np.propTypes={};np.defaultProps={as:Ui,control:dc};function rp(n){var e=n.control,t=ut(rp,n),r=vt(rp,n);return J.createElement(r,Ie({},t,{control:e}))}rp.handledProps=["as","control"];rp.propTypes={};rp.defaultProps={as:Ui,control:Ep};function sp(n){var e=n.control,t=n.options,r=ut(sp,n),s=vt(sp,n);return J.createElement(s,Ie({},r,{control:e,options:t}))}sp.handledProps=["as","control","options"];sp.propTypes={};sp.defaultProps={as:Ui,control:ah};function ip(n){var e=n.control,t=ut(ip,n),r=vt(ip,n);return J.createElement(r,Ie({},t,{control:e}))}ip.handledProps=["as","control"];ip.propTypes={};ip.defaultProps={as:Ui,control:vb};var Hs=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleSubmit=function(d){var p=r.props.action;typeof p!="string"&&it(d,"preventDefault");for(var v=arguments.length,b=new Array(v>1?v-1:0),x=1;x<v;x++)b[x-1]=arguments[x];it.apply(void 0,[r.props,"onSubmit",d,r.props].concat(b))},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.action,c=s.children,d=s.className,p=s.error,v=s.inverted,b=s.loading,x=s.reply,E=s.size,C=s.success,N=s.unstackable,A=s.warning,I=s.widths,L=ct("ui",E,ue(p,"error"),ue(v,"inverted"),ue(b,"loading"),ue(x,"reply"),ue(C,"success"),ue(N,"unstackable"),ue(A,"warning"),ih(I,null,!0),"form",d),G=ut(e,this.props),W=vt(e,this.props);return J.createElement(W,Ie({},G,{action:o,className:L,onSubmit:this.handleSubmit}),c)},e})(X.Component);Hs.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"];Hs.propTypes={};Hs.defaultProps={as:"form"};Hs.Field=Ui;Hs.Button=Zf;Hs.Checkbox=ep;Hs.Dropdown=tp;Hs.Group=ym;Hs.Input=np;Hs.Radio=rp;Hs.Select=sp;Hs.TextArea=ip;function ap(n){var e=n.children,t=n.className,r=n.content,s=ct("content",t),o=ut(ap,n),c=vt(ap,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?r:e)}ap.handledProps=["as","children","className","content"];ap.propTypes={};function su(n){var e=n.children,t=n.className,r=n.content,s=ct("header",t),o=ut(su,n),c=vt(su,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?r:e)}su.handledProps=["as","children","className","content"];su.propTypes={};su.create=gn(su,function(n){return{content:n}});function iu(n){var e=n.children,t=n.className,r=n.content,s=ct("content",t),o=ut(iu,n),c=vt(iu,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?r:e)}iu.handledProps=["as","children","className","content"];iu.propTypes={};iu.defaultProps={as:"li"};iu.create=gn(iu,function(n){return{content:n}});function au(n){var e=n.children,t=n.className,r=n.items,s=ct("list",t),o=ut(au,n),c=vt(au,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?Xa(r,iu.create):e)}au.handledProps=["as","children","className","items"];au.propTypes={};au.defaultProps={as:"ul"};au.create=gn(au,function(n){return{items:n}});var Ja=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleDismiss=function(d){var p=r.props.onDismiss;p&&p(d,r.props)},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.attached,c=s.children,d=s.className,p=s.color,v=s.compact,b=s.content,x=s.error,E=s.floating,C=s.header,N=s.hidden,A=s.icon,I=s.info,L=s.list,G=s.negative,W=s.onDismiss,Q=s.positive,z=s.size,K=s.success,H=s.visible,Y=s.warning,re=ct("ui",p,z,ue(v,"compact"),ue(x,"error"),ue(E,"floating"),ue(N,"hidden"),ue(A,"icon"),ue(I,"info"),ue(G,"negative"),ue(Q,"positive"),ue(K,"success"),ue(H,"visible"),ue(Y,"warning"),rr(o,"attached"),"message",d),ve=W&&J.createElement(wn,{name:"close",onClick:this.handleDismiss}),_e=ut(e,this.props),ke=vt(e,this.props);return Dt(c)?J.createElement(ke,Ie({},_e,{className:re}),ve,wn.create(A,{autoGenerateKey:!1}),(!Yt(C)||!Yt(b)||!Yt(L))&&J.createElement(ap,null,su.create(C,{autoGenerateKey:!1}),au.create(L,{autoGenerateKey:!1}),Aj(b,{autoGenerateKey:!1}))):J.createElement(ke,Ie({},_e,{className:re}),ve,c)},e})(X.Component);Ja.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"];Ja.propTypes={};Ja.Content=ap;Ja.Header=su;Ja.List=au;Ja.Item=iu;function hc(n){var e=n.children,t=n.className,r=ct(t),s=ut(hc,n),o=vt(hc,n);return J.createElement(o,Ie({},s,{className:r}),e)}hc.handledProps=["as","children","className"];hc.defaultProps={as:"tbody"};hc.propTypes={};function Tn(n){var e=n.active,t=n.children,r=n.className,s=n.collapsing,o=n.content,c=n.disabled,d=n.error,p=n.icon,v=n.negative,b=n.positive,x=n.selectable,E=n.singleLine,C=n.textAlign,N=n.verticalAlign,A=n.warning,I=n.width,L=ct(ue(e,"active"),ue(s,"collapsing"),ue(c,"disabled"),ue(d,"error"),ue(v,"negative"),ue(b,"positive"),ue(x,"selectable"),ue(E,"single line"),ue(A,"warning"),gb(C),jm(N),ih(I,"wide"),r),G=ut(Tn,n),W=vt(Tn,n);return Dt(t)?J.createElement(W,Ie({},G,{className:L}),wn.create(p),o):J.createElement(W,Ie({},G,{className:L}),t)}Tn.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"];Tn.defaultProps={as:"td"};Tn.propTypes={};Tn.create=gn(Tn,function(n){return{content:n}});function ou(n){var e=n.children,t=n.className,r=n.content,s=n.fullWidth,o=ct(ue(s,"full-width"),t),c=ut(ou,n),d=vt(ou,n);return J.createElement(d,Ie({},c,{className:o}),Dt(e)?r:e)}ou.handledProps=["as","children","className","content","fullWidth"];ou.defaultProps={as:"thead"};ou.propTypes={};function oh(n){var e=n.as,t=ut(oh,n);return J.createElement(ou,Ie({},t,{as:e}))}oh.handledProps=["as"];oh.propTypes={};oh.defaultProps={as:"tfoot"};function ic(n){var e=n.as,t=n.className,r=n.sorted,s=ct(Ws(r,"sorted"),t),o=ut(ic,n);return J.createElement(Tn,Ie({},o,{as:e,className:s}))}ic.handledProps=["as","className","sorted"];ic.propTypes={};ic.defaultProps={as:"th"};function Us(n){var e=n.active,t=n.cellAs,r=n.cells,s=n.children,o=n.className,c=n.disabled,d=n.error,p=n.negative,v=n.positive,b=n.textAlign,x=n.verticalAlign,E=n.warning,C=ct(ue(e,"active"),ue(c,"disabled"),ue(d,"error"),ue(p,"negative"),ue(v,"positive"),ue(E,"warning"),gb(b),jm(x),o),N=ut(Us,n),A=vt(Us,n);return Dt(s)?J.createElement(A,Ie({},N,{className:C}),Xa(r,function(I){return Tn.create(I,{defaultProps:{as:t}})})):J.createElement(A,Ie({},N,{className:C}),s)}Us.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"];Us.defaultProps={as:"tr",cellAs:"td"};Us.propTypes={};Us.create=gn(Us,function(n){return{cells:n}});function hr(n){var e=n.attached,t=n.basic,r=n.celled,s=n.children,o=n.className,c=n.collapsing,d=n.color,p=n.columns,v=n.compact,b=n.definition,x=n.fixed,E=n.footerRow,C=n.headerRow,N=n.headerRows,A=n.inverted,I=n.padded,L=n.renderBodyRow,G=n.selectable,W=n.singleLine,Q=n.size,z=n.sortable,K=n.stackable,H=n.striped,Y=n.structured,re=n.tableData,ve=n.textAlign,_e=n.unstackable,ke=n.verticalAlign,Re=ct("ui",d,Q,ue(r,"celled"),ue(c,"collapsing"),ue(b,"definition"),ue(x,"fixed"),ue(A,"inverted"),ue(G,"selectable"),ue(W,"single line"),ue(z,"sortable"),ue(K,"stackable"),ue(H,"striped"),ue(Y,"structured"),ue(_e,"unstackable"),rr(e,"attached"),rr(t,"basic"),rr(v,"compact"),rr(I,"padded"),gb(ve),jm(ke),ih(p,"column"),"table",o),Ee=ut(hr,n),he=vt(hr,n);if(!Dt(s))return J.createElement(he,Ie({},Ee,{className:Re}),s);var ge=C||N,me={defaultProps:{cellAs:"th"}},V=ge&&J.createElement(ou,null,Us.create(C,me),Xa(N,function(Ne){return Us.create(Ne,me)}));return J.createElement(he,Ie({},Ee,{className:Re}),V,J.createElement(hc,null,L&&Xa(re,function(Ne,De){return Us.create(L(Ne,De))})),E&&J.createElement(oh,null,Us.create(E)))}hr.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"];hr.defaultProps={as:"table"};hr.propTypes={};hr.Body=hc;hr.Cell=Tn;hr.Footer=oh;hr.Header=ou;hr.HeaderCell=ic;hr.Row=Us;function fc(n){var e=n.children,t=n.className,r=n.content,s=ct("sub header",t),o=ut(fc,n),c=vt(fc,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?r:e)}fc.handledProps=["as","children","className","content"];fc.propTypes={};fc.create=gn(fc,function(n){return{content:n}});function op(n){var e=n.children,t=n.className,r=n.content,s=ct("content",t),o=ut(op,n),c=vt(op,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?r:e)}op.handledProps=["as","children","className","content"];op.propTypes={};function Va(n){var e=n.attached,t=n.block,r=n.children,s=n.className,o=n.color,c=n.content,d=n.disabled,p=n.dividing,v=n.floated,b=n.icon,x=n.image,E=n.inverted,C=n.size,N=n.sub,A=n.subheader,I=n.textAlign,L=ct("ui",o,C,ue(t,"block"),ue(d,"disabled"),ue(p,"dividing"),Ws(v,"floated"),ue(b===!0,"icon"),ue(x===!0,"image"),ue(E,"inverted"),ue(N,"sub"),rr(e,"attached"),gb(I),"header",s),G=ut(Va,n),W=vt(Va,n);if(!Dt(r))return J.createElement(W,Ie({},G,{className:L}),r);var Q=wn.create(b,{autoGenerateKey:!1}),z=ga.create(x,{autoGenerateKey:!1}),K=fc.create(A,{autoGenerateKey:!1});return Q||z?J.createElement(W,Ie({},G,{className:L}),Q||z,(c||K)&&J.createElement(op,null,c,K)):J.createElement(W,Ie({},G,{className:L}),c,K)}Va.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"];Va.propTypes={};Va.Content=op;Va.Subheader=fc;function Yo(n){var e=n.active,t=n.children,r=n.className,s=n.content,o=n.disabled,c=n.indeterminate,d=n.inline,p=n.inverted,v=n.size,b=ct("ui",v,ue(e,"active"),ue(o,"disabled"),ue(c,"indeterminate"),ue(p,"inverted"),ue(t||s,"text"),rr(d,"inline"),"loader",r),x=ut(Yo,n),E=vt(Yo,n);return J.createElement(E,Ie({},x,{className:b}),Dt(t)?s:t)}Yo.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"];Yo.propTypes={};var lp=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleClick=function(d){return it(r.props,"onClick",d,r.props)},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.children,d=s.className,p=s.content,v=s.icon,b=ct(ue(o,"active"),"title",d),x=ut(e,this.props),E=vt(e,this.props),C=Yt(v)?"dropdown":v;return Dt(c)?J.createElement(E,Ie({},x,{className:b,onClick:this.handleClick}),wn.create(C,{autoGenerateKey:!1}),p):J.createElement(E,Ie({},x,{className:b,onClick:this.handleClick}),c)},e})(X.Component);lp.handledProps=["active","as","children","className","content","icon","index","onClick"];lp.propTypes={};lp.create=gn(lp,function(n){return{content:n}});function pc(n){var e=n.active,t=n.children,r=n.className,s=n.content,o=ct("content",ue(e,"active"),r),c=ut(pc,n),d=vt(pc,n);return J.createElement(d,Ie({},c,{className:o}),Dt(t)?s:t)}pc.handledProps=["active","as","children","className","content"];pc.propTypes={};pc.create=gn(pc,function(n){return{content:n}});var up=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.handleTitleOverrides=function(d){return{onClick:function(v,b){it(d,"onClick",v,b),it(r.props,"onTitleClick",v,b)}}},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.content,d=s.index,p=s.title;return J.createElement(J.Fragment,null,lp.create(p,{autoGenerateKey:!1,defaultProps:{active:o,index:d},overrideProps:this.handleTitleOverrides}),pc.create(c,{autoGenerateKey:!1,defaultProps:{active:o}}))},e})(X.Component);up.handledProps=["active","content","index","onTitleClick","title"];up.propTypes={};up.create=gn(up,null);var gc=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.computeNewIndex=function(d){var p=r.props.exclusive,v=r.state.activeIndex;return p?d===v?-1:d:Qa(v,d)?XE(v,d):[].concat(v,[d])},r.handleTitleClick=function(d,p){var v=p.index;r.setState({activeIndex:r.computeNewIndex(v)}),it(r.props,"onTitleClick",d,p)},r.isIndexActive=function(d){var p=r.props.exclusive,v=r.state.activeIndex;return p?v===d:Qa(v,d)},r}var t=e.prototype;return t.getInitialAutoControlledState=function(s){var o=s.exclusive;return{activeIndex:o?-1:[]}},t.componentDidMount=function(){},t.componentDidUpdate=function(){},t.render=function(){var s=this,o=this.props,c=o.className,d=o.children,p=o.panels,v=ct("accordion",c),b=ut(e,this.props),x=vt(e,this.props);return J.createElement(x,Ie({},b,{className:v}),Dt(d)?Xa(p,function(E,C){return up.create(E,{defaultProps:{active:s.isIndexActive(C),index:C,onTitleClick:s.handleTitleClick}})}):d)},e})(Mm);gc.handledProps=["activeIndex","as","children","className","defaultActiveIndex","exclusive","onTitleClick","panels"];gc.propTypes={};gc.defaultProps={exclusive:!0};gc.autoControlledProps=["activeIndex"];gc.create=gn(gc,function(n){return{content:n}});function lu(n){var e=n.className,t=n.fluid,r=n.inverted,s=n.styled,o=ct("ui",ue(t,"fluid"),ue(r,"inverted"),ue(s,"styled"),e),c=ut(lu,n);return J.createElement(gc,Ie({},c,{className:o}))}lu.handledProps=["className","fluid","inverted","styled"];lu.propTypes={};lu.Accordion=gc;lu.Content=pc;lu.Panel=up;lu.Title=lp;function h2(n){return pa(n)&&n.nodeType===1&&!zE(n)}var f2=X.createContext();X.createContext();var p2=function(e){return Array.isArray(e)?e[0]:e},g2=function(e){if(typeof e=="function"){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return e.apply(void 0,r)}},m2=function(e,t){if(typeof e=="function")return g2(e,t);e!=null&&(e.current=t)},px=function(e){return e.reduce(function(t,r){var s=r[0],o=r[1];return t[s]=o,t},{})},gx=typeof window<"u"&&window.document&&window.document.createElement?X.useLayoutEffect:X.useEffect,fi="top",ma="bottom",va="right",pi="left",Xw="auto",$m=[fi,ma,va,pi],cp="start",bm="end",v2="clippingParents",S1="viewport",Lg="popper",y2="reference",mx=$m.reduce(function(n,e){return n.concat([e+"-"+cp,e+"-"+bm])},[]),x1=[].concat($m,[Xw]).reduce(function(n,e){return n.concat([e,e+"-"+cp,e+"-"+bm])},[]),b2="beforeRead",w2="read",_2="afterRead",S2="beforeMain",x2="main",k2="afterMain",E2="beforeWrite",C2="write",O2="afterWrite",P2=[b2,w2,_2,S2,x2,k2,E2,C2,O2];function Go(n){return n?(n.nodeName||"").toLowerCase():null}function Fi(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Qd(n){var e=Fi(n).Element;return n instanceof e||n instanceof Element}function fa(n){var e=Fi(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Zw(n){if(typeof ShadowRoot>"u")return!1;var e=Fi(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function T2(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},s=e.attributes[t]||{},o=e.elements[t];!fa(o)||!Go(o)||(Object.assign(o.style,r),Object.keys(s).forEach(function(c){var d=s[c];d===!1?o.removeAttribute(c):o.setAttribute(c,d===!0?"":d)}))})}function D2(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],o=e.attributes[r]||{},c=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),d=c.reduce(function(p,v){return p[v]="",p},{});!fa(s)||!Go(s)||(Object.assign(s.style,d),Object.keys(o).forEach(function(p){s.removeAttribute(p)}))})}}const N2={name:"applyStyles",enabled:!0,phase:"write",fn:T2,effect:D2,requires:["computeStyles"]};function Bo(n){return n.split("-")[0]}var Fd=Math.max,Ly=Math.min,dp=Math.round;function lw(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function k1(){return!/^((?!chrome|android).)*safari/i.test(lw())}function hp(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,o=1;e&&fa(n)&&(s=n.offsetWidth>0&&dp(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&dp(r.height)/n.offsetHeight||1);var c=Qd(n)?Fi(n):window,d=c.visualViewport,p=!k1()&&t,v=(r.left+(p&&d?d.offsetLeft:0))/s,b=(r.top+(p&&d?d.offsetTop:0))/o,x=r.width/s,E=r.height/o;return{width:x,height:E,top:b,right:v+x,bottom:b+E,left:v,x:v,y:b}}function e_(n){var e=hp(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function E1(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Zw(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function uu(n){return Fi(n).getComputedStyle(n)}function A2(n){return["table","td","th"].indexOf(Go(n))>=0}function Sc(n){return((Qd(n)?n.ownerDocument:n.document)||window.document).documentElement}function yb(n){return Go(n)==="html"?n:n.assignedSlot||n.parentNode||(Zw(n)?n.host:null)||Sc(n)}function vx(n){return!fa(n)||uu(n).position==="fixed"?null:n.offsetParent}function R2(n){var e=/firefox/i.test(lw()),t=/Trident/i.test(lw());if(t&&fa(n)){var r=uu(n);if(r.position==="fixed")return null}var s=yb(n);for(Zw(s)&&(s=s.host);fa(s)&&["html","body"].indexOf(Go(s))<0;){var o=uu(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function Lm(n){for(var e=Fi(n),t=vx(n);t&&A2(t)&&uu(t).position==="static";)t=vx(t);return t&&(Go(t)==="html"||Go(t)==="body"&&uu(t).position==="static")?e:t||R2(n)||e}function t_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function em(n,e,t){return Fd(n,Ly(e,t))}function I2(n,e,t){var r=em(n,e,t);return r>t?t:r}function C1(){return{top:0,right:0,bottom:0,left:0}}function O1(n){return Object.assign({},C1(),n)}function P1(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var M2=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,O1(typeof e!="number"?e:P1(e,$m))};function j2(n){var e,t=n.state,r=n.name,s=n.options,o=t.elements.arrow,c=t.modifiersData.popperOffsets,d=Bo(t.placement),p=t_(d),v=[pi,va].indexOf(d)>=0,b=v?"height":"width";if(!(!o||!c)){var x=M2(s.padding,t),E=e_(o),C=p==="y"?fi:pi,N=p==="y"?ma:va,A=t.rects.reference[b]+t.rects.reference[p]-c[p]-t.rects.popper[b],I=c[p]-t.rects.reference[p],L=Lm(o),G=L?p==="y"?L.clientHeight||0:L.clientWidth||0:0,W=A/2-I/2,Q=x[C],z=G-E[b]-x[N],K=G/2-E[b]/2+W,H=em(Q,K,z),Y=p;t.modifiersData[r]=(e={},e[Y]=H,e.centerOffset=H-K,e)}}function $2(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||E1(e.elements.popper,s)&&(e.elements.arrow=s))}const L2={name:"arrow",enabled:!0,phase:"main",fn:j2,effect:$2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fp(n){return n.split("-")[1]}var U2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function F2(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:dp(t*s)/s||0,y:dp(r*s)/s||0}}function yx(n){var e,t=n.popper,r=n.popperRect,s=n.placement,o=n.variation,c=n.offsets,d=n.position,p=n.gpuAcceleration,v=n.adaptive,b=n.roundOffsets,x=n.isFixed,E=c.x,C=E===void 0?0:E,N=c.y,A=N===void 0?0:N,I=typeof b=="function"?b({x:C,y:A}):{x:C,y:A};C=I.x,A=I.y;var L=c.hasOwnProperty("x"),G=c.hasOwnProperty("y"),W=pi,Q=fi,z=window;if(v){var K=Lm(t),H="clientHeight",Y="clientWidth";if(K===Fi(t)&&(K=Sc(t),uu(K).position!=="static"&&d==="absolute"&&(H="scrollHeight",Y="scrollWidth")),K=K,s===fi||(s===pi||s===va)&&o===bm){Q=ma;var re=x&&K===z&&z.visualViewport?z.visualViewport.height:K[H];A-=re-r.height,A*=p?1:-1}if(s===pi||(s===fi||s===ma)&&o===bm){W=va;var ve=x&&K===z&&z.visualViewport?z.visualViewport.width:K[Y];C-=ve-r.width,C*=p?1:-1}}var _e=Object.assign({position:d},v&&U2),ke=b===!0?F2({x:C,y:A},Fi(t)):{x:C,y:A};if(C=ke.x,A=ke.y,p){var Re;return Object.assign({},_e,(Re={},Re[Q]=G?"0":"",Re[W]=L?"0":"",Re.transform=(z.devicePixelRatio||1)<=1?"translate("+C+"px, "+A+"px)":"translate3d("+C+"px, "+A+"px, 0)",Re))}return Object.assign({},_e,(e={},e[Q]=G?A+"px":"",e[W]=L?C+"px":"",e.transform="",e))}function B2(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,o=t.adaptive,c=o===void 0?!0:o,d=t.roundOffsets,p=d===void 0?!0:d,v={placement:Bo(e.placement),variation:fp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yx(Object.assign({},v,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yx(Object.assign({},v,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const W2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:B2,data:{}};var Yv={passive:!0};function H2(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,o=s===void 0?!0:s,c=r.resize,d=c===void 0?!0:c,p=Fi(e.elements.popper),v=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&v.forEach(function(b){b.addEventListener("scroll",t.update,Yv)}),d&&p.addEventListener("resize",t.update,Yv),function(){o&&v.forEach(function(b){b.removeEventListener("scroll",t.update,Yv)}),d&&p.removeEventListener("resize",t.update,Yv)}}const q2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:H2,data:{}};var z2={left:"right",right:"left",bottom:"top",top:"bottom"};function wy(n){return n.replace(/left|right|bottom|top/g,function(e){return z2[e]})}var K2={start:"end",end:"start"};function bx(n){return n.replace(/start|end/g,function(e){return K2[e]})}function n_(n){var e=Fi(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function r_(n){return hp(Sc(n)).left+n_(n).scrollLeft}function Y2(n,e){var t=Fi(n),r=Sc(n),s=t.visualViewport,o=r.clientWidth,c=r.clientHeight,d=0,p=0;if(s){o=s.width,c=s.height;var v=k1();(v||!v&&e==="fixed")&&(d=s.offsetLeft,p=s.offsetTop)}return{width:o,height:c,x:d+r_(n),y:p}}function G2(n){var e,t=Sc(n),r=n_(n),s=(e=n.ownerDocument)==null?void 0:e.body,o=Fd(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),c=Fd(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-r.scrollLeft+r_(n),p=-r.scrollTop;return uu(s||t).direction==="rtl"&&(d+=Fd(t.clientWidth,s?s.clientWidth:0)-o),{width:o,height:c,x:d,y:p}}function s_(n){var e=uu(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function T1(n){return["html","body","#document"].indexOf(Go(n))>=0?n.ownerDocument.body:fa(n)&&s_(n)?n:T1(yb(n))}function tm(n,e){var t;e===void 0&&(e=[]);var r=T1(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),o=Fi(r),c=s?[o].concat(o.visualViewport||[],s_(r)?r:[]):r,d=e.concat(c);return s?d:d.concat(tm(yb(c)))}function uw(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function V2(n,e){var t=hp(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function wx(n,e,t){return e===S1?uw(Y2(n,t)):Qd(e)?V2(e,t):uw(G2(Sc(n)))}function Q2(n){var e=tm(yb(n)),t=["absolute","fixed"].indexOf(uu(n).position)>=0,r=t&&fa(n)?Lm(n):n;return Qd(r)?e.filter(function(s){return Qd(s)&&E1(s,r)&&Go(s)!=="body"}):[]}function J2(n,e,t,r){var s=e==="clippingParents"?Q2(n):[].concat(e),o=[].concat(s,[t]),c=o[0],d=o.reduce(function(p,v){var b=wx(n,v,r);return p.top=Fd(b.top,p.top),p.right=Ly(b.right,p.right),p.bottom=Ly(b.bottom,p.bottom),p.left=Fd(b.left,p.left),p},wx(n,c,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function D1(n){var e=n.reference,t=n.element,r=n.placement,s=r?Bo(r):null,o=r?fp(r):null,c=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,p;switch(s){case fi:p={x:c,y:e.y-t.height};break;case ma:p={x:c,y:e.y+e.height};break;case va:p={x:e.x+e.width,y:d};break;case pi:p={x:e.x-t.width,y:d};break;default:p={x:e.x,y:e.y}}var v=s?t_(s):null;if(v!=null){var b=v==="y"?"height":"width";switch(o){case cp:p[v]=p[v]-(e[b]/2-t[b]/2);break;case bm:p[v]=p[v]+(e[b]/2-t[b]/2);break}}return p}function wm(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,o=t.strategy,c=o===void 0?n.strategy:o,d=t.boundary,p=d===void 0?v2:d,v=t.rootBoundary,b=v===void 0?S1:v,x=t.elementContext,E=x===void 0?Lg:x,C=t.altBoundary,N=C===void 0?!1:C,A=t.padding,I=A===void 0?0:A,L=O1(typeof I!="number"?I:P1(I,$m)),G=E===Lg?y2:Lg,W=n.rects.popper,Q=n.elements[N?G:E],z=J2(Qd(Q)?Q:Q.contextElement||Sc(n.elements.popper),p,b,c),K=hp(n.elements.reference),H=D1({reference:K,element:W,placement:s}),Y=uw(Object.assign({},W,H)),re=E===Lg?Y:K,ve={top:z.top-re.top+L.top,bottom:re.bottom-z.bottom+L.bottom,left:z.left-re.left+L.left,right:re.right-z.right+L.right},_e=n.modifiersData.offset;if(E===Lg&&_e){var ke=_e[s];Object.keys(ve).forEach(function(Re){var Ee=[va,ma].indexOf(Re)>=0?1:-1,he=[fi,ma].indexOf(Re)>=0?"y":"x";ve[Re]+=ke[he]*Ee})}return ve}function X2(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,o=t.rootBoundary,c=t.padding,d=t.flipVariations,p=t.allowedAutoPlacements,v=p===void 0?x1:p,b=fp(r),x=b?d?mx:mx.filter(function(N){return fp(N)===b}):$m,E=x.filter(function(N){return v.indexOf(N)>=0});E.length===0&&(E=x);var C=E.reduce(function(N,A){return N[A]=wm(n,{placement:A,boundary:s,rootBoundary:o,padding:c})[Bo(A)],N},{});return Object.keys(C).sort(function(N,A){return C[N]-C[A]})}function Z2(n){if(Bo(n)===Xw)return[];var e=wy(n);return[bx(n),e,bx(e)]}function eL(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,o=s===void 0?!0:s,c=t.altAxis,d=c===void 0?!0:c,p=t.fallbackPlacements,v=t.padding,b=t.boundary,x=t.rootBoundary,E=t.altBoundary,C=t.flipVariations,N=C===void 0?!0:C,A=t.allowedAutoPlacements,I=e.options.placement,L=Bo(I),G=L===I,W=p||(G||!N?[wy(I)]:Z2(I)),Q=[I].concat(W).reduce(function(Qe,rt){return Qe.concat(Bo(rt)===Xw?X2(e,{placement:rt,boundary:b,rootBoundary:x,padding:v,flipVariations:N,allowedAutoPlacements:A}):rt)},[]),z=e.rects.reference,K=e.rects.popper,H=new Map,Y=!0,re=Q[0],ve=0;ve<Q.length;ve++){var _e=Q[ve],ke=Bo(_e),Re=fp(_e)===cp,Ee=[fi,ma].indexOf(ke)>=0,he=Ee?"width":"height",ge=wm(e,{placement:_e,boundary:b,rootBoundary:x,altBoundary:E,padding:v}),me=Ee?Re?va:pi:Re?ma:fi;z[he]>K[he]&&(me=wy(me));var V=wy(me),Ne=[];if(o&&Ne.push(ge[ke]<=0),d&&Ne.push(ge[me]<=0,ge[V]<=0),Ne.every(function(Qe){return Qe})){re=_e,Y=!1;break}H.set(_e,Ne)}if(Y)for(var De=N?3:1,ie=function(rt){var ht=Q.find(function(Nt){var pt=H.get(Nt);if(pt)return pt.slice(0,rt).every(function(xt){return xt})});if(ht)return re=ht,"break"},Ce=De;Ce>0;Ce--){var Ue=ie(Ce);if(Ue==="break")break}e.placement!==re&&(e.modifiersData[r]._skip=!0,e.placement=re,e.reset=!0)}}const tL={name:"flip",enabled:!0,phase:"main",fn:eL,requiresIfExists:["offset"],data:{_skip:!1}};function _x(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Sx(n){return[fi,va,ma,pi].some(function(e){return n[e]>=0})}function nL(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,c=wm(e,{elementContext:"reference"}),d=wm(e,{altBoundary:!0}),p=_x(c,r),v=_x(d,s,o),b=Sx(p),x=Sx(v);e.modifiersData[t]={referenceClippingOffsets:p,popperEscapeOffsets:v,isReferenceHidden:b,hasPopperEscaped:x},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":x})}const rL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nL};function sL(n,e,t){var r=Bo(n),s=[pi,fi].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,c=o[0],d=o[1];return c=c||0,d=(d||0)*s,[pi,va].indexOf(r)>=0?{x:d,y:c}:{x:c,y:d}}function iL(n){var e=n.state,t=n.options,r=n.name,s=t.offset,o=s===void 0?[0,0]:s,c=x1.reduce(function(b,x){return b[x]=sL(x,e.rects,o),b},{}),d=c[e.placement],p=d.x,v=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=v),e.modifiersData[r]=c}const aL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:iL};function oL(n){var e=n.state,t=n.name;e.modifiersData[t]=D1({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const lL={name:"popperOffsets",enabled:!0,phase:"read",fn:oL,data:{}};function uL(n){return n==="x"?"y":"x"}function cL(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,o=s===void 0?!0:s,c=t.altAxis,d=c===void 0?!1:c,p=t.boundary,v=t.rootBoundary,b=t.altBoundary,x=t.padding,E=t.tether,C=E===void 0?!0:E,N=t.tetherOffset,A=N===void 0?0:N,I=wm(e,{boundary:p,rootBoundary:v,padding:x,altBoundary:b}),L=Bo(e.placement),G=fp(e.placement),W=!G,Q=t_(L),z=uL(Q),K=e.modifiersData.popperOffsets,H=e.rects.reference,Y=e.rects.popper,re=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,ve=typeof re=="number"?{mainAxis:re,altAxis:re}:Object.assign({mainAxis:0,altAxis:0},re),_e=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ke={x:0,y:0};if(K){if(o){var Re,Ee=Q==="y"?fi:pi,he=Q==="y"?ma:va,ge=Q==="y"?"height":"width",me=K[Q],V=me+I[Ee],Ne=me-I[he],De=C?-Y[ge]/2:0,ie=G===cp?H[ge]:Y[ge],Ce=G===cp?-Y[ge]:-H[ge],Ue=e.elements.arrow,Qe=C&&Ue?e_(Ue):{width:0,height:0},rt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:C1(),ht=rt[Ee],Nt=rt[he],pt=em(0,H[ge],Qe[ge]),xt=W?H[ge]/2-De-pt-ht-ve.mainAxis:ie-pt-ht-ve.mainAxis,qt=W?-H[ge]/2+De+pt+Nt+ve.mainAxis:Ce+pt+Nt+ve.mainAxis,Dn=e.elements.arrow&&Lm(e.elements.arrow),or=Dn?Q==="y"?Dn.clientTop||0:Dn.clientLeft||0:0,Gt=(Re=_e?.[Q])!=null?Re:0,Vn=me+xt-Gt-or,mi=me+qt-Gt,tl=em(C?Ly(V,Vn):V,me,C?Fd(Ne,mi):Ne);K[Q]=tl,ke[Q]=tl-me}if(d){var Rr,nl=Q==="x"?fi:pi,ba=Q==="x"?ma:va,Wn=K[z],mn=z==="y"?"height":"width",qs=Wn+I[nl],Bi=Wn-I[ba],to=[fi,pi].indexOf(L)!==-1,vi=(Rr=_e?.[z])!=null?Rr:0,ln=to?qs:Wn-H[mn]-Y[mn]-vi+ve.altAxis,Yr=to?Wn+H[mn]+Y[mn]-vi-ve.altAxis:Bi,ls=C&&to?I2(ln,Wn,Yr):em(C?ln:qs,Wn,C?Yr:Bi);K[z]=ls,ke[z]=ls-Wn}e.modifiersData[r]=ke}}const dL={name:"preventOverflow",enabled:!0,phase:"main",fn:cL,requiresIfExists:["offset"]};function hL(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function fL(n){return n===Fi(n)||!fa(n)?n_(n):hL(n)}function pL(n){var e=n.getBoundingClientRect(),t=dp(e.width)/n.offsetWidth||1,r=dp(e.height)/n.offsetHeight||1;return t!==1||r!==1}function gL(n,e,t){t===void 0&&(t=!1);var r=fa(e),s=fa(e)&&pL(e),o=Sc(e),c=hp(n,s,t),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(r||!r&&!t)&&((Go(e)!=="body"||s_(o))&&(d=fL(e)),fa(e)?(p=hp(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):o&&(p.x=r_(o))),{x:c.left+d.scrollLeft-p.x,y:c.top+d.scrollTop-p.y,width:c.width,height:c.height}}function mL(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function s(o){t.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(d){if(!t.has(d)){var p=e.get(d);p&&s(p)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||s(o)}),r}function vL(n){var e=mL(n);return P2.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function yL(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function bL(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var xx={placement:"bottom",modifiers:[],strategy:"absolute"};function kx(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function wL(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,o=s===void 0?xx:s;return function(d,p,v){v===void 0&&(v=o);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},xx,o),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},x=[],E=!1,C={state:b,setOptions:function(L){var G=typeof L=="function"?L(b.options):L;A(),b.options=Object.assign({},o,b.options,G),b.scrollParents={reference:Qd(d)?tm(d):d.contextElement?tm(d.contextElement):[],popper:tm(p)};var W=vL(bL([].concat(r,b.options.modifiers)));return b.orderedModifiers=W.filter(function(Q){return Q.enabled}),N(),C.update()},forceUpdate:function(){if(!E){var L=b.elements,G=L.reference,W=L.popper;if(kx(G,W)){b.rects={reference:gL(G,Lm(W),b.options.strategy==="fixed"),popper:e_(W)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(ve){return b.modifiersData[ve.name]=Object.assign({},ve.data)});for(var Q=0;Q<b.orderedModifiers.length;Q++){if(b.reset===!0){b.reset=!1,Q=-1;continue}var z=b.orderedModifiers[Q],K=z.fn,H=z.options,Y=H===void 0?{}:H,re=z.name;typeof K=="function"&&(b=K({state:b,options:Y,name:re,instance:C})||b)}}}},update:yL(function(){return new Promise(function(I){C.forceUpdate(),I(b)})}),destroy:function(){A(),E=!0}};if(!kx(d,p))return C;C.setOptions(v).then(function(I){!E&&v.onFirstUpdate&&v.onFirstUpdate(I)});function N(){b.orderedModifiers.forEach(function(I){var L=I.name,G=I.options,W=G===void 0?{}:G,Q=I.effect;if(typeof Q=="function"){var z=Q({state:b,name:L,instance:C,options:W}),K=function(){};x.push(z||K)}})}function A(){x.forEach(function(I){return I()}),x=[]}return C}}var _L=[q2,lL,W2,N2,aL,tL,dL,L2,rL],SL=wL({defaultModifiers:_L}),k0,Ex;function xL(){if(Ex)return k0;Ex=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(o,c){if(o===c)return!0;if(o&&c&&typeof o=="object"&&typeof c=="object"){if(o.constructor!==c.constructor)return!1;var d,p,v;if(Array.isArray(o)){if(d=o.length,d!=c.length)return!1;for(p=d;p--!==0;)if(!s(o[p],c[p]))return!1;return!0}var b;if(e&&o instanceof Map&&c instanceof Map){if(o.size!==c.size)return!1;for(b=o.entries();!(p=b.next()).done;)if(!c.has(p.value[0]))return!1;for(b=o.entries();!(p=b.next()).done;)if(!s(p.value[1],c.get(p.value[0])))return!1;return!0}if(t&&o instanceof Set&&c instanceof Set){if(o.size!==c.size)return!1;for(b=o.entries();!(p=b.next()).done;)if(!c.has(p.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(c)){if(d=o.length,d!=c.length)return!1;for(p=d;p--!==0;)if(o[p]!==c[p])return!1;return!0}if(o.constructor===RegExp)return o.source===c.source&&o.flags===c.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof c.valueOf=="function")return o.valueOf()===c.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof c.toString=="function")return o.toString()===c.toString();if(v=Object.keys(o),d=v.length,d!==Object.keys(c).length)return!1;for(p=d;p--!==0;)if(!Object.prototype.hasOwnProperty.call(c,v[p]))return!1;if(n&&o instanceof Element)return!1;for(p=d;p--!==0;)if(!((v[p]==="_owner"||v[p]==="__v"||v[p]==="__o")&&o.$$typeof)&&!s(o[v[p]],c[v[p]]))return!1;return!0}return o!==o&&c!==c}return k0=function(c,d){try{return s(c,d)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},k0}var kL=xL();const EL=mr(kL);var CL=[],OL=function(e,t,r){r===void 0&&(r={});var s=X.useRef(null),o={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||CL},c=X.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),d=c[0],p=c[1],v=X.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(C){var N=C.state,A=Object.keys(N.elements);Kf.flushSync(function(){p({styles:px(A.map(function(I){return[I,N.styles[I]||{}]})),attributes:px(A.map(function(I){return[I,N.attributes[I]]}))})})},requires:["computeStyles"]}},[]),b=X.useMemo(function(){var E={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[v,{name:"applyStyles",enabled:!1}])};return EL(s.current,E)?s.current||E:(s.current=E,E)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,v]),x=X.useRef();return gx(function(){x.current&&x.current.setOptions(b)},[b]),gx(function(){if(!(e==null||t==null)){var E=r.createPopper||SL,C=E(e,t,b);return x.current=C,function(){C.destroy(),x.current=null}}},[e,t,r.createPopper]),{state:x.current?x.current.state:null,styles:d.styles,attributes:d.attributes,update:x.current?x.current.update:null,forceUpdate:x.current?x.current.forceUpdate:null}},PL=function(){},TL=function(){return Promise.resolve(null)},DL=[];function NL(n){var e=n.placement,t=e===void 0?"bottom":e,r=n.strategy,s=r===void 0?"absolute":r,o=n.modifiers,c=o===void 0?DL:o,d=n.referenceElement,p=n.onFirstUpdate,v=n.innerRef,b=n.children,x=X.useContext(f2),E=X.useState(null),C=E[0],N=E[1],A=X.useState(null),I=A[0],L=A[1];X.useEffect(function(){m2(v,C)},[v,C]);var G=X.useMemo(function(){return{placement:t,strategy:s,onFirstUpdate:p,modifiers:[].concat(c,[{name:"arrow",enabled:I!=null,options:{element:I}}])}},[t,s,p,c,I]),W=OL(d||x,C,G),Q=W.state,z=W.styles,K=W.forceUpdate,H=W.update,Y=X.useMemo(function(){return{ref:N,style:z.popper,placement:Q?Q.placement:t,hasPopperEscaped:Q&&Q.modifiersData.hide?Q.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:Q&&Q.modifiersData.hide?Q.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:z.arrow,ref:L},forceUpdate:K||PL,update:H||TL}},[N,L,t,Q,z,H,K]);return p2(b)(Y)}function AL(n,e,t,r){return xE(n,function(s,o,c){e(r,t(s),o,c)}),r}function RL(n,e){return function(t,r){return AL(t,n,e(r),{})}}var IL=Object.prototype,ML=IL.toString,jL=RL(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=ML.call(e)),n[e]=t},mE(Im)),i_={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"};xp(i_);var $L=jL(i_);function _m(n){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(n)}function LL(n,e){if(_m(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function UL(n){var e=LL(n,"string");return _m(e)=="symbol"?e:e+""}function FL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,UL(r.key),r)}}function BL(n,e,t){return e&&FL(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var WL=(function(){function n(t){this.ref=t}var e=n.prototype;return e.getBoundingClientRect=function(){return it(this.ref.current,"getBoundingClientRect")||{}},BL(n,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}},{key:"contextElement",get:function(){return this.ref.current}}]),n})(),HL=ub(function(n){return new WL(KN(n)?n:{current:n})});function mc(n){var e=n.children,t=n.className,r=n.content,s=ct("content",t),o=ut(mc,n),c=vt(mc,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?r:e)}mc.handledProps=["as","children","className","content"];mc.propTypes={};mc.create=gn(mc,function(n){return{children:n}});function vc(n){var e=n.children,t=n.className,r=n.content,s=ct("header",t),o=ut(vc,n),c=vt(vc,n);return J.createElement(c,Ie({},o,{className:s}),Dt(e)?r:e)}vc.handledProps=["as","children","className","content"];vc.propTypes={};vc.create=gn(vc,function(n){return{children:n}});var Ht=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.state={},r.open=!1,r.zIndexWasSynced=!1,r.triggerRef=J.createRef(),r.elementRef=J.createRef(),r.getPortalProps=function(){var d={},p=r.props,v=p.on,b=p.hoverable,x=xr(v)?v:[v];return b&&(d.closeOnPortalMouseLeave=!0,d.mouseLeaveDelay=300),Qa(x,"hover")&&(d.openOnTriggerClick=!1,d.closeOnTriggerClick=!1,d.openOnTriggerMouseEnter=!0,d.closeOnTriggerMouseLeave=!0,d.mouseLeaveDelay=70,d.mouseEnterDelay=50),Qa(x,"click")&&(d.openOnTriggerClick=!0,d.closeOnTriggerClick=!0,d.closeOnDocumentClick=!0),Qa(x,"focus")&&(d.openOnTriggerFocus=!0,d.closeOnTriggerBlur=!0),d},r.hideOnScroll=function(d){h2(d.target)&&r.elementRef.current.contains(d.target)||(r.setState({closed:!0}),_j.unsub("scroll",r.hideOnScroll,{target:window}),r.timeoutId=setTimeout(function(){r.setState({closed:!1})},50),r.handleClose(d))},r.handleClose=function(d){it(r.props,"onClose",d,Ie({},r.props,{open:!1}))},r.handleOpen=function(d){it(r.props,"onOpen",d,Ie({},r.props,{open:!0}))},r.handlePortalMount=function(d){it(r.props,"onMount",d,r.props)},r.handlePortalUnmount=function(d){r.positionUpdate=null,it(r.props,"onUnmount",d,r.props)},r.renderContent=function(d){var p=d.placement,v=d.ref,b=d.update,x=d.style,E=r.props,C=E.basic,N=E.children,A=E.className,I=E.content,L=E.hideOnScroll,G=E.flowing,W=E.header,Q=E.inverted,z=E.popper,K=E.size,H=E.style,Y=E.wide,re=r.state.contentRestProps;r.positionUpdate=b;var ve=ct("ui",$L[p],K,rr(Y,"wide"),ue(C,"basic"),ue(G,"flowing"),ue(Q,"inverted"),"popup transition visible",A),_e=vt(e,r.props),ke=Ie({left:"auto",right:"auto",position:"initial"},H),Re=J.createElement(_e,Ie({},re,{className:ve,style:ke,ref:r.elementRef}),Dt(N)?J.createElement(J.Fragment,null,vc.create(W,{autoGenerateKey:!1}),mc.create(I,{autoGenerateKey:!1})):N,L&&J.createElement(Gl,{on:r.hideOnScroll,name:"scroll",target:"window"}));return QE(z||{},{overrideProps:{children:Re,ref:v,style:Ie({display:"flex"},x)}})},r}e.getDerivedStateFromProps=function(s,o){if(o.closed||o.disabled)return{};var c=ut(e,s),d=e1(c,function(v,b,x){return Qa(Xl.handledProps,x)||(v[x]=b),v},{}),p=HE(c,Xl.handledProps);return{contentRestProps:d,portalRestProps:p}};var t=e.prototype;return t.componentDidUpdate=function(s){var o=by(this.props.popperDependencies,s.popperDependencies);o||this.handleUpdate()},t.componentWillUnmount=function(){clearTimeout(this.timeoutId)},t.handleUpdate=function(){this.positionUpdate&&this.positionUpdate()},t.render=function(){var s=this,o=this.props,c=o.context,d=o.disabled,p=o.eventsEnabled,v=o.offset,b=o.pinned,x=o.popper,E=o.popperModifiers,C=o.position,N=o.positionFixed,A=o.trigger,I=this.state,L=I.closed,G=I.portalRestProps;if(L||d)return A;var W=[{name:"arrow",enabled:!1},{name:"eventListeners",options:{scroll:!!p,resize:!!p}},{name:"flip",enabled:!b},{name:"preventOverflow",enabled:!!v},{name:"offset",enabled:!!v,options:{offset:v}}].concat(E,[{name:"syncZIndex",enabled:!0,phase:"beforeRead",fn:function(H){var Y,re=H.state;if(!s.zIndexWasSynced){var ve=x==null||(Y=x.style)==null?void 0:Y.zIndex;Ya(ve)&&(re.elements.popper.style.zIndex=window.getComputedStyle(re.elements.popper.firstChild).zIndex),s.zIndexWasSynced=!0}},effect:function(){return function(){s.zIndexWasSynced=!1}}}]),Q=HL(Yt(c)?this.triggerRef:c),z=Ie({},this.getPortalProps(),G);return J.createElement(Xl,Ie({},z,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:A,triggerRef:this.triggerRef}),J.createElement(NL,{modifiers:W,placement:i_[C],strategy:N?"fixed":null,referenceElement:Q},this.renderContent))},e})(X.Component);Ht.handledProps=["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popper","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"];Ht.propTypes={};Ht.defaultProps={disabled:!1,eventsEnabled:!0,on:["click","hover"],pinned:!1,popperModifiers:[],position:"top left"};Ht.Content=mc;Ht.Header=vc;var qL=Jo.isFinite,zL=Math.min;function KL(n){var e=Math[n];return function(t,r){if(t=Ff(t),r=r==null?0:zL(fb(r),292),r&&qL(t)){var s=(Yd(t)+"e").split("e"),o=e(s[0]+"e"+(+s[1]+r));return s=(Yd(o)+"e").split("e"),+(s[0]+"e"+(+s[1]-r))}return e(t)}}var YL=KL("round");function GL(n,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=Ff(t),t=t===t?t:0),e!==void 0&&(e=Ff(e),e=e===e?e:0),mR(Ff(n),e,t)}var a_=(function(n){In(e,n);function e(){for(var r,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return r=n.call.apply(n,[this].concat(o))||this,r.calculatePercent=function(){var d=r.props,p=d.percent,v=d.total,b=d.value;if(!Ya(p))return p;if(!Ya(v)&&!Ya(b))return b/v*100},r.computeValueText=function(d){var p=r.props,v=p.progress,b=p.total,x=p.value;return v==="value"?x:v==="ratio"?x+"/"+b:d+"%"},r.getPercent=function(){var d=r.props,p=d.precision,v=d.progress,b=d.total,x=d.value,E=GL(r.calculatePercent(),0,100);return!Ya(b)&&!Ya(x)&&v==="value"?x/b*100:v==="value"?x:Ya(p)?E:YL(E,p)},r.isAutoSuccess=function(){var d=r.props,p=d.autoSuccess,v=d.percent,b=d.total,x=d.value;return p&&(v>=100||x>=b)},r.renderLabel=function(){var d=r.props,p=d.children,v=d.content,b=d.label;return Dt(p)?Dt(v)?QE(b,{autoGenerateKey:!1,defaultProps:{className:"label"}}):J.createElement("div",{className:"label"},v):J.createElement("div",{className:"label"},p)},r.renderProgress=function(d){var p=r.props,v=p.precision,b=p.progress;if(!(!b&&Ya(v)))return J.createElement("div",{className:"progress"},r.computeValueText(d))},r}var t=e.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.attached,d=s.className,p=s.color,v=s.disabled,b=s.error,x=s.indicating,E=s.inverted,C=s.size,N=s.success,A=s.warning,I=ct("ui",p,C,ue(o||x,"active"),ue(v,"disabled"),ue(b,"error"),ue(x,"indicating"),ue(E,"inverted"),ue(N||this.isAutoSuccess(),"success"),ue(A,"warning"),Ws(c,"attached"),"progress",d),L=ut(e,this.props),G=vt(e,this.props),W=this.getPercent()||0;return J.createElement(G,Ie({},L,{className:I,"data-percent":Math.floor(W)}),J.createElement("div",{className:"bar",style:{width:W+"%"}},this.renderProgress(W)),this.renderLabel())},e})(X.Component);a_.handledProps=["active","as","attached","autoSuccess","children","className","color","content","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"];a_.propTypes={};var cw=function(n,e){return cw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},cw(n,e)};function fu(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cw(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Uy=function(){return Uy=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Uy.apply(this,arguments)};function Um(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function N1(n,e,t,r){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(b){try{v(r.next(b))}catch(x){c(x)}}function p(b){try{v(r.throw(b))}catch(x){c(x)}}function v(b){b.done?o(b.value):s(b.value).then(d,p)}v((r=r.apply(n,e||[])).next())})}function A1(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(v){return function(b){return p([v,b])}}function p(v){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,v[0]&&(t=0)),t;)try{if(r=1,s&&(o=v[0]&2?s.return:v[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,v[1])).done)return o;switch(s=0,o&&(v=[v[0]&2,o.value]),v[0]){case 0:case 1:o=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,s=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){t.label=v[1];break}if(v[0]===6&&t.label<o[1]){t.label=o[1],o=v;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(v);break}o[2]&&t.ops.pop(),t.trys.pop();continue}v=e.call(n,t)}catch(b){v=[6,b],s=0}finally{r=o=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function pp(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sm(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),s,o=[],c;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(d){c={error:d}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return o}function xm(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function Wf(n){return this instanceof Wf?(this.v=n,this):new Wf(n)}function VL(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(C){return function(N){return Promise.resolve(N).then(C,x)}}function d(C,N){r[C]&&(s[C]=function(A){return new Promise(function(I,L){o.push([C,A,I,L])>1||p(C,A)})},N&&(s[C]=N(s[C])))}function p(C,N){try{v(r[C](N))}catch(A){E(o[0][3],A)}}function v(C){C.value instanceof Wf?Promise.resolve(C.value.v).then(b,x):E(o[0][2],C)}function b(C){p("next",C)}function x(C){p("throw",C)}function E(C,N){C(N),o.shift(),o.length&&p(o[0][0],o[0][1])}}function QL(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pp=="function"?pp(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(c){return new Promise(function(d,p){c=n[o](c),s(d,p,c.done,c.value)})}}function s(o,c,d,p){Promise.resolve(p).then(function(v){o({value:v,done:d})},c)}}function sr(n){return typeof n=="function"}function o_(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var E0=o_(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,s){return s+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Fy(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Fm=(function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,s,o;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var d=pp(c),p=d.next();!p.done;p=d.next()){var v=p.value;v.remove(this)}}catch(A){e={error:A}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}else c.remove(this);var b=this.initialTeardown;if(sr(b))try{b()}catch(A){o=A instanceof E0?A.errors:[A]}var x=this._finalizers;if(x){this._finalizers=null;try{for(var E=pp(x),C=E.next();!C.done;C=E.next()){var N=C.value;try{Cx(N)}catch(A){o=o??[],A instanceof E0?o=xm(xm([],Sm(o)),Sm(A.errors)):o.push(A)}}}catch(A){r={error:A}}finally{try{C&&!C.done&&(s=E.return)&&s.call(E)}finally{if(r)throw r.error}}}if(o)throw new E0(o)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Cx(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Fy(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&Fy(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=(function(){var e=new n;return e.closed=!0,e})(),n})(),R1=Fm.EMPTY;function I1(n){return n instanceof Fm||n&&"closed"in n&&sr(n.remove)&&sr(n.add)&&sr(n.unsubscribe)}function Cx(n){sr(n)?n():n.unsubscribe()}var JL={Promise:void 0},XL={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setTimeout.apply(void 0,xm([n,e],Sm(t)))},clearTimeout:function(n){return clearTimeout(n)},delegate:void 0};function M1(n){XL.setTimeout(function(){throw n})}function Ox(){}function _y(n){n()}var l_=(function(n){fu(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,I1(t)&&t.add(r)):r.destination=tU,r}return e.create=function(t,r,s){return new dw(t,r,s)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(Fm),ZL=(function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){Gv(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){Gv(r)}else Gv(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Gv(t)}},n})(),dw=(function(n){fu(e,n);function e(t,r,s){var o=n.call(this)||this,c;return sr(t)||!t?c={next:t??void 0,error:r??void 0,complete:s??void 0}:c=t,o.destination=new ZL(c),o}return e})(l_);function Gv(n){M1(n)}function eU(n){throw n}var tU={closed:!0,next:Ox,error:eU,complete:Ox},u_=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function j1(n){return n}function nU(n){return n.length===0?j1:n.length===1?n[0]:function(t){return n.reduce(function(r,s){return s(r)},t)}}var xs=(function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var s=this,o=sU(e)?e:new dw(e,t,r);return _y(function(){var c=s,d=c.operator,p=c.source;o.add(d?d.call(o,p):p?s._subscribe(o):s._trySubscribe(o))}),o},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=Px(t),new t(function(s,o){var c=new dw({next:function(d){try{e(d)}catch(p){o(p),c.unsubscribe()}},error:o,complete:s});r.subscribe(c)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[u_]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nU(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=Px(e),new e(function(r,s){var o;t.subscribe(function(c){return o=c},function(c){return s(c)},function(){return r(o)})})},n.create=function(e){return new n(e)},n})();function Px(n){var e;return(e=n??JL.Promise)!==null&&e!==void 0?e:Promise}function rU(n){return n&&sr(n.next)&&sr(n.error)&&sr(n.complete)}function sU(n){return n&&n instanceof l_||rU(n)&&I1(n)}function iU(n){return sr(n?.lift)}function xc(n){return function(e){if(iU(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vo(n,e,t,r,s){return new aU(n,e,t,r,s)}var aU=(function(n){fu(e,n);function e(t,r,s,o,c,d){var p=n.call(this,t)||this;return p.onFinalize=c,p.shouldUnsubscribe=d,p._next=r?function(v){try{r(v)}catch(b){t.error(b)}}:n.prototype._next,p._error=o?function(v){try{o(v)}catch(b){t.error(b)}finally{this.unsubscribe()}}:n.prototype._error,p._complete=s?function(){try{s()}catch(v){t.error(v)}finally{this.unsubscribe()}}:n.prototype._complete,p}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e})(l_),oU=o_(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),$1=(function(n){fu(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new Tx(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new oU},e.prototype.next=function(t){var r=this;_y(function(){var s,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var c=pp(r.currentObservers),d=c.next();!d.done;d=c.next()){var p=d.value;p.next(t)}}catch(v){s={error:v}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}}})},e.prototype.error=function(t){var r=this;_y(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var s=r.observers;s.length;)s.shift().error(t)}})},e.prototype.complete=function(){var t=this;_y(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,s=this,o=s.hasError,c=s.isStopped,d=s.observers;return o||c?R1:(this.currentObservers=null,d.push(t),new Fm(function(){r.currentObservers=null,Fy(d,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,s=r.hasError,o=r.thrownError,c=r.isStopped;s?t.error(o):c&&t.complete()},e.prototype.asObservable=function(){var t=new xs;return t.source=this,t},e.create=function(t,r){return new Tx(t,r)},e})(xs),Tx=(function(n){fu(e,n);function e(t,r){var s=n.call(this)||this;return s.destination=t,s.source=r,s}return e.prototype.next=function(t){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,t)},e.prototype.error=function(t){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&s!==void 0?s:R1},e})($1),ci=(function(n){fu(e,n);function e(t){var r=n.call(this)||this;return r._value=t,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var r=n.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},e.prototype.getValue=function(){var t=this,r=t.hasError,s=t.thrownError,o=t._value;if(r)throw s;return this._throwIfClosed(),o},e.prototype.next=function(t){n.prototype.next.call(this,this._value=t)},e})($1),lU={now:function(){return Date.now()}},uU=(function(n){fu(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return this},e})(Fm),Dx={setInterval:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setInterval.apply(void 0,xm([n,e],Sm(t)))},clearInterval:function(n){return clearInterval(n)},delegate:void 0},cU=(function(n){fu(e,n);function e(t,r){var s=n.call(this,t,r)||this;return s.scheduler=t,s.work=r,s.pending=!1,s}return e.prototype.schedule=function(t,r){var s;if(r===void 0&&(r=0),this.closed)return this;this.state=t;var o=this.id,c=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(c,o,r)),this.pending=!0,this.delay=r,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(c,this.id,r),this},e.prototype.requestAsyncId=function(t,r,s){return s===void 0&&(s=0),Dx.setInterval(t.flush.bind(t,this),s)},e.prototype.recycleAsyncId=function(t,r,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return r;r!=null&&Dx.clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(t,r);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var s=!1,o;try{this.work(t)}catch(c){s=!0,o=c||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,s=t.scheduler,o=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Fy(o,this),r!=null&&(this.id=this.recycleAsyncId(s,r,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e})(uU),Nx=(function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},n.now=lU.now,n})(),dU=(function(n){fu(e,n);function e(t,r){r===void 0&&(r=Nx.now);var s=n.call(this,t,r)||this;return s.actions=[],s._active=!1,s}return e.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var s;this._active=!0;do if(s=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,s){for(;t=r.shift();)t.unsubscribe();throw s}},e})(Nx),c_=new dU(cU),hU=c_,fU=new xs(function(n){return n.complete()});function L1(n){return n&&sr(n.schedule)}function U1(n){return n[n.length-1]}function pU(n){return sr(U1(n))?n.pop():void 0}function gU(n){return L1(U1(n))?n.pop():void 0}var F1=(function(n){return n&&typeof n.length=="number"&&typeof n!="function"});function B1(n){return sr(n?.then)}function W1(n){return sr(n[u_])}function H1(n){return Symbol.asyncIterator&&sr(n?.[Symbol.asyncIterator])}function q1(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function mU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var z1=mU();function K1(n){return sr(n?.[z1])}function Y1(n){return VL(this,arguments,function(){var t,r,s,o;return A1(this,function(c){switch(c.label){case 0:t=n.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,Wf(t.read())];case 3:return r=c.sent(),s=r.value,o=r.done,o?[4,Wf(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,Wf(s)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function G1(n){return sr(n?.getReader)}function Zo(n){if(n instanceof xs)return n;if(n!=null){if(W1(n))return vU(n);if(F1(n))return yU(n);if(B1(n))return bU(n);if(H1(n))return V1(n);if(K1(n))return wU(n);if(G1(n))return _U(n)}throw q1(n)}function vU(n){return new xs(function(e){var t=n[u_]();if(sr(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yU(n){return new xs(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function bU(n){return new xs(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,M1)})}function wU(n){return new xs(function(e){var t,r;try{for(var s=pp(n),o=s.next();!o.done;o=s.next()){var c=o.value;if(e.next(c),e.closed)return}}catch(d){t={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}e.complete()})}function V1(n){return new xs(function(e){SU(n,e).catch(function(t){return e.error(t)})})}function _U(n){return V1(Y1(n))}function SU(n,e){var t,r,s,o;return N1(this,void 0,void 0,function(){var c,d;return A1(this,function(p){switch(p.label){case 0:p.trys.push([0,5,6,11]),t=QL(n),p.label=1;case 1:return[4,t.next()];case 2:if(r=p.sent(),!!r.done)return[3,4];if(c=r.value,e.next(c),e.closed)return[2];p.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return d=p.sent(),s={error:d},[3,11];case 6:return p.trys.push([6,,9,10]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:p.sent(),p.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ac(n,e,t,r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var o=e.schedule(function(){t(),s?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!s)return o}function Q1(n,e){return e===void 0&&(e=0),xc(function(t,r){t.subscribe(Vo(r,function(s){return ac(r,n,function(){return r.next(s)},e)},function(){return ac(r,n,function(){return r.complete()},e)},function(s){return ac(r,n,function(){return r.error(s)},e)}))})}function J1(n,e){return e===void 0&&(e=0),xc(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function xU(n,e){return Zo(n).pipe(J1(e),Q1(e))}function kU(n,e){return Zo(n).pipe(J1(e),Q1(e))}function EU(n,e){return new xs(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function CU(n,e){return new xs(function(t){var r;return ac(t,e,function(){r=n[z1](),ac(t,e,function(){var s,o,c;try{s=r.next(),o=s.value,c=s.done}catch(d){t.error(d);return}c?t.complete():t.next(o)},0,!0)}),function(){return sr(r?.return)&&r.return()}})}function X1(n,e){if(!n)throw new Error("Iterable cannot be null");return new xs(function(t){ac(t,e,function(){var r=n[Symbol.asyncIterator]();ac(t,e,function(){r.next().then(function(s){s.done?t.complete():t.next(s.value)})},0,!0)})})}function OU(n,e){return X1(Y1(n),e)}function PU(n,e){if(n!=null){if(W1(n))return xU(n,e);if(F1(n))return EU(n,e);if(B1(n))return kU(n,e);if(H1(n))return X1(n,e);if(K1(n))return CU(n,e);if(G1(n))return OU(n,e)}throw q1(n)}function Zu(n,e){return e?PU(n,e):Zo(n)}function ec(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=gU(n);return Zu(n,t)}function Ug(n,e){var t=sr(n)?n:function(){return n},r=function(s){return s.error(t())};return new xs(r)}function Z1(n){return n instanceof Date&&!isNaN(n)}var TU=o_(function(n){return function(t){t===void 0&&(t=null),n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function Fg(n,e){var t=Z1(n)?{first:n}:typeof n=="number"?{each:n}:n,r=t.first,s=t.each,o=t.with,c=o===void 0?DU:o,d=t.scheduler,p=d===void 0?c_:d,v=t.meta,b=v===void 0?null:v;if(r==null&&s==null)throw new TypeError("No timeout provided.");return xc(function(x,E){var C,N,A=null,I=0,L=function(G){N=ac(E,p,function(){try{C.unsubscribe(),Zo(c({meta:b,lastValue:A,seen:I})).subscribe(E)}catch(W){E.error(W)}},G)};C=x.subscribe(Vo(E,function(G){N?.unsubscribe(),I++,E.next(A=G),s>0&&L(s)},void 0,void 0,function(){N?.closed||N?.unsubscribe(),A=null})),!I&&L(r!=null?typeof r=="number"?r:+r-p.now():s)})}function DU(n){throw new TU(n)}function Mi(n,e){return xc(function(t,r){var s=0;t.subscribe(Vo(r,function(o){r.next(n.call(e,o,s++))}))})}var NU=Array.isArray;function AU(n,e){return NU(e)?n.apply(void 0,xm([],Sm(e))):n(e)}function RU(n){return Mi(function(e){return AU(n,e)})}var IU=Array.isArray,MU=Object.getPrototypeOf,jU=Object.prototype,$U=Object.keys;function LU(n){if(n.length===1){var e=n[0];if(IU(e))return{args:e,keys:null};if(UU(e)){var t=$U(e);return{args:t.map(function(r){return e[r]}),keys:t}}}return{args:n,keys:null}}function UU(n){return n&&typeof n=="object"&&MU(n)===jU}function FU(n,e){return n.reduce(function(t,r,s){return t[r]=e[s],t},{})}function BU(n,e,t,r,s,o,c,d){var p=[],v=0,b=0,x=!1,E=function(){x&&!p.length&&!v&&e.complete()},C=function(A){return v<r?N(A):p.push(A)},N=function(A){v++;var I=!1;Zo(t(A,b++)).subscribe(Vo(e,function(L){e.next(L)},function(){I=!0},void 0,function(){if(I)try{v--;for(var L=function(){var G=p.shift();c||N(G)};p.length&&v<r;)L();E()}catch(G){e.error(G)}}))};return n.subscribe(Vo(e,C,function(){x=!0,E()})),function(){}}function Bm(n,e,t){return t===void 0&&(t=1/0),sr(e)?Bm(function(r,s){return Mi(function(o,c){return e(r,o,s,c)})(Zo(n(r,s)))},t):(typeof e=="number"&&(t=e),xc(function(r,s){return BU(r,s,n,t)}))}function eC(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=pU(n),r=LU(n),s=r.args,o=r.keys,c=new xs(function(d){var p=s.length;if(!p){d.complete();return}for(var v=new Array(p),b=p,x=p,E=function(N){var A=!1;Zo(s[N]).subscribe(Vo(d,function(I){A||(A=!0,x--),v[N]=I},function(){return b--},void 0,function(){(!b||!A)&&(x||d.next(o?FU(o,v):v),d.complete())}))},C=0;C<p;C++)E(C)});return t?c.pipe(RU(t)):c}function WU(n,e,t){t===void 0&&(t=hU);var r=-1;return e!=null&&(L1(e)?t=e:r=e),new xs(function(s){var o=Z1(n)?+n-t.now():n;o<0&&(o=0);var c=0;return t.schedule(function(){s.closed||(s.next(c++),0<=r?this.schedule(void 0,r):s.complete())},o)})}function Dd(n){return xc(function(e,t){var r=null,s=!1,o;r=e.subscribe(Vo(t,void 0,void 0,function(c){o=Zo(n(c,Dd(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,o.subscribe(t))})}function HU(n){return n<=0?function(){return fU}:xc(function(e,t){var r=0;e.subscribe(Vo(t,function(s){++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function qU(n){return Mi(function(){return n})}function zU(n,e){return Bm(function(t,r){return Zo(n(t,r)).pipe(HU(1),qU(t))})}function KU(n,e){e===void 0&&(e=c_);var t=WU(n,e);return zU(function(){return t})}function tC(n,e,t){var r=sr(n)||e||t?{next:n,error:e,complete:t}:n;return r?xc(function(s,o){var c;(c=r.subscribe)===null||c===void 0||c.call(r);var d=!0;s.subscribe(Vo(o,function(p){var v;(v=r.next)===null||v===void 0||v.call(r,p),o.next(p)},function(){var p;d=!1,(p=r.complete)===null||p===void 0||p.call(r),o.complete()},function(p){var v;d=!1,(v=r.error)===null||v===void 0||v.call(r,p),o.error(p)},function(){var p,v;d&&((p=r.unsubscribe)===null||p===void 0||p.call(r)),(v=r.finalize)===null||v===void 0||v.call(r)}))}):j1}const nC="/talpakers/assets/logo-NmaJ7MyJ.png",rC="0.0.225",YU=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class d_ extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class GU extends d_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ax extends d_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Rx extends d_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hw;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(hw||(hw={}));class VU{constructor(e,{headers:t={},customFetch:r,region:s=hw.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=YU(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return N1(this,arguments,void 0,function*(t,r={}){var s;let o,c;try{const{headers:d,method:p,body:v,signal:b,timeout:x}=r;let E={},{region:C}=r;C||(C=this.region);const N=new URL(`${this.url}/${t}`);C&&C!=="any"&&(E["x-region"]=C,N.searchParams.set("forceFunctionRegion",C));let A;v&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",A=v):typeof v=="string"?(E["Content-Type"]="text/plain",A=v):typeof FormData<"u"&&v instanceof FormData?A=v:(E["Content-Type"]="application/json",A=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?A=JSON.stringify(v):A=v;let I=b;x&&(c=new AbortController,o=setTimeout(()=>c.abort(),x),b?(I=c.signal,b.addEventListener("abort",()=>c.abort())):I=c.signal);const L=yield this.fetch(N.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),d),body:A,signal:I}).catch(z=>{throw new GU(z)}),G=L.headers.get("x-relay-error");if(G&&G==="true")throw new Ax(L);if(!L.ok)throw new Rx(L);let W=((s=L.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),Q;return W==="application/json"?Q=yield L.json():W==="application/octet-stream"||W==="application/pdf"?Q=yield L.blob():W==="text/event-stream"?Q=L:W==="multipart/form-data"?Q=yield L.formData():Q=yield L.text(),{data:Q,error:null,response:L}}catch(d){return{data:null,error:d,response:d instanceof Rx||d instanceof Ax?d.context:void 0}}finally{o&&clearTimeout(o)}})}}var QU=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},JU=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,d=null,p=null,v=o.status,b=o.statusText;if(o.ok){var x,E;if(t.method!=="HEAD"){var C;const L=await o.text();L===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((C=t.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?d=L:d=JSON.parse(L))}const A=(x=t.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),I=(E=o.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");A&&I&&I.length>1&&(p=parseInt(I[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,v=406,b="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var N;const A=await o.text();try{c=JSON.parse(A),Array.isArray(c)&&o.status===404&&(d=[],c=null,v=200,b="OK")}catch{o.status===404&&A===""?(v=204,b="No Content"):c={message:A}}if(c&&t.isMaybeSingle&&(!(c==null||(N=c.details)===null||N===void 0)&&N.includes("0 rows"))&&(c=null,v=200,b="OK"),c&&t.shouldThrowOnError)throw new QU(c)}return{error:c,data:d,count:p,status:v,statusText:b}});return this.shouldThrowOnError||(s=s.catch(o=>{var c;let d="";const p=o?.cause;if(p){var v,b,x,E;const N=(v=p?.message)!==null&&v!==void 0?v:"",A=(b=p?.code)!==null&&b!==void 0?b:"";d=`${(x=o?.name)!==null&&x!==void 0?x:"FetchError"}: ${o?.message}`,d+=`

Caused by: ${(E=p?.name)!==null&&E!==void 0?E:"Error"}: ${N}`,A&&(d+=` (${A})`),p?.stack&&(d+=`
${p.stack}`)}else{var C;d=(C=o?.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(n,e)}returns(){return this}overrideTypes(){return this}},XU=class extends JU{select(n){let e=!1;const t=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${n}`),this.url.searchParams.set(o,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var c;const d=[n?"analyze":null,e?"verbose":null,t?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${p}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Ix=new RegExp("[,()]");var Rf=class extends XU{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&Ix.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&Ix.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${s}fts${o}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},ZU=class{constructor(n,{headers:e={},schema:t,fetch:r}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:t=!1,count:r}=e??{},s=t?"HEAD":"GET";let o=!1;const c=(n??"*").split("").map(v=>/\s/.test(v)&&!o?"":(v==='"'&&(o=!o),v)).join(""),{url:d,headers:p}=this.cloneRequestState();return d.searchParams.set("select",c),r&&p.append("Prefer",`count=${r}`),new Rf({method:s,url:d,headers:p,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var r;const s="POST",{url:o,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),t||c.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(d.length>0){const p=[...new Set(d)].map(v=>`"${v}"`);o.searchParams.set("columns",p.join(","))}}return new Rf({method:s,url:o,headers:c,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:r,defaultToNull:s=!0}={}){var o;const c="POST",{url:d,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),r&&p.append("Prefer",`count=${r}`),s||p.append("Prefer","missing=default"),Array.isArray(n)){const v=n.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(v.length>0){const b=[...new Set(v)].map(x=>`"${x}"`);d.searchParams.set("columns",b.join(","))}}return new Rf({method:c,url:d,headers:p,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(n,{count:e}={}){var t;const r="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Rf({method:r,url:s,headers:o,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE",{url:r,headers:s}=this.cloneRequestState();return n&&s.append("Prefer",`count=${n}`),new Rf({method:t,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},eF=class sC{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ZU(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:o}={}){var c;let d;const p=new URL(`${this.url}/rpc/${e}`);let v;const b=C=>C!==null&&typeof C=="object"&&(!Array.isArray(C)||C.some(b)),x=r&&Object.values(t).some(b);x?(d="POST",v=t):r||s?(d=r?"HEAD":"GET",Object.entries(t).filter(([C,N])=>N!==void 0).map(([C,N])=>[C,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([C,N])=>{p.searchParams.append(C,N)})):(d="POST",v=t);const E=new Headers(this.headers);return x?E.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&E.set("Prefer",`count=${o}`),new Rf({method:d,url:p,headers:E,schema:this.schemaName,body:v,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class tF{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const r=t.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const nF="2.90.1",rF=`realtime-js/${nF}`,iC="1.0.0",sF="2.0.0",Mx=iC,fw=1e4,iF=1e3,aF=100;var tc;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(tc||(tc={}));var Ar;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ar||(Ar={}));var Ga;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ga||(Ga={}));var pw;(function(n){n.websocket="websocket"})(pw||(pw={}));var Rd;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Rd||(Rd={}));class oF{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const s=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var t,r;const s=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,r){var s,o;const c=e.topic,d=(s=e.ref)!==null&&s!==void 0?s:"",p=(o=e.join_ref)!==null&&o!==void 0?o:"",v=e.payload.event,b=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+d.length+c.length+v.length+x.length,C=new ArrayBuffer(this.HEADER_LENGTH+E);let N=new DataView(C),A=0;N.setUint8(A++,this.KINDS.userBroadcastPush),N.setUint8(A++,p.length),N.setUint8(A++,d.length),N.setUint8(A++,c.length),N.setUint8(A++,v.length),N.setUint8(A++,x.length),N.setUint8(A++,t),Array.from(p,L=>N.setUint8(A++,L.charCodeAt(0))),Array.from(d,L=>N.setUint8(A++,L.charCodeAt(0))),Array.from(c,L=>N.setUint8(A++,L.charCodeAt(0))),Array.from(v,L=>N.setUint8(A++,L.charCodeAt(0))),Array.from(x,L=>N.setUint8(A++,L.charCodeAt(0)));var I=new Uint8Array(C.byteLength+r.byteLength);return I.set(new Uint8Array(C),0),I.set(new Uint8Array(r),C.byteLength),I.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,o,c,d,p]=r;return t({join_ref:s,ref:o,topic:c,event:d,payload:p})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),s=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,s)}_decodeUserBroadcast(e,t,r){const s=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),d=t.getUint8(4);let p=this.HEADER_LENGTH+4;const v=r.decode(e.slice(p,p+s));p=p+s;const b=r.decode(e.slice(p,p+o));p=p+o;const x=r.decode(e.slice(p,p+c));p=p+c;const E=e.slice(p,e.byteLength),C=d===this.JSON_ENCODING?JSON.parse(r.decode(E)):E,N={type:this.BROADCAST_EVENT,event:b,payload:C};return c>0&&(N.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class aC{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rn;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Rn||(Rn={}));const jx=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=lF(c,n,e,s),o),{}):{}},lF=(n,e,t,r)=>{const s=e.find(d=>d.name===n),o=s?.type,c=t[n];return o&&!r.includes(o)?oC(o,c):gw(c)},oC=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return hF(e,t)}switch(n){case Rn.bool:return uF(e);case Rn.float4:case Rn.float8:case Rn.int2:case Rn.int4:case Rn.int8:case Rn.numeric:case Rn.oid:return cF(e);case Rn.json:case Rn.jsonb:return dF(e);case Rn.timestamp:return fF(e);case Rn.abstime:case Rn.date:case Rn.daterange:case Rn.int4range:case Rn.int8range:case Rn.money:case Rn.reltime:case Rn.text:case Rn.time:case Rn.timestamptz:case Rn.timetz:case Rn.tsrange:case Rn.tstzrange:return gw(e);default:return gw(e)}},gw=n=>n,uF=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},cF=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},dF=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},hF=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const c=n.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>oC(e,d))}return n},fF=n=>typeof n=="string"?n.replace(" ","T"):n,lC=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class C0{constructor(e,t,r={},s=fw){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $x;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})($x||($x={}));class nm{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nm.syncState(this.state,s,o,c),this.pendingDiffs.forEach(p=>{this.state=nm.syncDiff(this.state,p,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=nm.syncDiff(this.state,s,o,c),d())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const o=this.cloneDeep(e),c=this.transformState(t),d={},p={};return this.map(o,(v,b)=>{c[v]||(p[v]=b)}),this.map(c,(v,b)=>{const x=o[v];if(x){const E=b.map(I=>I.presence_ref),C=x.map(I=>I.presence_ref),N=b.filter(I=>C.indexOf(I.presence_ref)<0),A=x.filter(I=>E.indexOf(I.presence_ref)<0);N.length>0&&(d[v]=N),A.length>0&&(p[v]=A)}else d[v]=b}),this.syncDiff(o,{joins:d,leaves:p},r,s)}static syncDiff(e,t,r,s){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(d,p)=>{var v;const b=(v=e[d])!==null&&v!==void 0?v:[];if(e[d]=this.cloneDeep(p),b.length>0){const x=e[d].map(C=>C.presence_ref),E=b.filter(C=>x.indexOf(C.presence_ref)<0);e[d].unshift(...E)}r(d,b,p)}),this.map(c,(d,p)=>{let v=e[d];if(!v)return;const b=p.map(x=>x.presence_ref);v=v.filter(x=>b.indexOf(x.presence_ref)<0),e[d]=v,s(d,v,p),v.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lx;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Lx||(Lx={}));var rm;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(rm||(rm={}));var Kl;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Kl||(Kl={}));class Uf{constructor(e,t={config:{}},r){var s,o;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new C0(this,Ga.join,this.params,this.timeout),this.rejoinTimer=new aC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ga.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new nm(this),this.broadcastEndpointURL=lC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:c,presence:d,private:p}}=this.params,v=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(C=>C.filter))!==null&&s!==void 0?s:[],b=!!this.bindings[rm.PRESENCE]&&this.bindings[rm.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,x={},E={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:b}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(Kl.CHANNEL_ERROR,C)),this._onClose(()=>e?.(Kl.CLOSED)),this.updateJoinPayload(Object.assign({config:E},x)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:C})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){e?.(Kl.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,I=(N=A?.length)!==null&&N!==void 0?N:0,L=[];for(let G=0;G<I;G++){const W=A[G],{filter:{event:Q,schema:z,table:K,filter:H}}=W,Y=C&&C[G];if(Y&&Y.event===Q&&Uf.isFilterValueEqual(Y.schema,z)&&Uf.isFilterValueEqual(Y.table,K)&&Uf.isFilterValueEqual(Y.filter,H))L.push(Object.assign(Object.assign({},W),{id:Y.id}));else{this.unsubscribe(),this.state=Ar.errored,e?.(Kl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(Kl.SUBSCRIBED);return}}).receive("error",C=>{this.state=Ar.errored,e?.(Kl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(Kl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Ar.joined&&e===rm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var s;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(d.status===202)return{success:!0};let p=d.statusText;try{const v=await d.json();p=v.error||v.message||p}catch{}return Promise.reject(new Error(p))}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=v.body)===null||s===void 0?void 0:s.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,p;const v=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&o("ok"),v.receive("ok",()=>o("ok")),v.receive("error",()=>o("error")),v.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ar.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ga.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new C0(this,Ga.leave,{},e),r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),c}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new C0(this,e,t,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>aF){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,o;const c=e.toLocaleLowerCase(),{close:d,error:p,leave:v,join:b}=Ga;if(r&&[d,p,v,b].indexOf(c)>=0&&r!==this._joinRef())return;let E=this._onMessage(c,t,r);if(t&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(C=>{var N,A,I;return((N=C.filter)===null||N===void 0?void 0:N.event)==="*"||((I=(A=C.filter)===null||A===void 0?void 0:A.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===c}).map(C=>C.callback(E,r)):(o=this.bindings[c])===null||o===void 0||o.filter(C=>{var N,A,I,L,G,W,Q,z;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in C){const K=C.id,H=(N=C.filter)===null||N===void 0?void 0:N.event;return K&&((A=t.ids)===null||A===void 0?void 0:A.includes(K))&&(H==="*"||H?.toLocaleLowerCase()===((I=t.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))&&(!(!((L=C.filter)===null||L===void 0)&&L.table)||C.filter.table===((G=t.data)===null||G===void 0?void 0:G.table))}else{const K=(Q=(W=C?.filter)===null||W===void 0?void 0:W.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return K==="*"||K===((z=t?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===c}).map(C=>{if(typeof E=="object"&&"ids"in E){const N=E.data,{schema:A,table:I,commit_timestamp:L,type:G,errors:W}=N;E=Object.assign(Object.assign({},{schema:A,table:I,commit_timestamp:L,eventType:G,new:{},old:{},errors:W}),this._getPayloadRecords(N))}C.callback(E,r)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Uf.isEqual(s.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ga.close,{},e)}_onError(e){this._on(Ga.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=jx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=jx(e.columns,e.old_record)),t}}const O0=()=>{},Vv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pF=[1e3,2e3,5e3,1e4],gF=1e4,mF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vF{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fw,this.transport=null,this.heartbeatIntervalMs=Vv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=O0,this.ref=0,this.reconnectTimer=null,this.vsn=Mx,this.logger=O0,this.conn=null,this.sendBuffer=[],this.serializer=new oF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${pw.websocket}`,this.httpEndpoint=lC(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tc.connecting:return Rd.Connecting;case tc.open:return Rd.Open;case tc.closing:return Rd.Closing;default:return Rd.Closed}}isConnected(){return this.connectionState()===Rd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Uf(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:r,payload:s,ref:o}=e,c=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${t} ${r} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(iF,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Vv.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",v)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:o,ref:c}=t,d=c?`(${c})`:"",p=o.status||"";this.log("receive",`${p} ${r} ${s} ${d}`.trim(),o),this.channels.filter(v=>v._isMember(r)).forEach(v=>v._trigger(s,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===tc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===tc.open||this.conn.readyState===tc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ga.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([mF],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const o={access_token:t,version:rF};t&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Ga.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new aC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,s,o,c,d,p,v,b,x,E,C;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:fw,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:Vv.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:O0,this.vsn=(p=e?.vsn)!==null&&p!==void 0?p:Mx,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=e?.reconnectAfterMs)!==null&&v!==void 0?v:(N=>pF[N-1]||gF),this.vsn){case iC:this.encode=(b=e?.encode)!==null&&b!==void 0?b:((N,A)=>A(JSON.stringify(N))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((N,A)=>A(JSON.parse(N)));break;case sF:this.encode=(E=e?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(C=e?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var km=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yF(n,e,t){const r=new URL(e,n);if(t)for(const[s,o]of Object.entries(t))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function bF(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function wF(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:s,body:o,headers:c}){const d=yF(n.baseUrl,r,s),p=await bF(n.auth),v=await e(d,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...p,...c},body:o?JSON.stringify(o):void 0}),b=await v.text(),x=(v.headers.get("content-type")||"").includes("application/json"),E=x&&b?JSON.parse(b):b;if(!v.ok){const C=x?E:void 0,N=C?.error;throw new km(N?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:N?.type,icebergCode:N?.code,details:C})}return{status:v.status,headers:v.headers,data:E}}}}function Qv(n){return n.join("")}var _F=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Qv(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qv(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qv(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qv(n.namespace)}`}),!0}catch(e){if(e instanceof km&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof km&&t.status===409)return;throw t}}};function Ef(n){return n.join("")}var SF=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ef(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ef(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ef(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ef(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ef(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ef(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof km&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof km&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},xF=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=wF({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new _F(this.client,e),this.tableOps=new SF(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},bb=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Kn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var kF=class extends bb{constructor(n,e,t){super(n),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},mw=class extends bb{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const h_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),EF=()=>Response,vw=n=>{if(Array.isArray(n))return n.map(t=>vw(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=vw(r)}),e},CF=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},OF=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Em(n){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(n)}function PF(n,e){if(Em(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TF(n){var e=PF(n,"string");return Em(e)=="symbol"?e:e+""}function DF(n,e,t){return(e=TF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ux(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ux(Object(t),!0).forEach(function(r){DF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ux(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const P0=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},NF=async(n,e,t)=>{n instanceof await EF()&&!t?.noResolveJson?n.json().then(r=>{const s=n.status||500,o=r?.statusCode||s+"";e(new kF(P0(r),s,o))}).catch(r=>{e(new mw(P0(r),r))}):e(new mw(P0(n),n))},AF=(n,e,t,r)=>{const s={method:n,headers:e?.headers||{}};return n==="GET"||!r?s:(CF(r)?(s.headers=Pt({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(r)):s.body=r,e?.duplex&&(s.duplex=e.duplex),Pt(Pt({},s),t))};async function Wm(n,e,t,r,s,o){return new Promise((c,d)=>{n(t,AF(e,r,s,o)).then(p=>{if(!p.ok)throw p;return r?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>NF(p,d,r))})}async function Cm(n,e,t,r){return Wm(n,"GET",e,t,r)}async function Ka(n,e,t,r,s){return Wm(n,"POST",e,r,s,t)}async function yw(n,e,t,r,s){return Wm(n,"PUT",e,r,s,t)}async function RF(n,e,t,r){return Wm(n,"HEAD",e,Pt(Pt({},t),{},{noResolveJson:!0}),r)}async function f_(n,e,t,r,s){return Wm(n,"DELETE",e,r,s,t)}var IF=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Kn(e))return{data:null,error:e};throw e}}};let uC;uC=Symbol.toStringTag;var MF=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[uC]="BlobDownloadBuilder",this.promise=null}asStream(){return new IF(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Kn(e))return{data:null,error:e};throw e}}};const jF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $F=class{constructor(n,e={},t,r){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=t,this.fetch=h_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,t,r){var s=this;try{let o;const c=Pt(Pt({},Fx),r);let d=Pt(Pt({},s.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),p&&o.append("metadata",s.encodeMetadata(p)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),p&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(p))):(o=t,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,p&&(d["x-metadata"]=s.toBase64(s.encodeMetadata(p))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),r?.headers&&(d=Pt(Pt({},d),r.headers));const v=s._removeEmptyFolders(e),b=s._getFinalPath(v),x=await(n=="PUT"?yw:Ka)(s.fetch,`${s.url}/object/${b}`,o,Pt({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:v,id:x.Id,fullPath:x.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Kn(o))return{data:null,error:o};throw o}}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,r){var s=this;const o=s._removeEmptyFolders(n),c=s._getFinalPath(o),d=new URL(s.url+`/object/upload/sign/${c}`);d.searchParams.set("token",e);try{let p;const v=Pt({upsert:Fx.upsert},r),b=Pt(Pt({},s.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&t instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",t)):typeof FormData<"u"&&t instanceof FormData?(p=t,p.append("cacheControl",v.cacheControl)):(p=t,b["cache-control"]=`max-age=${v.cacheControl}`,b["content-type"]=v.contentType),{data:{path:o,fullPath:(await yw(s.fetch,d.toString(),p,{headers:b})).Key},error:null}}catch(p){if(s.shouldThrowOnError)throw p;if(Kn(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(n,e){var t=this;try{let r=t._getFinalPath(n);const s=Pt({},t.headers);e?.upsert&&(s["x-upsert"]="true");const o=await Ka(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:s}),c=new URL(t.url+o.url),d=c.searchParams.get("token");if(!d)throw new bb("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:d},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var r=this;try{return{data:await Ka(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Kn(s))return{data:null,error:s};throw s}}async copy(n,e,t){var r=this;try{return{data:{path:(await Ka(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Kn(s))return{data:null,error:s};throw s}}async createSignedUrl(n,e,t){var r=this;try{let s=r._getFinalPath(n),o=await Ka(r.fetch,`${r.url}/object/sign/${s}`,Pt({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:r.headers});const c=t?.download?`&download=${t.download===!0?"":t.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Kn(s))return{data:null,error:s};throw s}}async createSignedUrls(n,e,t){var r=this;try{const s=await Ka(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{data:s.map(c=>Pt(Pt({},c),{},{signedUrl:c.signedURL?encodeURI(`${r.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Kn(s))return{data:null,error:s};throw s}}download(n,e){const t=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),s=r?`?${r}`:"",o=this._getFinalPath(n),c=()=>Cm(this.fetch,`${this.url}/${t}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new MF(c,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);try{return{data:vw(await Cm(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await RF(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Kn(r)&&r instanceof mw){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const t=this._getFinalPath(n),r=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const o=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&r.push(c);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${d}`)}}}async remove(n){var e=this;try{return{data:await f_(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Kn(t))return{data:null,error:t};throw t}}async list(n,e,t){var r=this;try{const s=Pt(Pt(Pt({},jF),e),{},{prefix:n||""});return{data:await Ka(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},t),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Kn(s))return{data:null,error:s};throw s}}async listV2(n,e){var t=this;try{const r=Pt({},n);return{data:await Ka(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},e),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const cC="2.90.1",dC={"X-Client-Info":`storage-js/${cC}`};var LF=class{constructor(n,e={},t,r){this.shouldThrowOnError=!1;const s=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Pt(Pt({},dC),e),this.fetch=h_(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const t=e.listBucketOptionsToQueryString(n);return{data:await Cm(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Kn(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await Cm(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Kn(t))return{data:null,error:t};throw t}}async createBucket(n,e={public:!1}){var t=this;try{return{data:await Ka(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}}async updateBucket(n,e){var t=this;try{return{data:await yw(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}}async emptyBucket(n){var e=this;try{return{data:await Ka(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Kn(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await f_(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Kn(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},UF=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Pt(Pt({},dC),e),this.fetch=h_(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Ka(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Kn(t))return{data:null,error:t};throw t}}async listBuckets(n){var e=this;try{const t=new URLSearchParams;n?.limit!==void 0&&t.set("limit",n.limit.toString()),n?.offset!==void 0&&t.set("offset",n.offset.toString()),n?.sortColumn&&t.set("sortColumn",n.sortColumn),n?.sortOrder&&t.set("sortOrder",n.sortOrder),n?.search&&t.set("search",n.search);const r=t.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Cm(e.fetch,s,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Kn(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await f_(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Kn(t))return{data:null,error:t};throw t}}from(n){var e=this;if(!OF(n))throw new bb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new xF({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(s,o){const c=s[o];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(s,d),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}};const p_={"X-Client-Info":`storage-js/${cC}`,"Content-Type":"application/json"};var hC=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ji(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var T0=class extends hC{constructor(n,e,t){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},FF=class extends hC{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const g_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),BF=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Bx=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),WF=async(n,e,t)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){const r=n.status||500,s=n;if(typeof s.json=="function")s.json().then(o=>{const c=o?.statusCode||o?.code||r+"";e(new T0(Bx(o),r,c))}).catch(()=>{const o=r+"";e(new T0(s.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new T0(s.statusText||`HTTP ${r} error`,r,o))}}else e(new FF(Bx(n),n))},HF=(n,e,t,r)=>{const s={method:n,headers:e?.headers||{}};return r?(BF(r)?(s.headers=Pt({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(r)):s.body=r,Pt(Pt({},s),t)):s};async function qF(n,e,t,r,s,o){return new Promise((c,d)=>{n(t,HF(e,r,s,o)).then(p=>{if(!p.ok)throw p;if(r?.noResolveJson)return p;const v=p.headers.get("content-type");return!v||!v.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>WF(p,d,r))})}async function $i(n,e,t,r,s){return qF(n,"POST",e,r,s,t)}var zF=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Pt(Pt({},p_),e),this.fetch=g_(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await $i(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}async getIndex(n,e){var t=this;try{return{data:await $i(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ji(r))return{data:null,error:r};throw r}}async listIndexes(n){var e=this;try{return{data:await $i(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}async deleteIndex(n,e){var t=this;try{return{data:await $i(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ji(r))return{data:null,error:r};throw r}}},KF=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Pt(Pt({},p_),e),this.fetch=g_(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await $i(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}async getVectors(n){var e=this;try{return{data:await $i(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await $i(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}async queryVectors(n){var e=this;try{return{data:await $i(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await $i(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}},YF=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Pt(Pt({},p_),e),this.fetch=g_(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await $i(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await $i(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}async listBuckets(n={}){var e=this;try{return{data:await $i(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await $i(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ji(t))return{data:null,error:t};throw t}}},GF=class extends YF{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new VF(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},VF=class extends zF{constructor(n,e,t,r){super(n,e,r),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,Pt(Pt({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,Pt(Pt({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new QF(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},QF=class extends KF{constructor(n,e,t,r,s){super(n,e,s),this.vectorBucketName=t,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,Pt(Pt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,Pt(Pt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,Pt(Pt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,Pt(Pt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,Pt(Pt({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},JF=class extends LF{constructor(n,e={},t,r){super(n,e,t,r)}from(n){return new $F(this.url,this.headers,n,this.fetch)}get vectors(){return new GF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new UF(this.url+"/iceberg",this.headers,this.fetch)}};const fC="2.90.1",If=30*1e3,bw=3,D0=bw*If,XF="http://localhost:9999",ZF="supabase.auth.token",eB={"X-Client-Info":`gotrue-js/${fC}`},ww="X-Supabase-Api-Version",pC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nB=600*1e3;class Om extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function gt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class rB extends Om{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function sB(n){return gt(n)&&n.name==="AuthApiError"}class Id extends Om{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class pu extends Om{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class Ri extends pu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iB(n){return gt(n)&&n.name==="AuthSessionMissingError"}class Cf extends pu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jv extends pu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xv extends pu{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aB(n){return gt(n)&&n.name==="AuthImplicitGrantRedirectError"}class Wx extends pu{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oB extends pu{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _w extends pu{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function N0(n){return gt(n)&&n.name==="AuthRetryableFetchError"}class Hx extends pu{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Sw extends pu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const By="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qx=` 	
\r=`.split(""),lB=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<qx.length;e+=1)n[qx[e].charCodeAt(0)]=-2;for(let e=0;e<By.length;e+=1)n[By[e].charCodeAt(0)]=e;return n})();function zx(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(By[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(By[r]),e.queuedBits-=6}}function gC(n,e,t){const r=lB[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Kx(n){const e=[],t=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{dB(c,r,t)};for(let c=0;c<n.length;c+=1)gC(n.charCodeAt(c),s,o);return e.join("")}function uB(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function cB(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}uB(r,e)}}function dB(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Hf(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)gC(n.charCodeAt(s),t,r);return new Uint8Array(e)}function hB(n){const e=[];return cB(n,t=>e.push(t)),new Uint8Array(e)}function $d(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};return n.forEach(s=>zx(s,t,r)),zx(null,t,r),e.join("")}function fB(n){return Math.round(Date.now()/1e3)+n}function pB(){return Symbol("auth-callback")}const as=()=>typeof window<"u"&&typeof document<"u",Pd={tested:!1,writable:!1},mC=()=>{if(!as())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pd.tested)return Pd.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Pd.tested=!0,Pd.writable=!0}catch{Pd.tested=!0,Pd.writable=!1}return Pd.writable};function gB(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const vC=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),mB=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Mf=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Td=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},is=async(n,e)=>{await n.removeItem(e)};class wb{constructor(){this.promise=new wb.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}wb.promiseConstructor=Promise;function A0(n){const e=n.split(".");if(e.length!==3)throw new Sw("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!tB.test(e[r]))throw new Sw("JWT not in base64url format");return{header:JSON.parse(Kx(e[0])),payload:JSON.parse(Kx(e[1])),signature:Hf(e[2]),raw:{header:e[0],payload:e[1]}}}async function vB(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function yB(n,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await n(o);if(!e(o,null,c)){r(c);return}}catch(c){if(!e(o,c)){s(c);return}}})()})}function bB(n){return("0"+n.toString(16)).substr(-2)}function wB(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,bB).join("")}async function _B(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function SB(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await _B(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Of(n,e,t=!1){const r=wB();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await Mf(n,`${e}-code-verifier`,s);const o=await SB(r);return[o,r===o?"plain":"s256"]}const xB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kB(n){const e=n.headers.get(ww);if(!e||!e.match(xB))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function EB(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function CB(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pf(n){if(!OB.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function R0(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function PB(n,e){return new Proxy(n,{get:(t,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,s)}})}function Yx(n){return JSON.parse(JSON.stringify(n))}const Nd=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),TB=[502,503,504];async function Gx(n){var e;if(!mB(n))throw new _w(Nd(n),0);if(TB.includes(n.status))throw new _w(Nd(n),n.status);let t;try{t=await n.json()}catch(o){throw new Id(Nd(o),o)}let r;const s=kB(n);if(s&&s.getTime()>=pC["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Hx(Nd(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ri}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Hx(Nd(t),n.status,t.weak_password.reasons);throw new rB(Nd(t),n.status||500,r)}const DB=(n,e,t,r)=>{const s={method:n,headers:e?.headers||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function Ot(n,e,t,r){var s;const o=Object.assign({},r?.headers);o[ww]||(o[ww]=pC["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const c=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(c.redirect_to=r.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await NB(n,e,t+d,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function NB(n,e,t,r,s,o){const c=DB(e,r,s,o);let d;try{d=await n(t,Object.assign({},c))}catch(p){throw console.error(p),new _w(Nd(p),0)}if(d.ok||await Gx(d),r?.noResolveJson)return d;try{return await d.json()}catch(p){await Gx(p)}}function za(n){var e;let t=null;IB(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=fB(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Vx(n){const e=za(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function nc(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function AB(n){return{data:n,error:null}}function RB(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:o}=n,c=Um(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:o},p=Object.assign({},c);return{data:{properties:d,user:p},error:null}}function Qx(n){return n}function IB(n){return n.access_token&&n.refresh_token&&n.expires_in}const I0=["global","local","others"];class MB{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=vC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=I0[0]){if(I0.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${I0.join(", ")}`);try{return await Ot(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:nc})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Um(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await Ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:RB,redirectTo:t?.redirectTo})}catch(t){if(gt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nc})}catch(t){if(gt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,o,c,d,p;try{const v={nextPage:null,lastPage:0,total:0},b=await Ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Qx});if(b.error)throw b.error;const x=await b.json(),E=(c=b.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(d=b.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(N=>{const A=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(N.split(";")[1].split("=")[1]);v[`${I}Page`]=A}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(gt(v))return{data:{users:[]},error:v};throw v}}async getUserById(e){Pf(e);try{return await Ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nc})}catch(t){if(gt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Pf(e);try{return await Ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:nc})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Pf(e);try{return await Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:nc})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Pf(e.userId);try{const{data:t,error:r}=await Ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(gt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Pf(e.userId),Pf(e.id);try{return{data:await Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(gt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,s,o,c,d,p;try{const v={nextPage:null,lastPage:0,total:0},b=await Ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Qx});if(b.error)throw b.error;const x=await b.json(),E=(c=b.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(d=b.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(N=>{const A=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(N.split(";")[1].split("=")[1]);v[`${I}Page`]=A}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(gt(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(e){try{return await Ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(gt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(gt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(gt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(gt(t))return{data:null,error:t};throw t}}}function Jx(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Tf={debug:!!(globalThis&&mC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jB extends yC{}async function $B(n,e,t){Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new jB(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Tf.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function LB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bC(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function UB(n){return parseInt(n,16)}function FB(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function BB(n){var e;const{chainId:t,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:c,notBefore:d,requestId:p,resources:v,scheme:b,uri:x,version:E}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const C=bC(n.address),N=b?`${b}://${r}`:r,A=n.statement?`${n.statement}
`:"",I=`${N} wants you to sign in with your Ethereum account:
${C}

${A}`;let L=`URI: ${x}
Version: ${E}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(s&&(L+=`
Expiration Time: ${s.toISOString()}`),d&&(L+=`
Not Before: ${d.toISOString()}`),p&&(L+=`
Request ID: ${p}`),v){let G=`
Resources:`;for(const W of v){if(!W||typeof W!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${W}`);G+=`
- ${W}`}L+=G}return`${I}
${L}`}class Sr extends Error{constructor({message:e,code:t,cause:r,name:s}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class Wy extends Sr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function WB({error:n,options:e}){var t,r,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Sr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Sr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Sr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Sr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Sr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Sr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Sr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(wC(c)){if(o.rp.id!==c)return new Sr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Sr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function HB({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Sr({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(wC(r)){if(t.rpId!==r)return new Sr({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class qB{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zB=new qB;function KB(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,s=Um(n,["challenge","user","excludeCredentials"]),o=Hf(e).buffer,c=Object.assign(Object.assign({},t),{id:Hf(t.id).buffer}),d=Object.assign(Object.assign({},s),{challenge:o,user:c});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const v=r[p];d.excludeCredentials[p]=Object.assign(Object.assign({},v),{id:Hf(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return d}function YB(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=Um(n,["challenge","allowCredentials"]),s=Hf(e).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const d=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Hf(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function GB(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:$d(new Uint8Array(n.response.attestationObject)),clientDataJSON:$d(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VB(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),s=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:$d(new Uint8Array(s.authenticatorData)),clientDataJSON:$d(new Uint8Array(s.clientDataJSON)),signature:$d(new Uint8Array(s.signature)),userHandle:s.userHandle?$d(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wC(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Xx(){var n,e;return!!(as()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QB(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wy("Browser returned unexpected credential type",e)}:{data:null,error:new Wy("Empty credential response",e)}}catch(e){return{data:null,error:WB({error:e,options:n})}}}async function JB(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wy("Browser returned unexpected credential type",e)}:{data:null,error:new Wy("Empty credential response",e)}}catch(e){return{data:null,error:HB({error:e,options:n})}}}const XB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZB={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hy(...n){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),t=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of n)if(s)for(const o in s){const c=s[o];if(c!==void 0)if(Array.isArray(c))r[o]=c;else if(t(c))r[o]=c;else if(e(c)){const d=r[o];e(d)?r[o]=Hy(d,c):r[o]=Hy(c)}else r[o]=c}return r}function e3(n,e){return Hy(XB,n,e||{})}function t3(n,e){return Hy(ZB,n,e||{})}class n3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:s},o){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:d};const p=s??zB.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:v}=c.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${r}`),v.displayName||(v.displayName=v.name)}switch(c.webauthn.type){case"create":{const v=e3(c.webauthn.credential_options.publicKey,o?.create),{data:b,error:x}=await QB({publicKey:v,signal:p});return b?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}case"request":{const v=t3(c.webauthn.credential_options.publicKey,o?.request),{data:b,error:x}=await JB(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:v,signal:p}));return b?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}}}catch(c){return gt(c)?{data:null,error:c}:{data:null,error:new Id("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!t)return{data:null,error:new Om("rpId is required for WebAuthn authentication")};try{if(!Xx())return{data:null,error:new Id("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:s},{request:o});if(!c)return{data:null,error:d};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:t,rpOrigins:r,credential_response:p.credential_response}})}catch(c){return gt(c)?{data:null,error:c}:{data:null,error:new Id("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!t)return{data:null,error:new Om("rpId is required for WebAuthn registration")};try{if(!Xx())return{data:null,error:new Id("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:d};const{data:p,error:v}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:s},{create:o});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:t,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:v}}catch(c){return gt(c)?{data:null,error:c}:{data:null,error:new Id("Unexpected error in register",c)}}}}LB();const r3={url:XF,storageKey:ZF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Zx(n,e,t){return await t()}const Df={};class Pm{get jwks(){var e,t;return(t=(e=Df[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Df[this.storageKey]=Object.assign(Object.assign({},Df[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Df[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Df[this.storageKey]=Object.assign(Object.assign({},Df[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},r3),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Pm.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Pm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&as()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new MB({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=vC(o.fetch),this.lock=o.lock||Zx,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&as()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=$B:this.lock=Zx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new n3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:mC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jx(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Jx(this.memoryStorage)),as()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(as()&&(t=gB(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),as()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),aB(o)){const p=(e=o.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:c,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return gt(t)?this._returnResult({error:t}):this._returnResult({error:new Id("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const o=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:za}),{data:c,error:d}=o;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const p=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(o){if(gt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,r,s;try{let o;if("email"in e){const{email:b,password:x,options:E}=e;let C=null,N=null;this.flowType==="pkce"&&([C,N]=await Of(this.storage,this.storageKey)),o=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:b,password:x,data:(t=E?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:C,code_challenge_method:N},xform:za})}else if("phone"in e){const{phone:b,password:x,options:E}=e;o=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(r=E?.data)!==null&&r!==void 0?r:{},channel:(s=E?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:za})}else throw new Jv("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return await is(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const p=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(o){if(await is(this.storage,`${this.storageKey}-code-verifier`),gt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:d}=e;t=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Vx})}else if("phone"in e){const{phone:o,password:c,options:d}=e;t=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Vx})}else throw new Jv("You must provide either an email or phone number and a password");const{data:r,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new Cf;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(gt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,s,o,c,d,p,v,b,x,E;let C,N;if("message"in e)C=e.message,N=e.signature;else{const{chain:A,wallet:I,statement:L,options:G}=e;let W;if(as())if(typeof I=="object")W=I;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")W=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=I}const Q=new URL((t=G?.url)!==null&&t!==void 0?t:window.location.href),z=await W.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=bC(z[0]);let H=(r=G?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!H){const re=await W.request({method:"eth_chainId"});H=UB(re)}const Y={domain:Q.host,address:K,statement:L,uri:Q.href,version:"1",chainId:H,nonce:(s=G?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(o=G?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=G?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=G?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(v=G?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(b=G?.signInWithEthereum)===null||b===void 0?void 0:b.resources};C=BB(Y),N=await W.request({method:"personal_sign",params:[FB(C),K]})}try{const{data:A,error:I}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:N},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:za});if(I)throw I;if(!A||!A.session||!A.user){const L=new Cf;return this._returnResult({data:{user:null,session:null},error:L})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:I})}catch(A){if(gt(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(e){var t,r,s,o,c,d,p,v,b,x,E,C;let N,A;if("message"in e)N=e.message,A=e.signature;else{const{chain:I,wallet:L,statement:G,options:W}=e;let Q;if(as())if(typeof L=="object")Q=L;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))Q=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!W?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=L}const z=new URL((t=W?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in Q&&Q.signIn){const K=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},W?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),G?{statement:G}:null));let H;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")H=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)H=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)N=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),A=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${z.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(s=(r=W?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=W?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${W.signInWithSolana.notBefore}`]:[],...!((c=W?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${W.signInWithSolana.expirationTime}`]:[],...!((d=W?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${W.signInWithSolana.chainId}`]:[],...!((p=W?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${W.signInWithSolana.nonce}`]:[],...!((v=W?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${W.signInWithSolana.requestId}`]:[],...!((x=(b=W?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...W.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const K=await Q.signMessage(new TextEncoder().encode(N),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=K}}try{const{data:I,error:L}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:$d(A)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:za});if(L)throw L;if(!I||!I.session||!I.user){const G=new Cf;return this._returnResult({data:{user:null,session:null},error:G})}return I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),this._returnResult({data:Object.assign({},I),error:L})}catch(I){if(gt(I))return this._returnResult({data:{user:null,session:null},error:I});throw I}}async _exchangeCodeForSession(e){const t=await Td(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/");try{if(!r&&this.flowType==="pkce")throw new oB;const{data:o,error:c}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:za});if(await is(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const d=new Cf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(await is(this.storage,`${this.storageKey}-code-verifier`),gt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:o,nonce:c}=e,d=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:za}),{data:p,error:v}=d;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p||!p.session||!p.user){const b=new Cf;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:v})}catch(t){if(gt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,s,o,c;try{if("email"in e){const{email:d,options:p}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Of(this.storage,this.storageKey));const{error:x}=await Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=p?.data)!==null&&t!==void 0?t:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:d,options:p}=e,{data:v,error:b}=await Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:b})}throw new Jv("You must provide either an email or phone number.")}catch(d){if(await is(this.storage,`${this.storageKey}-code-verifier`),gt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var t,r;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:d}=await Ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:za});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,v=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(s){if(gt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,r,s,o,c;try{let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Of(this.storage,this.storageKey));const v=await Ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:p}),headers:this.headers,xform:AB});return!((o=v.data)===null||o===void 0)&&o.url&&as()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(d){if(await is(this.storage,`${this.storageKey}-code-verifier`),gt(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Ri;const{error:s}=await Ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(gt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:c}=await Ot(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:c,error:d}=await Ot(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Jv("You must provide either an email or phone number and a type")}catch(t){if(gt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Td(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<D0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await Td(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=R0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=PB(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nc}):await this._useSession(async t=>{var r,s,o;const{data:c,error:d}=t;if(d)throw d;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ri}:await Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:nc})})}catch(t){if(gt(t))return iB(t)&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Ri;const c=s.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await Of(this.storage,this.storageKey));const{data:v,error:b}=await Ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:c.access_token,xform:nc});if(b)throw b;return c.user=v.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await is(this.storage,`${this.storageKey}-code-verifier`),gt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ri;const t=Date.now()/1e3;let r=t,s=!0,o=null;const{payload:c}=A0(e.access_token);if(c.exp&&(r=c.exp,s=r<=t),s){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(gt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:c,error:d}=t;if(d)throw d;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Ri;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(gt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!as())throw new Xv("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xv(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Wx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xv("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wx("No code detected.");const{data:G,error:W}=await this._exchangeCodeForSession(e.code);if(W)throw W;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:d,expires_at:p,token_type:v}=e;if(!o||!d||!c||!v)throw new Xv("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(d);let E=b+x;p&&(E=parseInt(p));const C=E-b;C*1e3<=If&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${x}s`);const N=E-x;b-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,E,b):b-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,E,b);const{data:A,error:I}=await this._getUser(o);if(I)throw I;const L={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:x,expires_at:E,refresh_token:c,token_type:v,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(r){if(gt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Td(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return this._returnResult({error:o});const c=(r=s.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(sB(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=pB(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:o},error:c}=t;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Of(this.storage,this.storageKey,!0));try{return await Ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await is(this.storage,`${this.storageKey}-code-verifier`),gt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(gt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:s}=await this._useSession(async o=>{var c,d,p,v,b;const{data:x,error:E}=o;if(E)throw E;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ot(this.fetch,"GET",C,{headers:this.headers,jwt:(b=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:void 0})});if(s)throw s;return as()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(gt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:s,data:{session:o}}=t;if(s)throw s;const{options:c,provider:d,token:p,access_token:v,nonce:b}=e,x=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:p,access_token:v,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:za}),{data:E,error:C}=x;return C?this._returnResult({data:{user:null,session:null},error:C}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Cf}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:C}))}catch(s){if(await is(this.storage,`${this.storageKey}-code-verifier`),gt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:o,error:c}=t;if(c)throw c;return await Ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(gt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await yB(async s=>(s>0&&await vB(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:za})),(s,o)=>{const c=200*Math.pow(2,s);return o&&N0(o)&&Date.now()+c-r<If})}catch(r){if(this._debug(t,"error",r),gt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),as()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Td(this.storage,this.storageKey);if(s&&this.userStorage){let c=await Td(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await Mf(this.userStorage,this.storageKey+"-user",c)),s.user=(e=c?.user)!==null&&e!==void 0?e:R0()}else if(s&&!s.user&&!s.user){const c=await Td(this.storage,this.storageKey+"-user");c&&c?.user?(s.user=c.user,await is(this.storage,this.storageKey+"-user"),await Mf(this.storage,this.storageKey,s)):s.user=R0()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<D0;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${D0}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),N0(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(s.access_token);!d&&c?.user?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wb;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Ri;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),gt(o)){const c={data:null,error:o};return N0(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(p){o.push(p)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await is(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Mf(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const o=Yx(s);await Mf(this.storage,this.storageKey,o)}else{const s=Yx(t);await Mf(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await is(this.storage,this.storageKey),await is(this.storage,this.storageKey+"-code-verifier"),await is(this.storage,this.storageKey+"-user"),this.userStorage&&await is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&as()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),If);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/If);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${If}ms, refresh threshold is ${bw} ticks`),s<=bw&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!as()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,c]=await Of(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(d.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;return o?this._returnResult({data:null,error:o}):await Ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(gt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:v}=await Ot(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(e.factorType==="totp"&&p.type==="totp"&&(!((s=p?.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(t){if(gt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?GB(e.webauthn.credential_response):VB(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:p}))})}catch(t){if(gt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:KB(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:YB(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(gt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=A0(r.access_token);let c=null;o.aal&&(c=o.aal);let d=c;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(d="aal2");const v=o.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await Ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ri})})}catch(t){if(gt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ri});const c=await Ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&as()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(gt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ri});const c=await Ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&as()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(r){if(gt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await Ot(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ri})})}catch(e){if(gt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?(await Ot(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ri})})}catch(t){if(gt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(d=>d.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(d=>d.kid===e),r&&this.jwks_cached_at+nB>s)return r;const{data:o,error:c}=await Ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(d=>d.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:C,error:N}=await this.getSession();if(N||!C.session)return this._returnResult({data:null,error:N});r=C.session.access_token}const{header:s,payload:o,signature:c,raw:{header:d,payload:p}}=A0(r);t?.allowExpired||EB(o.exp);const v=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!v){const{error:C}=await this.getUser(r);if(C)throw C;return{data:{claims:o,header:s,signature:c},error:null}}const b=CB(s.alg),x=await crypto.subtle.importKey("jwk",v,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,c,hB(`${d}.${p}`)))throw new Sw("Invalid JWT signature");return{data:{claims:o,header:s,signature:c},error:null}}catch(r){if(gt(r))return this._returnResult({data:null,error:r});throw r}}}Pm.nextInstanceID={};const s3=Pm,i3="2.90.1";let Kg="";typeof Deno<"u"?Kg="deno":typeof document<"u"?Kg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kg="react-native":Kg="node";const a3={"X-Client-Info":`supabase-js-${Kg}/${i3}`},o3={headers:a3},l3={schema:"public"},u3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c3={};function Tm(n){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(n)}function d3(n,e){if(Tm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function h3(n){var e=d3(n,"string");return Tm(e)=="symbol"?e:e+""}function f3(n,e,t){return(e=h3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ek(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function nr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(t),!0).forEach(function(r){f3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ek(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const p3=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),g3=()=>Headers,m3=(n,e,t)=>{const r=p3(t),s=g3();return async(o,c)=>{var d;const p=(d=await e())!==null&&d!==void 0?d:n;let v=new s(c?.headers);return v.has("apikey")||v.set("apikey",n),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),r(o,nr(nr({},c),{},{headers:v}))}};function v3(n){return n.endsWith("/")?n:n+"/"}function y3(n,e){var t,r;const{db:s,auth:o,realtime:c,global:d}=n,{db:p,auth:v,realtime:b,global:x}=e,E={db:nr(nr({},p),s),auth:nr(nr({},v),o),realtime:nr(nr({},b),c),storage:{},global:nr(nr(nr({},x),d),{},{headers:nr(nr({},(t=x?.headers)!==null&&t!==void 0?t:{}),(r=d?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?E.accessToken=n.accessToken:delete E.accessToken,E}function b3(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(v3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var w3=class extends s3{constructor(n){super(n)}},_3=class{constructor(n,e,t){var r,s;this.supabaseUrl=n,this.supabaseKey=e;const o=b3(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:l3,realtime:c3,auth:nr(nr({},u3),{},{storageKey:c}),global:o3},p=y3(t??{},d);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=p.auth)!==null&&v!==void 0?v:{},this.headers,p.global.fetch)}this.fetch=m3(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(nr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new eF(new URL("rest/v1",o).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new JF(this.storageUrl.href,this.headers,this.fetch,t?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new VU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:s,storageKey:o,flowType:c,lock:d,debug:p,throwOnError:v},b,x){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w3({url:this.authUrl.href,headers:nr(nr({},E),b),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:s,flowType:c,lock:d,debug:p,throwOnError:v,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new vF(this.realtimeUrl.href,nr(nr({},n),{},{params:nr(nr({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const S3=(n,e,t)=>new _3(n,e,t);function x3(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}x3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var qr=(n=>(n.Users="users",n.Bonuses="bonuses",n.WeeklySummary="weeklySummary",n.Predictions="predictions",n.Withdrawals="withdrawals",n.Others="others",n))(qr||{}),zl=(n=>(n.UpsertData="upsertData",n.UpdateData="updateData",n.GetData="getData",n.GetPredictionsWithUsersBetInfo="getPredictionsWithUsersBetInfo",n.GetUsersWithWeeklySummary="getUsersWithWeeklySummary",n.GetAndUpdateUserWithWeeklySummary="getAndUpdateUserWithWeeklySummary",n.UpdatePredictionsStatus="updatePredictionsStatus",n))(zl||{}),Sy={exports:{}},k3=Sy.exports,tk;function E3(){return tk||(tk=1,(function(n,e){(function(t,r){n.exports=r()})(k3,(function(){return function(t,r,s){r.prototype.isBetween=function(o,c,d,p){var v=s(o),b=s(c),x=(p=p||"()")[0]==="(",E=p[1]===")";return(x?this.isAfter(v,d):!this.isBefore(v,d))&&(E?this.isBefore(b,d):!this.isAfter(b,d))||(x?this.isBefore(v,d):!this.isAfter(v,d))&&(E?this.isAfter(b,d):!this.isBefore(b,d))}}}))})(Sy)),Sy.exports}var C3=E3();const O3=mr(C3);var xy={exports:{}},P3=xy.exports,nk;function T3(){return nk||(nk=1,(function(n,e){(function(t,r){n.exports=r()})(P3,(function(){return function(t,r,s){s.updateLocale=function(o,c){var d=s.Ls[o];if(d)return(c?Object.keys(c):[]).forEach((function(p){d[p]=c[p]})),d}}}))})(xy)),xy.exports}var D3=T3();const N3=mr(D3);mt.extend(Qk);mt.extend(Jk);mt.extend(Vk);mt.extend(O3);mt.extend(Rw);mt.extend(N3);mt.updateLocale("en",{weekStart:1});const A3="America/Denver",R3={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},fr=(n=new Date)=>mt(n).tz(A3),_C=()=>{const n=fr().startOf("week").format("YYYY-MM-DD");return mt.utc(n+"T00:00:00.000Z")},I3=()=>{const n=fr().endOf("week").format("YYYY-MM-DD");return mt.utc(n+"T23:59:59.999Z")},M3=()=>{const n=fr().subtract(1,"week").startOf("week").format("YYYY-MM-DD");return mt.utc(n+"T00:00:00.000Z")},j3=()=>{const n=fr().subtract(1,"week").endOf("week").format("YYYY-MM-DD");return mt.utc(n+"T23:59:59.999Z")},$3=()=>{const n=fr().startOf("day").format("YYYY-MM-DD");return mt.utc(n+"T00:00:00.000Z")},L3=()=>{const n=fr().endOf("day").format("YYYY-MM-DD");return mt.utc(n+"T23:59:59.999Z")},U3=()=>{const n=fr().add(1,"day").startOf("day").format("YYYY-MM-DD");return mt.utc(n+"T00:00:00.000Z")},F3=()=>{const n=fr().add(1,"day").endOf("day").format("YYYY-MM-DD");return mt.utc(n+"T23:59:59.999Z")},B3=()=>mt().utc().year(),W3=()=>{const n=fr().startOf("year").format("YYYY-MM-DD");return mt.utc(n+"T00:00:00.000Z")},H3=()=>{const n=fr().endOf("year").format("YYYY-MM-DD");return mt.utc(n+"T23:59:59.999Z")},q3=n=>n?fr(n).fromNow(!0):"",Zv=(n,e,t)=>n.isBetween(e,t,"day","[]"),z3=n=>{const e=R3[n];if(e===void 0)throw new Error(`Invalid day name: ${n}`);return _C().day(e)},ir=()=>{const n=fr(),e=_C(),t=I3(),r=M3(),s=j3(),o=$3(),c=L3(),d=U3(),p=F3(),v=W3(),b=H3();return{dayStart:o.toDate(),dayEnd:c.toDate(),today:o.toDate(),tomorrowStart:d.toDate(),tomorrowEnd:p.toDate(),weekStart:e.toDate(),weekEnd:t.toDate(),lastWeekStart:r.toDate(),lastWeekEnd:s.toDate(),now:n.toDate(),year:B3(),yearStart:v.toDate(),yearEnd:b.toDate(),formatDate:(x=new Date)=>fr(x).format("MMM-DD-YYYY h:mm A"),fromNow:x=>q3(x),dayStartOfWeekDay:x=>z3(x).toDate(),isWithinThisWeek:x=>Zv(fr(x),e,t),isWithinLastWeek:x=>Zv(fr(x),r,s),isWithinToday:x=>Zv(fr(x),o,c),isWithinTomorrow:x=>Zv(fr(x),d,p),week:{start:fr().startOf("week").toDate(),end:fr().endOf("week").toDate()}}};function Bg(n,e){e===void 0&&(e={});var t=e.selector,r=Um(e,["selector"]);return new xs(function(s){var o=new AbortController,c=o.signal,d=!0,p=r.signal;if(p)if(p.aborted)o.abort();else{var v=function(){c.aborted||o.abort()};p.addEventListener("abort",v),s.add(function(){return p.removeEventListener("abort",v)})}var b=Uy(Uy({},r),{signal:c}),x=function(E){d=!1,s.error(E)};return fetch(n,b).then(function(E){t?Zo(t(E)).subscribe(Vo(s,void 0,function(){d=!1,s.complete()},x)):(d=!1,s.next(E),s.complete())}).catch(x),function(){d&&o.abort()}})}class K3{constructor(){this.captchaAPIHost="https://api.solvecaptcha.com",this.captchaAPI="223ce317debee9e00534a16b65870ebc",this.supabaseUrl="https://adyelcvjjrgbmksrygkx.supabase.co",this.serviceRoleKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFkeWVsY3ZqanJnYm1rc3J5Z2t4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNDA1MzksImV4cCI6MjA3NDkxNjUzOX0.0nHPiksempYBsumF6zXiUb3jUkcemSdr1ZkItcuEeks",this.supabase=S3(this.supabaseUrl,this.serviceRoleKey,{auth:{autoRefreshToken:!1,persistSession:!1},db:{schema:"TalpakersDB"},global:{headers:{Origin:"https://localhost:3001"}}})}login(e,t="Admin123!@#"){return this.checkAuthStatus().pipe(Bm(r=>{if(r?.email?.toLowerCase()===e.toLowerCase())return ec(r);console.log(""),console.log(""),console.log(""),console.log(""),console.log("gaga-------------------------------------"),console.log("gaga-------------------------------------"),console.log("gaga------------ New Login --------------"),console.log("gaga-------------------------------------"),console.log("gaga-------------------------------------");const s=this.supabase.auth.signInWithPassword({email:e,password:t});return Zu(s).pipe(Mi(o=>o.data.session?.user))}),Mi(r=>r))}createUser(e,t,r){const s=this.supabase.auth.signUp({email:e,password:t,options:{data:{displayName:r}}});return Zu(s).pipe(Mi(o=>o.data.user),Dd(()=>ec(null)))}checkAuthStatus(){const e=this.supabase.auth.getSession();return Zu(e).pipe(Mi(t=>t.data.session?.user))}logout(){const e=this.supabase.auth.signOut();return Zu(e)}deleteBonuses(e){const t=qr.Bonuses,r=this.supabase.from(t).delete().eq("data->>year",e).select();return this.buildFromPromise(r)}deleteWithdrawals(e){const t=qr.Withdrawals,r=this.supabase.from(t).delete().eq("data->>year",e).select();return this.buildFromPromise(r)}deleteWeeklySummary(e){const t=qr.WeeklySummary,r=this.supabase.from(t).delete().eq("data->>year",e).select();return this.buildFromPromise(r)}getUsers(e){const t=qr.Users;let r=this.supabase.from(t).select();return e&&Array.isArray(e)?r=r.in("_id",e):e&&(r=r.eq("_id",e)),this.buildFromPromise(r)}getUsersWithWeeklySummary(e){const t={where:e?[`_id=${e}`]:[]},r=this.supabase.rpc(zl.GetUsersWithWeeklySummary,{filter:t});return this.buildFromPromise(r)}getAndUpdateUserWithWeeklySummary(e){const t=this.supabase.rpc(zl.GetAndUpdateUserWithWeeklySummary,{filter:{email:e}});return this.buildFromPromise(t)}getWeeklySummary(e){const t=qr.WeeklySummary;let r=this.supabase.from(t).select();return e&&Array.isArray(e)?r=r.in("data->>email",e):e&&(r=r.eq("data->>email",e)),this.buildFromPromise(r)}getWeeklySummaryByWeek(e,t){const r=qr.WeeklySummary;let s=this.supabase.from(r).select();return s=s.eq("data->>email",e).eq("data->>weekStart",t),this.buildFromPromise(s)}getBonuses(e){const t=qr.Bonuses;let r=this.supabase.from(t).select();return e&&Array.isArray(e)?r=r.in("data->>email",e):e&&(r=r.eq("data->>email",e)),this.buildFromPromise(r)}getWithdrawals(e){const t=qr.Withdrawals;let r=this.supabase.from(t).select();return e&&Array.isArray(e)?r=r.in("data->>email",e):e&&(r=r.eq("data->>email",e)),this.buildFromPromise(r)}getAvailablePredictions(){const e=new Date().getTime(),t=e-300*60*1e3,r=qr.Predictions,s=this.supabase.from(r).select("*").gte("createdAt",new Date(t).toISOString()).lte("createdAt",new Date(e).toISOString()).or("data->>status.is.null,data->>status.eq.Placed");return this.buildFromPromise(s)}getPredictionsByDayWithUserBetInfo(e){const{today:t}=ir(),r=e instanceof Date?e.toISOString():t.toISOString(),s=[`data->>today=${r}`];r!==t.toISOString()&&s.push("data->>status!=null");const o=this.supabase.rpc(zl.GetPredictionsWithUsersBetInfo,{filter:{where:s}});return this.buildFromPromise(o)}getPredictionsByWeek(e){const{weekStart:t}=ir(),r=qr.Predictions,s=e instanceof Date?e.toISOString():t.toISOString(),o=this.supabase.from(r).select("*").eq("data->>weekStart",s).neq("data->>status",null);return this.buildFromPromise(o)}getPredictionsByGameIds(e){const t=this.supabase.rpc(zl.GetPredictionsWithUsersBetInfo,{filter:{where:[`_id=${e}`]}});return this.buildFromPromise(t)}getOthersById(e){const t=qr.Others,r=this.supabase.from(t).select("*").eq("_id",e);return this.buildFromPromise(r)}upsertOthers(e){const t=qr.Others,r=this.supabase.rpc(zl.UpsertData,{payload:{table:t,filter:{_id:e._id},data:e.data||{}}});return this.buildFromPromise(r)}getRemittances(){const t=this.supabase.functions.invoke("remittances?amount=1000",{method:"GET"});return Zu(t)}get3rdPartyData(){const t=this.supabase.functions.invoke("get3rdPartyData",{method:"GET"});return Zu(t)}getReCaptchaInit({siteKey:e}){return Bg(`${this.captchaAPIHost}/in.php?key=${this.captchaAPI}&method=userrecaptcha&googlekey=${e}&pageurl=https://playalberta.ca/sports/live`,{selector:t=>t.text()}).pipe(Fg({each:3e4,with:()=>Ug(()=>"Server is taking too long to respond!")}),Dd(()=>ec(null)))}get(){return Bg(`${this.captchaAPIHost}/res.php?key=${this.captchaAPI}&action=getbalance`,{selector:e=>e.json()}).pipe(Fg({each:3e4,with:()=>Ug(()=>"Server is taking too long to respond!")}),Dd(()=>ec(null)))}getReCaptchaToken({key:e}){return Bg(`${this.captchaAPIHost}/res.php?key=${this.captchaAPI}&action=get&id=${e}`,{selector:t=>t.text()}).pipe(Fg({each:3e4,with:()=>Ug(()=>"Server is taking too long to respond! getReCaptchaToken")}),Dd(()=>ec(null)))}getGDriveList(){return Bg("https://www.googleapis.com/drive/v3/files?q='1R_p0L9jfyAETBMShwaNMh1o8mAUpXQnZ'+in+parents&key=AIzaSyBqOX7BY6Yfv5GdlUdmczAHqDuAB8Ce9ao",{selector:s=>s.json()}).pipe(Mi(s=>s.files||[]))}getPlayAbFromGH(){return Bg("https://raw.githubusercontent.com/janbee/nx-talpakers/main/libs/PlayAb/src/utils/jsString.ts",{headers:{Authorization:`Bearer ${["g","i","t","h","u","b","_","p","a","t","_"].join("")}11AAP25TA0TokxK8EtXiCz_yMOu8LiwbLcvdMRfNYdBWTZdoUAdHbPzOjyPJHVjmLmVCU3LSPP1nzmOUT3`,Accept:"application/vnd.github.v3.raw+text"},selector:s=>s.text()}).pipe(Mi(s=>new Function(`${s.replace("export ","")}; return { JSString };`)().JSString),Fg({each:3e4,with:()=>Ug(()=>"Server is taking too long to respond!")}),Dd(()=>ec(null)))}upsertUserData(e,t){const r=this.supabase.rpc(zl.UpsertData,{payload:{table:qr.Users,filter:{_id:e._id?.toLowerCase()},data:e.data||{},updatedAt:t,full:!0}});return this.buildFromPromise(r)}upsertWeeklySummary(e){const t=qr.WeeklySummary,r=this.supabase.from(t).upsert(e).select();return this.buildFromPromise(r)}upsertBonuses(e){const t=qr.Bonuses,r=this.supabase.from(t).upsert(e,{onConflict:"_id"}).select();return this.buildFromPromise(r)}upsertWithdrawals(e){const t=qr.Withdrawals,r=this.supabase.from(t).upsert(e,{onConflict:"_id"}).select();return this.buildFromPromise(r)}upsertPrediction(e){const t=zl.UpsertData,r=qr.Predictions,s=this.supabase.rpc(t,{payload:{table:r,filter:{_id:e._id},data:e.data}});return this.buildFromPromise(s)}updatePredictions({filter:e,data:t,full:r=!1}){const s=zl.UpdatePredictionsStatus,o=this.supabase.rpc(s,{payload:{filter:e,data:t.data,full:r}});return this.buildFromPromise(o)}buildFromPromise(e){return Zu(e).pipe(Fg({each:3e4,with:()=>Ug(()=>new Error("Server is taking too long to respond! upsertPrediction"))}),Dd(t=>ec({data:null,error:{name:"Postgrest CatchError",details:"Nothing much",hint:"Nothing much",code:"400",message:t.message||"An unknown error occurred."}})))}}const hi=new K3;class Y3{constructor(){this.list$=new ci([]),this.listWithStatuses$=new ci({}),this.loading$=new ci(!1),this.error$=new ci(!1)}reload(e){this.loading$.next(!0),this.error$.next(!1),eC([hi.getPredictionsByDayWithUserBetInfo(e),hi.getPredictionsByWeek()]).pipe(tC(()=>this.loading$.next(!1))).subscribe({next:([t,r])=>{const s=t.data||[],o=r.data||[],c=JSON.parse(localStorage.getItem("uniqueGames")||"[]"),d=o.map(b=>b.data.game),p=[...new Set([...c,...d])];localStorage.setItem("uniqueGames",JSON.stringify(p)),console.log("check prediction game-------------------------------------",p),this.list$.next(s.sort((b,x)=>new Date(x.createdAt||new Date).getTime()-new Date(b.createdAt||new Date).getTime()));const v=o.reduce((b,x)=>{const E=x.data.status;return E&&(b[E]=(b[E]||0)+1),b},{});this.listWithStatuses$.next(v)},error:()=>this.error$.next(!0)})}}const Md=new Y3,G3="0.0.585",V3=(n,e,t)=>{const r={value:e};t!==void 0&&t>0&&(r.expiry=Date.now()+t),window.localStorage.setItem(n,JSON.stringify(r))},Q3=n=>{const e=window.localStorage.getItem(n);if(!e)return[null,null];let t;try{t=JSON.parse(e)}catch(s){return console.error(`Failed to parse localStorage item "${n}"`,s),window.localStorage.removeItem(n),[null,null]}const{now:r}=ir();return t.expiry?r.getTime()>t.expiry?(window.localStorage.removeItem(n),[null,null]):[t.value,t.expiry]:[t.value,0]};mt.extend(Rw);const rn=(n,e)=>{const t={currency:"USD",minimumFractionDigits:e!==void 0?e:2};return new Intl.NumberFormat("en-US",{style:"currency",currency:t.currency,minimumFractionDigits:t.minimumFractionDigits}).format(parseFloat(n.toString()))};class J3{constructor(){this.actionStatus$=new ci(void 0),this.settleBets$=new ci(void 0),this.openBets$=new ci(void 0),this.bonuses$=new ci(void 0),this.withdrawals$=new ci(void 0),this.userSession$=new ci(void 0),this.user$=new ci(void 0),this.reload$=new ci(!1),this.weeklySummary$=new ci(void 0),this.version$=new ci(G3)}}new J3;var ky={exports:{}},X3=ky.exports,rk;function Z3(){return rk||(rk=1,(function(n,e){(function(t,r){n.exports=r()})(X3,(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof $f<"u"?$f:typeof self<"u"?self:{};function r(O){return O&&O.__esModule&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O}var s={exports:{}};(function(O){(function(i,h){var m=Math.pow(2,-24),_=Math.pow(2,32),S=Math.pow(2,53),P={encode:function(R){var U,F=new ArrayBuffer(256),ae=new DataView(F),ne=0;function te(It){for(var Ge=F.byteLength,Je=ne+It;Ge<Je;)Ge*=2;if(Ge!==F.byteLength){var Oe=ae;F=new ArrayBuffer(Ge),ae=new DataView(F);for(var Le=ne+3>>2,Ve=0;Ve<Le;++Ve)ae.setUint32(4*Ve,Oe.getUint32(4*Ve))}return U=It,ae}function ye(){ne+=U}function se(It){ye(te(1).setUint8(ne,It))}function ce(It){for(var Ge=te(It.length),Je=0;Je<It.length;++Je)Ge.setUint8(ne+Je,It[Je]);ye()}function de(It,Ge){Ge<24?se(It<<5|Ge):Ge<256?(se(It<<5|24),se(Ge)):Ge<65536?(se(It<<5|25),(function(Je){ye(te(2).setUint16(ne,Je))})(Ge)):Ge<4294967296?(se(It<<5|26),(function(Je){ye(te(4).setUint32(ne,Je))})(Ge)):(se(It<<5|27),(function(Je){var Oe=Je%_,Le=(Je-Oe)/_,Ve=te(8);Ve.setUint32(ne,Le),Ve.setUint32(ne+4,Oe),ye()})(Ge))}if((function It(Ge){var Je;if(Ge===!1)return se(244);if(Ge===!0)return se(245);if(Ge===null)return se(246);if(Ge===h)return se(247);switch(typeof Ge){case"number":if(Math.floor(Ge)===Ge){if(0<=Ge&&Ge<=S)return de(0,Ge);if(-S<=Ge&&Ge<0)return de(1,-(Ge+1))}return se(251),(function(Rt){ye(te(8).setFloat64(ne,Rt))})(Ge);case"string":var Oe=[];for(Je=0;Je<Ge.length;++Je){var Le=Ge.charCodeAt(Je);Le<128?Oe.push(Le):Le<2048?(Oe.push(192|Le>>6),Oe.push(128|63&Le)):Le<55296?(Oe.push(224|Le>>12),Oe.push(128|Le>>6&63),Oe.push(128|63&Le)):(Le=(1023&Le)<<10,Le|=1023&Ge.charCodeAt(++Je),Le+=65536,Oe.push(240|Le>>18),Oe.push(128|Le>>12&63),Oe.push(128|Le>>6&63),Oe.push(128|63&Le))}return de(3,Oe.length),ce(Oe);default:var Ve;if(Array.isArray(Ge))for(de(4,Ve=Ge.length),Je=0;Je<Ve;++Je)It(Ge[Je]);else if(Ge instanceof Uint8Array)de(2,Ge.length),ce(Ge);else{var $t=Object.keys(Ge);for(de(5,Ve=$t.length),Je=0;Je<Ve;++Je){var Tt=$t[Je];It(Tt),It(Ge[Tt])}}}})(R),"slice"in F)return F.slice(0,ne);for(var Te=new ArrayBuffer(ne),nt=new DataView(Te),bt=0;bt<ne;++bt)nt.setUint8(bt,ae.getUint8(bt));return Te},decode:function(R,U,F){var ae=new DataView(R),ne=0;function te(Je,Oe){return ne+=Oe,Je}function ye(Je){return te(new Uint8Array(R,ne,Je),Je)}function se(){return te(ae.getUint8(ne),1)}function ce(){return te(ae.getUint16(ne),2)}function de(){return te(ae.getUint32(ne),4)}function Te(){return ae.getUint8(ne)===255&&(ne+=1,!0)}function nt(Je){if(Je<24)return Je;if(Je===24)return se();if(Je===25)return ce();if(Je===26)return de();if(Je===27)return de()*_+de();if(Je===31)return-1;throw"Invalid length encoding"}function bt(Je){var Oe=se();if(Oe===255)return-1;var Le=nt(31&Oe);if(Le<0||Oe>>5!==Je)throw"Invalid indefinite length element";return Le}function It(Je,Oe){for(var Le=0;Le<Oe;++Le){var Ve=se();128&Ve&&(Ve<224?(Ve=(31&Ve)<<6|63&se(),Oe-=1):Ve<240?(Ve=(15&Ve)<<12|(63&se())<<6|63&se(),Oe-=2):(Ve=(15&Ve)<<18|(63&se())<<12|(63&se())<<6|63&se(),Oe-=3)),Ve<65536?Je.push(Ve):(Ve-=65536,Je.push(55296|Ve>>10),Je.push(56320|1023&Ve))}}typeof U!="function"&&(U=function(Je){return Je}),typeof F!="function"&&(F=function(){return h});var Ge=(function Je(){var Oe,Le,Ve=se(),$t=Ve>>5,Tt=31&Ve;if($t===7)switch(Tt){case 25:return(function(){var Xr=new ArrayBuffer(4),Ds=new DataView(Xr),Ns=ce(),pe=32768&Ns,Ae=31744&Ns,Se=1023&Ns;if(Ae===31744)Ae=261120;else if(Ae!==0)Ae+=114688;else if(Se!==0)return Se*m;return Ds.setUint32(0,pe<<16|Ae<<13|Se<<13),Ds.getFloat32(0)})();case 26:return te(ae.getFloat32(ne),4);case 27:return te(ae.getFloat64(ne),8)}if((Le=nt(Tt))<0&&($t<2||6<$t))throw"Invalid length";switch($t){case 0:return Le;case 1:return-1-Le;case 2:if(Le<0){for(var Rt=[],jn=0;(Le=bt($t))>=0;)jn+=Le,Rt.push(ye(Le));var Me=new Uint8Array(jn),Ye=0;for(Oe=0;Oe<Rt.length;++Oe)Me.set(Rt[Oe],Ye),Ye+=Rt[Oe].length;return Me}return ye(Le);case 3:var He=[];if(Le<0)for(;(Le=bt($t))>=0;)It(He,Le);else It(He,Le);return String.fromCharCode.apply(null,He);case 4:var ze;if(Le<0)for(ze=[];!Te();)ze.push(Je());else for(ze=new Array(Le),Oe=0;Oe<Le;++Oe)ze[Oe]=Je();return ze;case 5:var Jr={};for(Oe=0;Oe<Le||Le<0&&!Te();++Oe)Jr[Je()]=Je();return Jr;case 6:return U(Je(),Le);case 7:switch(Le){case 20:return!1;case 21:return!0;case 22:return null;case 23:return h;default:return F(Le)}}})();if(ne!==R.byteLength)throw"Remaining bytes";return Ge}};O.exports?O.exports=P:i.CBOR||(i.CBOR=P)})(t)})(s);var o=r(s.exports);function c(O,i){var h={};for(var m in O)Object.prototype.hasOwnProperty.call(O,m)&&i.indexOf(m)<0&&(h[m]=O[m]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function"){var _=0;for(m=Object.getOwnPropertySymbols(O);_<m.length;_++)i.indexOf(m[_])<0&&Object.prototype.propertyIsEnumerable.call(O,m[_])&&(h[m[_]]=O[m[_]])}return h}function d(O,i,h,m){return new(h||(h=Promise))((function(_,S){function P(F){try{U(m.next(F))}catch(ae){S(ae)}}function R(F){try{U(m.throw(F))}catch(ae){S(ae)}}function U(F){var ae;F.done?_(F.value):(ae=F.value,ae instanceof h?ae:new h((function(ne){ne(ae)}))).then(P,R)}U((m=m.apply(O,i||[])).next())}))}typeof SuppressedError=="function"&&SuppressedError;class p{static legacyCryptoModule(i){throw new Error("Should be implemented by concrete crypto module implementation.")}static aesCbcCryptoModule(i){throw new Error("Should be implemented by concrete crypto module implementation.")}constructor(i){var h;this.defaultCryptor=i.default,this.cryptors=(h=i.cryptors)!==null&&h!==void 0?h:[]}set logger(i){throw new Error("Method not implemented.")}getAllCryptors(){return[this.defaultCryptor,...this.cryptors]}toString(){return`AbstractCryptoModule { default: ${this.defaultCryptor.toString()}, cryptors: [${this.cryptors.map((i=>i.toString())).join(", ")}]}`}}p.encoder=new TextEncoder,p.decoder=new TextDecoder;class v{static create(i){return new v(i)}constructor(i){let h,m,_,S;if(i instanceof File)S=i,_=i.name,m=i.type,h=i.size;else if("data"in i){const P=i.data;m=i.mimeType,_=i.name,S=new File([P],_,{type:m}),h=S.size}if(S===void 0)throw new Error("Couldn't construct a file out of supplied options.");if(_===void 0)throw new Error("Couldn't guess filename out of the options. Please provide one.");h&&(this.contentLength=h),this.mimeType=m,this.data=S,this.name=_}toBuffer(){return d(this,void 0,void 0,(function*(){throw new Error("This feature is only supported in Node.js environments.")}))}toArrayBuffer(){return d(this,void 0,void 0,(function*(){return new Promise(((i,h)=>{const m=new FileReader;m.addEventListener("load",(()=>{if(m.result instanceof ArrayBuffer)return i(m.result)})),m.addEventListener("error",(()=>h(m.error))),m.readAsArrayBuffer(this.data)}))}))}toString(){return d(this,void 0,void 0,(function*(){return new Promise(((i,h)=>{const m=new FileReader;m.addEventListener("load",(()=>{if(typeof m.result=="string")return i(m.result)})),m.addEventListener("error",(()=>{h(m.error)})),m.readAsBinaryString(this.data)}))}))}toStream(){return d(this,void 0,void 0,(function*(){throw new Error("This feature is only supported in Node.js environments.")}))}toFile(){return d(this,void 0,void 0,(function*(){return this.data}))}toFileUri(){return d(this,void 0,void 0,(function*(){throw new Error("This feature is only supported in React Native environments.")}))}toBlob(){return d(this,void 0,void 0,(function*(){return this.data}))}}v.supportsBlob=typeof Blob<"u",v.supportsFile=typeof File<"u",v.supportsBuffer=!1,v.supportsStream=!1,v.supportsString=!0,v.supportsArrayBuffer=!0,v.supportsEncryptFile=!0,v.supportsFileUri=!1;function b(O){const i=O.replace(/==?$/,""),h=Math.floor(i.length/4*3),m=new ArrayBuffer(h),_=new Uint8Array(m);let S=0;function P(){const R=i.charAt(S++),U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(R);if(U===-1)throw new Error(`Illegal character at ${S}: ${i.charAt(S-1)}`);return U}for(let R=0;R<h;R+=3){const U=P(),F=P(),ae=P(),ne=P(),te=(63&U)<<2|F>>4,ye=(15&F)<<4|ae>>2,se=(3&ae)<<6|ne;_[R]=te,ae!=64&&(_[R+1]=ye),ne!=64&&(_[R+2]=se)}return m}function x(O){let i="";const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=new Uint8Array(O),_=m.byteLength,S=_%3,P=_-S;let R,U,F,ae,ne;for(let te=0;te<P;te+=3)ne=m[te]<<16|m[te+1]<<8|m[te+2],R=(16515072&ne)>>18,U=(258048&ne)>>12,F=(4032&ne)>>6,ae=63&ne,i+=h[R]+h[U]+h[F]+h[ae];return S==1?(ne=m[P],R=(252&ne)>>2,U=(3&ne)<<4,i+=h[R]+h[U]+"=="):S==2&&(ne=m[P]<<8|m[P+1],R=(64512&ne)>>10,U=(1008&ne)>>4,F=(15&ne)<<2,i+=h[R]+h[U]+h[F]+"="),i}var E;(function(O){O.PNNetworkIssuesCategory="PNNetworkIssuesCategory",O.PNTimeoutCategory="PNTimeoutCategory",O.PNCancelledCategory="PNCancelledCategory",O.PNBadRequestCategory="PNBadRequestCategory",O.PNAccessDeniedCategory="PNAccessDeniedCategory",O.PNValidationErrorCategory="PNValidationErrorCategory",O.PNAcknowledgmentCategory="PNAcknowledgmentCategory",O.PNMalformedResponseCategory="PNMalformedResponseCategory",O.PNServerErrorCategory="PNServerErrorCategory",O.PNUnknownCategory="PNUnknownCategory",O.PNNetworkUpCategory="PNNetworkUpCategory",O.PNNetworkDownCategory="PNNetworkDownCategory",O.PNReconnectedCategory="PNReconnectedCategory",O.PNConnectedCategory="PNConnectedCategory",O.PNSubscriptionChangedCategory="PNSubscriptionChangedCategory",O.PNRequestMessageCountExceededCategory="PNRequestMessageCountExceededCategory",O.PNDisconnectedCategory="PNDisconnectedCategory",O.PNConnectionErrorCategory="PNConnectionErrorCategory",O.PNDisconnectedUnexpectedlyCategory="PNDisconnectedUnexpectedlyCategory",O.PNSharedWorkerUpdatedCategory="PNSharedWorkerUpdatedCategory"})(E||(E={}));var C=E;class N extends Error{constructor(i,h){super(i),this.status=h,this.name="PubNubError",this.message=i,Object.setPrototypeOf(this,new.target.prototype)}}function A(O,i){var h;return(h=O.statusCode)!==null&&h!==void 0||(O.statusCode=0),Object.assign(Object.assign({},O),{statusCode:O.statusCode,category:i,error:!0})}function I(O,i){return A(Object.assign(Object.assign({message:"Unable to deserialize service response"},O!==void 0?{responseText:O}:{}),i!==void 0?{statusCode:i}:{}),C.PNMalformedResponseCategory)}var L,G,W,Q,z,K=K||(function(O){var i={},h=i.lib={},m=function(){},_=h.Base={extend:function(te){m.prototype=this;var ye=new m;return te&&ye.mixIn(te),ye.hasOwnProperty("init")||(ye.init=function(){ye.$super.init.apply(this,arguments)}),ye.init.prototype=ye,ye.$super=this,ye},create:function(){var te=this.extend();return te.init.apply(te,arguments),te},init:function(){},mixIn:function(te){for(var ye in te)te.hasOwnProperty(ye)&&(this[ye]=te[ye]);te.hasOwnProperty("toString")&&(this.toString=te.toString)},clone:function(){return this.init.prototype.extend(this)}},S=h.WordArray=_.extend({init:function(te,ye){te=this.words=te||[],this.sigBytes=ye??4*te.length},toString:function(te){return(te||R).stringify(this)},concat:function(te){var ye=this.words,se=te.words,ce=this.sigBytes;if(te=te.sigBytes,this.clamp(),ce%4)for(var de=0;de<te;de++)ye[ce+de>>>2]|=(se[de>>>2]>>>24-de%4*8&255)<<24-(ce+de)%4*8;else if(65535<se.length)for(de=0;de<te;de+=4)ye[ce+de>>>2]=se[de>>>2];else ye.push.apply(ye,se);return this.sigBytes+=te,this},clamp:function(){var te=this.words,ye=this.sigBytes;te[ye>>>2]&=4294967295<<32-ye%4*8,te.length=O.ceil(ye/4)},clone:function(){var te=_.clone.call(this);return te.words=this.words.slice(0),te},random:function(te){for(var ye=[],se=0;se<te;se+=4)ye.push(4294967296*O.random()|0);return new S.init(ye,te)}}),P=i.enc={},R=P.Hex={stringify:function(te){var ye=te.words;te=te.sigBytes;for(var se=[],ce=0;ce<te;ce++){var de=ye[ce>>>2]>>>24-ce%4*8&255;se.push((de>>>4).toString(16)),se.push((15&de).toString(16))}return se.join("")},parse:function(te){for(var ye=te.length,se=[],ce=0;ce<ye;ce+=2)se[ce>>>3]|=parseInt(te.substr(ce,2),16)<<24-ce%8*4;return new S.init(se,ye/2)}},U=P.Latin1={stringify:function(te){var ye=te.words;te=te.sigBytes;for(var se=[],ce=0;ce<te;ce++)se.push(String.fromCharCode(ye[ce>>>2]>>>24-ce%4*8&255));return se.join("")},parse:function(te){for(var ye=te.length,se=[],ce=0;ce<ye;ce++)se[ce>>>2]|=(255&te.charCodeAt(ce))<<24-ce%4*8;return new S.init(se,ye)}},F=P.Utf8={stringify:function(te){try{return decodeURIComponent(escape(U.stringify(te)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(te){return U.parse(unescape(encodeURIComponent(te)))}},ae=h.BufferedBlockAlgorithm=_.extend({reset:function(){this._data=new S.init,this._nDataBytes=0},_append:function(te){typeof te=="string"&&(te=F.parse(te)),this._data.concat(te),this._nDataBytes+=te.sigBytes},_process:function(te){var ye=this._data,se=ye.words,ce=ye.sigBytes,de=this.blockSize,Te=ce/(4*de);if(te=(Te=te?O.ceil(Te):O.max((0|Te)-this._minBufferSize,0))*de,ce=O.min(4*te,ce),te){for(var nt=0;nt<te;nt+=de)this._doProcessBlock(se,nt);nt=se.splice(0,te),ye.sigBytes-=ce}return new S.init(nt,ce)},clone:function(){var te=_.clone.call(this);return te._data=this._data.clone(),te},_minBufferSize:0});h.Hasher=ae.extend({cfg:_.extend(),init:function(te){this.cfg=this.cfg.extend(te),this.reset()},reset:function(){ae.reset.call(this),this._doReset()},update:function(te){return this._append(te),this._process(),this},finalize:function(te){return te&&this._append(te),this._doFinalize()},blockSize:16,_createHelper:function(te){return function(ye,se){return new te.init(se).finalize(ye)}},_createHmacHelper:function(te){return function(ye,se){return new ne.HMAC.init(te,se).finalize(ye)}}});var ne=i.algo={};return i})(Math);(function(O){for(var i=K,h=(_=i.lib).WordArray,m=_.Hasher,_=i.algo,S=[],P=[],R=function(se){return 4294967296*(se-(0|se))|0},U=2,F=0;64>F;){var ae;e:{ae=U;for(var ne=O.sqrt(ae),te=2;te<=ne;te++)if(!(ae%te)){ae=!1;break e}ae=!0}ae&&(8>F&&(S[F]=R(O.pow(U,.5))),P[F]=R(O.pow(U,1/3)),F++),U++}var ye=[];_=_.SHA256=m.extend({_doReset:function(){this._hash=new h.init(S.slice(0))},_doProcessBlock:function(se,ce){for(var de=this._hash.words,Te=de[0],nt=de[1],bt=de[2],It=de[3],Ge=de[4],Je=de[5],Oe=de[6],Le=de[7],Ve=0;64>Ve;Ve++){if(16>Ve)ye[Ve]=0|se[ce+Ve];else{var $t=ye[Ve-15],Tt=ye[Ve-2];ye[Ve]=(($t<<25|$t>>>7)^($t<<14|$t>>>18)^$t>>>3)+ye[Ve-7]+((Tt<<15|Tt>>>17)^(Tt<<13|Tt>>>19)^Tt>>>10)+ye[Ve-16]}$t=Le+((Ge<<26|Ge>>>6)^(Ge<<21|Ge>>>11)^(Ge<<7|Ge>>>25))+(Ge&Je^~Ge&Oe)+P[Ve]+ye[Ve],Tt=((Te<<30|Te>>>2)^(Te<<19|Te>>>13)^(Te<<10|Te>>>22))+(Te&nt^Te&bt^nt&bt),Le=Oe,Oe=Je,Je=Ge,Ge=It+$t|0,It=bt,bt=nt,nt=Te,Te=$t+Tt|0}de[0]=de[0]+Te|0,de[1]=de[1]+nt|0,de[2]=de[2]+bt|0,de[3]=de[3]+It|0,de[4]=de[4]+Ge|0,de[5]=de[5]+Je|0,de[6]=de[6]+Oe|0,de[7]=de[7]+Le|0},_doFinalize:function(){var se=this._data,ce=se.words,de=8*this._nDataBytes,Te=8*se.sigBytes;return ce[Te>>>5]|=128<<24-Te%32,ce[14+(Te+64>>>9<<4)]=O.floor(de/4294967296),ce[15+(Te+64>>>9<<4)]=de,se.sigBytes=4*ce.length,this._process(),this._hash},clone:function(){var se=m.clone.call(this);return se._hash=this._hash.clone(),se}}),i.SHA256=m._createHelper(_),i.HmacSHA256=m._createHmacHelper(_)})(Math),G=(L=K).enc.Utf8,L.algo.HMAC=L.lib.Base.extend({init:function(O,i){O=this._hasher=new O.init,typeof i=="string"&&(i=G.parse(i));var h=O.blockSize,m=4*h;i.sigBytes>m&&(i=O.finalize(i)),i.clamp();for(var _=this._oKey=i.clone(),S=this._iKey=i.clone(),P=_.words,R=S.words,U=0;U<h;U++)P[U]^=1549556828,R[U]^=909522486;_.sigBytes=S.sigBytes=m,this.reset()},reset:function(){var O=this._hasher;O.reset(),O.update(this._iKey)},update:function(O){return this._hasher.update(O),this},finalize:function(O){var i=this._hasher;return O=i.finalize(O),i.reset(),i.finalize(this._oKey.clone().concat(O))}}),Q=(W=K).lib.WordArray,W.enc.Base64={stringify:function(O){var i=O.words,h=O.sigBytes,m=this._map;O.clamp(),O=[];for(var _=0;_<h;_+=3)for(var S=(i[_>>>2]>>>24-_%4*8&255)<<16|(i[_+1>>>2]>>>24-(_+1)%4*8&255)<<8|i[_+2>>>2]>>>24-(_+2)%4*8&255,P=0;4>P&&_+.75*P<h;P++)O.push(m.charAt(S>>>6*(3-P)&63));if(i=m.charAt(64))for(;O.length%4;)O.push(i);return O.join("")},parse:function(O){var i=O.length,h=this._map;(m=h.charAt(64))&&(m=O.indexOf(m))!=-1&&(i=m);for(var m=[],_=0,S=0;S<i;S++)if(S%4){var P=h.indexOf(O.charAt(S-1))<<S%4*2,R=h.indexOf(O.charAt(S))>>>6-S%4*2;m[_>>>2]|=(P|R)<<24-_%4*8,_++}return Q.create(m,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},(function(O){function i(ne,te,ye,se,ce,de,Te){return((ne=ne+(te&ye|~te&se)+ce+Te)<<de|ne>>>32-de)+te}function h(ne,te,ye,se,ce,de,Te){return((ne=ne+(te&se|ye&~se)+ce+Te)<<de|ne>>>32-de)+te}function m(ne,te,ye,se,ce,de,Te){return((ne=ne+(te^ye^se)+ce+Te)<<de|ne>>>32-de)+te}function _(ne,te,ye,se,ce,de,Te){return((ne=ne+(ye^(te|~se))+ce+Te)<<de|ne>>>32-de)+te}for(var S=K,P=(U=S.lib).WordArray,R=U.Hasher,U=S.algo,F=[],ae=0;64>ae;ae++)F[ae]=4294967296*O.abs(O.sin(ae+1))|0;U=U.MD5=R.extend({_doReset:function(){this._hash=new P.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ne,te){for(var ye=0;16>ye;ye++){var se=ne[ce=te+ye];ne[ce]=16711935&(se<<8|se>>>24)|4278255360&(se<<24|se>>>8)}ye=this._hash.words;var ce=ne[te+0],de=(se=ne[te+1],ne[te+2]),Te=ne[te+3],nt=ne[te+4],bt=ne[te+5],It=ne[te+6],Ge=ne[te+7],Je=ne[te+8],Oe=ne[te+9],Le=ne[te+10],Ve=ne[te+11],$t=ne[te+12],Tt=ne[te+13],Rt=ne[te+14],jn=ne[te+15],Me=i(Me=ye[0],ze=ye[1],He=ye[2],Ye=ye[3],ce,7,F[0]),Ye=i(Ye,Me,ze,He,se,12,F[1]),He=i(He,Ye,Me,ze,de,17,F[2]),ze=i(ze,He,Ye,Me,Te,22,F[3]);Me=i(Me,ze,He,Ye,nt,7,F[4]),Ye=i(Ye,Me,ze,He,bt,12,F[5]),He=i(He,Ye,Me,ze,It,17,F[6]),ze=i(ze,He,Ye,Me,Ge,22,F[7]),Me=i(Me,ze,He,Ye,Je,7,F[8]),Ye=i(Ye,Me,ze,He,Oe,12,F[9]),He=i(He,Ye,Me,ze,Le,17,F[10]),ze=i(ze,He,Ye,Me,Ve,22,F[11]),Me=i(Me,ze,He,Ye,$t,7,F[12]),Ye=i(Ye,Me,ze,He,Tt,12,F[13]),He=i(He,Ye,Me,ze,Rt,17,F[14]),Me=h(Me,ze=i(ze,He,Ye,Me,jn,22,F[15]),He,Ye,se,5,F[16]),Ye=h(Ye,Me,ze,He,It,9,F[17]),He=h(He,Ye,Me,ze,Ve,14,F[18]),ze=h(ze,He,Ye,Me,ce,20,F[19]),Me=h(Me,ze,He,Ye,bt,5,F[20]),Ye=h(Ye,Me,ze,He,Le,9,F[21]),He=h(He,Ye,Me,ze,jn,14,F[22]),ze=h(ze,He,Ye,Me,nt,20,F[23]),Me=h(Me,ze,He,Ye,Oe,5,F[24]),Ye=h(Ye,Me,ze,He,Rt,9,F[25]),He=h(He,Ye,Me,ze,Te,14,F[26]),ze=h(ze,He,Ye,Me,Je,20,F[27]),Me=h(Me,ze,He,Ye,Tt,5,F[28]),Ye=h(Ye,Me,ze,He,de,9,F[29]),He=h(He,Ye,Me,ze,Ge,14,F[30]),Me=m(Me,ze=h(ze,He,Ye,Me,$t,20,F[31]),He,Ye,bt,4,F[32]),Ye=m(Ye,Me,ze,He,Je,11,F[33]),He=m(He,Ye,Me,ze,Ve,16,F[34]),ze=m(ze,He,Ye,Me,Rt,23,F[35]),Me=m(Me,ze,He,Ye,se,4,F[36]),Ye=m(Ye,Me,ze,He,nt,11,F[37]),He=m(He,Ye,Me,ze,Ge,16,F[38]),ze=m(ze,He,Ye,Me,Le,23,F[39]),Me=m(Me,ze,He,Ye,Tt,4,F[40]),Ye=m(Ye,Me,ze,He,ce,11,F[41]),He=m(He,Ye,Me,ze,Te,16,F[42]),ze=m(ze,He,Ye,Me,It,23,F[43]),Me=m(Me,ze,He,Ye,Oe,4,F[44]),Ye=m(Ye,Me,ze,He,$t,11,F[45]),He=m(He,Ye,Me,ze,jn,16,F[46]),Me=_(Me,ze=m(ze,He,Ye,Me,de,23,F[47]),He,Ye,ce,6,F[48]),Ye=_(Ye,Me,ze,He,Ge,10,F[49]),He=_(He,Ye,Me,ze,Rt,15,F[50]),ze=_(ze,He,Ye,Me,bt,21,F[51]),Me=_(Me,ze,He,Ye,$t,6,F[52]),Ye=_(Ye,Me,ze,He,Te,10,F[53]),He=_(He,Ye,Me,ze,Le,15,F[54]),ze=_(ze,He,Ye,Me,se,21,F[55]),Me=_(Me,ze,He,Ye,Je,6,F[56]),Ye=_(Ye,Me,ze,He,jn,10,F[57]),He=_(He,Ye,Me,ze,It,15,F[58]),ze=_(ze,He,Ye,Me,Tt,21,F[59]),Me=_(Me,ze,He,Ye,nt,6,F[60]),Ye=_(Ye,Me,ze,He,Ve,10,F[61]),He=_(He,Ye,Me,ze,de,15,F[62]),ze=_(ze,He,Ye,Me,Oe,21,F[63]),ye[0]=ye[0]+Me|0,ye[1]=ye[1]+ze|0,ye[2]=ye[2]+He|0,ye[3]=ye[3]+Ye|0},_doFinalize:function(){var ne=this._data,te=ne.words,ye=8*this._nDataBytes,se=8*ne.sigBytes;te[se>>>5]|=128<<24-se%32;var ce=O.floor(ye/4294967296);for(te[15+(se+64>>>9<<4)]=16711935&(ce<<8|ce>>>24)|4278255360&(ce<<24|ce>>>8),te[14+(se+64>>>9<<4)]=16711935&(ye<<8|ye>>>24)|4278255360&(ye<<24|ye>>>8),ne.sigBytes=4*(te.length+1),this._process(),te=(ne=this._hash).words,ye=0;4>ye;ye++)se=te[ye],te[ye]=16711935&(se<<8|se>>>24)|4278255360&(se<<24|se>>>8);return ne},clone:function(){var ne=R.clone.call(this);return ne._hash=this._hash.clone(),ne}}),S.MD5=R._createHelper(U),S.HmacMD5=R._createHmacHelper(U)})(Math),(function(){var O,i=K,h=(O=i.lib).Base,m=O.WordArray,_=(O=i.algo).EvpKDF=h.extend({cfg:h.extend({keySize:4,hasher:O.MD5,iterations:1}),init:function(S){this.cfg=this.cfg.extend(S)},compute:function(S,P){for(var R=(ne=this.cfg).hasher.create(),U=m.create(),F=U.words,ae=ne.keySize,ne=ne.iterations;F.length<ae;){te&&R.update(te);var te=R.update(S).finalize(P);R.reset();for(var ye=1;ye<ne;ye++)te=R.finalize(te),R.reset();U.concat(te)}return U.sigBytes=4*ae,U}});i.EvpKDF=function(S,P,R){return _.create(R).compute(S,P)}})(),K.lib.Cipher||(function(){var O=(te=K).lib,i=O.Base,h=O.WordArray,m=O.BufferedBlockAlgorithm,_=te.enc.Base64,S=te.algo.EvpKDF,P=O.Cipher=m.extend({cfg:i.extend(),createEncryptor:function(se,ce){return this.create(this._ENC_XFORM_MODE,se,ce)},createDecryptor:function(se,ce){return this.create(this._DEC_XFORM_MODE,se,ce)},init:function(se,ce,de){this.cfg=this.cfg.extend(de),this._xformMode=se,this._key=ce,this.reset()},reset:function(){m.reset.call(this),this._doReset()},process:function(se){return this._append(se),this._process()},finalize:function(se){return se&&this._append(se),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(se){return{encrypt:function(ce,de,Te){return(typeof de=="string"?ye:ne).encrypt(se,ce,de,Te)},decrypt:function(ce,de,Te){return(typeof de=="string"?ye:ne).decrypt(se,ce,de,Te)}}}});O.StreamCipher=P.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var R=te.mode={},U=function(se,ce,de){var Te=this._iv;Te?this._iv=void 0:Te=this._prevBlock;for(var nt=0;nt<de;nt++)se[ce+nt]^=Te[nt]},F=(O.BlockCipherMode=i.extend({createEncryptor:function(se,ce){return this.Encryptor.create(se,ce)},createDecryptor:function(se,ce){return this.Decryptor.create(se,ce)},init:function(se,ce){this._cipher=se,this._iv=ce}})).extend();F.Encryptor=F.extend({processBlock:function(se,ce){var de=this._cipher,Te=de.blockSize;U.call(this,se,ce,Te),de.encryptBlock(se,ce),this._prevBlock=se.slice(ce,ce+Te)}}),F.Decryptor=F.extend({processBlock:function(se,ce){var de=this._cipher,Te=de.blockSize,nt=se.slice(ce,ce+Te);de.decryptBlock(se,ce),U.call(this,se,ce,Te),this._prevBlock=nt}}),R=R.CBC=F,F=(te.pad={}).Pkcs7={pad:function(se,ce){for(var de,Te=(de=(de=4*ce)-se.sigBytes%de)<<24|de<<16|de<<8|de,nt=[],bt=0;bt<de;bt+=4)nt.push(Te);de=h.create(nt,de),se.concat(de)},unpad:function(se){se.sigBytes-=255&se.words[se.sigBytes-1>>>2]}},O.BlockCipher=P.extend({cfg:P.cfg.extend({mode:R,padding:F}),reset:function(){P.reset.call(this);var se=(ce=this.cfg).iv,ce=ce.mode;if(this._xformMode==this._ENC_XFORM_MODE)var de=ce.createEncryptor;else de=ce.createDecryptor,this._minBufferSize=1;this._mode=de.call(ce,this,se&&se.words)},_doProcessBlock:function(se,ce){this._mode.processBlock(se,ce)},_doFinalize:function(){var se=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){se.pad(this._data,this.blockSize);var ce=this._process(!0)}else ce=this._process(!0),se.unpad(ce);return ce},blockSize:4});var ae=O.CipherParams=i.extend({init:function(se){this.mixIn(se)},toString:function(se){return(se||this.formatter).stringify(this)}}),ne=(R=(te.format={}).OpenSSL={stringify:function(se){var ce=se.ciphertext;return((se=se.salt)?h.create([1398893684,1701076831]).concat(se).concat(ce):ce).toString(_)},parse:function(se){var ce=(se=_.parse(se)).words;if(ce[0]==1398893684&&ce[1]==1701076831){var de=h.create(ce.slice(2,4));ce.splice(0,4),se.sigBytes-=16}return ae.create({ciphertext:se,salt:de})}},O.SerializableCipher=i.extend({cfg:i.extend({format:R}),encrypt:function(se,ce,de,Te){Te=this.cfg.extend(Te);var nt=se.createEncryptor(de,Te);return ce=nt.finalize(ce),nt=nt.cfg,ae.create({ciphertext:ce,key:de,iv:nt.iv,algorithm:se,mode:nt.mode,padding:nt.padding,blockSize:se.blockSize,formatter:Te.format})},decrypt:function(se,ce,de,Te){return Te=this.cfg.extend(Te),ce=this._parse(ce,Te.format),se.createDecryptor(de,Te).finalize(ce.ciphertext)},_parse:function(se,ce){return typeof se=="string"?ce.parse(se,this):se}})),te=(te.kdf={}).OpenSSL={execute:function(se,ce,de,Te){return Te||(Te=h.random(8)),se=S.create({keySize:ce+de}).compute(se,Te),de=h.create(se.words.slice(ce),4*de),se.sigBytes=4*ce,ae.create({key:se,iv:de,salt:Te})}},ye=O.PasswordBasedCipher=ne.extend({cfg:ne.cfg.extend({kdf:te}),encrypt:function(se,ce,de,Te){return de=(Te=this.cfg.extend(Te)).kdf.execute(de,se.keySize,se.ivSize),Te.iv=de.iv,(se=ne.encrypt.call(this,se,ce,de.key,Te)).mixIn(de),se},decrypt:function(se,ce,de,Te){return Te=this.cfg.extend(Te),ce=this._parse(ce,Te.format),de=Te.kdf.execute(de,se.keySize,se.ivSize,ce.salt),Te.iv=de.iv,ne.decrypt.call(this,se,ce,de.key,Te)}})})(),(function(){for(var O=K,i=O.lib.BlockCipher,h=O.algo,m=[],_=[],S=[],P=[],R=[],U=[],F=[],ae=[],ne=[],te=[],ye=[],se=0;256>se;se++)ye[se]=128>se?se<<1:se<<1^283;var ce=0,de=0;for(se=0;256>se;se++){var Te=(Te=de^de<<1^de<<2^de<<3^de<<4)>>>8^255&Te^99;m[ce]=Te,_[Te]=ce;var nt=ye[ce],bt=ye[nt],It=ye[bt],Ge=257*ye[Te]^16843008*Te;S[ce]=Ge<<24|Ge>>>8,P[ce]=Ge<<16|Ge>>>16,R[ce]=Ge<<8|Ge>>>24,U[ce]=Ge,Ge=16843009*It^65537*bt^257*nt^16843008*ce,F[Te]=Ge<<24|Ge>>>8,ae[Te]=Ge<<16|Ge>>>16,ne[Te]=Ge<<8|Ge>>>24,te[Te]=Ge,ce?(ce=nt^ye[ye[ye[It^nt]]],de^=ye[ye[de]]):ce=de=1}var Je=[0,1,2,4,8,16,32,64,128,27,54];h=h.AES=i.extend({_doReset:function(){for(var Oe=(Ve=this._key).words,Le=Ve.sigBytes/4,Ve=4*((this._nRounds=Le+6)+1),$t=this._keySchedule=[],Tt=0;Tt<Ve;Tt++)if(Tt<Le)$t[Tt]=Oe[Tt];else{var Rt=$t[Tt-1];Tt%Le?6<Le&&Tt%Le==4&&(Rt=m[Rt>>>24]<<24|m[Rt>>>16&255]<<16|m[Rt>>>8&255]<<8|m[255&Rt]):(Rt=m[(Rt=Rt<<8|Rt>>>24)>>>24]<<24|m[Rt>>>16&255]<<16|m[Rt>>>8&255]<<8|m[255&Rt],Rt^=Je[Tt/Le|0]<<24),$t[Tt]=$t[Tt-Le]^Rt}for(Oe=this._invKeySchedule=[],Le=0;Le<Ve;Le++)Tt=Ve-Le,Rt=Le%4?$t[Tt]:$t[Tt-4],Oe[Le]=4>Le||4>=Tt?Rt:F[m[Rt>>>24]]^ae[m[Rt>>>16&255]]^ne[m[Rt>>>8&255]]^te[m[255&Rt]]},encryptBlock:function(Oe,Le){this._doCryptBlock(Oe,Le,this._keySchedule,S,P,R,U,m)},decryptBlock:function(Oe,Le){var Ve=Oe[Le+1];Oe[Le+1]=Oe[Le+3],Oe[Le+3]=Ve,this._doCryptBlock(Oe,Le,this._invKeySchedule,F,ae,ne,te,_),Ve=Oe[Le+1],Oe[Le+1]=Oe[Le+3],Oe[Le+3]=Ve},_doCryptBlock:function(Oe,Le,Ve,$t,Tt,Rt,jn,Me){for(var Ye=this._nRounds,He=Oe[Le]^Ve[0],ze=Oe[Le+1]^Ve[1],Jr=Oe[Le+2]^Ve[2],Xr=Oe[Le+3]^Ve[3],Ds=4,Ns=1;Ns<Ye;Ns++){var pe=$t[He>>>24]^Tt[ze>>>16&255]^Rt[Jr>>>8&255]^jn[255&Xr]^Ve[Ds++],Ae=$t[ze>>>24]^Tt[Jr>>>16&255]^Rt[Xr>>>8&255]^jn[255&He]^Ve[Ds++],Se=$t[Jr>>>24]^Tt[Xr>>>16&255]^Rt[He>>>8&255]^jn[255&ze]^Ve[Ds++];Xr=$t[Xr>>>24]^Tt[He>>>16&255]^Rt[ze>>>8&255]^jn[255&Jr]^Ve[Ds++],He=pe,ze=Ae,Jr=Se}pe=(Me[He>>>24]<<24|Me[ze>>>16&255]<<16|Me[Jr>>>8&255]<<8|Me[255&Xr])^Ve[Ds++],Ae=(Me[ze>>>24]<<24|Me[Jr>>>16&255]<<16|Me[Xr>>>8&255]<<8|Me[255&He])^Ve[Ds++],Se=(Me[Jr>>>24]<<24|Me[Xr>>>16&255]<<16|Me[He>>>8&255]<<8|Me[255&ze])^Ve[Ds++],Xr=(Me[Xr>>>24]<<24|Me[He>>>16&255]<<16|Me[ze>>>8&255]<<8|Me[255&Jr])^Ve[Ds++],Oe[Le]=pe,Oe[Le+1]=Ae,Oe[Le+2]=Se,Oe[Le+3]=Xr},keySize:8}),O.AES=i._createHelper(h)})(),K.mode.ECB=((z=K.lib.BlockCipherMode.extend()).Encryptor=z.extend({processBlock:function(O,i){this._cipher.encryptBlock(O,i)}}),z.Decryptor=z.extend({processBlock:function(O,i){this._cipher.decryptBlock(O,i)}}),z);var H,Y=r(K);class re{constructor({cipherKey:i}){this.cipherKey=i,this.CryptoJS=Y,this.encryptedKey=this.CryptoJS.SHA256(i)}encrypt(i){if((typeof i=="string"?i:re.decoder.decode(i)).length===0)throw new Error("encryption error. empty content");const h=this.getIv();return{metadata:h,data:b(this.CryptoJS.AES.encrypt(i,this.encryptedKey,{iv:this.bufferToWordArray(h),mode:this.CryptoJS.mode.CBC}).ciphertext.toString(this.CryptoJS.enc.Base64))}}encryptFileData(i){return d(this,void 0,void 0,(function*(){const h=yield this.getKey(),m=this.getIv();return{data:yield crypto.subtle.encrypt({name:this.algo,iv:m},h,i),metadata:m}}))}decrypt(i){if(typeof i.data=="string")throw new Error("Decryption error: data for decryption should be ArrayBuffed.");const h=this.bufferToWordArray(new Uint8ClampedArray(i.metadata)),m=this.bufferToWordArray(new Uint8ClampedArray(i.data));return re.encoder.encode(this.CryptoJS.AES.decrypt({ciphertext:m},this.encryptedKey,{iv:h,mode:this.CryptoJS.mode.CBC}).toString(this.CryptoJS.enc.Utf8)).buffer}decryptFileData(i){return d(this,void 0,void 0,(function*(){if(typeof i.data=="string")throw new Error("Decryption error: data for decryption should be ArrayBuffed.");const h=yield this.getKey();return crypto.subtle.decrypt({name:this.algo,iv:i.metadata},h,i.data)}))}get identifier(){return"ACRH"}get algo(){return"AES-CBC"}getIv(){return crypto.getRandomValues(new Uint8Array(re.BLOCK_SIZE))}getKey(){return d(this,void 0,void 0,(function*(){const i=re.encoder.encode(this.cipherKey),h=yield crypto.subtle.digest("SHA-256",i.buffer);return crypto.subtle.importKey("raw",h,this.algo,!0,["encrypt","decrypt"])}))}bufferToWordArray(i){const h=[];let m;for(m=0;m<i.length;m+=1)h[m/4|0]|=i[m]<<24-8*m;return this.CryptoJS.lib.WordArray.create(h,i.length)}toString(){return`AesCbcCryptor { cipherKey: ${this.cipherKey} }`}}function ve(O){const i=[];let h;for(h=0;h<O.length;h+=1)i[h/4|0]|=O[h]<<24-8*h;return Y.lib.WordArray.create(i,O.length)}re.BLOCK_SIZE=16,re.encoder=new TextEncoder,re.decoder=new TextDecoder;class _e{constructor(i){this.configuration=i,this.iv="0123456789012345",this.allowedKeyEncodings=["hex","utf8","base64","binary"],this.allowedKeyLengths=[128,256],this.allowedModes=["ecb","cbc"],this.logger=i.logger,this.defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}set logger(i){this._logger=i,this.logger&&this.logger.debug("Crypto",(()=>({messageType:"object",message:this.configuration,details:"Create with configuration:",ignoredKeys:(h,m)=>typeof m[h]=="function"||h==="logger"})))}get logger(){return this._logger}HMACSHA256(i){return Y.HmacSHA256(i,this.configuration.secretKey).toString(Y.enc.Base64)}SHA256(i){return Y.SHA256(i).toString(Y.enc.Hex)}encrypt(i,h,m){return this.configuration.customEncrypt?(this.logger&&this.logger.warn("Crypto","'customEncrypt' is deprecated. Consult docs for better alternative."),this.configuration.customEncrypt(i)):this.pnEncrypt(i,h,m)}decrypt(i,h,m){return this.configuration.customDecrypt?(this.logger&&this.logger.warn("Crypto","'customDecrypt' is deprecated. Consult docs for better alternative."),this.configuration.customDecrypt(i)):this.pnDecrypt(i,h,m)}pnEncrypt(i,h,m){const _=h??this.configuration.cipherKey;if(!_)return i;this.logger&&this.logger.debug("Crypto",(()=>({messageType:"object",message:Object.assign({data:i,cipherKey:_},m??{}),details:"Encrypt with parameters:"}))),m=this.parseOptions(m);const S=this.getMode(m),P=this.getPaddedKey(_,m);if(this.configuration.useRandomIVs){const U=this.getRandomIV(),F=Y.AES.encrypt(i,P,{iv:U,mode:S}).ciphertext;return U.clone().concat(F.clone()).toString(Y.enc.Base64)}const R=this.getIV(m);return Y.AES.encrypt(i,P,{iv:R,mode:S}).ciphertext.toString(Y.enc.Base64)||i}pnDecrypt(i,h,m){const _=h??this.configuration.cipherKey;if(!_)return i;this.logger&&this.logger.debug("Crypto",(()=>({messageType:"object",message:Object.assign({data:i,cipherKey:_},m??{}),details:"Decrypt with parameters:"}))),m=this.parseOptions(m);const S=this.getMode(m),P=this.getPaddedKey(_,m);if(this.configuration.useRandomIVs){const R=new Uint8ClampedArray(b(i)),U=ve(R.slice(0,16)),F=ve(R.slice(16));try{const ae=Y.AES.decrypt({ciphertext:F},P,{iv:U,mode:S}).toString(Y.enc.Utf8);return JSON.parse(ae)}catch(ae){return this.logger&&this.logger.error("Crypto",(()=>({messageType:"error",message:ae}))),null}}else{const R=this.getIV(m);try{const U=Y.enc.Base64.parse(i),F=Y.AES.decrypt({ciphertext:U},P,{iv:R,mode:S}).toString(Y.enc.Utf8);return JSON.parse(F)}catch(U){return this.logger&&this.logger.error("Crypto",(()=>({messageType:"error",message:U}))),null}}}parseOptions(i){var h,m,_,S;if(!i)return this.defaultOptions;const P={encryptKey:(h=i.encryptKey)!==null&&h!==void 0?h:this.defaultOptions.encryptKey,keyEncoding:(m=i.keyEncoding)!==null&&m!==void 0?m:this.defaultOptions.keyEncoding,keyLength:(_=i.keyLength)!==null&&_!==void 0?_:this.defaultOptions.keyLength,mode:(S=i.mode)!==null&&S!==void 0?S:this.defaultOptions.mode};return this.allowedKeyEncodings.indexOf(P.keyEncoding.toLowerCase())===-1&&(P.keyEncoding=this.defaultOptions.keyEncoding),this.allowedKeyLengths.indexOf(P.keyLength)===-1&&(P.keyLength=this.defaultOptions.keyLength),this.allowedModes.indexOf(P.mode.toLowerCase())===-1&&(P.mode=this.defaultOptions.mode),P}decodeKey(i,h){return h.keyEncoding==="base64"?Y.enc.Base64.parse(i):h.keyEncoding==="hex"?Y.enc.Hex.parse(i):i}getPaddedKey(i,h){return i=this.decodeKey(i,h),h.encryptKey?Y.enc.Utf8.parse(this.SHA256(i).slice(0,32)):i}getMode(i){return i.mode==="ecb"?Y.mode.ECB:Y.mode.CBC}getIV(i){return i.mode==="cbc"?Y.enc.Utf8.parse(this.iv):null}getRandomIV(){return Y.lib.WordArray.random(16)}}class ke{encrypt(i,h){return d(this,void 0,void 0,(function*(){if(!(h instanceof ArrayBuffer)&&typeof h!="string")throw new Error("Cannot encrypt this file. In browsers file encryption supports only string or ArrayBuffer");const m=yield this.getKey(i);return h instanceof ArrayBuffer?this.encryptArrayBuffer(m,h):this.encryptString(m,h)}))}encryptArrayBuffer(i,h){return d(this,void 0,void 0,(function*(){const m=crypto.getRandomValues(new Uint8Array(16));return this.concatArrayBuffer(m.buffer,yield crypto.subtle.encrypt({name:"AES-CBC",iv:m},i,h))}))}encryptString(i,h){return d(this,void 0,void 0,(function*(){const m=crypto.getRandomValues(new Uint8Array(16)),_=ke.encoder.encode(h).buffer,S=yield crypto.subtle.encrypt({name:"AES-CBC",iv:m},i,_),P=this.concatArrayBuffer(m.buffer,S);return ke.decoder.decode(P)}))}encryptFile(i,h,m){return d(this,void 0,void 0,(function*(){var _,S;if(((_=h.contentLength)!==null&&_!==void 0?_:0)<=0)throw new Error("encryption error. empty content");const P=yield this.getKey(i),R=yield h.toArrayBuffer(),U=yield this.encryptArrayBuffer(P,R);return m.create({name:h.name,mimeType:(S=h.mimeType)!==null&&S!==void 0?S:"application/octet-stream",data:U})}))}decrypt(i,h){return d(this,void 0,void 0,(function*(){if(!(h instanceof ArrayBuffer)&&typeof h!="string")throw new Error("Cannot decrypt this file. In browsers file decryption supports only string or ArrayBuffer");const m=yield this.getKey(i);return h instanceof ArrayBuffer?this.decryptArrayBuffer(m,h):this.decryptString(m,h)}))}decryptArrayBuffer(i,h){return d(this,void 0,void 0,(function*(){const m=h.slice(0,16);if(h.slice(ke.IV_LENGTH).byteLength<=0)throw new Error("decryption error: empty content");return yield crypto.subtle.decrypt({name:"AES-CBC",iv:m},i,h.slice(ke.IV_LENGTH))}))}decryptString(i,h){return d(this,void 0,void 0,(function*(){const m=ke.encoder.encode(h).buffer,_=m.slice(0,16),S=m.slice(16),P=yield crypto.subtle.decrypt({name:"AES-CBC",iv:_},i,S);return ke.decoder.decode(P)}))}decryptFile(i,h,m){return d(this,void 0,void 0,(function*(){const _=yield this.getKey(i),S=yield h.toArrayBuffer(),P=yield this.decryptArrayBuffer(_,S);return m.create({name:h.name,mimeType:h.mimeType,data:P})}))}getKey(i){return d(this,void 0,void 0,(function*(){const h=yield crypto.subtle.digest("SHA-256",ke.encoder.encode(i)),m=Array.from(new Uint8Array(h)).map((S=>S.toString(16).padStart(2,"0"))).join(""),_=ke.encoder.encode(m.slice(0,32)).buffer;return crypto.subtle.importKey("raw",_,"AES-CBC",!0,["encrypt","decrypt"])}))}concatArrayBuffer(i,h){const m=new Uint8Array(i.byteLength+h.byteLength);return m.set(new Uint8Array(i),0),m.set(new Uint8Array(h),i.byteLength),m.buffer}}ke.IV_LENGTH=16,ke.encoder=new TextEncoder,ke.decoder=new TextDecoder;class Re{constructor(i){this.config=i,this.cryptor=new _e(Object.assign({},i)),this.fileCryptor=new ke}set logger(i){this.cryptor.logger=i}encrypt(i){const h=typeof i=="string"?i:Re.decoder.decode(i);return{data:this.cryptor.encrypt(h),metadata:null}}encryptFile(i,h){return d(this,void 0,void 0,(function*(){var m;if(!this.config.cipherKey)throw new N("File encryption error: cipher key not set.");return this.fileCryptor.encryptFile((m=this.config)===null||m===void 0?void 0:m.cipherKey,i,h)}))}decrypt(i){const h=typeof i.data=="string"?i.data:x(i.data);return this.cryptor.decrypt(h)}decryptFile(i,h){return d(this,void 0,void 0,(function*(){if(!this.config.cipherKey)throw new N("File encryption error: cipher key not set.");return this.fileCryptor.decryptFile(this.config.cipherKey,i,h)}))}get identifier(){return""}toString(){return`AesCbcCryptor { ${Object.entries(this.config).reduce(((i,[h,m])=>(h==="logger"||i.push(`${h}: ${typeof m=="function"?"<function>":m}`),i)),[]).join(", ")} }`}}Re.encoder=new TextEncoder,Re.decoder=new TextDecoder;class Ee extends p{set logger(i){if(this.defaultCryptor.identifier===Ee.LEGACY_IDENTIFIER)this.defaultCryptor.logger=i;else{const h=this.cryptors.find((m=>m.identifier===Ee.LEGACY_IDENTIFIER));h&&(h.logger=i)}}static legacyCryptoModule(i){var h;if(!i.cipherKey)throw new N("Crypto module error: cipher key not set.");return new Ee({default:new Re(Object.assign(Object.assign({},i),{useRandomIVs:(h=i.useRandomIVs)===null||h===void 0||h})),cryptors:[new re({cipherKey:i.cipherKey})]})}static aesCbcCryptoModule(i){var h;if(!i.cipherKey)throw new N("Crypto module error: cipher key not set.");return new Ee({default:new re({cipherKey:i.cipherKey}),cryptors:[new Re(Object.assign(Object.assign({},i),{useRandomIVs:(h=i.useRandomIVs)===null||h===void 0||h}))]})}static withDefaultCryptor(i){return new this({default:i})}encrypt(i){const h=i instanceof ArrayBuffer&&this.defaultCryptor.identifier===Ee.LEGACY_IDENTIFIER?this.defaultCryptor.encrypt(Ee.decoder.decode(i)):this.defaultCryptor.encrypt(i);if(!h.metadata)return h.data;if(typeof h.data=="string")throw new Error("Encryption error: encrypted data should be ArrayBuffed.");const m=this.getHeaderData(h);return this.concatArrayBuffer(m,h.data)}encryptFile(i,h){return d(this,void 0,void 0,(function*(){if(this.defaultCryptor.identifier===he.LEGACY_IDENTIFIER)return this.defaultCryptor.encryptFile(i,h);const m=yield this.getFileData(i),_=yield this.defaultCryptor.encryptFileData(m);if(typeof _.data=="string")throw new Error("Encryption error: encrypted data should be ArrayBuffed.");return h.create({name:i.name,mimeType:"application/octet-stream",data:this.concatArrayBuffer(this.getHeaderData(_),_.data)})}))}decrypt(i){const h=typeof i=="string"?b(i):i,m=he.tryParse(h),_=this.getCryptor(m),S=m.length>0?h.slice(m.length-m.metadataLength,m.length):null;if(h.slice(m.length).byteLength<=0)throw new Error("Decryption error: empty content");return _.decrypt({data:h.slice(m.length),metadata:S})}decryptFile(i,h){return d(this,void 0,void 0,(function*(){const m=yield i.data.arrayBuffer(),_=he.tryParse(m),S=this.getCryptor(_);if(S?.identifier===he.LEGACY_IDENTIFIER)return S.decryptFile(i,h);const P=(yield this.getFileData(m)).slice(_.length-_.metadataLength,_.length);return h.create({name:i.name,data:yield this.defaultCryptor.decryptFileData({data:m.slice(_.length),metadata:P})})}))}getCryptorFromId(i){const h=this.getAllCryptors().find((m=>i===m.identifier));if(h)return h;throw Error("Unknown cryptor error")}getCryptor(i){if(typeof i=="string"){const h=this.getAllCryptors().find((m=>m.identifier===i));if(h)return h;throw new Error("Unknown cryptor error")}if(i instanceof ge)return this.getCryptorFromId(i.identifier)}getHeaderData(i){if(!i.metadata)return;const h=he.from(this.defaultCryptor.identifier,i.metadata),m=new Uint8Array(h.length);let _=0;return m.set(h.data,_),_+=h.length-i.metadata.byteLength,m.set(new Uint8Array(i.metadata),_),m.buffer}concatArrayBuffer(i,h){const m=new Uint8Array(i.byteLength+h.byteLength);return m.set(new Uint8Array(i),0),m.set(new Uint8Array(h),i.byteLength),m.buffer}getFileData(i){return d(this,void 0,void 0,(function*(){if(i instanceof ArrayBuffer)return i;if(i instanceof v)return i.toArrayBuffer();throw new Error("Cannot decrypt/encrypt file. In browsers file encrypt/decrypt supported for string, ArrayBuffer or Blob")}))}}Ee.LEGACY_IDENTIFIER="";class he{static from(i,h){if(i!==he.LEGACY_IDENTIFIER)return new ge(i,h.byteLength)}static tryParse(i){const h=new Uint8Array(i);let m,_,S=null;if(h.byteLength>=4&&(m=h.slice(0,4),this.decoder.decode(m)!==he.SENTINEL))return Ee.LEGACY_IDENTIFIER;if(!(h.byteLength>=5))throw new Error("Decryption error: invalid header version");if(S=h[4],S>he.MAX_VERSION)throw new Error("Decryption error: Unknown cryptor error");let P=5+he.IDENTIFIER_LENGTH;if(!(h.byteLength>=P))throw new Error("Decryption error: invalid crypto identifier");_=h.slice(5,P);let R=null;if(!(h.byteLength>=P+1))throw new Error("Decryption error: invalid metadata length");return R=h[P],P+=1,R===255&&h.byteLength>=P+2&&(R=new Uint16Array(h.slice(P,P+2)).reduce(((U,F)=>(U<<8)+F),0)),new ge(this.decoder.decode(_),R)}}he.SENTINEL="PNED",he.LEGACY_IDENTIFIER="",he.IDENTIFIER_LENGTH=4,he.VERSION=1,he.MAX_VERSION=1,he.decoder=new TextDecoder;class ge{constructor(i,h){this._identifier=i,this._metadataLength=h}get identifier(){return this._identifier}set identifier(i){this._identifier=i}get metadataLength(){return this._metadataLength}set metadataLength(i){this._metadataLength=i}get version(){return he.VERSION}get length(){return he.SENTINEL.length+1+he.IDENTIFIER_LENGTH+(this.metadataLength<255?1:3)+this.metadataLength}get data(){let i=0;const h=new Uint8Array(this.length),m=new TextEncoder;h.set(m.encode(he.SENTINEL)),i+=he.SENTINEL.length,h[i]=this.version,i++,this.identifier&&h.set(m.encode(this.identifier),i);const _=this.metadataLength;return i+=he.IDENTIFIER_LENGTH,_<255?h[i]=_:h.set([255,_>>8,255&_],i),h}}ge.IDENTIFIER_LENGTH=4,ge.SENTINEL="PNED";class me extends Error{static create(i,h){return me.isErrorObject(i)?me.createFromError(i):me.createFromServiceResponse(i,h)}static createFromError(i){let h=C.PNUnknownCategory,m="Unknown error",_="Error";if(!i)return new me(m,h,0);if(i instanceof me)return i;if(me.isErrorObject(i)&&(m=i.message,_=i.name),_==="AbortError"||m.indexOf("Aborted")!==-1)h=C.PNCancelledCategory,m="Request cancelled";else if(m.toLowerCase().indexOf("timeout")!==-1)h=C.PNTimeoutCategory,m="Request timeout";else if(m.toLowerCase().indexOf("network")!==-1)h=C.PNNetworkIssuesCategory,m="Network issues";else if(_==="TypeError")h=m.indexOf("Load failed")!==-1||m.indexOf("Failed to fetch")!=-1?C.PNNetworkIssuesCategory:C.PNBadRequestCategory;else if(_==="FetchError"){const S=i.code;["ECONNREFUSED","ENETUNREACH","ENOTFOUND","ECONNRESET","EAI_AGAIN"].includes(S)&&(h=C.PNNetworkIssuesCategory),S==="ECONNREFUSED"?m="Connection refused":S==="ENETUNREACH"?m="Network not reachable":S==="ENOTFOUND"?m="Server not found":S==="ECONNRESET"?m="Connection reset by peer":S==="EAI_AGAIN"?m="Name resolution error":S==="ETIMEDOUT"?(h=C.PNTimeoutCategory,m="Request timeout"):m=`Unknown system error: ${i}`}else m==="Request timeout"&&(h=C.PNTimeoutCategory);return new me(m,h,0,i)}static createFromServiceResponse(i,h){let m,_=C.PNUnknownCategory,S="Unknown error",{status:P}=i;if(h!=null||(h=i.body),P===402?S="Not available for used key set. Contact support@pubnub.com":P===400?(_=C.PNBadRequestCategory,S="Bad request"):P===403?(_=C.PNAccessDeniedCategory,S="Access denied"):P>=500&&(_=C.PNServerErrorCategory,S="Internal server error"),typeof i=="object"&&Object.keys(i).length===0&&(_=C.PNMalformedResponseCategory,S="Malformed response (network issues)",P=400),h&&h.byteLength>0){const R=new TextDecoder().decode(h);if(i.headers["content-type"].indexOf("text/javascript")!==-1||i.headers["content-type"].indexOf("application/json")!==-1)try{const U=JSON.parse(R);typeof U=="object"&&(Array.isArray(U)?typeof U[0]=="number"&&U[0]===0&&U.length>1&&typeof U[1]=="string"&&(m=U[1]):("error"in U&&(U.error===1||U.error===!0)&&"status"in U&&typeof U.status=="number"&&"message"in U&&"service"in U?(m=U,P=U.status):m=U,"error"in U&&U.error instanceof Error&&(m=U.error)))}catch{m=R}else if(i.headers["content-type"].indexOf("xml")!==-1){const U=/<Message>(.*)<\/Message>/gi.exec(R);S=U?`Upload to bucket failed: ${U[1]}`:"Upload to bucket failed."}else m=R}return new me(S,_,P,m)}constructor(i,h,m,_){super(i),this.category=h,this.statusCode=m,this.errorData=_,this.name="PubNubAPIError"}toStatus(i){return{error:!0,category:this.category,operation:i,statusCode:this.statusCode,errorData:this.errorData,toJSON:function(){let h;const m=this.errorData;if(m)try{if(typeof m=="object"){const S=Object.assign(Object.assign(Object.assign(Object.assign({},"name"in m?{name:m.name}:{}),"message"in m?{message:m.message}:{}),"stack"in m?{stack:m.stack}:{}),m);h=JSON.parse(JSON.stringify(S,me.circularReplacer()))}else h=m}catch{h={error:"Could not serialize the error object"}}const _=c(this,["toJSON"]);return JSON.stringify(Object.assign(Object.assign({},_),{errorData:h}))}}}toPubNubError(i,h){return new N(h??this.message,this.toStatus(i))}static circularReplacer(){const i=new WeakSet;return function(h,m){if(typeof m=="object"&&m!==null){if(i.has(m))return"[Circular]";i.add(m)}return m}}static isErrorObject(i){return!(!i||typeof i!="object")&&(i instanceof Error||"name"in i&&"message"in i&&typeof i.name=="string"&&typeof i.message=="string"||Object.prototype.toString.call(i)==="[object Error]")}}(function(O){O.PNPublishOperation="PNPublishOperation",O.PNSignalOperation="PNSignalOperation",O.PNSubscribeOperation="PNSubscribeOperation",O.PNUnsubscribeOperation="PNUnsubscribeOperation",O.PNWhereNowOperation="PNWhereNowOperation",O.PNHereNowOperation="PNHereNowOperation",O.PNGlobalHereNowOperation="PNGlobalHereNowOperation",O.PNSetStateOperation="PNSetStateOperation",O.PNGetStateOperation="PNGetStateOperation",O.PNHeartbeatOperation="PNHeartbeatOperation",O.PNAddMessageActionOperation="PNAddActionOperation",O.PNRemoveMessageActionOperation="PNRemoveMessageActionOperation",O.PNGetMessageActionsOperation="PNGetMessageActionsOperation",O.PNTimeOperation="PNTimeOperation",O.PNHistoryOperation="PNHistoryOperation",O.PNDeleteMessagesOperation="PNDeleteMessagesOperation",O.PNFetchMessagesOperation="PNFetchMessagesOperation",O.PNMessageCounts="PNMessageCountsOperation",O.PNGetAllUUIDMetadataOperation="PNGetAllUUIDMetadataOperation",O.PNGetUUIDMetadataOperation="PNGetUUIDMetadataOperation",O.PNSetUUIDMetadataOperation="PNSetUUIDMetadataOperation",O.PNRemoveUUIDMetadataOperation="PNRemoveUUIDMetadataOperation",O.PNGetAllChannelMetadataOperation="PNGetAllChannelMetadataOperation",O.PNGetChannelMetadataOperation="PNGetChannelMetadataOperation",O.PNSetChannelMetadataOperation="PNSetChannelMetadataOperation",O.PNRemoveChannelMetadataOperation="PNRemoveChannelMetadataOperation",O.PNGetMembersOperation="PNGetMembersOperation",O.PNSetMembersOperation="PNSetMembersOperation",O.PNGetMembershipsOperation="PNGetMembershipsOperation",O.PNSetMembershipsOperation="PNSetMembershipsOperation",O.PNListFilesOperation="PNListFilesOperation",O.PNGenerateUploadUrlOperation="PNGenerateUploadUrlOperation",O.PNPublishFileOperation="PNPublishFileOperation",O.PNPublishFileMessageOperation="PNPublishFileMessageOperation",O.PNGetFileUrlOperation="PNGetFileUrlOperation",O.PNDownloadFileOperation="PNDownloadFileOperation",O.PNDeleteFileOperation="PNDeleteFileOperation",O.PNAddPushNotificationEnabledChannelsOperation="PNAddPushNotificationEnabledChannelsOperation",O.PNRemovePushNotificationEnabledChannelsOperation="PNRemovePushNotificationEnabledChannelsOperation",O.PNPushNotificationEnabledChannelsOperation="PNPushNotificationEnabledChannelsOperation",O.PNRemoveAllPushNotificationsOperation="PNRemoveAllPushNotificationsOperation",O.PNChannelGroupsOperation="PNChannelGroupsOperation",O.PNRemoveGroupOperation="PNRemoveGroupOperation",O.PNChannelsForGroupOperation="PNChannelsForGroupOperation",O.PNAddChannelsToGroupOperation="PNAddChannelsToGroupOperation",O.PNRemoveChannelsFromGroupOperation="PNRemoveChannelsFromGroupOperation",O.PNAccessManagerGrant="PNAccessManagerGrant",O.PNAccessManagerGrantToken="PNAccessManagerGrantToken",O.PNAccessManagerAudit="PNAccessManagerAudit",O.PNAccessManagerRevokeToken="PNAccessManagerRevokeToken",O.PNHandshakeOperation="PNHandshakeOperation",O.PNReceiveMessagesOperation="PNReceiveMessagesOperation"})(H||(H={}));var V=H;class Ne{constructor(i){this.configuration=i,this.subscriptionWorkerReady=!1,this.accessTokensMap={},this.workerEventsQueue=[],this.callbacks=new Map,this.setupSubscriptionWorker()}set emitStatus(i){this._emitStatus=i}onUserIdChange(i){this.configuration.userId=i,this.scheduleEventPost({type:"client-update",heartbeatInterval:this.configuration.heartbeatInterval,clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,userId:this.configuration.userId,workerLogLevel:this.configuration.workerLogLevel})}onPresenceStateChange(i){this.scheduleEventPost({type:"client-presence-state-update",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,workerLogLevel:this.configuration.workerLogLevel,state:i})}onHeartbeatIntervalChange(i){this.configuration.heartbeatInterval=i,this.scheduleEventPost({type:"client-update",heartbeatInterval:this.configuration.heartbeatInterval,clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,userId:this.configuration.userId,workerLogLevel:this.configuration.workerLogLevel})}onTokenChange(i){const h={type:"client-update",heartbeatInterval:this.configuration.heartbeatInterval,clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,userId:this.configuration.userId,workerLogLevel:this.configuration.workerLogLevel};this.parsedAccessToken(i).then((m=>{h.preProcessedToken=m,h.accessToken=i})).then((()=>this.scheduleEventPost(h)))}disconnect(){this.scheduleEventPost({type:"client-disconnect",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,workerLogLevel:this.configuration.workerLogLevel})}terminate(){this.scheduleEventPost({type:"client-unregister",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,workerLogLevel:this.configuration.workerLogLevel})}makeSendable(i){if(!i.path.startsWith("/v2/subscribe")&&!i.path.endsWith("/heartbeat")&&!i.path.endsWith("/leave"))return this.configuration.transport.makeSendable(i);let h;this.configuration.logger.debug("SubscriptionWorkerMiddleware","Process request with SharedWorker transport.");const m={type:"send-request",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,request:i,workerLogLevel:this.configuration.workerLogLevel};return i.cancellable&&(h={abort:()=>{const _={type:"cancel-request",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,identifier:i.identifier,workerLogLevel:this.configuration.workerLogLevel};this.scheduleEventPost(_)}}),[new Promise(((_,S)=>{this.callbacks.set(i.identifier,{resolve:_,reject:S}),this.parsedAccessTokenForRequest(i).then((P=>m.preProcessedToken=P)).then((()=>this.scheduleEventPost(m)))})),h]}request(i){return i}scheduleEventPost(i,h=!1){const m=this.sharedSubscriptionWorker;m?m.port.postMessage(i):h?this.workerEventsQueue.splice(0,0,i):this.workerEventsQueue.push(i)}flushScheduledEvents(){const i=this.sharedSubscriptionWorker;if(!i||this.workerEventsQueue.length===0)return;const h=[];for(let m=0;m<this.workerEventsQueue.length;m++){const _=this.workerEventsQueue[m];if(_.type==="cancel-request"&&m!==0)for(let S=0;S<m;S++){const P=this.workerEventsQueue[S];if(P.type==="send-request"&&P.request.identifier===_.identifier){h.push(_,P);break}}}this.workerEventsQueue=this.workerEventsQueue.filter((m=>!h.includes(m))),this.workerEventsQueue.forEach((m=>i.port.postMessage(m))),this.workerEventsQueue=[]}get sharedSubscriptionWorker(){return this.subscriptionWorkerReady?this.subscriptionWorker:null}setupSubscriptionWorker(){if(typeof SharedWorker<"u"){try{this.subscriptionWorker=new SharedWorker(this.configuration.workerUrl,`/pubnub-${this.configuration.sdkVersion}`)}catch(i){throw this.configuration.logger.error("SubscriptionWorkerMiddleware",(()=>({messageType:"error",message:i}))),i}this.subscriptionWorker.port.start(),this.scheduleEventPost({type:"client-register",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,userId:this.configuration.userId,heartbeatInterval:this.configuration.heartbeatInterval,workerOfflineClientsCheckInterval:this.configuration.workerOfflineClientsCheckInterval,workerUnsubscribeOfflineClients:this.configuration.workerUnsubscribeOfflineClients,workerLogLevel:this.configuration.workerLogLevel},!0),this.subscriptionWorker.port.onmessage=i=>this.handleWorkerEvent(i),this.shouldAnnounceNewerSharedWorkerVersionAvailability()&&localStorage.setItem("PNSubscriptionSharedWorkerVersion",this.configuration.sdkVersion),window.addEventListener("storage",(i=>{i.key==="PNSubscriptionSharedWorkerVersion"&&i.newValue&&this._emitStatus&&this.isNewerSharedWorkerVersion(i.newValue)&&this._emitStatus({error:!1,category:C.PNSharedWorkerUpdatedCategory})}))}}handleWorkerEvent(i){const{data:h}=i;if(h.type==="shared-worker-ping"||h.type==="shared-worker-connected"||h.type==="shared-worker-console-log"||h.type==="shared-worker-console-dir"||h.clientIdentifier===this.configuration.clientIdentifier){if(h.type==="shared-worker-connected")this.configuration.logger.trace("SharedWorker","Ready for events processing."),this.subscriptionWorkerReady=!0,this.flushScheduledEvents();else if(h.type==="shared-worker-console-log")this.configuration.logger.debug("SharedWorker",(()=>typeof h.message=="string"||typeof h.message=="number"||typeof h.message=="boolean"?{messageType:"text",message:h.message}:h.message));else if(h.type==="shared-worker-console-dir")this.configuration.logger.debug("SharedWorker",(()=>({messageType:"object",message:h.data,details:h.message?h.message:void 0})));else if(h.type==="shared-worker-ping"){const{subscriptionKey:m,clientIdentifier:_}=this.configuration;this.scheduleEventPost({type:"client-pong",subscriptionKey:m,clientIdentifier:_,workerLogLevel:this.configuration.workerLogLevel})}else if(h.type==="request-process-success"||h.type==="request-process-error")if(this.callbacks.has(h.identifier)){const{resolve:m,reject:_}=this.callbacks.get(h.identifier);this.callbacks.delete(h.identifier),h.type==="request-process-success"?m({status:h.response.status,url:h.url,headers:h.response.headers,body:h.response.body}):_(this.errorFromRequestSendingError(h))}else this._emitStatus&&h.url.indexOf("/v2/presence")>=0&&h.url.indexOf("/heartbeat")>=0&&(h.type==="request-process-success"&&this.configuration.announceSuccessfulHeartbeats?this._emitStatus({statusCode:h.response.status,error:!1,operation:V.PNHeartbeatOperation,category:C.PNAcknowledgmentCategory}):h.type==="request-process-error"&&this.configuration.announceFailedHeartbeats&&this._emitStatus(this.errorFromRequestSendingError(h).toStatus(V.PNHeartbeatOperation)))}}parsedAccessTokenForRequest(i){return d(this,void 0,void 0,(function*(){var h;return this.parsedAccessToken(i.queryParameters?(h=i.queryParameters.auth)!==null&&h!==void 0?h:"":void 0)}))}parsedAccessToken(i){return d(this,void 0,void 0,(function*(){if(i)return this.accessTokensMap[i]?this.accessTokensMap[i]:this.stringifyAccessToken(i).then((([h,m])=>{if(h&&m)return(this.accessTokensMap={[i]:{token:m,expiration:h.timestamp+60*h.ttl}})[i]}))}))}stringifyAccessToken(i){return d(this,void 0,void 0,(function*(){if(!this.configuration.tokenManager)return[void 0,void 0];const h=this.configuration.tokenManager.parseToken(i);if(!h)return[void 0,void 0];const m=S=>S?Object.entries(S).sort((([P],[R])=>P.localeCompare(R))).map((([P,R])=>Object.entries(R||{}).sort((([U],[F])=>U.localeCompare(F))).map((([U,F])=>{return`${P}:${U}=${F?(ae=F,Object.entries(ae).filter((([ne,te])=>te)).map((([ne])=>ne[0])).sort().join("")):""}`;var ae})).join(","))).join(";"):"";let _=[m(h.resources),m(h.patterns),h.authorized_uuid].filter(Boolean).join("|");if(typeof crypto<"u"&&crypto.subtle){const S=yield crypto.subtle.digest("SHA-256",new TextEncoder().encode(_));_=String.fromCharCode(...Array.from(new Uint8Array(S)))}return[h,typeof btoa<"u"?btoa(_):_]}))}errorFromRequestSendingError(i){let h=C.PNUnknownCategory,m="Unknown error";if(i.error)i.error.type==="NETWORK_ISSUE"?h=C.PNNetworkIssuesCategory:i.error.type==="TIMEOUT"?h=C.PNTimeoutCategory:i.error.type==="ABORTED"&&(h=C.PNCancelledCategory),m=`${i.error.message} (${i.identifier})`;else if(i.response){const{url:_,response:S}=i;return me.create({url:_,headers:S.headers,body:S.body,status:S.status},S.body)}return new me(m,h,0,new Error(m))}shouldAnnounceNewerSharedWorkerVersionAvailability(){const i=localStorage.getItem("PNSubscriptionSharedWorkerVersion");return!i||!this.isNewerSharedWorkerVersion(i)}isNewerSharedWorkerVersion(i){const[h,m,_]=this.configuration.sdkVersion.split(".").map(Number),[S,P,R]=i.split(".").map(Number);return S>h||P>m||R>_}}function De(O,i=0){const h=S=>typeof S=="object"&&S!==null&&S.constructor===Object,m=S=>typeof S=="number"&&isFinite(S);if(!h(O))return O;const _={};return Object.keys(O).forEach((S=>{const P=(F=>typeof F=="string"||F instanceof String)(S);let R=S;const U=O[S];i<2&&(P&&S.indexOf(",")>=0?R=S.split(",").map(Number).reduce(((F,ae)=>F+String.fromCharCode(ae)),""):(m(S)||P&&!isNaN(Number(S)))&&(R=String.fromCharCode(m(S)?S:parseInt(S,10)))),_[R]=h(U)?De(U,i+1):U})),_}const ie=O=>{var i,h,m,_,S,P;return O.subscriptionWorkerUrl&&typeof SharedWorker>"u"&&(O.subscriptionWorkerUrl=null),Object.assign(Object.assign({},(R=>{var U,F,ae,ne,te,ye,se,ce,de,Te,nt,bt,It,Ge,Je;const Oe=Object.assign({},R);if((U=Oe.ssl)!==null&&U!==void 0||(Oe.ssl=!0),(F=Oe.transactionalRequestTimeout)!==null&&F!==void 0||(Oe.transactionalRequestTimeout=15),(ae=Oe.subscribeRequestTimeout)!==null&&ae!==void 0||(Oe.subscribeRequestTimeout=310),(ne=Oe.fileRequestTimeout)!==null&&ne!==void 0||(Oe.fileRequestTimeout=300),(te=Oe.restore)!==null&&te!==void 0||(Oe.restore=!1),(ye=Oe.useInstanceId)!==null&&ye!==void 0||(Oe.useInstanceId=!1),(se=Oe.suppressLeaveEvents)!==null&&se!==void 0||(Oe.suppressLeaveEvents=!1),(ce=Oe.requestMessageCountThreshold)!==null&&ce!==void 0||(Oe.requestMessageCountThreshold=100),(de=Oe.autoNetworkDetection)!==null&&de!==void 0||(Oe.autoNetworkDetection=!1),(Te=Oe.enableEventEngine)!==null&&Te!==void 0||(Oe.enableEventEngine=!1),(nt=Oe.maintainPresenceState)!==null&&nt!==void 0||(Oe.maintainPresenceState=!0),(bt=Oe.useSmartHeartbeat)!==null&&bt!==void 0||(Oe.useSmartHeartbeat=!1),(It=Oe.keepAlive)!==null&&It!==void 0||(Oe.keepAlive=!1),Oe.userId&&Oe.uuid)throw new N("PubNub client configuration error: use only 'userId'");if((Ge=Oe.userId)!==null&&Ge!==void 0||(Oe.userId=Oe.uuid),!Oe.userId)throw new N("PubNub client configuration error: 'userId' not set");if(((Je=Oe.userId)===null||Je===void 0?void 0:Je.trim().length)===0)throw new N("PubNub client configuration error: 'userId' is empty");Oe.origin||(Oe.origin=Array.from({length:20},((Ye,He)=>`ps${He+1}.pndsn.com`)));const Le={subscribeKey:Oe.subscribeKey,publishKey:Oe.publishKey,secretKey:Oe.secretKey};Oe.presenceTimeout!==void 0&&(Oe.presenceTimeout>320?(Oe.presenceTimeout=320,console.warn("WARNING: Presence timeout is larger than the maximum. Using maximum value: ",320)):Oe.presenceTimeout<=0&&(console.warn("WARNING: Presence timeout should be larger than zero."),delete Oe.presenceTimeout)),Oe.presenceTimeout!==void 0?Oe.heartbeatInterval=Oe.presenceTimeout/2-1:Oe.presenceTimeout=300;let Ve=!1,$t=!0,Tt=5,Rt=!1,jn=100,Me=!0;return Oe.dedupeOnSubscribe!==void 0&&typeof Oe.dedupeOnSubscribe=="boolean"&&(Rt=Oe.dedupeOnSubscribe),Oe.maximumCacheSize!==void 0&&typeof Oe.maximumCacheSize=="number"&&(jn=Oe.maximumCacheSize),Oe.useRequestId!==void 0&&typeof Oe.useRequestId=="boolean"&&(Me=Oe.useRequestId),Oe.announceSuccessfulHeartbeats!==void 0&&typeof Oe.announceSuccessfulHeartbeats=="boolean"&&(Ve=Oe.announceSuccessfulHeartbeats),Oe.announceFailedHeartbeats!==void 0&&typeof Oe.announceFailedHeartbeats=="boolean"&&($t=Oe.announceFailedHeartbeats),Oe.fileUploadPublishRetryLimit!==void 0&&typeof Oe.fileUploadPublishRetryLimit=="number"&&(Tt=Oe.fileUploadPublishRetryLimit),Object.assign(Object.assign({},Oe),{keySet:Le,dedupeOnSubscribe:Rt,maximumCacheSize:jn,useRequestId:Me,announceSuccessfulHeartbeats:Ve,announceFailedHeartbeats:$t,fileUploadPublishRetryLimit:Tt})})(O)),{listenToBrowserNetworkEvents:(i=O.listenToBrowserNetworkEvents)===null||i===void 0||i,subscriptionWorkerUrl:O.subscriptionWorkerUrl,subscriptionWorkerOfflineClientsCheckInterval:(h=O.subscriptionWorkerOfflineClientsCheckInterval)!==null&&h!==void 0?h:10,subscriptionWorkerUnsubscribeOfflineClients:(m=O.subscriptionWorkerUnsubscribeOfflineClients)!==null&&m!==void 0&&m,subscriptionWorkerLogVerbosity:(_=O.subscriptionWorkerLogVerbosity)!==null&&_!==void 0&&_,transport:(S=O.transport)!==null&&S!==void 0?S:"fetch",keepAlive:(P=O.keepAlive)===null||P===void 0||P})};var Ce;(function(O){O[O.Trace=0]="Trace",O[O.Debug=1]="Debug",O[O.Info=2]="Info",O[O.Warn=3]="Warn",O[O.Error=4]="Error",O[O.None=5]="None"})(Ce||(Ce={}));const Ue=O=>encodeURIComponent(O).replace(/[!~*'()]/g,(i=>`%${i.charCodeAt(0).toString(16).toUpperCase()}`)),Qe=(O,i)=>{const h=O.map((m=>Ue(m)));return h.length?h.join(","):i??""},rt=(O,i)=>{const h=Object.fromEntries(i.map((m=>[m,!1])));return O.filter((m=>!(i.includes(m)&&!h[m])||(h[m]=!0,!1)))},ht=(O,i)=>[...O].filter((h=>i.includes(h)&&O.indexOf(h)===O.lastIndexOf(h)&&i.indexOf(h)===i.lastIndexOf(h))),Nt=O=>Object.keys(O).map((i=>{const h=O[i];return Array.isArray(h)?h.map((m=>`${i}=${Ue(m)}`)).join("&"):`${i}=${Ue(h)}`})).join("&"),pt=(O,i)=>{if(i==="0"||O==="0")return;const h=qt(`${Date.now()}0000`,i,!1);return qt(O,h,!0)},xt=(O,i,h)=>{if(O&&O.length!==0){if(i&&i.length>0&&i!=="0"){const m=qt(O,i,!1);return qt(h??`${Date.now()}0000`,m.replace("-",""),Number(m)<0)}return h&&h.length>0&&h!=="0"?h:`${Date.now()}0000`}},qt=(O,i,h)=>{i.startsWith("-")&&(i=i.replace("-",""),h=!1),i=i.padStart(17,"0");const m=O.slice(0,10),_=O.slice(10,17),S=i.slice(0,10),P=i.slice(10,17);let R=Number(m),U=Number(_);return R+=Number(S)*(h?1:-1),U+=Number(P)*(h?1:-1),U>=1e7?(R+=Math.floor(U/1e7),U%=1e7):U<0?R>0?(R-=1,U+=1e7):R<0&&(U*=-1):R<0&&U>0&&(R+=1,U=1e7-U),R!==0?`${R}${`${U}`.padStart(7,"0")}`:`${U}`},Dn=O=>{const i=typeof O!="string"?JSON.stringify(O):O,h=new Uint32Array(1);let m=0,_=i.length;for(;_-- >0;)h[0]=(h[0]<<5)-h[0]+i.charCodeAt(m++);return h[0].toString(16).padStart(8,"0")};class or{debug(i){this.log(i)}error(i){this.log(i)}info(i){this.log(i)}trace(i){this.log(i)}warn(i){this.log(i)}toString(){return"ConsoleLogger {}"}log(i){const h=Ce[i.level],m=h.toLowerCase();console[m==="trace"?"debug":m](`${i.timestamp.toISOString()} PubNub-${i.pubNubId} ${h.padEnd(5," ")}${i.location?` ${i.location}`:""} ${this.logMessage(i)}`)}logMessage(i){if(i.messageType==="text")return i.message;if(i.messageType==="object")return`${i.details?`${i.details}
`:""}${this.formattedObject(i)}`;if(i.messageType==="network-request"){const h=!!i.canceled||!!i.failed,m=i.minimumLevel!==Ce.Trace||h?void 0:this.formattedHeaders(i),_=i.message,S=_.queryParameters&&Object.keys(_.queryParameters).length>0?Nt(_.queryParameters):void 0,P=`${_.origin}${_.path}${S?`?${S}`:""}`,R=h?void 0:this.formattedBody(i);let U="Sending";h&&(U=`${i.canceled?"Canceled":"Failed"}${i.details?` (${i.details})`:""}`);const F=(R?.formData?"FormData":"Method").length;return`${U} HTTP request:
  ${this.paddedString("Method",F)}: ${_.method}
  ${this.paddedString("URL",F)}: ${P}${m?`
  ${this.paddedString("Headers",F)}:
${m}`:""}${R?.formData?`
  ${this.paddedString("FormData",F)}:
${R.formData}`:""}${R?.body?`
  ${this.paddedString("Body",F)}:
${R.body}`:""}`}if(i.messageType==="network-response"){const h=i.minimumLevel===Ce.Trace?this.formattedHeaders(i):void 0,m=this.formattedBody(i),_=(m?.formData?"Headers":"Status").length,S=i.message;return`Received HTTP response:
  ${this.paddedString("URL",_)}: ${S.url}
  ${this.paddedString("Status",_)}: ${S.status}${h?`
  ${this.paddedString("Headers",_)}:
${h}`:""}${m?.body?`
  ${this.paddedString("Body",_)}:
${m.body}`:""}`}if(i.messageType==="error"){const h=this.formattedErrorStatus(i),m=i.message;return`${m.name}: ${m.message}${h?`
${h}`:""}`}return"<unknown log message data>"}formattedObject(i){const h=(m,_=1,S=!1)=>{const P=_===10,R=" ".repeat(2*_),U=[],F=(ae,ne)=>!!i.ignoredKeys&&(typeof i.ignoredKeys=="function"?i.ignoredKeys(ae,ne):i.ignoredKeys.includes(ae));if(typeof m=="string")U.push(`${R}- ${m}`);else if(typeof m=="number")U.push(`${R}- ${m}`);else if(typeof m=="boolean")U.push(`${R}- ${m}`);else if(m===null)U.push(`${R}- null`);else if(m===void 0)U.push(`${R}- undefined`);else if(typeof m=="function")U.push(`${R}- <function>`);else if(typeof m=="object")if(Array.isArray(m)||typeof m.toString!="function"||m.toString().indexOf("[object")===0)if(Array.isArray(m))for(const ae of m){const ne=S?"":R;if(ae===null)U.push(`${ne}- null`);else if(ae===void 0)U.push(`${ne}- undefined`);else if(typeof ae=="function")U.push(`${ne}- <function>`);else if(typeof ae=="object"){const te=Array.isArray(ae),ye=P?"...":h(ae,_+1,!te);U.push(`${ne}-${te&&!P?`
`:" "}${ye}`)}else U.push(`${ne}- ${ae}`);S=!1}else{const ae=m,ne=Object.keys(ae),te=ne.reduce(((ye,se)=>Math.max(ye,F(se,ae)?ye:se.length)),0);for(const ye of ne){if(F(ye,ae))continue;const se=S?"":R,ce=ae[ye],de=ye.padEnd(te," ");if(ce===null)U.push(`${se}${de}: null`);else if(ce===void 0)U.push(`${se}${de}: undefined`);else if(typeof ce=="function")U.push(`${se}${de}: <function>`);else if(typeof ce=="object"){const Te=Array.isArray(ce),nt=Te&&ce.length===0,bt=!(Te||ce instanceof String||Object.keys(ce).length!==0),It=!Te&&typeof ce.toString=="function"&&ce.toString().indexOf("[object")!==0,Ge=P?"...":nt?"[]":bt?"{}":h(ce,_+1,It);U.push(`${se}${de}:${P||It||nt||bt?" ":`
`}${Ge}`)}else U.push(`${se}${de}: ${ce}`);S=!1}}else U.push(`${S?"":R}${m.toString()}`),S=!1;return U.join(`
`)};return h(i.message)}formattedHeaders(i){if(!i.message.headers)return;const h=i.message.headers,m=Object.keys(h).reduce(((_,S)=>Math.max(_,S.length)),0);return Object.keys(h).map((_=>`    - ${_.toLowerCase().padEnd(m," ")}: ${h[_]}`)).join(`
`)}formattedBody(i){var h;if(!i.message.headers)return;let m,_;const S=i.message.headers,P=(h=S["content-type"])!==null&&h!==void 0?h:S["Content-Type"],R="formData"in i.message?i.message.formData:void 0,U=i.message.body;if(R){const F=R.reduce(((ae,{key:ne})=>Math.max(ae,ne.length)),0);m=R.map((({key:ae,value:ne})=>`    - ${ae.padEnd(F," ")}: ${ne}`)).join(`
`)}return U?(_=typeof U=="string"?`    ${U}`:U instanceof ArrayBuffer||Object.prototype.toString.call(U)==="[object ArrayBuffer]"?!P||P.indexOf("javascript")===-1&&P.indexOf("json")===-1?`    ArrayBuffer { byteLength: ${U.byteLength} }`:`    ${or.decoder.decode(U)}`:`    File { name: ${U.name}${U.contentLength?`, contentLength: ${U.contentLength}`:""}${U.mimeType?`, mimeType: ${U.mimeType}`:""} }`,{body:_,formData:m}):{formData:m}}formattedErrorStatus(i){if(!i.message.status)return;const h=i.message.status,m=h.errorData;let _;if(or.isError(m))_=`    ${m.name}: ${m.message}`,m.stack&&(_+=`
${m.stack.split(`
`).map((S=>`      ${S}`)).join(`
`)}`);else if(m)try{_=`    ${JSON.stringify(m)}`}catch{_=`    ${m}`}return`  Category  : ${h.category}
  Operation : ${h.operation}
  Status    : ${h.statusCode}${_?`
  Error data:
${_}`:""}`}paddedString(i,h){return i.padEnd(h-i.length," ")}static isError(i){return!!i&&(i instanceof Error||Object.prototype.toString.call(i)==="[object Error]")}}var Gt;or.decoder=new TextDecoder,(function(O){O.Unknown="UnknownEndpoint",O.MessageSend="MessageSendEndpoint",O.Subscribe="SubscribeEndpoint",O.Presence="PresenceEndpoint",O.Files="FilesEndpoint",O.MessageStorage="MessageStorageEndpoint",O.ChannelGroups="ChannelGroupsEndpoint",O.DevicePushNotifications="DevicePushNotificationsEndpoint",O.AppContext="AppContextEndpoint",O.MessageReactions="MessageReactionsEndpoint"})(Gt||(Gt={}));class Vn{static None(){return{shouldRetry:(i,h,m,_)=>!1,getDelay:(i,h)=>-1,validate:()=>!0}}static LinearRetryPolicy(i){var h;return{delay:i.delay,maximumRetry:i.maximumRetry,excluded:(h=i.excluded)!==null&&h!==void 0?h:[],shouldRetry(m,_,S,P){return mi(m,_,S,P??0,this.maximumRetry,this.excluded)},getDelay(m,_){let S=-1;return _&&_.headers["retry-after"]!==void 0&&(S=parseInt(_.headers["retry-after"],10)),S===-1&&(S=this.delay),1e3*(S+Math.random())},validate(){if(this.delay<2)throw new Error("Delay can not be set less than 2 seconds for retry");if(this.maximumRetry>10)throw new Error("Maximum retry for linear retry policy can not be more than 10")}}}static ExponentialRetryPolicy(i){var h;return{minimumDelay:i.minimumDelay,maximumDelay:i.maximumDelay,maximumRetry:i.maximumRetry,excluded:(h=i.excluded)!==null&&h!==void 0?h:[],shouldRetry(m,_,S,P){return mi(m,_,S,P??0,this.maximumRetry,this.excluded)},getDelay(m,_){let S=-1;return _&&_.headers["retry-after"]!==void 0&&(S=parseInt(_.headers["retry-after"],10)),S===-1&&(S=Math.min(Math.pow(2,m),this.maximumDelay)),1e3*(S+Math.random())},validate(){if(this.minimumDelay<2)throw new Error("Minimum delay can not be set less than 2 seconds for retry");if(this.maximumDelay>150)throw new Error("Maximum delay can not be set more than 150 seconds for retry");if(this.maximumRetry>6)throw new Error("Maximum retry for exponential retry policy can not be more than 6")}}}}const mi=(O,i,h,m,_,S)=>(!h||h!==C.PNCancelledCategory&&h!==C.PNBadRequestCategory&&h!==C.PNAccessDeniedCategory)&&!tl(O,S)&&!(m>_)&&(!i||i.status===429||i.status>=500),tl=(O,i)=>!!(i&&i.length>0)&&i.includes(Rr(O)),Rr=O=>{let i=Gt.Unknown;return O.path.startsWith("/v2/subscribe")?i=Gt.Subscribe:O.path.startsWith("/publish/")||O.path.startsWith("/signal/")?i=Gt.MessageSend:O.path.startsWith("/v2/presence")?i=Gt.Presence:O.path.startsWith("/v2/history")||O.path.startsWith("/v3/history")?i=Gt.MessageStorage:O.path.startsWith("/v1/message-actions/")?i=Gt.MessageReactions:O.path.startsWith("/v1/channel-registration/")||O.path.startsWith("/v2/objects/")?i=Gt.ChannelGroups:O.path.startsWith("/v1/push/")||O.path.startsWith("/v2/push/")?i=Gt.DevicePushNotifications:O.path.startsWith("/v1/files/")&&(i=Gt.Files),i};class nl{constructor(i,h,m){this.previousEntryTimestamp=0,this.pubNubId=i,this.minLogLevel=h,this.loggers=m}get logLevel(){return this.minLogLevel}trace(i,h){this.log(Ce.Trace,i,h)}debug(i,h){this.log(Ce.Debug,i,h)}info(i,h){this.log(Ce.Info,i,h)}warn(i,h){this.log(Ce.Warn,i,h)}error(i,h){this.log(Ce.Error,i,h)}log(i,h,m){if(i<this.minLogLevel||this.loggers.length===0)return;const _=new Date;_.getTime()<=this.previousEntryTimestamp?(this.previousEntryTimestamp++,_.setTime(this.previousEntryTimestamp)):this.previousEntryTimestamp=_.getTime();const S=Ce[i].toLowerCase(),P=Object.assign({timestamp:_,pubNubId:this.pubNubId,level:i,minimumLevel:this.minLogLevel,location:h},typeof m=="function"?m():{messageType:"text",message:m});this.loggers.forEach((R=>R[S](P)))}}var ba={exports:{}};(function(O,i){(function(h){var m="0.1.0",_={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function S(){var R,U,F="";for(R=0;R<32;R++)U=16*Math.random()|0,R!==8&&R!==12&&R!==16&&R!==20||(F+="-"),F+=(R===12?4:R===16?3&U|8:U).toString(16);return F}function P(R,U){var F=_[U||"all"];return F&&F.test(R)||!1}S.isUUID=P,S.VERSION=m,h.uuid=S,h.isUUID=P})(i),O!==null&&(O.exports=i.uuid)})(ba,ba.exports);var Wn=r(ba.exports),mn={createUUID:()=>Wn.uuid?Wn.uuid():Wn()};const qs=(O,i)=>{var h,m,_,S;!O.retryConfiguration&&O.enableEventEngine&&(O.retryConfiguration=Vn.ExponentialRetryPolicy({minimumDelay:2,maximumDelay:150,maximumRetry:6,excluded:[Gt.MessageSend,Gt.Presence,Gt.Files,Gt.MessageStorage,Gt.ChannelGroups,Gt.DevicePushNotifications,Gt.AppContext,Gt.MessageReactions]}));const P=`pn-${mn.createUUID()}`;O.logVerbosity?O.logLevel=Ce.Debug:O.logLevel===void 0&&(O.logLevel=Ce.None);const R=new nl(to(P),O.logLevel,[...(h=O.loggers)!==null&&h!==void 0?h:[],new or]);O.logVerbosity!==void 0&&R.warn("Configuration","'logVerbosity' is deprecated. Use 'logLevel' instead."),(m=O.retryConfiguration)===null||m===void 0||m.validate(),(_=O.useRandomIVs)!==null&&_!==void 0||(O.useRandomIVs=!0),O.useRandomIVs&&R.warn("Configuration","'useRandomIVs' is deprecated. Use 'cryptoModule' instead."),O.origin=Bi((S=O.ssl)!==null&&S!==void 0&&S,O.origin);const U=O.cryptoModule;U&&delete O.cryptoModule;const F=Object.assign(Object.assign({},O),{_pnsdkSuffix:{},_loggerManager:R,_instanceId:P,_cryptoModule:void 0,_cipherKey:void 0,_setupCryptoModule:i,get instanceId(){if(O.useInstanceId)return this._instanceId},getInstanceId(){if(O.useInstanceId)return this._instanceId},getUserId(){return this.userId},setUserId(ae){if(!ae||typeof ae!="string"||ae.trim().length===0)throw new Error("Missing or invalid userId parameter. Provide a valid string userId");this.userId=ae},logger(){return this._loggerManager},getAuthKey(){return this.authKey},setAuthKey(ae){this.authKey=ae},getFilterExpression(){return this.filterExpression},setFilterExpression(ae){this.filterExpression=ae},getCipherKey(){return this._cipherKey},setCipherKey(ae){this._cipherKey=ae,ae||!this._cryptoModule?ae&&this._setupCryptoModule&&(this._cryptoModule=this._setupCryptoModule({cipherKey:ae,useRandomIVs:O.useRandomIVs,customEncrypt:this.getCustomEncrypt(),customDecrypt:this.getCustomDecrypt(),logger:this.logger()})):this._cryptoModule=void 0},getCryptoModule(){return this._cryptoModule},getUseRandomIVs:()=>O.useRandomIVs,isSharedWorkerEnabled:()=>O.sdkFamily==="Web"&&O.subscriptionWorkerUrl,getKeepPresenceChannelsInPresenceRequests:()=>O.sdkFamily==="Web"&&O.subscriptionWorkerUrl,setPresenceTimeout(ae){this.heartbeatInterval=ae/2-1,this.presenceTimeout=ae},getPresenceTimeout(){return this.presenceTimeout},getHeartbeatInterval(){return this.heartbeatInterval},setHeartbeatInterval(ae){this.heartbeatInterval=ae},getTransactionTimeout(){return this.transactionalRequestTimeout},getSubscribeTimeout(){return this.subscribeRequestTimeout},getFileTimeout(){return this.fileRequestTimeout},get PubNubFile(){return O.PubNubFile},get version(){return"9.10.0"},getVersion(){return this.version},_addPnsdkSuffix(ae,ne){this._pnsdkSuffix[ae]=`${ne}`},_getPnsdkSuffix(ae){const ne=Object.values(this._pnsdkSuffix).join(ae);return ne.length>0?ae+ne:""},getUUID(){return this.getUserId()},setUUID(ae){this.setUserId(ae)},getCustomEncrypt:()=>O.customEncrypt,getCustomDecrypt:()=>O.customDecrypt});return O.cipherKey?(R.warn("Configuration","'cipherKey' is deprecated. Use 'cryptoModule' instead."),F.setCipherKey(O.cipherKey)):U&&(F._cryptoModule=U),F},Bi=(O,i)=>{const h=O?"https://":"http://";return typeof i=="string"?`${h}${i}`:`${h}${i[Math.floor(Math.random()*i.length)]}`},to=O=>{let i=2166136261;for(let h=0;h<O.length;h++)i^=O.charCodeAt(h),i=i+((i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24))>>>0;return i.toString(16).padStart(8,"0")};class vi{constructor(i){this.cbor=i}setToken(i){i&&i.length>0?this.token=i:this.token=void 0}getToken(){return this.token}parseToken(i){const h=this.cbor.decodeToken(i);if(h!==void 0){const m=h.res.uuid?Object.keys(h.res.uuid):[],_=Object.keys(h.res.chan),S=Object.keys(h.res.grp),P=h.pat.uuid?Object.keys(h.pat.uuid):[],R=Object.keys(h.pat.chan),U=Object.keys(h.pat.grp),F={version:h.v,timestamp:h.t,ttl:h.ttl,authorized_uuid:h.uuid,signature:h.sig},ae=m.length>0,ne=_.length>0,te=S.length>0;if(ae||ne||te){if(F.resources={},ae){const de=F.resources.uuids={};m.forEach((Te=>de[Te]=this.extractPermissions(h.res.uuid[Te])))}if(ne){const de=F.resources.channels={};_.forEach((Te=>de[Te]=this.extractPermissions(h.res.chan[Te])))}if(te){const de=F.resources.groups={};S.forEach((Te=>de[Te]=this.extractPermissions(h.res.grp[Te])))}}const ye=P.length>0,se=R.length>0,ce=U.length>0;if(ye||se||ce){if(F.patterns={},ye){const de=F.patterns.uuids={};P.forEach((Te=>de[Te]=this.extractPermissions(h.pat.uuid[Te])))}if(se){const de=F.patterns.channels={};R.forEach((Te=>de[Te]=this.extractPermissions(h.pat.chan[Te])))}if(ce){const de=F.patterns.groups={};U.forEach((Te=>de[Te]=this.extractPermissions(h.pat.grp[Te])))}}return h.meta&&Object.keys(h.meta).length>0&&(F.meta=h.meta),F}}extractPermissions(i){const h={read:!1,write:!1,manage:!1,delete:!1,get:!1,update:!1,join:!1};return 128&~i||(h.join=!0),64&~i||(h.update=!0),32&~i||(h.get=!0),8&~i||(h.delete=!0),4&~i||(h.manage=!0),2&~i||(h.write=!0),1&~i||(h.read=!0),h}}var ln;(function(O){O.GET="GET",O.POST="POST",O.PATCH="PATCH",O.DELETE="DELETE",O.LOCAL="LOCAL"})(ln||(ln={}));class Yr{constructor(i,h,m,_){this.publishKey=i,this.secretKey=h,this.hasher=m,this.logger=_}signature(i){const h=i.path.startsWith("/publish")?ln.GET:i.method;let m=`${h}
${this.publishKey}
${i.path}
${this.queryParameters(i.queryParameters)}
`;if(h===ln.POST||h===ln.PATCH){const _=i.body;let S;_&&_ instanceof ArrayBuffer?S=Yr.textDecoder.decode(_):_&&typeof _!="object"&&(S=_),S&&(m+=S)}return this.logger.trace("RequestSignature",(()=>({messageType:"text",message:`Request signature input:
${m}`}))),`v2.${this.hasher(m,this.secretKey)}`.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}queryParameters(i){return Object.keys(i).sort().map((h=>{const m=i[h];return Array.isArray(m)?m.sort().map((_=>`${h}=${Ue(_)}`)).join("&"):`${h}=${Ue(m)}`})).join("&")}}Yr.textDecoder=new TextDecoder("utf-8");class ls{constructor(i){this.configuration=i;const{clientConfiguration:{keySet:h},shaHMAC:m}=i;h.secretKey&&m&&(this.signatureGenerator=new Yr(h.publishKey,h.secretKey,m,this.logger))}get logger(){return this.configuration.clientConfiguration.logger()}makeSendable(i){const h=this.configuration.clientConfiguration.retryConfiguration,m=this.configuration.transport;if(h!==void 0){let _,S,P=!1,R=0;const U={abort:F=>{P=!0,_&&clearTimeout(_),S&&S.abort(F)}};return[new Promise(((F,ae)=>{const ne=()=>{if(P)return;const[te,ye]=m.makeSendable(this.request(i));S=ye;const se=(ce,de)=>{const Te=!de||de.category!==C.PNCancelledCategory,nt=!ce||ce.status>=400;let bt=-1;Te&&nt&&h.shouldRetry(i,ce,de?.category,R+1)&&(bt=h.getDelay(R,ce)),bt>0?(R++,this.logger.warn("PubNubMiddleware",`HTTP request retry #${R} in ${bt}ms.`),_=setTimeout((()=>ne()),bt)):ce?F(ce):de&&ae(de)};te.then((ce=>se(ce))).catch((ce=>se(void 0,ce)))};ne()})),S?U:void 0]}return m.makeSendable(this.request(i))}request(i){var h;const{clientConfiguration:m}=this.configuration;return(i=this.configuration.transport.request(i)).queryParameters||(i.queryParameters={}),m.useInstanceId&&(i.queryParameters.instanceid=m.getInstanceId()),i.queryParameters.uuid||(i.queryParameters.uuid=m.userId),m.useRequestId&&(i.queryParameters.requestid=i.identifier),i.queryParameters.pnsdk=this.generatePNSDK(),(h=i.origin)!==null&&h!==void 0||(i.origin=m.origin),this.authenticateRequest(i),this.signRequest(i),i}authenticateRequest(i){var h;if(i.path.startsWith("/v2/auth/")||i.path.startsWith("/v3/pam/")||i.path.startsWith("/time"))return;const{clientConfiguration:m,tokenManager:_}=this.configuration,S=(h=_&&_.getToken())!==null&&h!==void 0?h:m.authKey;S&&(i.queryParameters.auth=S)}signRequest(i){this.signatureGenerator&&!i.path.startsWith("/time")&&(i.queryParameters.timestamp=String(Math.floor(new Date().getTime()/1e3)),i.queryParameters.signature=this.signatureGenerator.signature(i))}generatePNSDK(){const{clientConfiguration:i}=this.configuration;if(i.sdkName)return i.sdkName;let h=`PubNub-JS-${i.sdkFamily}`;i.partnerId&&(h+=`-${i.partnerId}`),h+=`/${i.getVersion()}`;const m=i._getPnsdkSuffix(" ");return m.length>0&&(h+=m),h}}class Gr{constructor(i,h="fetch"){this.logger=i,this.transport=h,i.debug("WebTransport",`Create with configuration:
  - transport: ${h}`),h!=="fetch"||window&&window.fetch||(i.warn("WebTransport",`'${h}' not supported in this browser. Fallback to the 'xhr' transport.`),this.transport="xhr"),this.transport==="fetch"&&(Gr.originalFetch=fetch.bind(window),this.isFetchMonkeyPatched()&&(Gr.originalFetch=Gr.getOriginalFetch(),i.warn("WebTransport","Native Web Fetch API 'fetch' function monkey patched."),this.isFetchMonkeyPatched(Gr.originalFetch)?i.warn("WebTransport","Unable receive native Web Fetch API. There can be issues with subscribe long-poll  cancellation"):i.info("WebTransport","Use native Web Fetch API 'fetch' implementation from iframe as APM workaround.")))}makeSendable(i){const h=new AbortController,m={abortController:h,abort:_=>{h.signal.aborted||(this.logger.trace("WebTransport",`On-demand request aborting: ${_}`),h.abort(_))}};return[this.webTransportRequestFromTransportRequest(i).then((_=>(this.logger.debug("WebTransport",(()=>({messageType:"network-request",message:i}))),this.sendRequest(_,m).then((S=>S.arrayBuffer().then((P=>[S,P])))).then((S=>{const P=S[1].byteLength>0?S[1]:void 0,{status:R,headers:U}=S[0],F={};U.forEach(((ne,te)=>F[te]=ne.toLowerCase()));const ae={status:R,url:_.url,headers:F,body:P};if(this.logger.debug("WebTransport",(()=>({messageType:"network-response",message:ae}))),R>=400)throw me.create(ae);return ae})).catch((S=>{const P=(typeof S=="string"?S:S.message).toLowerCase();let R=typeof S=="string"?new Error(S):S;throw P.includes("timeout")?this.logger.warn("WebTransport",(()=>({messageType:"network-request",message:i,details:"Timeout",canceled:!0}))):P.includes("cancel")||P.includes("abort")?(this.logger.debug("WebTransport",(()=>({messageType:"network-request",message:i,details:"Aborted",canceled:!0}))),R=new Error("Aborted"),R.name="AbortError"):P.includes("network")?this.logger.warn("WebTransport",(()=>({messageType:"network-request",message:i,details:"Network error",failed:!0}))):this.logger.warn("WebTransport",(()=>({messageType:"network-request",message:i,details:me.create(R).message,failed:!0}))),me.create(R)}))))),m]}request(i){return i}sendRequest(i,h){return d(this,void 0,void 0,(function*(){return this.transport==="fetch"?this.sendFetchRequest(i,h):this.sendXHRRequest(i,h)}))}sendFetchRequest(i,h){return d(this,void 0,void 0,(function*(){let m;const _=new Promise(((P,R)=>{m=setTimeout((()=>{clearTimeout(m),R(new Error("Request timeout")),h.abort("Cancel because of timeout")}),1e3*i.timeout)})),S=new Request(i.url,{method:i.method,headers:i.headers,redirect:"follow",body:i.body});return Promise.race([Gr.originalFetch(S,{signal:h.abortController.signal,credentials:"omit",cache:"no-cache"}).then((P=>(m&&clearTimeout(m),P))),_])}))}sendXHRRequest(i,h){return d(this,void 0,void 0,(function*(){return new Promise(((m,_)=>{var S;const P=new XMLHttpRequest;P.open(i.method,i.url,!0);let R=!1;P.responseType="arraybuffer",P.timeout=1e3*i.timeout,h.abortController.signal.onabort=()=>{P.readyState!=XMLHttpRequest.DONE&&P.readyState!=XMLHttpRequest.UNSENT&&(R=!0,P.abort())},Object.entries((S=i.headers)!==null&&S!==void 0?S:{}).forEach((([U,F])=>P.setRequestHeader(U,F))),P.onabort=()=>{_(new Error("Aborted"))},P.ontimeout=()=>{_(new Error("Request timeout"))},P.onerror=()=>{if(!R){const U=this.transportResponseFromXHR(i.url,P);_(new Error(me.create(U).message))}},P.onload=()=>{const U=new Headers;P.getAllResponseHeaders().split(`\r
`).forEach((F=>{const[ae,ne]=F.split(": ");ae.length>1&&ne.length>1&&U.append(ae,ne)})),m(new Response(P.response,{status:P.status,headers:U,statusText:P.statusText}))},P.send(i.body)}))}))}webTransportRequestFromTransportRequest(i){return d(this,void 0,void 0,(function*(){let h,m=i.path;if(i.formData&&i.formData.length>0){i.queryParameters={};const _=i.body,S=new FormData;for(const{key:P,value:R}of i.formData)S.append(P,R);try{const P=yield _.toArrayBuffer();S.append("file",new Blob([P],{type:"application/octet-stream"}),_.name)}catch(P){this.logger.warn("WebTransport",(()=>({messageType:"error",message:P})));try{const R=yield _.toFileUri();S.append("file",R,_.name)}catch(R){this.logger.error("WebTransport",(()=>({messageType:"error",message:R})))}}h=S}else if(i.body&&(typeof i.body=="string"||i.body instanceof ArrayBuffer))if(i.compressible&&typeof CompressionStream<"u"){const _=typeof i.body=="string"?Gr.encoder.encode(i.body):i.body,S=_.byteLength,P=new ReadableStream({start(R){R.enqueue(_),R.close()}});h=yield new Response(P.pipeThrough(new CompressionStream("deflate"))).arrayBuffer(),this.logger.trace("WebTransport",(()=>{const R=h.byteLength,U=(R/S).toFixed(2);return{messageType:"text",message:`Body of ${S} bytes, compressed by ${U}x to ${R} bytes.`}}))}else h=i.body;return i.queryParameters&&Object.keys(i.queryParameters).length!==0&&(m=`${m}?${Nt(i.queryParameters)}`),{url:`${i.origin}${m}`,method:i.method,headers:i.headers,timeout:i.timeout,body:h}}))}isFetchMonkeyPatched(i){return!(i??fetch).toString().includes("[native code]")&&fetch.name!=="fetch"}transportResponseFromXHR(i,h){const m=h.getAllResponseHeaders().split(`
`),_={};for(const S of m){const[P,R]=S.trim().split(":");P&&R&&(_[P.toLowerCase()]=R.trim())}return{status:h.status,url:i,headers:_,body:h.response}}static getOriginalFetch(){let i=document.querySelector('iframe[name="pubnub-context-unpatched-fetch"]');return i||(i=document.createElement("iframe"),i.style.display="none",i.name="pubnub-context-unpatched-fetch",i.src="about:blank",document.body.appendChild(i)),i.contentWindow?i.contentWindow.fetch.bind(i.contentWindow):fetch}}Gr.encoder=new TextEncoder,Gr.decoder=new TextDecoder;class yt{constructor(i){this.params=i,this.requestIdentifier=mn.createUUID(),this._cancellationController=null}get cancellationController(){return this._cancellationController}set cancellationController(i){this._cancellationController=i}abort(i){this&&this.cancellationController&&this.cancellationController.abort(i)}operation(){throw Error("Should be implemented by subclass.")}validate(){}parse(i){return d(this,void 0,void 0,(function*(){return this.deserializeResponse(i)}))}request(){var i,h,m,_,S,P;const R={method:(h=(i=this.params)===null||i===void 0?void 0:i.method)!==null&&h!==void 0?h:ln.GET,path:this.path,queryParameters:this.queryParameters,cancellable:(_=(m=this.params)===null||m===void 0?void 0:m.cancellable)!==null&&_!==void 0&&_,compressible:(P=(S=this.params)===null||S===void 0?void 0:S.compressible)!==null&&P!==void 0&&P,timeout:10,identifier:this.requestIdentifier},U=this.headers;if(U&&(R.headers=U),R.method===ln.POST||R.method===ln.PATCH){const[F,ae]=[this.body,this.formData];ae&&(R.formData=ae),F&&(R.body=F)}return R}get headers(){var i,h;return Object.assign({"Accept-Encoding":"gzip, deflate"},(h=(i=this.params)===null||i===void 0?void 0:i.compressible)!==null&&h!==void 0&&h?{"Content-Encoding":"deflate"}:{})}get path(){throw Error("`path` getter should be implemented by subclass.")}get queryParameters(){return{}}get formData(){}get body(){}deserializeResponse(i){const h=yt.decoder.decode(i.body),m=i.headers["content-type"];let _;if(!m||m.indexOf("javascript")===-1&&m.indexOf("json")===-1)throw new N("Service response error, check status for details",I(h,i.status));try{_=JSON.parse(h)}catch(S){throw console.error("Error parsing JSON response:",S),new N("Service response error, check status for details",I(h,i.status))}if("status"in _&&typeof _.status=="number"&&_.status>=400)throw me.create(i);return _}}yt.decoder=new TextDecoder;var zt;(function(O){O[O.Presence=-2]="Presence",O[O.Message=-1]="Message",O[O.Signal=1]="Signal",O[O.AppContext=2]="AppContext",O[O.MessageAction=3]="MessageAction",O[O.Files=4]="Files"})(zt||(zt={}));class rl extends yt{constructor(i){var h,m,_,S,P,R;super({cancellable:!0}),this.parameters=i,(h=(S=this.parameters).withPresence)!==null&&h!==void 0||(S.withPresence=!1),(m=(P=this.parameters).channelGroups)!==null&&m!==void 0||(P.channelGroups=[]),(_=(R=this.parameters).channels)!==null&&_!==void 0||(R.channels=[])}operation(){return V.PNSubscribeOperation}validate(){const{keySet:{subscribeKey:i},channels:h,channelGroups:m}=this.parameters;return i?h||m?void 0:"`channels` and `channelGroups` both should not be empty":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){let h,m;try{m=yt.decoder.decode(i.body),h=JSON.parse(m)}catch(S){console.error("Error parsing JSON response:",S)}if(!h)throw new N("Service response error, check status for details",I(m,i.status));const _=h.m.filter((S=>{const P=S.b===void 0?S.c:S.b;return this.parameters.channels&&this.parameters.channels.includes(P)||this.parameters.channelGroups&&this.parameters.channelGroups.includes(P)})).map((S=>{let{e:P}=S;P!=null||(P=S.c.endsWith("-pnpres")?zt.Presence:zt.Message);const R=Dn(S.d);return P!=zt.Signal&&typeof S.d=="string"?P==zt.Message?{type:zt.Message,data:this.messageFromEnvelope(S),pn_mfp:R}:{type:zt.Files,data:this.fileFromEnvelope(S),pn_mfp:R}:P==zt.Message?{type:zt.Message,data:this.messageFromEnvelope(S),pn_mfp:R}:P===zt.Presence?{type:zt.Presence,data:this.presenceEventFromEnvelope(S),pn_mfp:R}:P==zt.Signal?{type:zt.Signal,data:this.signalFromEnvelope(S),pn_mfp:R}:P===zt.AppContext?{type:zt.AppContext,data:this.appContextFromEnvelope(S),pn_mfp:R}:P===zt.MessageAction?{type:zt.MessageAction,data:this.messageActionFromEnvelope(S),pn_mfp:R}:{type:zt.Files,data:this.fileFromEnvelope(S),pn_mfp:R}}));return{cursor:{timetoken:h.t.t,region:h.t.r},messages:_}}))}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{accept:"text/javascript"})}presenceEventFromEnvelope(i){var h;const{d:m}=i,[_,S]=this.subscriptionChannelFromEnvelope(i),P=_.replace("-pnpres",""),R=S!==null?P:null,U=S!==null?S:P;return typeof m!="string"&&("data"in m?(m.state=m.data,delete m.data):"action"in m&&m.action==="interval"&&(m.hereNowRefresh=(h=m.here_now_refresh)!==null&&h!==void 0&&h,delete m.here_now_refresh)),Object.assign({channel:P,subscription:S,actualChannel:R,subscribedChannel:U,timetoken:i.p.t},m)}messageFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),[_,S]=this.decryptedData(i.d),P={channel:h,subscription:m,actualChannel:m!==null?h:null,subscribedChannel:m!==null?m:h,timetoken:i.p.t,publisher:i.i,message:_};return i.u&&(P.userMetadata=i.u),i.cmt&&(P.customMessageType=i.cmt),S&&(P.error=S),P}signalFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),_={channel:h,subscription:m,timetoken:i.p.t,publisher:i.i,message:i.d};return i.u&&(_.userMetadata=i.u),i.cmt&&(_.customMessageType=i.cmt),_}messageActionFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),_=i.d;return{channel:h,subscription:m,timetoken:i.p.t,publisher:i.i,event:_.event,data:Object.assign(Object.assign({},_.data),{uuid:i.i})}}appContextFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),_=i.d;return{channel:h,subscription:m,timetoken:i.p.t,message:_}}fileFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),[_,S]=this.decryptedData(i.d);let P=S;const R={channel:h,subscription:m,timetoken:i.p.t,publisher:i.i};return i.u&&(R.userMetadata=i.u),_?typeof _=="string"?P!=null||(P="Unexpected file information payload data type."):(R.message=_.message,_.file&&(R.file={id:_.file.id,name:_.file.name,url:this.parameters.getFileUrl({id:_.file.id,name:_.file.name,channel:h})})):P!=null||(P="File information payload is missing."),i.cmt&&(R.customMessageType=i.cmt),P&&(R.error=P),R}subscriptionChannelFromEnvelope(i){return[i.c,i.b===void 0?i.c:i.b]}decryptedData(i){if(!this.parameters.crypto||typeof i!="string")return[i,void 0];let h,m;try{const _=this.parameters.crypto.decrypt(i);h=_ instanceof ArrayBuffer?JSON.parse(sl.decoder.decode(_)):_}catch(_){h=null,m=`Error while decrypting message content: ${_.message}`}return[h??i,m]}}class sl extends rl{get path(){var i;const{keySet:{subscribeKey:h},channels:m}=this.parameters;return`/v2/subscribe/${h}/${Qe((i=m?.sort())!==null&&i!==void 0?i:[],",")}/0`}get queryParameters(){const{channelGroups:i,filterExpression:h,heartbeat:m,state:_,timetoken:S,region:P,onDemand:R}=this.parameters,U={};return R&&(U["on-demand"]=1),i&&i.length>0&&(U["channel-group"]=i.sort().join(",")),h&&h.length>0&&(U["filter-expr"]=h),m&&(U.heartbeat=m),_&&Object.keys(_).length>0&&(U.state=JSON.stringify(_)),S!==void 0&&typeof S=="string"?S.length>0&&S!=="0"&&(U.tt=S):S!==void 0&&S>0&&(U.tt=S),P&&(U.tr=P),U}}class il{constructor(){this.hasListeners=!1,this.listeners=[{count:-1,listener:{}}]}set onStatus(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"status"})}set onMessage(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"message"})}set onPresence(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"presence"})}set onSignal(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"signal"})}set onObjects(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"objects"})}set onMessageAction(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"messageAction"})}set onFile(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"file"})}handleEvent(i){if(this.hasListeners)if(i.type===zt.Message)this.announce("message",i.data);else if(i.type===zt.Signal)this.announce("signal",i.data);else if(i.type===zt.Presence)this.announce("presence",i.data);else if(i.type===zt.AppContext){const{data:h}=i,{message:m}=h;if(this.announce("objects",h),m.type==="uuid"){const{message:_,channel:S}=h,P=c(h,["message","channel"]),{event:R,type:U}=m,F=c(m,["event","type"]),ae=Object.assign(Object.assign({},P),{spaceId:S,message:Object.assign(Object.assign({},F),{event:R==="set"?"updated":"removed",type:"user"})});this.announce("user",ae)}else if(m.type==="channel"){const{message:_,channel:S}=h,P=c(h,["message","channel"]),{event:R,type:U}=m,F=c(m,["event","type"]),ae=Object.assign(Object.assign({},P),{spaceId:S,message:Object.assign(Object.assign({},F),{event:R==="set"?"updated":"removed",type:"space"})});this.announce("space",ae)}else if(m.type==="membership"){const{message:_,channel:S}=h,P=c(h,["message","channel"]),{event:R,data:U}=m,F=c(m,["event","data"]),{uuid:ae,channel:ne}=U,te=c(U,["uuid","channel"]),ye=Object.assign(Object.assign({},P),{spaceId:S,message:Object.assign(Object.assign({},F),{event:R==="set"?"updated":"removed",data:Object.assign(Object.assign({},te),{user:ae,space:ne})})});this.announce("membership",ye)}}else i.type===zt.MessageAction?this.announce("messageAction",i.data):i.type===zt.Files&&this.announce("file",i.data)}handleStatus(i){this.hasListeners&&this.announce("status",i)}addListener(i){this.updateTypeOrObjectListener({add:!0,listener:i})}removeListener(i){this.updateTypeOrObjectListener({add:!1,listener:i})}removeAllListeners(){this.listeners=[{count:-1,listener:{}}],this.hasListeners=!1}updateTypeOrObjectListener(i){if(i.type)typeof i.listener=="function"?this.listeners[0].listener[i.type]=i.listener:delete this.listeners[0].listener[i.type];else if(i.listener&&typeof i.listener!="function"){let h,m=!1;for(h of this.listeners)if(h.listener===i.listener){i.add?(h.count++,m=!0):(h.count--,h.count===0&&this.listeners.splice(this.listeners.indexOf(h),1));break}i.add&&!m&&this.listeners.push({count:1,listener:i.listener})}this.hasListeners=this.listeners.length>1||Object.keys(this.listeners[0]).length>0}announce(i,h){this.listeners.forEach((({listener:m})=>{const _=m[i];_&&_(h)}))}}class kc{constructor(i){this.time=i}onReconnect(i){this.callback=i}startPolling(){this.timeTimer=setInterval((()=>this.callTime()),3e3)}stopPolling(){this.timeTimer&&clearInterval(this.timeTimer),this.timeTimer=null}callTime(){this.time((i=>{i.error||(this.stopPolling(),this.callback&&this.callback())}))}}class al{constructor(i){this.config=i,i.logger().debug("DedupingManager",(()=>({messageType:"object",message:{maximumCacheSize:i.maximumCacheSize},details:"Create with configuration:"}))),this.maximumCacheSize=i.maximumCacheSize,this.hashHistory=[]}getKey(i){var h;return`${i.timetoken}-${this.hashCode(JSON.stringify((h=i.message)!==null&&h!==void 0?h:"")).toString()}`}isDuplicate(i){return this.hashHistory.includes(this.getKey(i))}addEntry(i){this.hashHistory.length>=this.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(i))}clearHistory(){this.hashHistory=[]}hashCode(i){let h=0;if(i.length===0)return h;for(let m=0;m<i.length;m+=1)h=(h<<5)-h+i.charCodeAt(m),h|=0;return h}}class ol{constructor(i,h,m,_,S,P,R){this.configuration=i,this.emitEvent=h,this.emitStatus=m,this.subscribeCall=_,this.heartbeatCall=S,this.leaveCall=P,this.disconnectedWhileHandledEvent=!1,i.logger().trace("SubscriptionManager","Create manager."),this.reconnectionManager=new kc(R),this.dedupingManager=new al(this.configuration),this.heartbeatChannelGroups={},this.heartbeatChannels={},this.presenceChannelGroups={},this.presenceChannels={},this.heartbeatTimer=null,this.presenceState={},this.pendingChannelGroupSubscriptions=new Set,this.pendingChannelSubscriptions=new Set,this.channelGroups={},this.channels={},this.currentTimetoken="0",this.lastTimetoken="0",this.storedTimetoken=null,this.referenceTimetoken=null,this.subscriptionStatusAnnounced=!1,this.isOnline=!0}get subscriptionTimetoken(){var i;return pt(this.currentTimetoken,(i=this.referenceTimetoken)!==null&&i!==void 0?i:"0")}get subscribedChannels(){return Object.keys(this.channels)}get subscribedChannelGroups(){return Object.keys(this.channelGroups)}get abort(){return this._subscribeAbort}set abort(i){this._subscribeAbort=i}disconnect(){this.disconnectedWhileHandledEvent=!0,this.stopSubscribeLoop(),this.stopHeartbeatTimer(),this.reconnectionManager.stopPolling()}reconnect(i=!1){this.startSubscribeLoop(i),i||this.configuration.useSmartHeartbeat||this.startHeartbeatTimer()}subscribe(i){const{channels:h,channelGroups:m,timetoken:_,withPresence:S=!1,withHeartbeats:P=!1}=i;_&&(this.lastTimetoken=this.currentTimetoken,this.currentTimetoken=`${_}`),this.currentTimetoken!=="0"&&(this.storedTimetoken=this.currentTimetoken,this.currentTimetoken="0"),h?.forEach((R=>{this.pendingChannelSubscriptions.add(R),this.channels[R]={},S&&(this.presenceChannels[R]={}),(P||this.configuration.getHeartbeatInterval())&&(this.heartbeatChannels[R]={})})),m?.forEach((R=>{this.pendingChannelGroupSubscriptions.add(R),this.channelGroups[R]={},S&&(this.presenceChannelGroups[R]={}),(P||this.configuration.getHeartbeatInterval())&&(this.heartbeatChannelGroups[R]={})})),this.subscriptionStatusAnnounced=!1,this.reconnect()}unsubscribe(i,h=!1){let{channels:m,channelGroups:_}=i;const S=new Set,P=new Set;if(m?.forEach((F=>{F in this.channels&&(delete this.channels[F],P.add(F),F in this.heartbeatChannels&&delete this.heartbeatChannels[F]),F in this.presenceState&&delete this.presenceState[F],F in this.presenceChannels&&(delete this.presenceChannels[F],P.add(F))})),_?.forEach((F=>{F in this.channelGroups&&(delete this.channelGroups[F],S.add(F),F in this.heartbeatChannelGroups&&delete this.heartbeatChannelGroups[F]),F in this.presenceState&&delete this.presenceState[F],F in this.presenceChannelGroups&&(delete this.presenceChannelGroups[F],S.add(F))})),P.size===0&&S.size===0)return;const R=this.lastTimetoken,U=this.currentTimetoken;Object.keys(this.channels).length===0&&Object.keys(this.presenceChannels).length===0&&Object.keys(this.channelGroups).length===0&&Object.keys(this.presenceChannelGroups).length===0&&(this.lastTimetoken="0",this.currentTimetoken="0",this.referenceTimetoken=null,this.storedTimetoken=null,this.region=null,this.reconnectionManager.stopPolling()),this.reconnect(!0),this.configuration.suppressLeaveEvents!==!1||h||(_=Array.from(S),m=Array.from(P),this.leaveCall({channels:m,channelGroups:_},(F=>{const{error:ae}=F,ne=c(F,["error"]);let te;ae&&(F.errorData&&typeof F.errorData=="object"&&"message"in F.errorData&&typeof F.errorData.message=="string"?te=F.errorData.message:"message"in F&&typeof F.message=="string"&&(te=F.message)),this.emitStatus(Object.assign(Object.assign({},ne),{error:te!=null&&te,affectedChannels:m,affectedChannelGroups:_,currentTimetoken:U,lastTimetoken:R}))})))}unsubscribeAll(i=!1){this.disconnectedWhileHandledEvent=!0,this.unsubscribe({channels:this.subscribedChannels,channelGroups:this.subscribedChannelGroups},i)}startSubscribeLoop(i=!1){this.disconnectedWhileHandledEvent=!1,this.stopSubscribeLoop();const h=[...Object.keys(this.channelGroups)],m=[...Object.keys(this.channels)];Object.keys(this.presenceChannelGroups).forEach((_=>h.push(`${_}-pnpres`))),Object.keys(this.presenceChannels).forEach((_=>m.push(`${_}-pnpres`))),m.length===0&&h.length===0||(this.subscribeCall(Object.assign(Object.assign(Object.assign({channels:m,channelGroups:h,state:this.presenceState,heartbeat:this.configuration.getPresenceTimeout(),timetoken:this.currentTimetoken},this.region!==null?{region:this.region}:{}),this.configuration.filterExpression?{filterExpression:this.configuration.filterExpression}:{}),{onDemand:!this.subscriptionStatusAnnounced||i}),((_,S)=>{this.processSubscribeResponse(_,S)})),!i&&this.configuration.useSmartHeartbeat&&this.startHeartbeatTimer())}stopSubscribeLoop(){this._subscribeAbort&&(this._subscribeAbort(),this._subscribeAbort=null)}processSubscribeResponse(i,h){if(i.error)return typeof i.errorData=="object"&&"name"in i.errorData&&i.errorData.name==="AbortError"||i.category===C.PNCancelledCategory?void 0:void(i.category===C.PNTimeoutCategory?this.startSubscribeLoop():i.category===C.PNNetworkIssuesCategory||i.category===C.PNMalformedResponseCategory?(this.disconnect(),i.error&&this.configuration.autoNetworkDetection&&this.isOnline&&(this.isOnline=!1,this.emitStatus({category:C.PNNetworkDownCategory})),this.reconnectionManager.onReconnect((()=>{this.configuration.autoNetworkDetection&&!this.isOnline&&(this.isOnline=!0,this.emitStatus({category:C.PNNetworkUpCategory})),this.reconnect(),this.subscriptionStatusAnnounced=!0;const P={category:C.PNReconnectedCategory,operation:i.operation,lastTimetoken:this.lastTimetoken,currentTimetoken:this.currentTimetoken};this.emitStatus(P)})),this.reconnectionManager.startPolling(),this.emitStatus(Object.assign(Object.assign({},i),{category:C.PNNetworkIssuesCategory}))):i.category===C.PNBadRequestCategory?(this.stopHeartbeatTimer(),this.emitStatus(i)):this.emitStatus(i));if(this.referenceTimetoken=xt(h.cursor.timetoken,this.storedTimetoken),this.storedTimetoken?(this.currentTimetoken=this.storedTimetoken,this.storedTimetoken=null):(this.lastTimetoken=this.currentTimetoken,this.currentTimetoken=h.cursor.timetoken),!this.subscriptionStatusAnnounced){const P={category:C.PNConnectedCategory,operation:i.operation,affectedChannels:Array.from(this.pendingChannelSubscriptions),subscribedChannels:this.subscribedChannels,affectedChannelGroups:Array.from(this.pendingChannelGroupSubscriptions),lastTimetoken:this.lastTimetoken,currentTimetoken:this.currentTimetoken};this.subscriptionStatusAnnounced=!0,this.emitStatus(P),this.pendingChannelGroupSubscriptions.clear(),this.pendingChannelSubscriptions.clear()}const{messages:m}=h,{requestMessageCountThreshold:_,dedupeOnSubscribe:S}=this.configuration;_&&m.length>=_&&this.emitStatus({category:C.PNRequestMessageCountExceededCategory,operation:i.operation});try{const P={timetoken:this.currentTimetoken,region:this.region?this.region:void 0};this.configuration.logger().debug("SubscriptionManager",(()=>({messageType:"object",message:m.map((R=>({type:R.type,data:Object.assign(Object.assign({},R.data),{pn_mfp:R.pn_mfp})}))),details:"Received events:"}))),m.forEach((R=>{if(S&&"message"in R.data&&"timetoken"in R.data){if(this.dedupingManager.isDuplicate(R.data))return void this.configuration.logger().warn("SubscriptionManager",(()=>({messageType:"object",message:R.data,details:"Duplicate message detected (skipped):"})));this.dedupingManager.addEntry(R.data)}this.emitEvent(P,R)}))}catch(P){const R={error:!0,category:C.PNUnknownCategory,errorData:P,statusCode:0};this.emitStatus(R)}this.region=h.cursor.region,this.disconnectedWhileHandledEvent?this.disconnectedWhileHandledEvent=!1:this.startSubscribeLoop()}setState(i){const{state:h,channels:m,channelGroups:_}=i;m?.forEach((S=>S in this.channels&&(this.presenceState[S]=h))),_?.forEach((S=>S in this.channelGroups&&(this.presenceState[S]=h)))}changePresence(i){const{connected:h,channels:m,channelGroups:_}=i;h?(m?.forEach((S=>this.heartbeatChannels[S]={})),_?.forEach((S=>this.heartbeatChannelGroups[S]={}))):(m?.forEach((S=>{S in this.heartbeatChannels&&delete this.heartbeatChannels[S]})),_?.forEach((S=>{S in this.heartbeatChannelGroups&&delete this.heartbeatChannelGroups[S]})),this.configuration.suppressLeaveEvents===!1&&this.leaveCall({channels:m,channelGroups:_},(S=>this.emitStatus(S)))),this.reconnect()}startHeartbeatTimer(){this.stopHeartbeatTimer();const i=this.configuration.getHeartbeatInterval();i&&i!==0&&(this.configuration.useSmartHeartbeat||this.sendHeartbeat(),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),1e3*i))}stopHeartbeatTimer(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}sendHeartbeat(){const i=Object.keys(this.heartbeatChannelGroups),h=Object.keys(this.heartbeatChannels);h.length===0&&i.length===0||this.heartbeatCall({channels:h,channelGroups:i,heartbeat:this.configuration.getPresenceTimeout(),state:this.presenceState},(m=>{m.error&&this.configuration.announceFailedHeartbeats&&this.emitStatus(m),m.error&&this.configuration.autoNetworkDetection&&this.isOnline&&(this.isOnline=!1,this.disconnect(),this.emitStatus({category:C.PNNetworkDownCategory}),this.reconnect()),!m.error&&this.configuration.announceSuccessfulHeartbeats&&this.emitStatus(m)}))}}class gu{constructor(i,h,m){this._payload=i,this.setDefaultPayloadStructure(),this.title=h,this.body=m}get payload(){return this._payload}set title(i){this._title=i}set subtitle(i){this._subtitle=i}set body(i){this._body=i}set badge(i){this._badge=i}set sound(i){this._sound=i}setDefaultPayloadStructure(){}toObject(){return{}}}class Ec extends gu{constructor(){super(...arguments),this._apnsPushType="apns",this._isSilent=!1}get payload(){return this._payload}set configurations(i){i&&i.length&&(this._configurations=i)}get notification(){return this.payload.aps}get title(){return this._title}set title(i){i&&i.length&&(this.payload.aps.alert.title=i,this._title=i)}get subtitle(){return this._subtitle}set subtitle(i){i&&i.length&&(this.payload.aps.alert.subtitle=i,this._subtitle=i)}get body(){return this._body}set body(i){i&&i.length&&(this.payload.aps.alert.body=i,this._body=i)}get badge(){return this._badge}set badge(i){i!=null&&(this.payload.aps.badge=i,this._badge=i)}get sound(){return this._sound}set sound(i){i&&i.length&&(this.payload.aps.sound=i,this._sound=i)}set silent(i){this._isSilent=i}setDefaultPayloadStructure(){this.payload.aps={alert:{}}}toObject(){const i=Object.assign({},this.payload),{aps:h}=i;let{alert:m}=h;if(this._isSilent&&(h["content-available"]=1),this._apnsPushType==="apns2"){if(!this._configurations||!this._configurations.length)throw new ReferenceError("APNS2 configuration is missing");const _=[];this._configurations.forEach((S=>{_.push(this.objectFromAPNS2Configuration(S))})),_.length&&(i.pn_push=_)}return m&&Object.keys(m).length||delete h.alert,this._isSilent&&(delete h.alert,delete h.badge,delete h.sound,m={}),this._isSilent||m&&Object.keys(m).length?i:null}objectFromAPNS2Configuration(i){if(!i.targets||!i.targets.length)throw new ReferenceError("At least one APNS2 target should be provided");const{collapseId:h,expirationDate:m}=i,_={auth_method:"token",targets:i.targets.map((S=>this.objectFromAPNSTarget(S))),version:"v2"};return h&&h.length&&(_.collapse_id=h),m&&(_.expiration=m.toISOString()),_}objectFromAPNSTarget(i){if(!i.topic||!i.topic.length)throw new TypeError("Target 'topic' undefined.");const{topic:h,environment:m="development",excludedDevices:_=[]}=i,S={topic:h,environment:m};return _.length&&(S.excluded_devices=_),S}}class Cc extends gu{get payload(){return this._payload}get notification(){return this.payload.notification}get data(){return this.payload.data}get title(){return this._title}set title(i){i&&i.length&&(this.payload.notification.title=i,this._title=i)}get body(){return this._body}set body(i){i&&i.length&&(this.payload.notification.body=i,this._body=i)}get sound(){return this._sound}set sound(i){i&&i.length&&(this.payload.notification.sound=i,this._sound=i)}get icon(){return this._icon}set icon(i){i&&i.length&&(this.payload.notification.icon=i,this._icon=i)}get tag(){return this._tag}set tag(i){i&&i.length&&(this.payload.notification.tag=i,this._tag=i)}set silent(i){this._isSilent=i}setDefaultPayloadStructure(){this.payload.notification={},this.payload.data={}}toObject(){let i=Object.assign({},this.payload.data),h=null;const m={};if(Object.keys(this.payload).length>2){const _=c(this.payload,["notification","data"]);i=Object.assign(Object.assign({},i),_)}return this._isSilent?i.notification=this.payload.notification:h=this.payload.notification,Object.keys(i).length&&(m.data=i),h&&Object.keys(h).length&&(m.notification=h),Object.keys(m).length?m:null}}class wa{constructor(i,h){this._payload={apns:{},fcm:{}},this._title=i,this._body=h,this.apns=new Ec(this._payload.apns,i,h),this.fcm=new Cc(this._payload.fcm,i,h)}set debugging(i){this._debugging=i}get title(){return this._title}get subtitle(){return this._subtitle}set subtitle(i){this._subtitle=i,this.apns.subtitle=i,this.fcm.subtitle=i}get body(){return this._body}get badge(){return this._badge}set badge(i){this._badge=i,this.apns.badge=i,this.fcm.badge=i}get sound(){return this._sound}set sound(i){this._sound=i,this.apns.sound=i,this.fcm.sound=i}buildPayload(i){const h={};if(i.includes("apns")||i.includes("apns2")){this.apns._apnsPushType=i.includes("apns")?"apns":"apns2";const m=this.apns.toObject();m&&Object.keys(m).length&&(h.pn_apns=m)}if(i.includes("fcm")){const m=this.fcm.toObject();m&&Object.keys(m).length&&(h.pn_gcm=m)}return Object.keys(h).length&&this._debugging&&(h.pn_debug=!0),h}}class Wi{constructor(i=!1){this.sync=i,this.listeners=new Set}subscribe(i){return this.listeners.add(i),()=>{this.listeners.delete(i)}}notify(i){const h=()=>{this.listeners.forEach((m=>{m(i)}))};this.sync?h():setTimeout(h,0)}}class Ir{transition(i,h){var m;if(this.transitionMap.has(h.type))return(m=this.transitionMap.get(h.type))===null||m===void 0?void 0:m(i,h)}constructor(i){this.label=i,this.transitionMap=new Map,this.enterEffects=[],this.exitEffects=[]}on(i,h){return this.transitionMap.set(i,h),this}with(i,h){return[this,i,h??[]]}onEnter(i){return this.enterEffects.push(i),this}onExit(i){return this.exitEffects.push(i),this}}class Oc extends Wi{constructor(i){super(!0),this.logger=i,this._pendingEvents=[],this._inTransition=!1}get currentState(){return this._currentState}get currentContext(){return this._currentContext}describe(i){return new Ir(i)}start(i,h){this._currentState=i,this._currentContext=h,this.notify({type:"engineStarted",state:i,context:h})}transition(i){if(!this._currentState)throw this.logger.error("Engine","Finite state machine is not started"),new Error("Start the engine first");if(this._inTransition)return this.logger.trace("Engine",(()=>({messageType:"object",message:i,details:"Event engine in transition. Enqueue received event:"}))),void this._pendingEvents.push(i);this._inTransition=!0,this.logger.trace("Engine",(()=>({messageType:"object",message:i,details:"Event engine received event:"}))),this.notify({type:"eventReceived",event:i});const h=this._currentState.transition(this._currentContext,i);if(h){const[m,_,S]=h;this.logger.trace("Engine",`Exiting state: ${this._currentState.label}`);for(const U of this._currentState.exitEffects)this.notify({type:"invocationDispatched",invocation:U(this._currentContext)});this.logger.trace("Engine",(()=>({messageType:"object",details:`Entering '${m.label}' state with context:`,message:_})));const P=this._currentState;this._currentState=m;const R=this._currentContext;this._currentContext=_,this.notify({type:"transitionDone",fromState:P,fromContext:R,toState:m,toContext:_,event:i});for(const U of S)this.notify({type:"invocationDispatched",invocation:U});for(const U of this._currentState.enterEffects)this.notify({type:"invocationDispatched",invocation:U(this._currentContext)})}else this.logger.warn("Engine",`No transition from '${this._currentState.label}' found for event: ${i.type}`);if(this._inTransition=!1,this._pendingEvents.length>0){const m=this._pendingEvents.shift();m&&(this.logger.trace("Engine",(()=>({messageType:"object",message:m,details:"De-queueing pending event:"}))),this.transition(m))}}}class Pc{constructor(i,h){this.dependencies=i,this.logger=h,this.instances=new Map,this.handlers=new Map}on(i,h){this.handlers.set(i,h)}dispatch(i){if(this.logger.trace("Dispatcher",`Process invocation: ${i.type}`),i.type==="CANCEL"){if(this.instances.has(i.payload)){const _=this.instances.get(i.payload);_?.cancel(),this.instances.delete(i.payload)}return}const h=this.handlers.get(i.type);if(!h)throw this.logger.error("Dispatcher",`Unhandled invocation '${i.type}'`),new Error(`Unhandled invocation '${i.type}'`);const m=h(i.payload,this.dependencies);this.logger.trace("Dispatcher",(()=>({messageType:"object",details:"Call invocation handler with parameters:",message:i.payload,ignoredKeys:["abortSignal"]}))),i.managed&&this.instances.set(i.type,m),m.start()}dispose(){for(const[i,h]of this.instances.entries())h.cancel(),this.instances.delete(i)}}function Qn(O,i){const h=function(...m){return{type:O,payload:i?.(...m)}};return h.type=O,h}function no(O,i){const h=(...m)=>({type:O,payload:i(...m),managed:!1});return h.type=O,h}function ro(O,i){const h=(...m)=>({type:O,payload:i(...m),managed:!0});return h.type=O,h.cancel={type:"CANCEL",payload:O,managed:!1},h}class Tc extends Error{constructor(){super("The operation was aborted."),this.name="AbortError",Object.setPrototypeOf(this,new.target.prototype)}}class ll extends Wi{constructor(){super(...arguments),this._aborted=!1}get aborted(){return this._aborted}throwIfAborted(){if(this._aborted)throw new Tc}abort(){this._aborted=!0,this.notify(new Tc)}}class ul{constructor(i,h){this.payload=i,this.dependencies=h}}class cl extends ul{constructor(i,h,m){super(i,h),this.asyncFunction=m,this.abortSignal=new ll}start(){this.asyncFunction(this.payload,this.abortSignal,this.dependencies).catch((i=>{}))}cancel(){this.abortSignal.abort()}}const zs=O=>(i,h)=>new cl(i,h,O),_a=ro("HEARTBEAT",((O,i)=>({channels:O,groups:i}))),Vr=no("LEAVE",((O,i)=>({channels:O,groups:i}))),so=no("EMIT_STATUS",(O=>O)),dl=ro("WAIT",(()=>({}))),Dc=Qn("RECONNECT",(()=>({}))),mu=Qn("DISCONNECT",((O=!1)=>({isOffline:O}))),io=Qn("JOINED",((O,i)=>({channels:O,groups:i}))),Es=Qn("LEFT",((O,i)=>({channels:O,groups:i}))),Sa=Qn("LEFT_ALL",((O=!1)=>({isOffline:O}))),Nc=Qn("HEARTBEAT_SUCCESS",(O=>({statusCode:O}))),uh=Qn("HEARTBEAT_FAILURE",(O=>O)),Ac=Qn("TIMES_UP",(()=>({})));class ch extends Pc{constructor(i,h){super(h,h.config.logger()),this.on(_a.type,zs(((m,_,S)=>d(this,[m,_,S],void 0,(function*(P,R,{heartbeat:U,presenceState:F,config:ae}){R.throwIfAborted();try{yield U(Object.assign(Object.assign({abortSignal:R,channels:P.channels,channelGroups:P.groups},ae.maintainPresenceState&&{state:F}),{heartbeat:ae.presenceTimeout})),i.transition(Nc(200))}catch(ne){if(ne instanceof N){if(ne.status&&ne.status.category==C.PNCancelledCategory)return;i.transition(uh(ne))}}}))))),this.on(Vr.type,zs(((m,_,S)=>d(this,[m,_,S],void 0,(function*(P,R,{leave:U,config:F}){if(!F.suppressLeaveEvents)try{U({channels:P.channels,channelGroups:P.groups})}catch{}}))))),this.on(dl.type,zs(((m,_,S)=>d(this,[m,_,S],void 0,(function*(P,R,{heartbeatDelay:U}){return R.throwIfAborted(),yield U(),R.throwIfAborted(),i.transition(Ac())}))))),this.on(so.type,zs(((m,_,S)=>d(this,[m,_,S],void 0,(function*(P,R,{emitStatus:U,config:F}){F.announceFailedHeartbeats&&P?.error===!0?U(Object.assign(Object.assign({},P),{operation:V.PNHeartbeatOperation})):F.announceSuccessfulHeartbeats&&P.statusCode===200&&U(Object.assign(Object.assign({},P),{error:!1,operation:V.PNHeartbeatOperation,category:C.PNAcknowledgmentCategory}))})))))}}const Ks=new Ir("HEARTBEAT_STOPPED");Ks.on(io.type,((O,i)=>Ks.with({channels:[...O.channels,...i.payload.channels.filter((h=>!O.channels.includes(h)))],groups:[...O.groups,...i.payload.groups.filter((h=>!O.groups.includes(h)))]}))),Ks.on(Es.type,((O,i)=>Ks.with({channels:O.channels.filter((h=>!i.payload.channels.includes(h))),groups:O.groups.filter((h=>!i.payload.groups.includes(h)))}))),Ks.on(Dc.type,((O,i)=>Jn.with({channels:O.channels,groups:O.groups}))),Ks.on(Sa.type,((O,i)=>sn.with(void 0)));const yi=new Ir("HEARTBEAT_COOLDOWN");yi.onEnter((()=>dl())),yi.onExit((()=>dl.cancel)),yi.on(Ac.type,((O,i)=>Jn.with({channels:O.channels,groups:O.groups}))),yi.on(io.type,((O,i)=>Jn.with({channels:[...O.channels,...i.payload.channels.filter((h=>!O.channels.includes(h)))],groups:[...O.groups,...i.payload.groups.filter((h=>!O.groups.includes(h)))]}))),yi.on(Es.type,((O,i)=>Jn.with({channels:O.channels.filter((h=>!i.payload.channels.includes(h))),groups:O.groups.filter((h=>!i.payload.groups.includes(h)))},[Vr(i.payload.channels,i.payload.groups)]))),yi.on(mu.type,((O,i)=>Ks.with({channels:O.channels,groups:O.groups},[...i.payload.isOffline?[]:[Vr(O.channels,O.groups)]]))),yi.on(Sa.type,((O,i)=>sn.with(void 0,[...i.payload.isOffline?[]:[Vr(O.channels,O.groups)]])));const bi=new Ir("HEARTBEAT_FAILED");bi.on(io.type,((O,i)=>Jn.with({channels:[...O.channels,...i.payload.channels.filter((h=>!O.channels.includes(h)))],groups:[...O.groups,...i.payload.groups.filter((h=>!O.groups.includes(h)))]}))),bi.on(Es.type,((O,i)=>Jn.with({channels:O.channels.filter((h=>!i.payload.channels.includes(h))),groups:O.groups.filter((h=>!i.payload.groups.includes(h)))},[Vr(i.payload.channels,i.payload.groups)]))),bi.on(Dc.type,((O,i)=>Jn.with({channels:O.channels,groups:O.groups}))),bi.on(mu.type,((O,i)=>Ks.with({channels:O.channels,groups:O.groups},[...i.payload.isOffline?[]:[Vr(O.channels,O.groups)]]))),bi.on(Sa.type,((O,i)=>sn.with(void 0,[...i.payload.isOffline?[]:[Vr(O.channels,O.groups)]])));const Jn=new Ir("HEARTBEATING");Jn.onEnter((O=>_a(O.channels,O.groups))),Jn.onExit((()=>_a.cancel)),Jn.on(Nc.type,((O,i)=>yi.with({channels:O.channels,groups:O.groups},[so(Object.assign({},i.payload))]))),Jn.on(io.type,((O,i)=>Jn.with({channels:[...O.channels,...i.payload.channels.filter((h=>!O.channels.includes(h)))],groups:[...O.groups,...i.payload.groups.filter((h=>!O.groups.includes(h)))]}))),Jn.on(Es.type,((O,i)=>Jn.with({channels:O.channels.filter((h=>!i.payload.channels.includes(h))),groups:O.groups.filter((h=>!i.payload.groups.includes(h)))},[Vr(i.payload.channels,i.payload.groups)]))),Jn.on(uh.type,((O,i)=>bi.with(Object.assign({},O),[...i.payload.status?[so(Object.assign({},i.payload.status))]:[]]))),Jn.on(mu.type,((O,i)=>Ks.with({channels:O.channels,groups:O.groups},[...i.payload.isOffline?[]:[Vr(O.channels,O.groups)]]))),Jn.on(Sa.type,((O,i)=>sn.with(void 0,[...i.payload.isOffline?[]:[Vr(O.channels,O.groups)]])));const sn=new Ir("HEARTBEAT_INACTIVE");sn.on(io.type,((O,i)=>Jn.with({channels:i.payload.channels,groups:i.payload.groups})));class Op{get _engine(){return this.engine}constructor(i){this.dependencies=i,this.channels=[],this.groups=[],this.engine=new Oc(i.config.logger()),this.dispatcher=new ch(this.engine,i),i.config.logger().debug("PresenceEventEngine","Create presence event engine."),this._unsubscribeEngine=this.engine.subscribe((h=>{h.type==="invocationDispatched"&&this.dispatcher.dispatch(h.invocation)})),this.engine.start(sn,void 0)}join({channels:i,groups:h}){this.channels=[...this.channels,...(i??[]).filter((m=>!this.channels.includes(m)))],this.groups=[...this.groups,...(h??[]).filter((m=>!this.groups.includes(m)))],this.channels.length===0&&this.groups.length===0||this.engine.transition(io(this.channels.slice(0),this.groups.slice(0)))}leave({channels:i,groups:h}){this.dependencies.presenceState&&(i?.forEach((m=>delete this.dependencies.presenceState[m])),h?.forEach((m=>delete this.dependencies.presenceState[m]))),this.engine.transition(Es(i??[],h??[]))}leaveAll(i=!1){this.engine.transition(Sa(i))}reconnect(){this.engine.transition(Dc())}disconnect(i=!1){this.engine.transition(mu(i))}dispose(){this.disconnect(!0),this._unsubscribeEngine(),this.dispatcher.dispose()}}const hl=ro("HANDSHAKE",((O,i,h)=>({channels:O,groups:i,onDemand:h}))),vu=ro("RECEIVE_MESSAGES",((O,i,h,m)=>({channels:O,groups:i,cursor:h,onDemand:m}))),ao=no("EMIT_MESSAGES",((O,i)=>({cursor:O,events:i}))),Qr=no("EMIT_STATUS",(O=>O)),us=Qn("SUBSCRIPTION_CHANGED",((O,i,h=!1)=>({channels:O,groups:i,isOffline:h}))),Cs=Qn("SUBSCRIPTION_RESTORED",((O,i,h,m)=>({channels:O,groups:i,cursor:{timetoken:h,region:m??0}}))),Os=Qn("HANDSHAKE_SUCCESS",(O=>O)),dh=Qn("HANDSHAKE_FAILURE",(O=>O)),cs=Qn("RECEIVE_SUCCESS",((O,i)=>({cursor:O,events:i}))),Rc=Qn("RECEIVE_FAILURE",(O=>O)),yu=Qn("DISCONNECT",((O=!1)=>({isOffline:O}))),oo=Qn("RECONNECT",((O,i)=>({cursor:{timetoken:O??"",region:i??0}}))),Ps=Qn("UNSUBSCRIBE_ALL",(()=>({}))),cn=new Ir("UNSUBSCRIBED");cn.on(us.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0):Mn.with({channels:i.channels,groups:i.groups,onDemand:!0}))),cn.on(Cs.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region},onDemand:!0})));const ds=new Ir("HANDSHAKE_STOPPED");ds.on(us.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0):ds.with({channels:i.channels,groups:i.groups,cursor:O.cursor}))),ds.on(oo.type,((O,{payload:i})=>Mn.with(Object.assign(Object.assign({},O),{cursor:i.cursor||O.cursor,onDemand:!0})))),ds.on(Cs.type,((O,{payload:i})=>{var h;return i.channels.length===0&&i.groups.length===0?cn.with(void 0):ds.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||((h=O.cursor)===null||h===void 0?void 0:h.region)||0}})})),ds.on(Ps.type,(O=>cn.with()));const hs=new Ir("HANDSHAKE_FAILED");hs.on(us.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:O.cursor,onDemand:!0}))),hs.on(oo.type,((O,{payload:i})=>Mn.with(Object.assign(Object.assign({},O),{cursor:i.cursor||O.cursor,onDemand:!0})))),hs.on(Cs.type,((O,{payload:i})=>{var h,m;return i.channels.length===0&&i.groups.length===0?cn.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region?i.cursor.region:(m=(h=O?.cursor)===null||h===void 0?void 0:h.region)!==null&&m!==void 0?m:0},onDemand:!0})})),hs.on(Ps.type,(O=>cn.with()));const Mn=new Ir("HANDSHAKING");Mn.onEnter((O=>{var i;return hl(O.channels,O.groups,(i=O.onDemand)!==null&&i!==void 0&&i)})),Mn.onExit((()=>hl.cancel)),Mn.on(us.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:O.cursor,onDemand:!0}))),Mn.on(Os.type,((O,{payload:i})=>{var h,m,_,S,P;return kr.with({channels:O.channels,groups:O.groups,cursor:{timetoken:!((h=O.cursor)===null||h===void 0)&&h.timetoken?(m=O.cursor)===null||m===void 0?void 0:m.timetoken:i.timetoken,region:i.region},referenceTimetoken:xt(i.timetoken,(_=O.cursor)===null||_===void 0?void 0:_.timetoken)},[Qr({category:C.PNConnectedCategory,affectedChannels:O.channels.slice(0),affectedChannelGroups:O.groups.slice(0),currentTimetoken:!((S=O.cursor)===null||S===void 0)&&S.timetoken?(P=O.cursor)===null||P===void 0?void 0:P.timetoken:i.timetoken})])})),Mn.on(dh.type,((O,i)=>{var h;return hs.with(Object.assign(Object.assign({},O),{reason:i.payload}),[Qr({category:C.PNConnectionErrorCategory,error:(h=i.payload.status)===null||h===void 0?void 0:h.category})])})),Mn.on(yu.type,((O,i)=>{var h;if(i.payload.isOffline){const m=me.create(new Error("Network connection error")).toPubNubError(V.PNSubscribeOperation);return hs.with(Object.assign(Object.assign({},O),{reason:m}),[Qr({category:C.PNConnectionErrorCategory,error:(h=m.status)===null||h===void 0?void 0:h.category})])}return ds.with(Object.assign({},O))})),Mn.on(Cs.type,((O,{payload:i})=>{var h;return i.channels.length===0&&i.groups.length===0?cn.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||((h=O?.cursor)===null||h===void 0?void 0:h.region)||0},onDemand:!0})})),Mn.on(Ps.type,(O=>cn.with()));const xa=new Ir("RECEIVE_STOPPED");xa.on(us.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0):xa.with({channels:i.channels,groups:i.groups,cursor:O.cursor}))),xa.on(Cs.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0):xa.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||O.cursor.region}}))),xa.on(oo.type,((O,{payload:i})=>{var h;return Mn.with({channels:O.channels,groups:O.groups,cursor:{timetoken:i.cursor.timetoken?(h=i.cursor)===null||h===void 0?void 0:h.timetoken:O.cursor.timetoken,region:i.cursor.region||O.cursor.region},onDemand:!0})})),xa.on(Ps.type,(()=>cn.with(void 0)));const wi=new Ir("RECEIVE_FAILED");wi.on(oo.type,((O,{payload:i})=>{var h;return Mn.with({channels:O.channels,groups:O.groups,cursor:{timetoken:i.cursor.timetoken?(h=i.cursor)===null||h===void 0?void 0:h.timetoken:O.cursor.timetoken,region:i.cursor.region||O.cursor.region},onDemand:!0})})),wi.on(us.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:O.cursor,onDemand:!0}))),wi.on(Cs.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||O.cursor.region},onDemand:!0}))),wi.on(Ps.type,(O=>cn.with(void 0)));const kr=new Ir("RECEIVING");kr.onEnter((O=>{var i;return vu(O.channels,O.groups,O.cursor,(i=O.onDemand)!==null&&i!==void 0&&i)})),kr.onExit((()=>vu.cancel)),kr.on(cs.type,((O,{payload:i})=>kr.with({channels:O.channels,groups:O.groups,cursor:i.cursor,referenceTimetoken:xt(i.cursor.timetoken)},[ao(O.cursor,i.events)]))),kr.on(us.type,((O,{payload:i})=>{var h;if(i.channels.length===0&&i.groups.length===0){let m;return i.isOffline&&(m=(h=me.create(new Error("Network connection error")).toPubNubError(V.PNSubscribeOperation).status)===null||h===void 0?void 0:h.category),cn.with(void 0,[Qr(Object.assign({category:i.isOffline?C.PNDisconnectedUnexpectedlyCategory:C.PNDisconnectedCategory},m?{error:m}:{}))])}return kr.with({channels:i.channels,groups:i.groups,cursor:O.cursor,referenceTimetoken:O.referenceTimetoken,onDemand:!0},[Qr({category:C.PNSubscriptionChangedCategory,affectedChannels:i.channels.slice(0),affectedChannelGroups:i.groups.slice(0),currentTimetoken:O.cursor.timetoken})])})),kr.on(Cs.type,((O,{payload:i})=>i.channels.length===0&&i.groups.length===0?cn.with(void 0,[Qr({category:C.PNDisconnectedCategory})]):kr.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||O.cursor.region},referenceTimetoken:xt(O.cursor.timetoken,`${i.cursor.timetoken}`,O.referenceTimetoken),onDemand:!0},[Qr({category:C.PNSubscriptionChangedCategory,affectedChannels:i.channels.slice(0),affectedChannelGroups:i.groups.slice(0),currentTimetoken:i.cursor.timetoken})]))),kr.on(Rc.type,((O,{payload:i})=>{var h;return wi.with(Object.assign(Object.assign({},O),{reason:i}),[Qr({category:C.PNDisconnectedUnexpectedlyCategory,error:(h=i.status)===null||h===void 0?void 0:h.category})])})),kr.on(yu.type,((O,i)=>{var h;if(i.payload.isOffline){const m=me.create(new Error("Network connection error")).toPubNubError(V.PNSubscribeOperation);return wi.with(Object.assign(Object.assign({},O),{reason:m}),[Qr({category:C.PNDisconnectedUnexpectedlyCategory,error:(h=m.status)===null||h===void 0?void 0:h.category})])}return xa.with(Object.assign({},O),[Qr({category:C.PNDisconnectedCategory})])})),kr.on(Ps.type,(O=>cn.with(void 0,[Qr({category:C.PNDisconnectedCategory})])));class fl extends Pc{constructor(i,h){super(h,h.config.logger()),this.on(hl.type,zs(((m,_,S)=>d(this,[m,_,S],void 0,(function*(P,R,{handshake:U,presenceState:F,config:ae}){R.throwIfAborted();try{const ne=yield U(Object.assign(Object.assign({abortSignal:R,channels:P.channels,channelGroups:P.groups,filterExpression:ae.filterExpression},ae.maintainPresenceState&&{state:F}),{onDemand:P.onDemand}));return i.transition(Os(ne))}catch(ne){if(ne instanceof N)return ne.status&&ne.status.category==C.PNCancelledCategory?void 0:i.transition(dh(ne))}}))))),this.on(vu.type,zs(((m,_,S)=>d(this,[m,_,S],void 0,(function*(P,R,{receiveMessages:U,config:F}){R.throwIfAborted();try{const ae=yield U({abortSignal:R,channels:P.channels,channelGroups:P.groups,timetoken:P.cursor.timetoken,region:P.cursor.region,filterExpression:F.filterExpression,onDemand:P.onDemand});i.transition(cs(ae.cursor,ae.messages))}catch(ae){if(ae instanceof N){if(ae.status&&ae.status.category==C.PNCancelledCategory)return;if(!R.aborted)return i.transition(Rc(ae))}}}))))),this.on(ao.type,zs(((m,_,S)=>d(this,[m,_,S],void 0,(function*({cursor:P,events:R},U,{emitMessages:F}){R.length>0&&F(P,R)}))))),this.on(Qr.type,zs(((m,_,S)=>d(this,[m,_,S],void 0,(function*(P,R,{emitStatus:U}){return U(P)})))))}}class pl{get _engine(){return this.engine}constructor(i){this.channels=[],this.groups=[],this.dependencies=i,this.engine=new Oc(i.config.logger()),this.dispatcher=new fl(this.engine,i),i.config.logger().debug("EventEngine","Create subscribe event engine."),this._unsubscribeEngine=this.engine.subscribe((h=>{h.type==="invocationDispatched"&&this.dispatcher.dispatch(h.invocation)})),this.engine.start(cn,void 0)}get subscriptionTimetoken(){const i=this.engine.currentState;if(!i)return;let h,m="0";if(i.label===kr.label){const _=this.engine.currentContext;m=_.cursor.timetoken,h=_.referenceTimetoken}return pt(m,h??"0")}subscribe({channels:i,channelGroups:h,timetoken:m,withPresence:_}){this.channels=[...this.channels,...i??[]],this.groups=[...this.groups,...h??[]],_&&(this.channels.map((S=>this.channels.push(`${S}-pnpres`))),this.groups.map((S=>this.groups.push(`${S}-pnpres`)))),m?this.engine.transition(Cs(Array.from(new Set([...this.channels,...i??[]])),Array.from(new Set([...this.groups,...h??[]])),m)):this.engine.transition(us(Array.from(new Set([...this.channels,...i??[]])),Array.from(new Set([...this.groups,...h??[]])))),this.dependencies.join&&this.dependencies.join({channels:Array.from(new Set(this.channels.filter((S=>!S.endsWith("-pnpres"))))),groups:Array.from(new Set(this.groups.filter((S=>!S.endsWith("-pnpres")))))})}unsubscribe({channels:i=[],channelGroups:h=[]}){const m=rt(this.channels,[...i,...i.map((S=>`${S}-pnpres`))]),_=rt(this.groups,[...h,...h.map((S=>`${S}-pnpres`))]);if(new Set(this.channels).size!==new Set(m).size||new Set(this.groups).size!==new Set(_).size){const S=ht(this.channels,i),P=ht(this.groups,h);this.dependencies.presenceState&&(S?.forEach((R=>delete this.dependencies.presenceState[R])),P?.forEach((R=>delete this.dependencies.presenceState[R]))),this.channels=m,this.groups=_,this.engine.transition(us(Array.from(new Set(this.channels.slice(0))),Array.from(new Set(this.groups.slice(0))))),this.dependencies.leave&&this.dependencies.leave({channels:S.slice(0),groups:P.slice(0)})}}unsubscribeAll(i=!1){const h=this.getSubscribedChannelGroups(),m=this.getSubscribedChannels();this.channels=[],this.groups=[],this.dependencies.presenceState&&Object.keys(this.dependencies.presenceState).forEach((_=>{delete this.dependencies.presenceState[_]})),this.engine.transition(us(this.channels.slice(0),this.groups.slice(0),i)),this.dependencies.leaveAll&&this.dependencies.leaveAll({channels:m,groups:h,isOffline:i})}reconnect({timetoken:i,region:h}){const m=this.getSubscribedChannels(),_=this.getSubscribedChannels();this.engine.transition(oo(i,h)),this.dependencies.presenceReconnect&&this.dependencies.presenceReconnect({channels:_,groups:m})}disconnect(i=!1){const h=this.getSubscribedChannels(),m=this.getSubscribedChannels();this.engine.transition(yu(i)),this.dependencies.presenceDisconnect&&this.dependencies.presenceDisconnect({channels:m,groups:h,isOffline:i})}getSubscribedChannels(){return Array.from(new Set(this.channels.slice(0)))}getSubscribedChannelGroups(){return Array.from(new Set(this.groups.slice(0)))}dispose(){this.disconnect(!0),this._unsubscribeEngine(),this.dispatcher.dispose()}}class hh extends yt{constructor(i){var h;const m=(h=i.sendByPost)!==null&&h!==void 0&&h;super({method:m?ln.POST:ln.GET,compressible:m}),this.parameters=i,this.parameters.sendByPost=m}operation(){return V.PNPublishOperation}validate(){const{message:i,channel:h,keySet:{publishKey:m}}=this.parameters;return h?i?m?void 0:"Missing 'publishKey'":"Missing 'message'":"Missing 'channel'"}parse(i){return d(this,void 0,void 0,(function*(){return{timetoken:this.deserializeResponse(i)[2]}}))}get path(){const{message:i,channel:h,keySet:m}=this.parameters,_=this.prepareMessagePayload(i);return`/publish/${m.publishKey}/${m.subscribeKey}/0/${Ue(h)}/0${this.parameters.sendByPost?"":`/${Ue(_)}`}`}get queryParameters(){const{customMessageType:i,meta:h,replicate:m,storeInHistory:_,ttl:S}=this.parameters,P={};return i&&(P.custom_message_type=i),_!==void 0&&(P.store=_?"1":"0"),S!==void 0&&(P.ttl=S),m===void 0||m||(P.norep="true"),h&&typeof h=="object"&&(P.meta=JSON.stringify(h)),P}get headers(){var i;return this.parameters.sendByPost?Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"}):super.headers}get body(){return this.prepareMessagePayload(this.parameters.message)}prepareMessagePayload(i){const{crypto:h}=this.parameters;if(!h)return JSON.stringify(i)||"";const m=h.encrypt(JSON.stringify(i));return JSON.stringify(typeof m=="string"?m:x(m))}}class gl extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNSignalOperation}validate(){const{message:i,channel:h,keySet:{publishKey:m}}=this.parameters;return h?i?m?void 0:"Missing 'publishKey'":"Missing 'message'":"Missing 'channel'"}parse(i){return d(this,void 0,void 0,(function*(){return{timetoken:this.deserializeResponse(i)[2]}}))}get path(){const{keySet:{publishKey:i,subscribeKey:h},channel:m,message:_}=this.parameters,S=JSON.stringify(_);return`/signal/${i}/${h}/0/${Ue(m)}/0/${Ue(S)}`}get queryParameters(){const{customMessageType:i}=this.parameters,h={};return i&&(h.custom_message_type=i),h}}class Vt extends rl{operation(){return V.PNReceiveMessagesOperation}validate(){return super.validate()||(this.parameters.timetoken?this.parameters.region?void 0:"region can not be empty":"timetoken can not be empty")}get path(){const{keySet:{subscribeKey:i},channels:h=[]}=this.parameters;return`/v2/subscribe/${i}/${Qe(h.sort(),",")}/0`}get queryParameters(){const{channelGroups:i,filterExpression:h,timetoken:m,region:_,onDemand:S}=this.parameters,P={ee:""};return S&&(P["on-demand"]=1),i&&i.length>0&&(P["channel-group"]=i.sort().join(",")),h&&h.length>0&&(P["filter-expr"]=h),typeof m=="string"?m&&m!=="0"&&m.length>0&&(P.tt=m):m&&m>0&&(P.tt=m),_&&(P.tr=_),P}}class ka extends rl{operation(){return V.PNHandshakeOperation}get path(){const{keySet:{subscribeKey:i},channels:h=[]}=this.parameters;return`/v2/subscribe/${i}/${Qe(h.sort(),",")}/0`}get queryParameters(){const{channelGroups:i,filterExpression:h,state:m,onDemand:_}=this.parameters,S={ee:""};return _&&(S["on-demand"]=1),i&&i.length>0&&(S["channel-group"]=i.sort().join(",")),h&&h.length>0&&(S["filter-expr"]=h),m&&Object.keys(m).length>0&&(S.state=JSON.stringify(m)),S}}var Hi;(function(O){O[O.Channel=0]="Channel",O[O.ChannelGroup=1]="ChannelGroup"})(Hi||(Hi={}));class fs{constructor({channels:i,channelGroups:h}){this.isEmpty=!0,this._channelGroups=new Set((h??[]).filter((m=>m.length>0))),this._channels=new Set((i??[]).filter((m=>m.length>0))),this.isEmpty=this._channels.size===0&&this._channelGroups.size===0}get length(){return this.isEmpty?0:this._channels.size+this._channelGroups.size}get channels(){return this.isEmpty?[]:Array.from(this._channels)}get channelGroups(){return this.isEmpty?[]:Array.from(this._channelGroups)}contains(i){return!this.isEmpty&&(this._channels.has(i)||this._channelGroups.has(i))}with(i){return new fs({channels:[...this._channels,...i._channels],channelGroups:[...this._channelGroups,...i._channelGroups]})}without(i){return new fs({channels:[...this._channels].filter((h=>!i._channels.has(h))),channelGroups:[...this._channelGroups].filter((h=>!i._channelGroups.has(h)))})}add(i){return i._channelGroups.size>0&&(this._channelGroups=new Set([...this._channelGroups,...i._channelGroups])),i._channels.size>0&&(this._channels=new Set([...this._channels,...i._channels])),this.isEmpty=this._channels.size===0&&this._channelGroups.size===0,this}remove(i){return i._channelGroups.size>0&&(this._channelGroups=new Set([...this._channelGroups].filter((h=>!i._channelGroups.has(h))))),i._channels.size>0&&(this._channels=new Set([...this._channels].filter((h=>!i._channels.has(h))))),this}removeAll(){return this._channels.clear(),this._channelGroups.clear(),this.isEmpty=!0,this}toString(){return`SubscriptionInput { channels: [${this.channels.join(", ")}], channelGroups: [${this.channelGroups.join(", ")}], is empty: ${this.isEmpty?"true":"false"}} }`}}class Ic{constructor(i,h,m,_){this._isSubscribed=!1,this.clones={},this.parents=[],this._id=mn.createUUID(),this.referenceTimetoken=_,this.subscriptionInput=h,this.options=m,this.client=i}get id(){return this._id}get isLastClone(){return Object.keys(this.clones).length===1}get isSubscribed(){return!!this._isSubscribed||this.parents.length>0&&this.parents.some((i=>i.isSubscribed))}set isSubscribed(i){this.isSubscribed!==i&&(this._isSubscribed=i)}addParentState(i){this.parents.includes(i)||this.parents.push(i)}removeParentState(i){const h=this.parents.indexOf(i);h!==-1&&this.parents.splice(h,1)}storeClone(i,h){this.clones[i]||(this.clones[i]=h)}}class bu{constructor(i,h="Subscription"){this.subscriptionType=h,this.id=mn.createUUID(),this.eventDispatcher=new il,this._state=i}get state(){return this._state}get channels(){return this.state.subscriptionInput.channels.slice(0)}get channelGroups(){return this.state.subscriptionInput.channelGroups.slice(0)}set onMessage(i){this.eventDispatcher.onMessage=i}set onPresence(i){this.eventDispatcher.onPresence=i}set onSignal(i){this.eventDispatcher.onSignal=i}set onObjects(i){this.eventDispatcher.onObjects=i}set onMessageAction(i){this.eventDispatcher.onMessageAction=i}set onFile(i){this.eventDispatcher.onFile=i}addListener(i){this.eventDispatcher.addListener(i)}removeListener(i){this.eventDispatcher.removeListener(i)}removeAllListeners(){this.eventDispatcher.removeAllListeners()}handleEvent(i,h){var m;if((!this.state.cursor||i>this.state.cursor)&&(this.state.cursor=i),this.state.referenceTimetoken&&h.data.timetoken<this.state.referenceTimetoken)return void this.state.client.logger.trace(this.subscriptionType,(()=>({messageType:"text",message:`Event timetoken (${h.data.timetoken}) is older than reference timetoken (${this.state.referenceTimetoken}) for ${this.id} subscription object. Ignoring event.`})));if(!((m=this.state.options)===null||m===void 0)&&m.filter&&!this.state.options.filter(h))return void this.state.client.logger.trace(this.subscriptionType,`Event filtered out by filter function for ${this.id} subscription object. Ignoring event.`);const _=Object.values(this.state.clones);_.length>0&&this.state.client.logger.trace(this.subscriptionType,`Notify ${this.id} subscription object clones (count: ${_.length}) about received event.`),_.forEach((S=>S.eventDispatcher.handleEvent(h)))}dispose(){const i=Object.keys(this.state.clones);i.length>1?(this.state.client.logger.debug(this.subscriptionType,`Remove subscription object clone on dispose: ${this.id}`),delete this.state.clones[this.id]):i.length===1&&this.state.clones[this.id]&&(this.state.client.logger.debug(this.subscriptionType,`Unsubscribe subscription object on dispose: ${this.id}`),this.unsubscribe())}invalidate(i=!1){this.state._isSubscribed=!1,i&&(delete this.state.clones[this.id],Object.keys(this.state.clones).length===0&&(this.state.client.logger.trace(this.subscriptionType,"Last clone removed. Reset shared subscription state."),this.state.subscriptionInput.removeAll(),this.state.parents=[]))}subscribe(i){this.state.isSubscribed?this.state.client.logger.trace(this.subscriptionType,"Already subscribed. Ignoring subscribe request."):(this.state.client.logger.debug(this.subscriptionType,(()=>i?{messageType:"object",message:i,details:"Subscribe with parameters:"}:{messageType:"text",message:"Subscribe"})),this.state.isSubscribed=!0,this.updateSubscription({subscribing:!0,timetoken:i?.timetoken}))}unsubscribe(){if(!this.state._isSubscribed||this.state.isSubscribed){if(!this.state._isSubscribed&&this.state.parents.length>0&&this.state.isSubscribed)return void this.state.client.logger.warn(this.subscriptionType,(()=>({messageType:"object",details:"Subscription is subscribed as part of a subscription set. Remove from active sets to unsubscribe:",message:this.state.parents.filter((i=>i.isSubscribed))})));if(!this.state._isSubscribed)return void this.state.client.logger.trace(this.subscriptionType,"Not subscribed. Ignoring unsubscribe request.")}this.state.client.logger.debug(this.subscriptionType,"Unsubscribe"),this.state.isSubscribed=!1,delete this.state.cursor,this.updateSubscription({subscribing:!1})}updateSubscription(i){var h,m;i?.timetoken&&(!((h=this.state.cursor)===null||h===void 0)&&h.timetoken&&((m=this.state.cursor)===null||m===void 0?void 0:m.timetoken)!=="0"?i.timetoken!=="0"&&i.timetoken>this.state.cursor.timetoken&&(this.state.cursor.timetoken=i.timetoken):this.state.cursor={timetoken:i.timetoken});const _=i.subscriptions&&i.subscriptions.length>0?i.subscriptions:void 0;i.subscribing?this.register(Object.assign(Object.assign({},i.timetoken?{cursor:this.state.cursor}:{}),_?{subscriptions:_}:{})):this.unregister(_)}}class Mc extends Ic{constructor(i){const h=new fs({});i.subscriptions.forEach((m=>h.add(m.state.subscriptionInput))),super(i.client,h,i.options,i.client.subscriptionTimetoken),this.subscriptions=i.subscriptions}addSubscription(i){this.subscriptions.includes(i)||(i.state.addParentState(this),this.subscriptions.push(i),this.subscriptionInput.add(i.state.subscriptionInput))}removeSubscription(i,h){const m=this.subscriptions.indexOf(i);m!==-1&&(this.subscriptions.splice(m,1),h||i.state.removeParentState(this),this.subscriptionInput.remove(i.state.subscriptionInput))}removeAllSubscriptions(){this.subscriptions.forEach((i=>i.state.removeParentState(this))),this.subscriptions.splice(0,this.subscriptions.length),this.subscriptionInput.removeAll()}}class Ys extends bu{constructor(i){let h;if("client"in i){let m=[];!i.subscriptions&&i.entities?i.entities.forEach((_=>m.push(_.subscription(i.options)))):i.subscriptions&&(m=i.subscriptions),h=new Mc({client:i.client,subscriptions:m,options:i.options}),m.forEach((_=>_.state.addParentState(h))),h.client.logger.debug("SubscriptionSet",(()=>({messageType:"object",details:"Create subscription set with parameters:",message:Object.assign({subscriptions:h.subscriptions},i.options?i.options:{})})))}else h=i.state,h.client.logger.debug("SubscriptionSet","Create subscription set clone");super(h,"SubscriptionSet"),this.state.storeClone(this.id,this),h.subscriptions.forEach((m=>m.addParentSet(this)))}get state(){return super.state}get subscriptions(){return this.state.subscriptions.slice(0)}handleEvent(i,h){var m;this.state.subscriptionInput.contains((m=h.data.subscription)!==null&&m!==void 0?m:h.data.channel)&&(this.state._isSubscribed?(super.handleEvent(i,h),this.state.subscriptions.length>0&&this.state.client.logger.trace(this.subscriptionType,`Notify ${this.id} subscription set subscriptions (count: ${this.state.subscriptions.length}) about received event.`),this.state.subscriptions.forEach((_=>_.handleEvent(i,h)))):this.state.client.logger.trace(this.subscriptionType,`Subscription set ${this.id} is not subscribed. Ignoring event.`))}subscriptionInput(i=!1){let h=this.state.subscriptionInput;return this.state.subscriptions.forEach((m=>{i&&m.state.entity.subscriptionsCount>0&&(h=h.without(m.state.subscriptionInput))})),h}cloneEmpty(){return new Ys({state:this.state})}dispose(){const i=this.state.isLastClone;this.state.subscriptions.forEach((h=>{h.removeParentSet(this),i&&h.state.removeParentState(this.state)})),super.dispose()}invalidate(i=!1){(i?this.state.subscriptions.slice(0):this.state.subscriptions).forEach((h=>{i&&(h.state.entity.decreaseSubscriptionCount(this.state.id),h.removeParentSet(this)),h.invalidate(i)})),i&&this.state.removeAllSubscriptions(),super.invalidate()}addSubscription(i){this.addSubscriptions([i])}addSubscriptions(i){const h=[],m=[];this.state.client.logger.debug(this.subscriptionType,(()=>{const _=[],S=[];return i.forEach((P=>{this.state.subscriptions.includes(P)?_.push(P):S.push(P)})),{messageType:"object",details:`Add subscriptions to ${this.id} (subscriptions count: ${this.state.subscriptions.length+S.length}):`,message:{addedSubscriptions:S,ignoredSubscriptions:_}}})),i.filter((_=>!this.state.subscriptions.includes(_))).forEach((_=>{_.state.isSubscribed?m.push(_):h.push(_),_.addParentSet(this),this.state.addSubscription(_)})),m.length===0&&h.length===0||!this.state.isSubscribed||(m.forEach((({state:_})=>_.entity.increaseSubscriptionCount(this.state.id))),h.length>0&&this.updateSubscription({subscribing:!0,subscriptions:h}))}removeSubscription(i){this.removeSubscriptions([i])}removeSubscriptions(i){const h=[];this.state.client.logger.debug(this.subscriptionType,(()=>{const m=[],_=[];return i.forEach((S=>{this.state.subscriptions.includes(S)?_.push(S):m.push(S)})),{messageType:"object",details:`Remove subscriptions from ${this.id} (subscriptions count: ${this.state.subscriptions.length}):`,message:{removedSubscriptions:_,ignoredSubscriptions:m}}})),i.filter((m=>this.state.subscriptions.includes(m))).forEach((m=>{m.state.isSubscribed&&h.push(m),m.removeParentSet(this),this.state.removeSubscription(m,m.parentSetsCount>1)})),h.length!==0&&this.state.isSubscribed&&this.updateSubscription({subscribing:!1,subscriptions:h})}addSubscriptionSet(i){this.addSubscriptions(i.subscriptions)}removeSubscriptionSet(i){this.removeSubscriptions(i.subscriptions)}register(i){var h;const m=(h=i.subscriptions)!==null&&h!==void 0?h:this.state.subscriptions;m.forEach((({state:_})=>_.entity.increaseSubscriptionCount(this.state.id))),this.state.client.logger.trace(this.subscriptionType,(()=>({messageType:"text",message:`Register subscription for real-time events: ${this}`}))),this.state.client.registerEventHandleCapable(this,i.cursor,m)}unregister(i){const h=i??this.state.subscriptions;h.forEach((({state:m})=>m.entity.decreaseSubscriptionCount(this.state.id))),this.state.client.logger.trace(this.subscriptionType,(()=>i?{messageType:"object",message:{subscription:this,subscriptions:i},details:"Unregister subscriptions of subscription set from real-time events:"}:{messageType:"text",message:`Unregister subscription from real-time events: ${this}`})),this.state.client.unregisterEventHandleCapable(this,h)}toString(){const i=this.state;return`${this.subscriptionType} { id: ${this.id}, stateId: ${i.id}, clonesCount: ${Object.keys(this.state.clones).length}, isSubscribed: ${i.isSubscribed}, subscriptions: [${i.subscriptions.map((h=>h.toString())).join(", ")}] }`}}class ml extends Ic{constructor(i){var h,m;const _=i.entity.subscriptionNames((m=(h=i.options)===null||h===void 0?void 0:h.receivePresenceEvents)!==null&&m!==void 0&&m),S=new fs({[i.entity.subscriptionType==Hi.Channel?"channels":"channelGroups"]:_});super(i.client,S,i.options,i.client.subscriptionTimetoken),this.entity=i.entity}}class Ts extends bu{constructor(i){"client"in i?i.client.logger.debug("Subscription",(()=>({messageType:"object",details:"Create subscription with parameters:",message:Object.assign({entity:i.entity},i.options?i.options:{})}))):i.state.client.logger.debug("Subscription","Create subscription clone"),super("state"in i?i.state:new ml(i)),this.parents=[],this.handledUpdates=[],this.state.storeClone(this.id,this)}get state(){return super.state}get parentSetsCount(){return this.parents.length}handleEvent(i,h){var m,_;if(this.state.isSubscribed&&this.state.subscriptionInput.contains((m=h.data.subscription)!==null&&m!==void 0?m:h.data.channel)){if(this.parentSetsCount>0){const S=Dn(h.data);if(this.handledUpdates.includes(S))return void this.state.client.logger.trace(this.subscriptionType,`Event (${S}) already handled by ${this.id}. Ignoring.`);this.handledUpdates.push(S),this.handledUpdates.length>10&&this.handledUpdates.shift()}this.state.subscriptionInput.contains((_=h.data.subscription)!==null&&_!==void 0?_:h.data.channel)&&super.handleEvent(i,h)}}subscriptionInput(i=!1){return i&&this.state.entity.subscriptionsCount>0?new fs({}):this.state.subscriptionInput}cloneEmpty(){return new Ts({state:this.state})}dispose(){this.parentSetsCount>0?this.state.client.logger.debug(this.subscriptionType,(()=>({messageType:"text",message:`'${this.state.entity.subscriptionNames()}' subscription still in use. Ignore dispose request.`}))):(this.handledUpdates.splice(0,this.handledUpdates.length),super.dispose())}invalidate(i=!1){i&&this.state.entity.decreaseSubscriptionCount(this.state.id),this.handledUpdates.splice(0,this.handledUpdates.length),super.invalidate(i)}addParentSet(i){this.parents.includes(i)||(this.parents.push(i),this.state.client.logger.trace(this.subscriptionType,`Add parent subscription set for ${this.id}: ${i.id}. Parent subscription set count: ${this.parentSetsCount}`))}removeParentSet(i){const h=this.parents.indexOf(i);h!==-1&&(this.parents.splice(h,1),this.state.client.logger.trace(this.subscriptionType,`Remove parent subscription set from ${this.id}: ${i.id}. Parent subscription set count: ${this.parentSetsCount}`)),this.parentSetsCount===0&&this.handledUpdates.splice(0,this.handledUpdates.length)}addSubscription(i){this.state.client.logger.debug(this.subscriptionType,(()=>({messageType:"text",message:`Create set with subscription: ${i}`})));const h=new Ys({client:this.state.client,subscriptions:[this,i],options:this.state.options});return(this.state.isSubscribed||i.state.isSubscribed)&&(this.state.client.logger.trace(this.subscriptionType,"Subscribe resulting set because the receiver is already subscribed."),h.subscribe()),h}register(i){this.state.entity.increaseSubscriptionCount(this.state.id),this.state.client.logger.trace(this.subscriptionType,(()=>({messageType:"text",message:`Register subscription for real-time events: ${this}`}))),this.state.client.registerEventHandleCapable(this,i.cursor)}unregister(i){this.state.entity.decreaseSubscriptionCount(this.state.id),this.state.client.logger.trace(this.subscriptionType,(()=>({messageType:"text",message:`Unregister subscription from real-time events: ${this}`}))),this.handledUpdates.splice(0,this.handledUpdates.length),this.state.client.unregisterEventHandleCapable(this)}toString(){const i=this.state;return`${this.subscriptionType} { id: ${this.id}, stateId: ${i.id}, entity: ${i.entity.subscriptionNames(!1).pop()}, clonesCount: ${Object.keys(i.clones).length}, isSubscribed: ${i.isSubscribed}, parentSetsCount: ${this.parentSetsCount}, cursor: ${i.cursor?i.cursor.timetoken:"not set"}, referenceTimetoken: ${i.referenceTimetoken?i.referenceTimetoken:"not set"} }`}}class qi extends yt{constructor(i){var h,m,_,S;super(),this.parameters=i,(h=(_=this.parameters).channels)!==null&&h!==void 0||(_.channels=[]),(m=(S=this.parameters).channelGroups)!==null&&m!==void 0||(S.channelGroups=[])}operation(){return V.PNGetStateOperation}validate(){const{keySet:{subscribeKey:i},channels:h,channelGroups:m}=this.parameters;if(!i)return"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){const h=this.deserializeResponse(i),{channels:m=[],channelGroups:_=[]}=this.parameters,S={channels:{}};return m.length===1&&_.length===0?S.channels[m[0]]=h.payload:S.channels=h.payload,S}))}get path(){const{keySet:{subscribeKey:i},uuid:h,channels:m}=this.parameters;return`/v2/presence/sub-key/${i}/channel/${Qe(m??[],",")}/uuid/${h}`}get queryParameters(){const{channelGroups:i}=this.parameters;return i&&i.length!==0?{"channel-group":i.join(",")}:{}}}class zi extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNSetStateOperation}validate(){const{keySet:{subscribeKey:i},state:h,channels:m=[],channelGroups:_=[]}=this.parameters;return i?h?m?.length===0&&_?.length===0?"Please provide a list of channels and/or channel-groups":void 0:"Missing State":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){return{state:this.deserializeResponse(i).payload}}))}get path(){const{keySet:{subscribeKey:i},uuid:h,channels:m}=this.parameters;return`/v2/presence/sub-key/${i}/channel/${Qe(m??[],",")}/uuid/${Ue(h)}/data`}get queryParameters(){const{channelGroups:i,state:h}=this.parameters,m={state:JSON.stringify(h)};return i&&i.length!==0&&(m["channel-group"]=i.join(",")),m}}class Ki extends yt{constructor(i){super({cancellable:!0}),this.parameters=i}operation(){return V.PNHeartbeatOperation}validate(){const{keySet:{subscribeKey:i},channels:h=[],channelGroups:m=[]}=this.parameters;return i?h.length===0&&m.length===0?"Please provide a list of channels and/or channel-groups":void 0:"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((m=>({})))}))}get path(){const{keySet:{subscribeKey:i},channels:h}=this.parameters;return`/v2/presence/sub-key/${i}/channel/${Qe(h??[],",")}/heartbeat`}get queryParameters(){const{channelGroups:i,state:h,heartbeat:m}=this.parameters,_={heartbeat:`${m}`};return i&&i.length!==0&&(_["channel-group"]=i.join(",")),h&&(_.state=JSON.stringify(h)),_}}class vl extends yt{constructor(i){super(),this.parameters=i,this.parameters.channelGroups&&(this.parameters.channelGroups=Array.from(new Set(this.parameters.channelGroups))),this.parameters.channels&&(this.parameters.channels=Array.from(new Set(this.parameters.channels)))}operation(){return V.PNUnsubscribeOperation}validate(){const{keySet:{subscribeKey:i},channels:h=[],channelGroups:m=[]}=this.parameters;return i?h.length===0&&m.length===0?"At least one `channel` or `channel group` should be provided.":void 0:"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((m=>({})))}))}get path(){var i;const{keySet:{subscribeKey:h},channels:m}=this.parameters;return`/v2/presence/sub-key/${h}/channel/${Qe((i=m?.sort())!==null&&i!==void 0?i:[],",")}/leave`}get queryParameters(){const{channelGroups:i}=this.parameters;return i&&i.length!==0?{"channel-group":i.sort().join(",")}:{}}}class Yi extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNWhereNowOperation}validate(){if(!this.parameters.keySet.subscribeKey)return"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){const h=this.deserializeResponse(i);return h.payload?{channels:h.payload.channels}:{channels:[]}}))}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/presence/sub-key/${i}/uuid/${Ue(h)}`}}class Pp extends yt{constructor(i){var h,m,_,S,P,R;super(),this.parameters=i,(h=(S=this.parameters).queryParameters)!==null&&h!==void 0||(S.queryParameters={}),(m=(P=this.parameters).includeUUIDs)!==null&&m!==void 0||(P.includeUUIDs=!0),(_=(R=this.parameters).includeState)!==null&&_!==void 0||(R.includeState=!1)}operation(){const{channels:i=[],channelGroups:h=[]}=this.parameters;return i.length===0&&h.length===0?V.PNGlobalHereNowOperation:V.PNHereNowOperation}validate(){if(!this.parameters.keySet.subscribeKey)return"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){var h,m;const _=this.deserializeResponse(i),S="occupancy"in _?1:_.payload.total_channels,P="occupancy"in _?_.occupancy:_.payload.total_occupancy,R={};let U={};if("occupancy"in _){const F=this.parameters.channels[0];U[F]={uuids:(h=_.uuids)!==null&&h!==void 0?h:[],occupancy:P}}else U=(m=_.payload.channels)!==null&&m!==void 0?m:{};return Object.keys(U).forEach((F=>{const ae=U[F];R[F]={occupants:this.parameters.includeUUIDs?ae.uuids.map((ne=>typeof ne=="string"?{uuid:ne,state:null}:ne)):[],name:F,occupancy:ae.occupancy}})),{totalChannels:S,totalOccupancy:P,channels:R}}))}get path(){const{keySet:{subscribeKey:i},channels:h,channelGroups:m}=this.parameters;let _=`/v2/presence/sub-key/${i}`;return(h&&h.length>0||m&&m.length>0)&&(_+=`/channel/${Qe(h??[],",")}`),_}get queryParameters(){const{channelGroups:i,includeUUIDs:h,includeState:m,queryParameters:_}=this.parameters;return Object.assign(Object.assign(Object.assign(Object.assign({},h?{}:{disable_uuids:"1"}),m!=null&&m?{state:"1"}:{}),i&&i.length>0?{"channel-group":i.join(",")}:{}),_)}}class fh extends yt{constructor(i){super({method:ln.DELETE}),this.parameters=i}operation(){return V.PNDeleteMessagesOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channel?void 0:"Missing channel":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((m=>({})))}))}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v3/history/sub-key/${i}/channel/${Ue(h)}`}get queryParameters(){const{start:i,end:h}=this.parameters;return Object.assign(Object.assign({},i?{start:i}:{}),h?{end:h}:{})}}class Ea extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNMessageCounts}validate(){const{keySet:{subscribeKey:i},channels:h,timetoken:m,channelTimetokens:_}=this.parameters;return i?h?m&&_?"`timetoken` and `channelTimetokens` are incompatible together":m||_?_&&_.length>1&&_.length!==h.length?"Length of `channelTimetokens` and `channels` do not match":void 0:"`timetoken` or `channelTimetokens` need to be set":"Missing channels":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){return{channels:this.deserializeResponse(i).channels}}))}get path(){return`/v3/history/sub-key/${this.parameters.keySet.subscribeKey}/message-counts/${Qe(this.parameters.channels)}`}get queryParameters(){let{channelTimetokens:i}=this.parameters;return this.parameters.timetoken&&(i=[this.parameters.timetoken]),Object.assign(Object.assign({},i.length===1?{timetoken:i[0]}:{}),i.length>1?{channelsTimetoken:i.join(",")}:{})}}class jc extends yt{constructor(i){var h,m,_;super(),this.parameters=i,i.count?i.count=Math.min(i.count,100):i.count=100,(h=i.stringifiedTimeToken)!==null&&h!==void 0||(i.stringifiedTimeToken=!1),(m=i.includeMeta)!==null&&m!==void 0||(i.includeMeta=!1),(_=i.logVerbosity)!==null&&_!==void 0||(i.logVerbosity=!1)}operation(){return V.PNHistoryOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channel?void 0:"Missing channel":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){const h=this.deserializeResponse(i),m=h[0],_=h[1],S=h[2];return Array.isArray(m)?{messages:m.map((P=>{const R=this.processPayload(P.message),U={entry:R.payload,timetoken:P.timetoken};return R.error&&(U.error=R.error),P.meta&&(U.meta=P.meta),U})),startTimeToken:_,endTimeToken:S}:{messages:[],startTimeToken:_,endTimeToken:S}}))}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/history/sub-key/${i}/channel/${Ue(h)}`}get queryParameters(){const{start:i,end:h,reverse:m,count:_,stringifiedTimeToken:S,includeMeta:P}=this.parameters;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:_,include_token:"true"},i?{start:i}:{}),h?{end:h}:{}),S?{string_message_token:"true"}:{}),m!=null?{reverse:m.toString()}:{}),P?{include_meta:"true"}:{})}processPayload(i){const{crypto:h,logVerbosity:m}=this.parameters;if(!h||typeof i!="string")return{payload:i};let _,S;try{const P=h.decrypt(i);_=P instanceof ArrayBuffer?JSON.parse(jc.decoder.decode(P)):P}catch(P){m&&console.log("decryption error",P.message),_=i,S=`Error while decrypting message content: ${P.message}`}return{payload:_,error:S}}}var yl;(function(O){O[O.Message=-1]="Message",O[O.Files=4]="Files"})(yl||(yl={}));class lo extends yt{constructor(i){var h,m,_,S,P;super(),this.parameters=i;const R=(h=i.includeMessageActions)!==null&&h!==void 0&&h,U=i.channels.length>1||R?25:100;i.count?i.count=Math.min(i.count,U):i.count=U,i.includeUuid?i.includeUUID=i.includeUuid:(m=i.includeUUID)!==null&&m!==void 0||(i.includeUUID=!0),(_=i.stringifiedTimeToken)!==null&&_!==void 0||(i.stringifiedTimeToken=!1),(S=i.includeMessageType)!==null&&S!==void 0||(i.includeMessageType=!0),(P=i.logVerbosity)!==null&&P!==void 0||(i.logVerbosity=!1)}operation(){return V.PNFetchMessagesOperation}validate(){const{keySet:{subscribeKey:i},channels:h,includeMessageActions:m}=this.parameters;return i?h?m!==void 0&&m&&h.length>1?"History can return actions data for a single channel only. Either pass a single channel or disable the includeMessageActions flag.":void 0:"Missing channels":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){var h;const m=this.deserializeResponse(i),_=(h=m.channels)!==null&&h!==void 0?h:{},S={};return Object.keys(_).forEach((P=>{S[P]=_[P].map((R=>{R.message_type===null&&(R.message_type=yl.Message);const U=this.processPayload(P,R),F=Object.assign(Object.assign({channel:P,timetoken:R.timetoken,message:U.payload,messageType:R.message_type},R.custom_message_type?{customMessageType:R.custom_message_type}:{}),{uuid:R.uuid});if(R.actions){const ae=F;ae.actions=R.actions,ae.data=R.actions}return R.meta&&(F.meta=R.meta),U.error&&(F.error=U.error),F}))})),m.more?{channels:S,more:m.more}:{channels:S}}))}get path(){const{keySet:{subscribeKey:i},channels:h,includeMessageActions:m}=this.parameters;return`/v3/${m?"history-with-actions":"history"}/sub-key/${i}/channel/${Qe(h)}`}get queryParameters(){const{start:i,end:h,count:m,includeCustomMessageType:_,includeMessageType:S,includeMeta:P,includeUUID:R,stringifiedTimeToken:U}=this.parameters;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({max:m},i?{start:i}:{}),h?{end:h}:{}),U?{string_message_token:"true"}:{}),P!==void 0&&P?{include_meta:"true"}:{}),R?{include_uuid:"true"}:{}),_!=null?{include_custom_message_type:_?"true":"false"}:{}),S?{include_message_type:"true"}:{})}processPayload(i,h){const{crypto:m,logVerbosity:_}=this.parameters;if(!m||typeof h.message!="string")return{payload:h.message};let S,P;try{const R=m.decrypt(h.message);S=R instanceof ArrayBuffer?JSON.parse(lo.decoder.decode(R)):R}catch(R){_&&console.log("decryption error",R.message),S=h.message,P=`Error while decrypting message content: ${R.message}`}if(!P&&S&&h.message_type==yl.Files&&typeof S=="object"&&this.isFileMessage(S)){const R=S;return{payload:{message:R.message,file:Object.assign(Object.assign({},R.file),{url:this.parameters.getFileUrl({channel:i,id:R.file.id,name:R.file.name})})},error:P}}return{payload:S,error:P}}isFileMessage(i){return i.file!==void 0}}class ph extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNGetMessageActionsOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channel?void 0:"Missing message channel":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){const h=this.deserializeResponse(i);let m=null,_=null;return h.data.length>0&&(m=h.data[0].actionTimetoken,_=h.data[h.data.length-1].actionTimetoken),{data:h.data,more:h.more,start:m,end:_}}))}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v1/message-actions/${i}/channel/${Ue(h)}`}get queryParameters(){const{limit:i,start:h,end:m}=this.parameters;return Object.assign(Object.assign(Object.assign({},h?{start:h}:{}),m?{end:m}:{}),i?{limit:i}:{})}}class Tp extends yt{constructor(i){super({method:ln.POST}),this.parameters=i}operation(){return V.PNAddMessageActionOperation}validate(){const{keySet:{subscribeKey:i},action:h,channel:m,messageTimetoken:_}=this.parameters;return i?m?_?h?h.value?h.type?h.type.length>15?"Action.type value exceed maximum length of 15":void 0:"Missing Action.type":"Missing Action.value":"Missing Action":"Missing message timetoken":"Missing message channel":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((({data:m})=>({data:m})))}))}get path(){const{keySet:{subscribeKey:i},channel:h,messageTimetoken:m}=this.parameters;return`/v1/message-actions/${i}/channel/${Ue(h)}/message/${m}`}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"})}get body(){return JSON.stringify(this.parameters.action)}}class an extends yt{constructor(i){super({method:ln.DELETE}),this.parameters=i}operation(){return V.PNRemoveMessageActionOperation}validate(){const{keySet:{subscribeKey:i},channel:h,messageTimetoken:m,actionTimetoken:_}=this.parameters;return i?h?m?_?void 0:"Missing action timetoken":"Missing message timetoken":"Missing message action channel":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((({data:m})=>({data:m})))}))}get path(){const{keySet:{subscribeKey:i},channel:h,actionTimetoken:m,messageTimetoken:_}=this.parameters;return`/v1/message-actions/${i}/channel/${Ue(h)}/message/${_}/action/${m}`}}class Zt extends yt{constructor(i){var h,m;super(),this.parameters=i,(h=(m=this.parameters).storeInHistory)!==null&&h!==void 0||(m.storeInHistory=!0)}operation(){return V.PNPublishFileMessageOperation}validate(){const{channel:i,fileId:h,fileName:m}=this.parameters;return i?h?m?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"}parse(i){return d(this,void 0,void 0,(function*(){return{timetoken:this.deserializeResponse(i)[2]}}))}get path(){const{message:i,channel:h,keySet:{publishKey:m,subscribeKey:_},fileId:S,fileName:P}=this.parameters,R=Object.assign({file:{name:P,id:S}},i?{message:i}:{});return`/v1/files/publish-file/${m}/${_}/0/${Ue(h)}/0/${Ue(this.prepareMessagePayload(R))}`}get queryParameters(){const{customMessageType:i,storeInHistory:h,ttl:m,meta:_}=this.parameters;return Object.assign(Object.assign(Object.assign({store:h?"1":"0"},i?{custom_message_type:i}:{}),m?{ttl:m}:{}),_&&typeof _=="object"?{meta:JSON.stringify(_)}:{})}prepareMessagePayload(i){const{crypto:h}=this.parameters;if(!h)return JSON.stringify(i)||"";const m=h.encrypt(JSON.stringify(i));return JSON.stringify(typeof m=="string"?m:x(m))}}class uo extends yt{constructor(i){super({method:ln.LOCAL}),this.parameters=i}operation(){return V.PNGetFileUrlOperation}validate(){const{channel:i,id:h,name:m}=this.parameters;return i?h?m?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"}parse(i){return d(this,void 0,void 0,(function*(){return i.url}))}get path(){const{channel:i,id:h,name:m,keySet:{subscribeKey:_}}=this.parameters;return`/v1/files/${_}/channels/${Ue(i)}/files/${h}/${m}`}}class wu extends yt{constructor(i){super({method:ln.DELETE}),this.parameters=i}operation(){return V.PNDeleteFileOperation}validate(){const{channel:i,id:h,name:m}=this.parameters;return i?h?m?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"}get path(){const{keySet:{subscribeKey:i},id:h,channel:m,name:_}=this.parameters;return`/v1/files/${i}/channels/${Ue(m)}/files/${h}/${_}`}}class Dp extends yt{constructor(i){var h,m;super(),this.parameters=i,(h=(m=this.parameters).limit)!==null&&h!==void 0||(m.limit=100)}operation(){return V.PNListFilesOperation}validate(){if(!this.parameters.channel)return"channel can't be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v1/files/${i}/channels/${Ue(h)}/files`}get queryParameters(){const{limit:i,next:h}=this.parameters;return Object.assign({limit:i},h?{next:h}:{})}}class Np extends yt{constructor(i){super({method:ln.POST}),this.parameters=i}operation(){return V.PNGenerateUploadUrlOperation}validate(){return this.parameters.channel?this.parameters.name?void 0:"'name' can't be empty":"channel can't be empty"}parse(i){return d(this,void 0,void 0,(function*(){const h=this.deserializeResponse(i);return{id:h.data.id,name:h.data.name,url:h.file_upload_request.url,formFields:h.file_upload_request.form_fields}}))}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v1/files/${i}/channels/${Ue(h)}/generate-upload-url`}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"})}get body(){return JSON.stringify({name:this.parameters.name})}}class bl extends yt{constructor(i){super({method:ln.POST}),this.parameters=i;const h=i.file.mimeType;h&&(i.formFields=i.formFields.map((m=>m.name==="Content-Type"?{name:m.name,value:h}:m)))}operation(){return V.PNPublishFileOperation}validate(){const{fileId:i,fileName:h,file:m,uploadUrl:_}=this.parameters;return i?h?m?_?void 0:"Validation failed: file upload 'url' can't be empty":"Validation failed: 'file' can't be empty":"Validation failed: file 'name' can't be empty":"Validation failed: file 'id' can't be empty"}parse(i){return d(this,void 0,void 0,(function*(){return{status:i.status,message:i.body?bl.decoder.decode(i.body):"OK"}}))}request(){return Object.assign(Object.assign({},super.request()),{origin:new URL(this.parameters.uploadUrl).origin,timeout:300})}get path(){const{pathname:i,search:h}=new URL(this.parameters.uploadUrl);return`${i}${h}`}get body(){return this.parameters.file}get formData(){return this.parameters.formFields}}class _u{constructor(i){var h;if(this.parameters=i,this.file=(h=this.parameters.PubNubFile)===null||h===void 0?void 0:h.create(i.file),!this.file)throw new Error("File upload error: unable to create File object.")}process(){return d(this,void 0,void 0,(function*(){let i,h;return this.generateFileUploadUrl().then((m=>(i=m.name,h=m.id,this.uploadFile(m)))).then((m=>{if(m.status!==204)throw new N("Upload to bucket was unsuccessful",{error:!0,statusCode:m.status,category:C.PNUnknownCategory,operation:V.PNPublishFileOperation,errorData:{message:m.message}})})).then((()=>this.publishFileMessage(h,i))).catch((m=>{if(m instanceof N)throw m;const _=m instanceof me?m:me.create(m);throw new N("File upload error.",_.toStatus(V.PNPublishFileOperation))}))}))}generateFileUploadUrl(){return d(this,void 0,void 0,(function*(){const i=new Np(Object.assign(Object.assign({},this.parameters),{name:this.file.name,keySet:this.parameters.keySet}));return this.parameters.sendRequest(i)}))}uploadFile(i){return d(this,void 0,void 0,(function*(){const{cipherKey:h,PubNubFile:m,crypto:_,cryptography:S}=this.parameters,{id:P,name:R,url:U,formFields:F}=i;return this.parameters.PubNubFile.supportsEncryptFile&&(!h&&_?this.file=yield _.encryptFile(this.file,m):h&&S&&(this.file=yield S.encryptFile(h,this.file,m))),this.parameters.sendRequest(new bl({fileId:P,fileName:R,file:this.file,uploadUrl:U,formFields:F}))}))}publishFileMessage(i,h){return d(this,void 0,void 0,(function*(){var m,_,S,P;let R,U={timetoken:"0"},F=this.parameters.fileUploadPublishRetryLimit,ae=!1;do try{U=yield this.parameters.publishFile(Object.assign(Object.assign({},this.parameters),{fileId:i,fileName:h})),ae=!0}catch(ne){ne instanceof N&&(R=ne),F-=1}while(!ae&&F>0);if(ae)return{status:200,timetoken:U.timetoken,id:i,name:h};throw new N("Publish failed. You may want to execute that operation manually using pubnub.publishFile",{error:!0,category:(_=(m=R.status)===null||m===void 0?void 0:m.category)!==null&&_!==void 0?_:C.PNUnknownCategory,statusCode:(P=(S=R.status)===null||S===void 0?void 0:S.statusCode)!==null&&P!==void 0?P:0,channel:this.parameters.channel,id:i,name:h})}))}}class Ca{constructor(i,h){this.subscriptionStateIds=[],this.client=h,this._nameOrId=i}get entityType(){return"Channel"}get subscriptionType(){return Hi.Channel}subscriptionNames(i){return[this._nameOrId,...i&&!this._nameOrId.endsWith("-pnpres")?[`${this._nameOrId}-pnpres`]:[]]}subscription(i){return new Ts({client:this.client,entity:this,options:i})}get subscriptionsCount(){return this.subscriptionStateIds.length}increaseSubscriptionCount(i){this.subscriptionStateIds.includes(i)||this.subscriptionStateIds.push(i)}decreaseSubscriptionCount(i){{const h=this.subscriptionStateIds.indexOf(i);h>=0&&this.subscriptionStateIds.splice(h,1)}}toString(){return`${this.entityType} { nameOrId: ${this._nameOrId}, subscriptionsCount: ${this.subscriptionsCount} }`}}class gh extends Ca{get entityType(){return"ChannelMetadata"}get id(){return this._nameOrId}subscriptionNames(i){return[this.id]}}class _n extends Ca{get entityType(){return"ChannelGroups"}get name(){return this._nameOrId}get subscriptionType(){return Hi.ChannelGroup}}class wl extends Ca{get entityType(){return"UserMetadata"}get id(){return this._nameOrId}subscriptionNames(i){return[this.id]}}class Gs extends Ca{get entityType(){return"Channel"}get name(){return this._nameOrId}}class $c extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNRemoveChannelsFromGroupOperation}validate(){const{keySet:{subscribeKey:i},channels:h,channelGroup:m}=this.parameters;return i?m?h?void 0:"Missing channels":"Missing Channel Group":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((m=>({})))}))}get path(){const{keySet:{subscribeKey:i},channelGroup:h}=this.parameters;return`/v1/channel-registration/sub-key/${i}/channel-group/${Ue(h)}`}get queryParameters(){return{remove:this.parameters.channels.join(",")}}}class co extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNAddChannelsToGroupOperation}validate(){const{keySet:{subscribeKey:i},channels:h,channelGroup:m}=this.parameters;return i?m?h?void 0:"Missing channels":"Missing Channel Group":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((m=>({})))}))}get path(){const{keySet:{subscribeKey:i},channelGroup:h}=this.parameters;return`/v1/channel-registration/sub-key/${i}/channel-group/${Ue(h)}`}get queryParameters(){return{add:this.parameters.channels.join(",")}}}class Er extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNChannelsForGroupOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channelGroup?void 0:"Missing Channel Group":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){return{channels:this.deserializeResponse(i).payload.channels}}))}get path(){const{keySet:{subscribeKey:i},channelGroup:h}=this.parameters;return`/v1/channel-registration/sub-key/${i}/channel-group/${Ue(h)}`}}class Lc extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNRemoveGroupOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channelGroup?void 0:"Missing Channel Group":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((m=>({})))}))}get path(){const{keySet:{subscribeKey:i},channelGroup:h}=this.parameters;return`/v1/channel-registration/sub-key/${i}/channel-group/${Ue(h)}/remove`}}class Mr extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNChannelGroupsOperation}validate(){if(!this.parameters.keySet.subscribeKey)return"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,(function*(){return{groups:this.deserializeResponse(i).payload.groups}}))}get path(){return`/v1/channel-registration/sub-key/${this.parameters.keySet.subscribeKey}/channel-group`}}class Oa{constructor(i,h,m){this.sendRequest=m,this.logger=i,this.keySet=h}listChannels(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"List channel group channels with parameters:"})));const m=new Er(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=S=>{S&&this.logger.debug("PubNub",`List channel group channels success. Received ${S.channels.length} channels.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}))}listGroups(i){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub","List all channel groups.");const h=new Mr({keySet:this.keySet}),m=_=>{_&&this.logger.debug("PubNub",`List all channel groups success. Received ${_.groups.length} groups.`)};return i?this.sendRequest(h,((_,S)=>{m(S),i(_,S)})):this.sendRequest(h).then((_=>(m(_),_)))}))}addChannels(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Add channels to the channel group with parameters:"})));const m=new co(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.debug("PubNub","Add channels to the channel group success.")};return h?this.sendRequest(m,(S=>{S.error||_(),h(S)})):this.sendRequest(m).then((S=>(_(),S)))}))}removeChannels(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove channels from the channel group with parameters:"})));const m=new $c(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.debug("PubNub","Remove channels from the channel group success.")};return h?this.sendRequest(m,(S=>{S.error||_(),h(S)})):this.sendRequest(m).then((S=>(_(),S)))}))}deleteGroup(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove a channel group with parameters:"})));const m=new Lc(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.debug("PubNub",`Remove a channel group success. Removed '${i.channelGroup}' channel group.'`)};return h?this.sendRequest(m,(S=>{S.error||_(),h(S)})):this.sendRequest(m).then((S=>(_(),S)))}))}}class Pa extends yt{constructor(i){var h,m;super(),this.parameters=i,this.parameters.pushGateway==="apns2"&&((h=(m=this.parameters).environment)!==null&&h!==void 0||(m.environment="development")),this.parameters.count&&this.parameters.count>1e3&&(this.parameters.count=1e3)}operation(){throw Error("Should be implemented in subclass.")}validate(){const{keySet:{subscribeKey:i},action:h,device:m,pushGateway:_}=this.parameters;return i?m?h!=="add"&&h!=="remove"||"channels"in this.parameters&&this.parameters.channels.length!==0?_?this.parameters.pushGateway!=="apns2"||this.parameters.topic?void 0:"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm or apns2)":"Missing Channels":"Missing Device ID (device)":"Missing Subscribe Key"}get path(){const{keySet:{subscribeKey:i},action:h,device:m,pushGateway:_}=this.parameters;let S=_==="apns2"?`/v2/push/sub-key/${i}/devices-apns2/${m}`:`/v1/push/sub-key/${i}/devices/${m}`;return h==="remove-device"&&(S=`${S}/remove`),S}get queryParameters(){const{start:i,count:h}=this.parameters;let m=Object.assign(Object.assign({type:this.parameters.pushGateway},i?{start:i}:{}),h&&h>0?{count:h}:{});if("channels"in this.parameters&&(m[this.parameters.action]=this.parameters.channels.join(",")),this.parameters.pushGateway==="apns2"){const{environment:_,topic:S}=this.parameters;m=Object.assign(Object.assign({},m),{environment:_,topic:S})}return m}}class ho extends Pa{constructor(i){super(Object.assign(Object.assign({},i),{action:"remove"}))}operation(){return V.PNRemovePushNotificationEnabledChannelsOperation}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((m=>({})))}))}}class mh extends Pa{constructor(i){super(Object.assign(Object.assign({},i),{action:"list"}))}operation(){return V.PNPushNotificationEnabledChannelsOperation}parse(i){return d(this,void 0,void 0,(function*(){return{channels:this.deserializeResponse(i)}}))}}class Cr extends Pa{constructor(i){super(Object.assign(Object.assign({},i),{action:"add"}))}operation(){return V.PNAddPushNotificationEnabledChannelsOperation}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((m=>({})))}))}}class Uc extends Pa{constructor(i){super(Object.assign(Object.assign({},i),{action:"remove-device"}))}operation(){return V.PNRemoveAllPushNotificationsOperation}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,(function*(){return h.parse.call(this,i).then((m=>({})))}))}}class vr{constructor(i,h,m){this.sendRequest=m,this.logger=i,this.keySet=h}listChannels(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"List push-enabled channels with parameters:"})));const m=new mh(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=S=>{S&&this.logger.debug("PubNub",`List push-enabled channels success. Received ${S.channels.length} channels.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}))}addChannels(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Add push-enabled channels with parameters:"})));const m=new Cr(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.debug("PubNub","Add push-enabled channels success.")};return h?this.sendRequest(m,(S=>{S.error||_(),h(S)})):this.sendRequest(m).then((S=>(_(),S)))}))}removeChannels(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove push-enabled channels with parameters:"})));const m=new ho(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.debug("PubNub","Remove push-enabled channels success.")};return h?this.sendRequest(m,(S=>{S.error||_(),h(S)})):this.sendRequest(m).then((S=>(_(),S)))}))}deleteDevice(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove push notifications for device with parameters:"})));const m=new Uc(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.debug("PubNub","Remove push notifications for device success.")};return h?this.sendRequest(m,(S=>{S.error||_(),h(S)})):this.sendRequest(m).then((S=>(_(),S)))}))}}class Su extends yt{constructor(i){var h,m,_,S,P,R;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(P=i.include).customFields)!==null&&m!==void 0||(P.customFields=!1),(_=(R=i.include).totalCount)!==null&&_!==void 0||(R.totalCount=!1),(S=i.limit)!==null&&S!==void 0||(i.limit=100)}operation(){return V.PNGetAllChannelMetadataOperation}get path(){return`/v2/objects/${this.parameters.keySet.subscribeKey}/channels`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:S}=this.parameters;let P="";return P=typeof _=="string"?_:Object.entries(_??{}).map((([R,U])=>U!==null?`${R}:${U}`:R)),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({include:["status","type",...i.customFields?["custom"]:[]].join(","),count:`${i.totalCount}`},m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),S?{limit:S}:{}),P.length?{sort:P}:{})}}class Fc extends yt{constructor(i){super({method:ln.DELETE}),this.parameters=i}operation(){return V.PNRemoveChannelMetadataOperation}validate(){if(!this.parameters.channel)return"Channel cannot be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Ue(h)}`}}class Gi extends yt{constructor(i){var h,m,_,S,P,R,U,F,ae,ne,te,ye,se,ce,de,Te,nt,bt;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(te=i.include).customFields)!==null&&m!==void 0||(te.customFields=!1),(_=(ye=i.include).totalCount)!==null&&_!==void 0||(ye.totalCount=!1),(S=(se=i.include).statusField)!==null&&S!==void 0||(se.statusField=!1),(P=(ce=i.include).typeField)!==null&&P!==void 0||(ce.typeField=!1),(R=(de=i.include).channelFields)!==null&&R!==void 0||(de.channelFields=!1),(U=(Te=i.include).customChannelFields)!==null&&U!==void 0||(Te.customChannelFields=!1),(F=(nt=i.include).channelStatusField)!==null&&F!==void 0||(nt.channelStatusField=!1),(ae=(bt=i.include).channelTypeField)!==null&&ae!==void 0||(bt.channelTypeField=!1),(ne=i.limit)!==null&&ne!==void 0||(i.limit=100),this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return V.PNGetMembershipsOperation}validate(){if(!this.parameters.uuid)return"'uuid' cannot be empty"}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Ue(h)}/channels`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:S}=this.parameters;let P="";P=typeof _=="string"?_:Object.entries(_??{}).map((([U,F])=>F!==null?`${U}:${F}`:U));const R=[];return i.statusField&&R.push("status"),i.typeField&&R.push("type"),i.customFields&&R.push("custom"),i.channelFields&&R.push("channel"),i.channelStatusField&&R.push("channel.status"),i.channelTypeField&&R.push("channel.type"),i.customChannelFields&&R.push("channel.custom"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:`${i.totalCount}`},R.length>0?{include:R.join(",")}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),S?{limit:S}:{}),P.length?{sort:P}:{})}}class _l extends yt{constructor(i){var h,m,_,S,P,R,U,F,ae,ne,te,ye,se,ce,de,Te,nt,bt;super({method:ln.PATCH}),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(te=i.include).customFields)!==null&&m!==void 0||(te.customFields=!1),(_=(ye=i.include).totalCount)!==null&&_!==void 0||(ye.totalCount=!1),(S=(se=i.include).statusField)!==null&&S!==void 0||(se.statusField=!1),(P=(ce=i.include).typeField)!==null&&P!==void 0||(ce.typeField=!1),(R=(de=i.include).channelFields)!==null&&R!==void 0||(de.channelFields=!1),(U=(Te=i.include).customChannelFields)!==null&&U!==void 0||(Te.customChannelFields=!1),(F=(nt=i.include).channelStatusField)!==null&&F!==void 0||(nt.channelStatusField=!1),(ae=(bt=i.include).channelTypeField)!==null&&ae!==void 0||(bt.channelTypeField=!1),(ne=i.limit)!==null&&ne!==void 0||(i.limit=100),this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return V.PNSetMembershipsOperation}validate(){const{uuid:i,channels:h}=this.parameters;return i?h&&h.length!==0?void 0:"Channels cannot be empty":"'uuid' cannot be empty"}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Ue(h)}/channels`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:S}=this.parameters;let P="";P=typeof _=="string"?_:Object.entries(_??{}).map((([U,F])=>F!==null?`${U}:${F}`:U));const R=["channel.status","channel.type","status"];return i.statusField&&R.push("status"),i.typeField&&R.push("type"),i.customFields&&R.push("custom"),i.channelFields&&R.push("channel"),i.channelStatusField&&R.push("channel.status"),i.channelTypeField&&R.push("channel.type"),i.customChannelFields&&R.push("channel.custom"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:`${i.totalCount}`},R.length>0?{include:R.join(",")}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),S?{limit:S}:{}),P.length?{sort:P}:{})}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"})}get body(){const{channels:i,type:h}=this.parameters;return JSON.stringify({[`${h}`]:i.map((m=>typeof m=="string"?{channel:{id:m}}:{channel:{id:m.id},status:m.status,type:m.type,custom:m.custom}))})}}class Bc extends yt{constructor(i){var h,m,_,S;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(S=i.include).customFields)!==null&&m!==void 0||(S.customFields=!1),(_=i.limit)!==null&&_!==void 0||(i.limit=100)}operation(){return V.PNGetAllUUIDMetadataOperation}get path(){return`/v2/objects/${this.parameters.keySet.subscribeKey}/uuids`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:S}=this.parameters;let P="";return P=typeof _=="string"?_:Object.entries(_??{}).map((([R,U])=>U!==null?`${R}:${U}`:R)),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({include:["status","type",...i.customFields?["custom"]:[]].join(",")},i.totalCount!==void 0?{count:`${i.totalCount}`}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),S?{limit:S}:{}),P.length?{sort:P}:{})}}class dn extends yt{constructor(i){var h,m,_;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(_=i.include).customFields)!==null&&m!==void 0||(_.customFields=!0)}operation(){return V.PNGetChannelMetadataOperation}validate(){if(!this.parameters.channel)return"Channel cannot be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Ue(h)}`}get queryParameters(){return{include:["status","type",...this.parameters.include.customFields?["custom"]:[]].join(",")}}}class Vi extends yt{constructor(i){var h,m,_;super({method:ln.PATCH}),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(_=i.include).customFields)!==null&&m!==void 0||(_.customFields=!0)}operation(){return V.PNSetChannelMetadataOperation}validate(){return this.parameters.channel?this.parameters.data?void 0:"Data cannot be empty":"Channel cannot be empty"}get headers(){var i;let h=(i=super.headers)!==null&&i!==void 0?i:{};return this.parameters.ifMatchesEtag&&(h=Object.assign(Object.assign({},h),{"If-Match":this.parameters.ifMatchesEtag})),Object.assign(Object.assign({},h),{"Content-Type":"application/json"})}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Ue(h)}`}get queryParameters(){return{include:["status","type",...this.parameters.include.customFields?["custom"]:[]].join(",")}}get body(){return JSON.stringify(this.parameters.data)}}class Wc extends yt{constructor(i){super({method:ln.DELETE}),this.parameters=i,this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return V.PNRemoveUUIDMetadataOperation}validate(){if(!this.parameters.uuid)return"'uuid' cannot be empty"}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Ue(h)}`}}class Ap extends yt{constructor(i){var h,m,_,S,P,R,U,F,ae,ne,te,ye,se,ce,de,Te,nt,bt;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(te=i.include).customFields)!==null&&m!==void 0||(te.customFields=!1),(_=(ye=i.include).totalCount)!==null&&_!==void 0||(ye.totalCount=!1),(S=(se=i.include).statusField)!==null&&S!==void 0||(se.statusField=!1),(P=(ce=i.include).typeField)!==null&&P!==void 0||(ce.typeField=!1),(R=(de=i.include).UUIDFields)!==null&&R!==void 0||(de.UUIDFields=!1),(U=(Te=i.include).customUUIDFields)!==null&&U!==void 0||(Te.customUUIDFields=!1),(F=(nt=i.include).UUIDStatusField)!==null&&F!==void 0||(nt.UUIDStatusField=!1),(ae=(bt=i.include).UUIDTypeField)!==null&&ae!==void 0||(bt.UUIDTypeField=!1),(ne=i.limit)!==null&&ne!==void 0||(i.limit=100)}operation(){return V.PNSetMembersOperation}validate(){if(!this.parameters.channel)return"Channel cannot be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Ue(h)}/uuids`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:S}=this.parameters;let P="";P=typeof _=="string"?_:Object.entries(_??{}).map((([U,F])=>F!==null?`${U}:${F}`:U));const R=[];return i.statusField&&R.push("status"),i.typeField&&R.push("type"),i.customFields&&R.push("custom"),i.UUIDFields&&R.push("uuid"),i.UUIDStatusField&&R.push("uuid.status"),i.UUIDTypeField&&R.push("uuid.type"),i.customUUIDFields&&R.push("uuid.custom"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:`${i.totalCount}`},R.length>0?{include:R.join(",")}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),S?{limit:S}:{}),P.length?{sort:P}:{})}}class xu extends yt{constructor(i){var h,m,_,S,P,R,U,F,ae,ne,te,ye,se,ce,de,Te,nt,bt;super({method:ln.PATCH}),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(te=i.include).customFields)!==null&&m!==void 0||(te.customFields=!1),(_=(ye=i.include).totalCount)!==null&&_!==void 0||(ye.totalCount=!1),(S=(se=i.include).statusField)!==null&&S!==void 0||(se.statusField=!1),(P=(ce=i.include).typeField)!==null&&P!==void 0||(ce.typeField=!1),(R=(de=i.include).UUIDFields)!==null&&R!==void 0||(de.UUIDFields=!1),(U=(Te=i.include).customUUIDFields)!==null&&U!==void 0||(Te.customUUIDFields=!1),(F=(nt=i.include).UUIDStatusField)!==null&&F!==void 0||(nt.UUIDStatusField=!1),(ae=(bt=i.include).UUIDTypeField)!==null&&ae!==void 0||(bt.UUIDTypeField=!1),(ne=i.limit)!==null&&ne!==void 0||(i.limit=100)}operation(){return V.PNSetMembersOperation}validate(){const{channel:i,uuids:h}=this.parameters;return i?h&&h.length!==0?void 0:"UUIDs cannot be empty":"Channel cannot be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Ue(h)}/uuids`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:S}=this.parameters;let P="";P=typeof _=="string"?_:Object.entries(_??{}).map((([U,F])=>F!==null?`${U}:${F}`:U));const R=["uuid.status","uuid.type","type"];return i.statusField&&R.push("status"),i.typeField&&R.push("type"),i.customFields&&R.push("custom"),i.UUIDFields&&R.push("uuid"),i.UUIDStatusField&&R.push("uuid.status"),i.UUIDTypeField&&R.push("uuid.type"),i.customUUIDFields&&R.push("uuid.custom"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:`${i.totalCount}`},R.length>0?{include:R.join(",")}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),S?{limit:S}:{}),P.length?{sort:P}:{})}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"})}get body(){const{uuids:i,type:h}=this.parameters;return JSON.stringify({[`${h}`]:i.map((m=>typeof m=="string"?{uuid:{id:m}}:{uuid:{id:m.id},status:m.status,type:m.type,custom:m.custom}))})}}class Rp extends yt{constructor(i){var h,m,_;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(_=i.include).customFields)!==null&&m!==void 0||(_.customFields=!0),this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return V.PNGetUUIDMetadataOperation}validate(){if(!this.parameters.uuid)return"'uuid' cannot be empty"}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Ue(h)}`}get queryParameters(){const{include:i}=this.parameters;return{include:["status","type",...i.customFields?["custom"]:[]].join(",")}}}class vh extends yt{constructor(i){var h,m,_;super({method:ln.PATCH}),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(_=i.include).customFields)!==null&&m!==void 0||(_.customFields=!0),this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return V.PNSetUUIDMetadataOperation}validate(){return this.parameters.uuid?this.parameters.data?void 0:"Data cannot be empty":"'uuid' cannot be empty"}get headers(){var i;let h=(i=super.headers)!==null&&i!==void 0?i:{};return this.parameters.ifMatchesEtag&&(h=Object.assign(Object.assign({},h),{"If-Match":this.parameters.ifMatchesEtag})),Object.assign(Object.assign({},h),{"Content-Type":"application/json"})}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Ue(h)}`}get queryParameters(){return{include:["status","type",...this.parameters.include.customFields?["custom"]:[]].join(",")}}get body(){return JSON.stringify(this.parameters.data)}}class Ip{constructor(i,h){this.keySet=i.keySet,this.configuration=i,this.sendRequest=h}get logger(){return this.configuration.logger()}getAllUUIDMetadata(i,h){return d(this,void 0,void 0,(function*(){return this.logger.debug("PubNub",(()=>({messageType:"object",message:i&&typeof i!="function"?i:{},details:"Get all UUID metadata objects with parameters:"}))),this._getAllUUIDMetadata(i,h)}))}_getAllUUIDMetadata(i,h){return d(this,void 0,void 0,(function*(){const m=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0);const _=new Bc(Object.assign(Object.assign({},m),{keySet:this.keySet})),S=P=>{P&&this.logger.debug("PubNub",`Get all UUID metadata success. Received ${P.totalCount} UUID metadata objects.`)};return h?this.sendRequest(_,((P,R)=>{S(R),h(P,R)})):this.sendRequest(_).then((P=>(S(P),P)))}))}getUUIDMetadata(i,h){return d(this,void 0,void 0,(function*(){return this.logger.debug("PubNub",(()=>({messageType:"object",message:i&&typeof i!="function"?i:{uuid:this.configuration.userId},details:`Get ${i&&typeof i!="function"?"":" current"} UUID metadata object with parameters:`}))),this._getUUIDMetadata(i,h)}))}_getUUIDMetadata(i,h){return d(this,void 0,void 0,(function*(){var m;const _=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0),_.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),_.uuid=_.userId),(m=_.uuid)!==null&&m!==void 0||(_.uuid=this.configuration.userId);const S=new Rp(Object.assign(Object.assign({},_),{keySet:this.keySet})),P=R=>{R&&this.logger.debug("PubNub",`Get UUID metadata object success. Received '${_.uuid}' UUID metadata object.`)};return h?this.sendRequest(S,((R,U)=>{P(U),h(R,U)})):this.sendRequest(S).then((R=>(P(R),R)))}))}setUUIDMetadata(i,h){return d(this,void 0,void 0,(function*(){return this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Set UUID metadata object with parameters:"}))),this._setUUIDMetadata(i,h)}))}_setUUIDMetadata(i,h){return d(this,void 0,void 0,(function*(){var m;i.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),i.uuid=i.userId),(m=i.uuid)!==null&&m!==void 0||(i.uuid=this.configuration.userId);const _=new vh(Object.assign(Object.assign({},i),{keySet:this.keySet})),S=P=>{P&&this.logger.debug("PubNub",`Set UUID metadata object success. Updated '${i.uuid}' UUID metadata object.`)};return h?this.sendRequest(_,((P,R)=>{S(R),h(P,R)})):this.sendRequest(_).then((P=>(S(P),P)))}))}removeUUIDMetadata(i,h){return d(this,void 0,void 0,(function*(){return this.logger.debug("PubNub",(()=>({messageType:"object",message:i&&typeof i!="function"?i:{uuid:this.configuration.userId},details:`Remove${i&&typeof i!="function"?"":" current"} UUID metadata object with parameters:`}))),this._removeUUIDMetadata(i,h)}))}_removeUUIDMetadata(i,h){return d(this,void 0,void 0,(function*(){var m;const _=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0),_.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),_.uuid=_.userId),(m=_.uuid)!==null&&m!==void 0||(_.uuid=this.configuration.userId);const S=new Wc(Object.assign(Object.assign({},_),{keySet:this.keySet})),P=R=>{R&&this.logger.debug("PubNub",`Remove UUID metadata object success. Removed '${_.uuid}' UUID metadata object.`)};return h?this.sendRequest(S,((R,U)=>{P(U),h(R,U)})):this.sendRequest(S).then((R=>(P(R),R)))}))}getAllChannelMetadata(i,h){return d(this,void 0,void 0,(function*(){return this.logger.debug("PubNub",(()=>({messageType:"object",message:i&&typeof i!="function"?i:{},details:"Get all Channel metadata objects with parameters:"}))),this._getAllChannelMetadata(i,h)}))}_getAllChannelMetadata(i,h){return d(this,void 0,void 0,(function*(){const m=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0);const _=new Su(Object.assign(Object.assign({},m),{keySet:this.keySet})),S=P=>{P&&this.logger.debug("PubNub",`Get all Channel metadata objects success. Received ${P.totalCount} Channel metadata objects.`)};return h?this.sendRequest(_,((P,R)=>{S(R),h(P,R)})):this.sendRequest(_).then((P=>(S(P),P)))}))}getChannelMetadata(i,h){return d(this,void 0,void 0,(function*(){return this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Get Channel metadata object with parameters:"}))),this._getChannelMetadata(i,h)}))}_getChannelMetadata(i,h){return d(this,void 0,void 0,(function*(){const m=new dn(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Get Channel metadata object success. Received '${i.channel}' Channel metadata object.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}))}setChannelMetadata(i,h){return d(this,void 0,void 0,(function*(){return this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Set Channel metadata object with parameters:"}))),this._setChannelMetadata(i,h)}))}_setChannelMetadata(i,h){return d(this,void 0,void 0,(function*(){const m=new Vi(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Set Channel metadata object success. Updated '${i.channel}' Channel metadata object.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}))}removeChannelMetadata(i,h){return d(this,void 0,void 0,(function*(){return this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove Channel metadata object with parameters:"}))),this._removeChannelMetadata(i,h)}))}_removeChannelMetadata(i,h){return d(this,void 0,void 0,(function*(){const m=new Fc(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Remove Channel metadata object success. Removed '${i.channel}' Channel metadata object.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}))}getChannelMembers(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Get channel members with parameters:"})));const m=new Ap(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Get channel members success. Received ${S.totalCount} channel members.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}))}setChannelMembers(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Set channel members with parameters:"})));const m=new xu(Object.assign(Object.assign({},i),{type:"set",keySet:this.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Set channel members success. There are ${S.totalCount} channel members now.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}))}removeChannelMembers(i,h){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove channel members with parameters:"})));const m=new xu(Object.assign(Object.assign({},i),{type:"delete",keySet:this.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Remove channel members success. There are ${S.totalCount} channel members now.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}))}getMemberships(i,h){return d(this,void 0,void 0,(function*(){var m;const _=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0),_.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),_.uuid=_.userId),(m=_.uuid)!==null&&m!==void 0||(_.uuid=this.configuration.userId),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},_),details:"Get memberships with parameters:"})));const S=new Gi(Object.assign(Object.assign({},_),{keySet:this.keySet})),P=R=>{R&&this.logger.debug("PubNub",`Get memberships success. Received ${R.totalCount} memberships.`)};return h?this.sendRequest(S,((R,U)=>{P(U),h(R,U)})):this.sendRequest(S).then((R=>(P(R),R)))}))}setMemberships(i,h){return d(this,void 0,void 0,(function*(){var m;i.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),i.uuid=i.userId),(m=i.uuid)!==null&&m!==void 0||(i.uuid=this.configuration.userId),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Set memberships with parameters:"})));const _=new _l(Object.assign(Object.assign({},i),{type:"set",keySet:this.keySet})),S=P=>{P&&this.logger.debug("PubNub",`Set memberships success. There are ${P.totalCount} memberships now.`)};return h?this.sendRequest(_,((P,R)=>{S(R),h(P,R)})):this.sendRequest(_).then((P=>(S(P),P)))}))}removeMemberships(i,h){return d(this,void 0,void 0,(function*(){var m;i.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),i.uuid=i.userId),(m=i.uuid)!==null&&m!==void 0||(i.uuid=this.configuration.userId),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove memberships with parameters:"})));const _=new _l(Object.assign(Object.assign({},i),{type:"delete",keySet:this.keySet})),S=P=>{P&&this.logger.debug("PubNub",`Remove memberships success. There are ${P.totalCount} memberships now.`)};return h?this.sendRequest(_,((P,R)=>{S(R),h(P,R)})):this.sendRequest(_).then((P=>(S(P),P)))}))}fetchMemberships(i,h){return d(this,void 0,void 0,(function*(){var m,_;if(this.logger.warn("PubNub","'fetchMemberships' is deprecated. Use 'pubnub.objects.getChannelMembers' or 'pubnub.objects.getMemberships' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Fetch memberships with parameters:"}))),"spaceId"in i){const U=i,F={channel:(m=U.spaceId)!==null&&m!==void 0?m:U.channel,filter:U.filter,limit:U.limit,page:U.page,include:Object.assign({},U.include),sort:U.sort?Object.fromEntries(Object.entries(U.sort).map((([ne,te])=>[ne.replace("user","uuid"),te]))):void 0},ae=ne=>({status:ne.status,data:ne.data.map((te=>({user:te.uuid,custom:te.custom,updated:te.updated,eTag:te.eTag}))),totalCount:ne.totalCount,next:ne.next,prev:ne.prev});return h?this.getChannelMembers(F,((ne,te)=>{h(ne,te&&ae(te))})):this.getChannelMembers(F).then(ae)}const S=i,P={uuid:(_=S.userId)!==null&&_!==void 0?_:S.uuid,filter:S.filter,limit:S.limit,page:S.page,include:Object.assign({},S.include),sort:S.sort?Object.fromEntries(Object.entries(S.sort).map((([U,F])=>[U.replace("space","channel"),F]))):void 0},R=U=>({status:U.status,data:U.data.map((F=>({space:F.channel,custom:F.custom,updated:F.updated,eTag:F.eTag}))),totalCount:U.totalCount,next:U.next,prev:U.prev});return h?this.getMemberships(P,((U,F)=>{h(U,F&&R(F))})):this.getMemberships(P).then(R)}))}addMemberships(i,h){return d(this,void 0,void 0,(function*(){var m,_,S,P,R,U;if(this.logger.warn("PubNub","'addMemberships' is deprecated. Use 'pubnub.objects.setChannelMembers' or 'pubnub.objects.setMemberships' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Add memberships with parameters:"}))),"spaceId"in i){const ne=i,te={channel:(m=ne.spaceId)!==null&&m!==void 0?m:ne.channel,uuids:(S=(_=ne.users)===null||_===void 0?void 0:_.map((ye=>typeof ye=="string"?ye:{id:ye.userId,custom:ye.custom})))!==null&&S!==void 0?S:ne.uuids,limit:0};return h?this.setChannelMembers(te,h):this.setChannelMembers(te)}const F=i,ae={uuid:(P=F.userId)!==null&&P!==void 0?P:F.uuid,channels:(U=(R=F.spaces)===null||R===void 0?void 0:R.map((ne=>typeof ne=="string"?ne:{id:ne.spaceId,custom:ne.custom})))!==null&&U!==void 0?U:F.channels,limit:0};return h?this.setMemberships(ae,h):this.setMemberships(ae)}))}}class yh extends yt{constructor(){super()}operation(){return V.PNTimeOperation}parse(i){return d(this,void 0,void 0,(function*(){return{timetoken:this.deserializeResponse(i)[0]}}))}get path(){return"/time/0"}}class ku extends yt{constructor(i){super(),this.parameters=i}operation(){return V.PNDownloadFileOperation}validate(){const{channel:i,id:h,name:m}=this.parameters;return i?h?m?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"}parse(i){return d(this,void 0,void 0,(function*(){const{cipherKey:h,crypto:m,cryptography:_,name:S,PubNubFile:P}=this.parameters,R=i.headers["content-type"];let U,F=i.body;return P.supportsEncryptFile&&(h||m)&&(h&&_?F=yield _.decrypt(h,F):!h&&m&&(U=yield m.decryptFile(P.create({data:F,name:S,mimeType:R}),P))),U||P.create({data:F,name:S,mimeType:R})}))}get path(){const{keySet:{subscribeKey:i},channel:h,id:m,name:_}=this.parameters;return`/v1/files/${i}/channels/${Ue(h)}/files/${m}/${_}`}}class yr{static notificationPayload(i,h){return new wa(i,h)}static generateUUID(){return mn.createUUID()}constructor(i){if(this.eventHandleCapable={},this.entities={},this._configuration=i.configuration,this.cryptography=i.cryptography,this.tokenManager=i.tokenManager,this.transport=i.transport,this.crypto=i.crypto,this.logger.debug("PubNub",(()=>({messageType:"object",message:i.configuration,details:"Create with configuration:",ignoredKeys:(h,m)=>typeof m[h]=="function"||h.startsWith("_")}))),this._objects=new Ip(this._configuration,this.sendRequest.bind(this)),this._channelGroups=new Oa(this._configuration.logger(),this._configuration.keySet,this.sendRequest.bind(this)),this._push=new vr(this._configuration.logger(),this._configuration.keySet,this.sendRequest.bind(this)),this.eventDispatcher=new il,this._configuration.enableEventEngine){this.logger.debug("PubNub","Using new subscription loop management.");let h=this._configuration.getHeartbeatInterval();this.presenceState={},h&&(this.presenceEventEngine=new Op({heartbeat:(m,_)=>(this.logger.trace("PresenceEventEngine",(()=>({messageType:"object",message:Object.assign({},m),details:"Heartbeat with parameters:"}))),this.heartbeat(m,_)),leave:m=>{this.logger.trace("PresenceEventEngine",(()=>({messageType:"object",message:Object.assign({},m),details:"Leave with parameters:"}))),this.makeUnsubscribe(m,(()=>{}))},heartbeatDelay:()=>new Promise(((m,_)=>{h=this._configuration.getHeartbeatInterval(),h?setTimeout(m,1e3*h):_(new N("Heartbeat interval has been reset."))})),emitStatus:m=>this.emitStatus(m),config:this._configuration,presenceState:this.presenceState})),this.eventEngine=new pl({handshake:m=>(this.logger.trace("EventEngine",(()=>({messageType:"object",message:Object.assign({},m),details:"Handshake with parameters:",ignoredKeys:["abortSignal","crypto","timeout","keySet","getFileUrl"]}))),this.subscribeHandshake(m)),receiveMessages:m=>(this.logger.trace("EventEngine",(()=>({messageType:"object",message:Object.assign({},m),details:"Receive messages with parameters:",ignoredKeys:["abortSignal","crypto","timeout","keySet","getFileUrl"]}))),this.subscribeReceiveMessages(m)),delay:m=>new Promise((_=>setTimeout(_,m))),join:m=>{var _,S;this.logger.trace("EventEngine",(()=>({messageType:"object",message:Object.assign({},m),details:"Join with parameters:"}))),m&&((_=m.channels)!==null&&_!==void 0?_:[]).length===0&&((S=m.groups)!==null&&S!==void 0?S:[]).length===0?this.logger.trace("EventEngine","Ignoring 'join' announcement request."):this.join(m)},leave:m=>{var _,S;this.logger.trace("EventEngine",(()=>({messageType:"object",message:Object.assign({},m),details:"Leave with parameters:"}))),m&&((_=m.channels)!==null&&_!==void 0?_:[]).length===0&&((S=m.groups)!==null&&S!==void 0?S:[]).length===0?this.logger.trace("EventEngine","Ignoring 'leave' announcement request."):this.leave(m)},leaveAll:m=>{this.logger.trace("EventEngine",(()=>({messageType:"object",message:Object.assign({},m),details:"Leave all with parameters:"}))),this.leaveAll(m)},presenceReconnect:m=>{this.logger.trace("EventEngine",(()=>({messageType:"object",message:Object.assign({},m),details:"Reconnect with parameters:"}))),this.presenceReconnect(m)},presenceDisconnect:m=>{this.logger.trace("EventEngine",(()=>({messageType:"object",message:Object.assign({},m),details:"Disconnect with parameters:"}))),this.presenceDisconnect(m)},presenceState:this.presenceState,config:this._configuration,emitMessages:(m,_)=>{try{this.logger.debug("EventEngine",(()=>({messageType:"object",message:_.map((S=>{const P=S.type===zt.Message||S.type===zt.Signal?Dn(S.data.message):void 0;return P?{type:S.type,data:Object.assign(Object.assign({},S.data),{pn_mfp:P})}:S})),details:"Received events:"}))),_.forEach((S=>this.emitEvent(m,S)))}catch(S){const P={error:!0,category:C.PNUnknownCategory,errorData:S,statusCode:0};this.emitStatus(P)}},emitStatus:m=>this.emitStatus(m)})}else this.logger.debug("PubNub","Using legacy subscription loop management."),this.subscriptionManager=new ol(this._configuration,((h,m)=>{try{this.emitEvent(h,m)}catch(_){const S={error:!0,category:C.PNUnknownCategory,errorData:_,statusCode:0};this.emitStatus(S)}}),this.emitStatus.bind(this),((h,m)=>{this.logger.trace("SubscriptionManager",(()=>({messageType:"object",message:Object.assign({},h),details:"Subscribe with parameters:",ignoredKeys:["crypto","timeout","keySet","getFileUrl"]}))),this.makeSubscribe(h,m)}),((h,m)=>(this.logger.trace("SubscriptionManager",(()=>({messageType:"object",message:Object.assign({},h),details:"Heartbeat with parameters:",ignoredKeys:["crypto","timeout","keySet","getFileUrl"]}))),this.heartbeat(h,m))),((h,m)=>{this.logger.trace("SubscriptionManager",(()=>({messageType:"object",message:Object.assign({},h),details:"Leave with parameters:"}))),this.makeUnsubscribe(h,m)}),this.time.bind(this))}get configuration(){return this._configuration}get _config(){return this.configuration}get authKey(){var i;return(i=this._configuration.authKey)!==null&&i!==void 0?i:void 0}getAuthKey(){return this.authKey}setAuthKey(i){this.logger.debug("PubNub",`Set auth key: ${i}`),this._configuration.setAuthKey(i),this.onAuthenticationChange&&this.onAuthenticationChange(i)}get userId(){return this._configuration.userId}set userId(i){if(!i||typeof i!="string"||i.trim().length===0){const h=new Error("Missing or invalid userId parameter. Provide a valid string userId");throw this.logger.error("PubNub",(()=>({messageType:"error",message:h}))),h}this.logger.debug("PubNub",`Set user ID: ${i}`),this._configuration.userId=i,this.onUserIdChange&&this.onUserIdChange(this._configuration.userId)}getUserId(){return this._configuration.userId}setUserId(i){this.userId=i}get filterExpression(){var i;return(i=this._configuration.getFilterExpression())!==null&&i!==void 0?i:void 0}getFilterExpression(){return this.filterExpression}set filterExpression(i){this.logger.debug("PubNub",`Set filter expression: ${i}`),this._configuration.setFilterExpression(i)}setFilterExpression(i){this.logger.debug("PubNub",`Set filter expression: ${i}`),this.filterExpression=i}get cipherKey(){return this._configuration.getCipherKey()}set cipherKey(i){this._configuration.setCipherKey(i)}setCipherKey(i){this.logger.debug("PubNub",`Set cipher key: ${i}`),this.cipherKey=i}set heartbeatInterval(i){var h;this.logger.debug("PubNub",`Set heartbeat interval: ${i}`),this._configuration.setHeartbeatInterval(i),this.onHeartbeatIntervalChange&&this.onHeartbeatIntervalChange((h=this._configuration.getHeartbeatInterval())!==null&&h!==void 0?h:0)}setHeartbeatInterval(i){this.heartbeatInterval=i}get logger(){return this._configuration.logger()}getVersion(){return this._configuration.getVersion()}_addPnsdkSuffix(i,h){this.logger.debug("PubNub",`Add '${i}' 'pnsdk' suffix: ${h}`),this._configuration._addPnsdkSuffix(i,h)}getUUID(){return this.userId}setUUID(i){this.logger.warn("PubNub","'setUserId` is deprecated, please use 'setUserId' or 'userId' setter instead."),this.logger.debug("PubNub",`Set UUID: ${i}`),this.userId=i}get customEncrypt(){return this._configuration.getCustomEncrypt()}get customDecrypt(){return this._configuration.getCustomDecrypt()}channel(i){let h=this.entities[`${i}_ch`];return h||(h=this.entities[`${i}_ch`]=new Gs(i,this)),h}channelGroup(i){let h=this.entities[`${i}_chg`];return h||(h=this.entities[`${i}_chg`]=new _n(i,this)),h}channelMetadata(i){let h=this.entities[`${i}_chm`];return h||(h=this.entities[`${i}_chm`]=new gh(i,this)),h}userMetadata(i){let h=this.entities[`${i}_um`];return h||(h=this.entities[`${i}_um`]=new wl(i,this)),h}subscriptionSet(i){var h,m;{const _=[];return(h=i.channels)===null||h===void 0||h.forEach((S=>_.push(this.channel(S)))),(m=i.channelGroups)===null||m===void 0||m.forEach((S=>_.push(this.channelGroup(S)))),new Ys({client:this,entities:_,options:i.subscriptionOptions})}}sendRequest(i,h){return d(this,void 0,void 0,(function*(){const m=i.validate();if(m){const ae=(_=m,A(Object.assign({message:_},{}),C.PNValidationErrorCategory));if(this.logger.error("PubNub",(()=>({messageType:"error",message:ae}))),h)return h(ae,null);throw new N("Validation failed, check status for details",ae)}var _;const S=i.request(),P=i.operation();S.formData&&S.formData.length>0||P===V.PNDownloadFileOperation?S.timeout=this._configuration.getFileTimeout():P===V.PNSubscribeOperation||P===V.PNReceiveMessagesOperation?S.timeout=this._configuration.getSubscribeTimeout():S.timeout=this._configuration.getTransactionTimeout();const R={error:!1,operation:P,category:C.PNAcknowledgmentCategory,statusCode:0},[U,F]=this.transport.makeSendable(S);return i.cancellationController=F||null,U.then((ae=>{if(R.statusCode=ae.status,ae.status!==200&&ae.status!==204){const ne=yr.decoder.decode(ae.body),te=ae.headers["content-type"];if(te||te.indexOf("javascript")!==-1||te.indexOf("json")!==-1){const ye=JSON.parse(ne);typeof ye=="object"&&"error"in ye&&ye.error&&typeof ye.error=="object"&&(R.errorData=ye.error)}else R.responseText=ne}return i.parse(ae)})).then((ae=>h?h(R,ae):ae)).catch((ae=>{const ne=ae instanceof me?ae:me.create(ae);if(h)return ne.category!==C.PNCancelledCategory&&this.logger.error("PubNub",(()=>({messageType:"error",message:ne.toPubNubError(P,"REST API request processing error, check status for details")}))),h(ne.toStatus(P),null);const te=ne.toPubNubError(P,"REST API request processing error, check status for details");throw ne.category!==C.PNCancelledCategory&&this.logger.error("PubNub",(()=>({messageType:"error",message:te}))),te}))}))}destroy(i=!1){this.logger.info("PubNub","Destroying PubNub client."),this._globalSubscriptionSet&&(this._globalSubscriptionSet.invalidate(!0),this._globalSubscriptionSet=void 0),Object.values(this.eventHandleCapable).forEach((h=>h.invalidate(!0))),this.eventHandleCapable={},this.subscriptionManager?(this.subscriptionManager.unsubscribeAll(i),this.subscriptionManager.disconnect()):this.eventEngine&&this.eventEngine.unsubscribeAll(i),this.presenceEventEngine&&this.presenceEventEngine.leaveAll(i)}stop(){this.logger.warn("PubNub","'stop' is deprecated, please use 'destroy' instead."),this.destroy()}publish(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Publish with parameters:"})));const m=i.replicate===!1&&i.storeInHistory===!1,_=new hh(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule()})),S=P=>{P&&this.logger.debug("PubNub",`${m?"Fire":"Publish"} success with timetoken: ${P.timetoken}`)};return h?this.sendRequest(_,((P,R)=>{S(R),h(P,R)})):this.sendRequest(_).then((P=>(S(P),P)))}}))}signal(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Signal with parameters:"})));const m=new gl(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Publish success with timetoken: ${S.timetoken}`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}fire(i,h){return d(this,void 0,void 0,(function*(){return this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Fire with parameters:"}))),h!=null||(h=()=>{}),this.publish(Object.assign(Object.assign({},i),{replicate:!1,storeInHistory:!1}),h)}))}get globalSubscriptionSet(){return this._globalSubscriptionSet||(this._globalSubscriptionSet=this.subscriptionSet({})),this._globalSubscriptionSet}get subscriptionTimetoken(){return this.subscriptionManager?this.subscriptionManager.subscriptionTimetoken:this.eventEngine?this.eventEngine.subscriptionTimetoken:void 0}getSubscribedChannels(){return this.subscriptionManager?this.subscriptionManager.subscribedChannels:this.eventEngine?this.eventEngine.getSubscribedChannels():[]}getSubscribedChannelGroups(){return this.subscriptionManager?this.subscriptionManager.subscribedChannelGroups:this.eventEngine?this.eventEngine.getSubscribedChannelGroups():[]}registerEventHandleCapable(i,h,m){{let _;this.logger.trace("PubNub",(()=>({messageType:"object",message:Object.assign(Object.assign({subscription:i},h?{cursor:h}:[]),m?{subscriptions:m}:{}),details:"Register event handle capable:"}))),this.eventHandleCapable[i.state.id]||(this.eventHandleCapable[i.state.id]=i),m&&m.length!==0?(_=new fs({}),m.forEach((P=>_.add(P.subscriptionInput(!1))))):_=i.subscriptionInput(!1);const S={};S.channels=_.channels,S.channelGroups=_.channelGroups,h&&(S.timetoken=h.timetoken),this.subscriptionManager?this.subscriptionManager.subscribe(S):this.eventEngine&&this.eventEngine.subscribe(S)}}unregisterEventHandleCapable(i,h){{if(!this.eventHandleCapable[i.state.id])return;const m=[];this.logger.trace("PubNub",(()=>({messageType:"object",message:{subscription:i,subscriptions:h},details:"Unregister event handle capable:"})));let _,S=!h||h.length===0;if(!S&&i instanceof Ys&&i.subscriptions.length===h?.length&&(S=i.subscriptions.every((R=>h.includes(R)))),S&&delete this.eventHandleCapable[i.state.id],h&&h.length!==0?(_=new fs({}),h.forEach((R=>{const U=R.subscriptionInput(!0);U.isEmpty?m.push(R):_.add(U)}))):(_=i.subscriptionInput(!0),_.isEmpty&&m.push(i)),m.length>0&&this.logger.trace("PubNub",(()=>{const R=[];return m[0]instanceof Ys?m[0].subscriptions.forEach((U=>R.push(U.state.entity))):m.forEach((U=>R.push(U.state.entity))),{messageType:"object",message:{entities:R},details:"Can't unregister event handle capable because entities still in use:"}})),_.isEmpty)return;{const R=[],U=[];if(Object.values(this.eventHandleCapable).forEach((F=>{const ae=F.subscriptionInput(!1),ne=ae.channelGroups,te=ae.channels;R.push(..._.channelGroups.filter((ye=>ne.includes(ye)))),U.push(..._.channels.filter((ye=>te.includes(ye))))})),(U.length>0||R.length>0)&&(this.logger.trace("PubNub",(()=>{const F=[],ae=te=>{const ye=te.subscriptionNames(!0),se=te.subscriptionType===Hi.Channel?U:R;ye.some((ce=>se.includes(ce)))&&F.push(te)};Object.values(this.eventHandleCapable).forEach((te=>{te instanceof Ys?te.subscriptions.forEach((ye=>{ae(ye.state.entity)})):te instanceof Ts&&ae(te.state.entity)}));let ne="Some entities still in use:";return U.length+R.length===_.length&&(ne="Can't unregister event handle capable because entities still in use:"),{messageType:"object",message:{entities:F},details:ne}})),_.remove(new fs({channels:U,channelGroups:R})),_.isEmpty))return}const P={};P.channels=_.channels,P.channelGroups=_.channelGroups,this.subscriptionManager?this.subscriptionManager.unsubscribe(P):this.eventEngine&&this.eventEngine.unsubscribe(P)}}subscribe(i){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Subscribe with parameters:"})));const h=this.subscriptionSet(Object.assign(Object.assign({},i),{subscriptionOptions:{receivePresenceEvents:i.withPresence}}));this.globalSubscriptionSet.addSubscriptionSet(h),h.dispose();const m=typeof i.timetoken=="number"?`${i.timetoken}`:i.timetoken;this.globalSubscriptionSet.subscribe({timetoken:m})}}makeSubscribe(i,h){{this._configuration.isSharedWorkerEnabled()||(i.onDemand=!1);const m=new sl(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule(),getFileUrl:this.getFileUrl.bind(this)}));if(this.sendRequest(m,((_,S)=>{var P;this.subscriptionManager&&((P=this.subscriptionManager.abort)===null||P===void 0?void 0:P.identifier)===m.requestIdentifier&&(this.subscriptionManager.abort=null),h(_,S)})),this.subscriptionManager){const _=()=>m.abort("Cancel long-poll subscribe request");_.identifier=m.requestIdentifier,this.subscriptionManager.abort=_}}}unsubscribe(i){{if(this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Unsubscribe with parameters:"}))),!this._globalSubscriptionSet)return void this.logger.debug("PubNub","There are no active subscriptions. Ignore.");const h=this.globalSubscriptionSet.subscriptions.filter((m=>{var _,S;const P=m.subscriptionInput(!1);if(P.isEmpty)return!1;for(const R of(_=i.channels)!==null&&_!==void 0?_:[])if(P.contains(R))return!0;for(const R of(S=i.channelGroups)!==null&&S!==void 0?S:[])if(P.contains(R))return!0}));h.length>0&&this.globalSubscriptionSet.removeSubscriptions(h)}}makeUnsubscribe(i,h){{let{channels:m,channelGroups:_}=i;if(this._configuration.getKeepPresenceChannelsInPresenceRequests()||(_&&(_=_.filter((S=>!S.endsWith("-pnpres")))),m&&(m=m.filter((S=>!S.endsWith("-pnpres"))))),(_??[]).length===0&&(m??[]).length===0)return h({error:!1,operation:V.PNUnsubscribeOperation,category:C.PNAcknowledgmentCategory,statusCode:200});this.sendRequest(new vl({channels:m,channelGroups:_,keySet:this._configuration.keySet}),h)}}unsubscribeAll(){this.logger.debug("PubNub","Unsubscribe all channels and groups"),this._globalSubscriptionSet&&this._globalSubscriptionSet.invalidate(!1),Object.values(this.eventHandleCapable).forEach((i=>i.invalidate(!1))),this.eventHandleCapable={},this.subscriptionManager?this.subscriptionManager.unsubscribeAll():this.eventEngine&&this.eventEngine.unsubscribeAll()}disconnect(i=!1){this.logger.debug("PubNub",`Disconnect (while offline? ${i?"yes":"no"})`),this.subscriptionManager?this.subscriptionManager.disconnect():this.eventEngine&&this.eventEngine.disconnect(i)}reconnect(i){this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Reconnect with parameters:"}))),this.subscriptionManager?this.subscriptionManager.reconnect():this.eventEngine&&this.eventEngine.reconnect(i??{})}subscribeHandshake(i){return d(this,void 0,void 0,(function*(){{this._configuration.isSharedWorkerEnabled()||(i.onDemand=!1);const h=new ka(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule(),getFileUrl:this.getFileUrl.bind(this)})),m=i.abortSignal.subscribe((_=>{h.abort("Cancel subscribe handshake request")}));return this.sendRequest(h).then((_=>(m(),_.cursor)))}}))}subscribeReceiveMessages(i){return d(this,void 0,void 0,(function*(){{this._configuration.isSharedWorkerEnabled()||(i.onDemand=!1);const h=new Vt(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule(),getFileUrl:this.getFileUrl.bind(this)})),m=i.abortSignal.subscribe((_=>{h.abort("Cancel long-poll subscribe request")}));return this.sendRequest(h).then((_=>(m(),_)))}}))}getMessageActions(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Get message actions with parameters:"})));const m=new ph(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Get message actions success. Received ${S.data.length} message actions.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}addMessageAction(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Add message action with parameters:"})));const m=new Tp(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Message action add success. Message action added with timetoken: ${S.data.actionTimetoken}`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}removeMessageAction(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove message action with parameters:"})));const m=new an(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Message action remove success. Removed message action with ${i.actionTimetoken} timetoken.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}fetchMessages(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Fetch messages with parameters:"})));const m=new lo(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule(),getFileUrl:this.getFileUrl.bind(this)})),_=S=>{if(!S)return;const P=Object.values(S.channels).reduce(((R,U)=>R+U.length),0);this.logger.debug("PubNub",`Fetch messages success. Received ${P} messages.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}deleteMessages(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Delete messages with parameters:"})));const m=new fh(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=S=>{S&&this.logger.debug("PubNub","Delete messages success.")};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}messageCounts(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Get messages count with parameters:"})));const m=new Ea(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=S=>{if(!S)return;const P=Object.values(S.channels).reduce(((R,U)=>R+U),0);this.logger.debug("PubNub",`Get messages count success. There are ${P} messages since provided reference timetoken${i.channelTimetokens?i.channelTimetokens.join(","):""}.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}history(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Fetch history with parameters:"})));const m=new jc(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule()})),_=S=>{S&&this.logger.debug("PubNub",`Fetch history success. Received ${S.messages.length} messages.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}hereNow(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Here now with parameters:"})));const m=new Pp(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Here now success. There are ${S.totalOccupancy} participants in ${S.totalChannels} channels.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}whereNow(i,h){return d(this,void 0,void 0,(function*(){var m;{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Where now with parameters:"})));const _=new Yi({uuid:(m=i.uuid)!==null&&m!==void 0?m:this._configuration.userId,keySet:this._configuration.keySet}),S=P=>{P&&this.logger.debug("PubNub",`Where now success. Currently present in ${P.channels.length} channels.`)};return h?this.sendRequest(_,((P,R)=>{S(R),h(P,R)})):this.sendRequest(_).then((P=>(S(P),P)))}}))}getState(i,h){return d(this,void 0,void 0,(function*(){var m;{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Get presence state with parameters:"})));const _=new qi(Object.assign(Object.assign({},i),{uuid:(m=i.uuid)!==null&&m!==void 0?m:this._configuration.userId,keySet:this._configuration.keySet})),S=P=>{P&&this.logger.debug("PubNub",`Get presence state success. Received presence state for ${Object.keys(P.channels).length} channels.`)};return h?this.sendRequest(_,((P,R)=>{S(R),h(P,R)})):this.sendRequest(_).then((P=>(S(P),P)))}}))}setState(i,h){return d(this,void 0,void 0,(function*(){var m,_;{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Set presence state with parameters:"})));const{keySet:S,userId:P}=this._configuration,R=this._configuration.getPresenceTimeout();let U;if(this._configuration.enableEventEngine&&this.presenceState){const ae=this.presenceState;(m=i.channels)===null||m===void 0||m.forEach((ne=>ae[ne]=i.state)),"channelGroups"in i&&((_=i.channelGroups)===null||_===void 0||_.forEach((ne=>ae[ne]=i.state))),this.onPresenceStateChange&&this.onPresenceStateChange(this.presenceState)}U="withHeartbeat"in i&&i.withHeartbeat?new Ki(Object.assign(Object.assign({},i),{keySet:S,heartbeat:R})):new zi(Object.assign(Object.assign({},i),{keySet:S,uuid:P}));const F=ae=>{ae&&this.logger.debug("PubNub","Set presence state success."+(U instanceof Ki?" Presence state has been set using heartbeat endpoint.":""))};return this.subscriptionManager&&(this.subscriptionManager.setState(i),this.onPresenceStateChange&&this.onPresenceStateChange(this.subscriptionManager.presenceState)),h?this.sendRequest(U,((ae,ne)=>{F(ne),h(ae,ne)})):this.sendRequest(U).then((ae=>(F(ae),ae)))}}))}presence(i){var h;this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Change presence with parameters:"}))),(h=this.subscriptionManager)===null||h===void 0||h.changePresence(i)}heartbeat(i,h){return d(this,void 0,void 0,(function*(){var m;{this.logger.trace("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Heartbeat with parameters:"})));let{channels:_,channelGroups:S}=i;if(S&&(S=S.filter((F=>!F.endsWith("-pnpres")))),_&&(_=_.filter((F=>!F.endsWith("-pnpres")))),(S??[]).length===0&&(_??[]).length===0){const F={error:!1,operation:V.PNHeartbeatOperation,category:C.PNAcknowledgmentCategory,statusCode:200};return this.logger.trace("PubNub","There are no active subscriptions. Ignore."),h?h(F,{}):Promise.resolve(F)}const P=new Ki(Object.assign(Object.assign({},i),{channels:[...new Set(_)],channelGroups:[...new Set(S)],keySet:this._configuration.keySet})),R=F=>{F&&this.logger.trace("PubNub","Heartbeat success.")},U=(m=i.abortSignal)===null||m===void 0?void 0:m.subscribe((F=>{P.abort("Cancel long-poll subscribe request")}));return h?this.sendRequest(P,((F,ae)=>{R(ae),U&&U(),h(F,ae)})):this.sendRequest(P).then((F=>(R(F),U&&U(),F)))}}))}join(i){var h,m;this.logger.trace("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Join with parameters:"}))),i&&((h=i.channels)!==null&&h!==void 0?h:[]).length===0&&((m=i.groups)!==null&&m!==void 0?m:[]).length===0?this.logger.trace("PubNub","Ignoring 'join' announcement request."):this.presenceEventEngine?this.presenceEventEngine.join(i):this.heartbeat(Object.assign(Object.assign({channels:i.channels,channelGroups:i.groups},this._configuration.maintainPresenceState&&this.presenceState&&Object.keys(this.presenceState).length>0&&{state:this.presenceState}),{heartbeat:this._configuration.getPresenceTimeout()}),(()=>{}))}presenceReconnect(i){this.logger.trace("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Presence reconnect with parameters:"}))),this.presenceEventEngine?this.presenceEventEngine.reconnect():this.heartbeat(Object.assign(Object.assign({channels:i.channels,channelGroups:i.groups},this._configuration.maintainPresenceState&&{state:this.presenceState}),{heartbeat:this._configuration.getPresenceTimeout()}),(()=>{}))}leave(i){var h,m,_;this.logger.trace("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Leave with parameters:"}))),i&&((h=i.channels)!==null&&h!==void 0?h:[]).length===0&&((m=i.groups)!==null&&m!==void 0?m:[]).length===0?this.logger.trace("PubNub","Ignoring 'leave' announcement request."):this.presenceEventEngine?(_=this.presenceEventEngine)===null||_===void 0||_.leave(i):this.makeUnsubscribe({channels:i.channels,channelGroups:i.groups},(()=>{}))}leaveAll(i={}){this.logger.trace("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Leave all with parameters:"}))),this.presenceEventEngine?this.presenceEventEngine.leaveAll(!!i.isOffline):i.isOffline||this.makeUnsubscribe({channels:i.channels,channelGroups:i.groups},(()=>{}))}presenceDisconnect(i){this.logger.trace("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Presence disconnect parameters:"}))),this.presenceEventEngine?this.presenceEventEngine.disconnect(!!i.isOffline):i.isOffline||this.makeUnsubscribe({channels:i.channels,channelGroups:i.groups},(()=>{}))}grantToken(i,h){return d(this,void 0,void 0,(function*(){throw new Error("Grant Token error: PAM module disabled")}))}revokeToken(i,h){return d(this,void 0,void 0,(function*(){throw new Error("Revoke Token error: PAM module disabled")}))}get token(){return this.tokenManager&&this.tokenManager.getToken()}getToken(){return this.token}set token(i){this.tokenManager&&this.tokenManager.setToken(i),this.onAuthenticationChange&&this.onAuthenticationChange(i)}setToken(i){this.token=i}parseToken(i){return this.tokenManager&&this.tokenManager.parseToken(i)}grant(i,h){return d(this,void 0,void 0,(function*(){throw new Error("Grant error: PAM module disabled")}))}audit(i,h){return d(this,void 0,void 0,(function*(){throw new Error("Grant Permissions error: PAM module disabled")}))}get objects(){return this._objects}fetchUsers(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'fetchUsers' is deprecated. Use 'pubnub.objects.getAllUUIDMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:i&&typeof i!="function"?i:{},details:"Fetch all User objects with parameters:"}))),this.objects._getAllUUIDMetadata(i,h)}))}fetchUser(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'fetchUser' is deprecated. Use 'pubnub.objects.getUUIDMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:i&&typeof i!="function"?i:{uuid:this.userId},details:`Fetch${i&&typeof i!="function"?"":" current"} User object with parameters:`}))),this.objects._getUUIDMetadata(i,h)}))}createUser(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'createUser' is deprecated. Use 'pubnub.objects.setUUIDMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Create User object with parameters:"}))),this.objects._setUUIDMetadata(i,h)}))}updateUser(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'updateUser' is deprecated. Use 'pubnub.objects.setUUIDMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Update User object with parameters:"}))),this.objects._setUUIDMetadata(i,h)}))}removeUser(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'removeUser' is deprecated. Use 'pubnub.objects.removeUUIDMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:i&&typeof i!="function"?i:{uuid:this.userId},details:`Remove${i&&typeof i!="function"?"":" current"} User object with parameters:`}))),this.objects._removeUUIDMetadata(i,h)}))}fetchSpaces(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'fetchSpaces' is deprecated. Use 'pubnub.objects.getAllChannelMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:i&&typeof i!="function"?i:{},details:"Fetch all Space objects with parameters:"}))),this.objects._getAllChannelMetadata(i,h)}))}fetchSpace(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'fetchSpace' is deprecated. Use 'pubnub.objects.getChannelMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Fetch Space object with parameters:"}))),this.objects._getChannelMetadata(i,h)}))}createSpace(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'createSpace' is deprecated. Use 'pubnub.objects.setChannelMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Create Space object with parameters:"}))),this.objects._setChannelMetadata(i,h)}))}updateSpace(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'updateSpace' is deprecated. Use 'pubnub.objects.setChannelMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Update Space object with parameters:"}))),this.objects._setChannelMetadata(i,h)}))}removeSpace(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'removeSpace' is deprecated. Use 'pubnub.objects.removeChannelMetadata' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove Space object with parameters:"}))),this.objects._removeChannelMetadata(i,h)}))}fetchMemberships(i,h){return d(this,void 0,void 0,(function*(){return this.objects.fetchMemberships(i,h)}))}addMemberships(i,h){return d(this,void 0,void 0,(function*(){return this.objects.addMemberships(i,h)}))}updateMemberships(i,h){return d(this,void 0,void 0,(function*(){return this.logger.warn("PubNub","'addMemberships' is deprecated. Use 'pubnub.objects.setChannelMembers' or 'pubnub.objects.setMemberships' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Update memberships with parameters:"}))),this.objects.addMemberships(i,h)}))}removeMemberships(i,h){return d(this,void 0,void 0,(function*(){var m,_,S;{if(this.logger.warn("PubNub","'removeMemberships' is deprecated. Use 'pubnub.objects.removeMemberships' or 'pubnub.objects.removeChannelMembers' instead."),this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Remove memberships with parameters:"}))),"spaceId"in i){const U=i,F={channel:(m=U.spaceId)!==null&&m!==void 0?m:U.channel,uuids:(_=U.userIds)!==null&&_!==void 0?_:U.uuids,limit:0};return h?this.objects.removeChannelMembers(F,h):this.objects.removeChannelMembers(F)}const P=i,R={uuid:P.userId,channels:(S=P.spaceIds)!==null&&S!==void 0?S:P.channels,limit:0};return h?this.objects.removeMemberships(R,h):this.objects.removeMemberships(R)}}))}get channelGroups(){return this._channelGroups}get push(){return this._push}sendFile(i,h){return d(this,void 0,void 0,(function*(){{if(!this._configuration.PubNubFile)throw new Error("Validation failed: 'PubNubFile' not configured or file upload not supported by the platform.");this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Send file with parameters:"})));const m=new _u(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,PubNubFile:this._configuration.PubNubFile,fileUploadPublishRetryLimit:this._configuration.fileUploadPublishRetryLimit,file:i.file,sendRequest:this.sendRequest.bind(this),publishFile:this.publishFile.bind(this),crypto:this._configuration.getCryptoModule(),cryptography:this.cryptography?this.cryptography:void 0})),_={error:!1,operation:V.PNPublishFileOperation,category:C.PNAcknowledgmentCategory,statusCode:0},S=P=>{P&&this.logger.debug("PubNub",`Send file success. File shared with ${P.id} ID.`)};return m.process().then((P=>(_.statusCode=P.status,S(P),h?h(_,P):P))).catch((P=>{let R;throw P instanceof N?R=P.status:P instanceof me&&(R=P.toStatus(_.operation)),this.logger.error("PubNub",(()=>({messageType:"error",message:new N("File sending error. Check status for details",R)}))),h&&R&&h(R,null),new N("REST API request processing error. Check status for details",R)}))}}))}publishFile(i,h){return d(this,void 0,void 0,(function*(){{if(!this._configuration.PubNubFile)throw new Error("Validation failed: 'PubNubFile' not configured or file upload not supported by the platform.");this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Publish file message with parameters:"})));const m=new Zt(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule()})),_=S=>{S&&this.logger.debug("PubNub",`Publish file message success. File message published with timetoken: ${S.timetoken}`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}listFiles(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"List files with parameters:"})));const m=new Dp(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=S=>{S&&this.logger.debug("PubNub",`List files success. There are ${S.count} uploaded files.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}getFileUrl(i){var h;{const m=this.transport.request(new uo(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})).request()),_=(h=m.queryParameters)!==null&&h!==void 0?h:{},S=Object.keys(_).map((P=>{const R=_[P];return Array.isArray(R)?R.map((U=>`${P}=${Ue(U)}`)).join("&"):`${P}=${Ue(R)}`})).join("&");return`${m.origin}${m.path}?${S}`}}downloadFile(i,h){return d(this,void 0,void 0,(function*(){{if(!this._configuration.PubNubFile)throw new Error("Validation failed: 'PubNubFile' not configured or file upload not supported by the platform.");this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Download file with parameters:"})));const m=new ku(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,PubNubFile:this._configuration.PubNubFile,cryptography:this.cryptography?this.cryptography:void 0,crypto:this._configuration.getCryptoModule()})),_=S=>{S&&this.logger.debug("PubNub","Download file success.")};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):yield this.sendRequest(m).then((S=>(_(S),S)))}}))}deleteFile(i,h){return d(this,void 0,void 0,(function*(){{this.logger.debug("PubNub",(()=>({messageType:"object",message:Object.assign({},i),details:"Delete file with parameters:"})));const m=new wu(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=S=>{S&&this.logger.debug("PubNub",`Delete file success. Deleted file with ${i.id} ID.`)};return h?this.sendRequest(m,((S,P)=>{_(P),h(S,P)})):this.sendRequest(m).then((S=>(_(S),S)))}}))}time(i){return d(this,void 0,void 0,(function*(){this.logger.debug("PubNub","Get service time.");const h=new yh,m=_=>{_&&this.logger.debug("PubNub",`Get service time success. Current timetoken: ${_.timetoken}`)};return i?this.sendRequest(h,((_,S)=>{m(S),i(_,S)})):this.sendRequest(h).then((_=>(m(_),_)))}))}emitStatus(i){var h;(h=this.eventDispatcher)===null||h===void 0||h.handleStatus(i)}emitEvent(i,h){var m;this._globalSubscriptionSet&&this._globalSubscriptionSet.handleEvent(i,h),(m=this.eventDispatcher)===null||m===void 0||m.handleEvent(h),Object.values(this.eventHandleCapable).forEach((_=>{_!==this._globalSubscriptionSet&&_.handleEvent(i,h)}))}set onStatus(i){this.eventDispatcher&&(this.eventDispatcher.onStatus=i)}set onMessage(i){this.eventDispatcher&&(this.eventDispatcher.onMessage=i)}set onPresence(i){this.eventDispatcher&&(this.eventDispatcher.onPresence=i)}set onSignal(i){this.eventDispatcher&&(this.eventDispatcher.onSignal=i)}set onObjects(i){this.eventDispatcher&&(this.eventDispatcher.onObjects=i)}set onMessageAction(i){this.eventDispatcher&&(this.eventDispatcher.onMessageAction=i)}set onFile(i){this.eventDispatcher&&(this.eventDispatcher.onFile=i)}addListener(i){this.eventDispatcher&&this.eventDispatcher.addListener(i)}removeListener(i){this.eventDispatcher&&this.eventDispatcher.removeListener(i)}removeAllListeners(){this.eventDispatcher&&this.eventDispatcher.removeAllListeners()}encrypt(i,h){this.logger.warn("PubNub","'encrypt' is deprecated. Use cryptoModule instead.");const m=this._configuration.getCryptoModule();if(!h&&m&&typeof i=="string"){const _=m.encrypt(i);return typeof _=="string"?_:x(_)}if(!this.crypto)throw new Error("Encryption error: cypher key not set");return this.crypto.encrypt(i,h)}decrypt(i,h){this.logger.warn("PubNub","'decrypt' is deprecated. Use cryptoModule instead.");const m=this._configuration.getCryptoModule();if(!h&&m){const _=m.decrypt(i);return _ instanceof ArrayBuffer?JSON.parse(new TextDecoder().decode(_)):_}if(!this.crypto)throw new Error("Decryption error: cypher key not set");return this.crypto.decrypt(i,h)}encryptFile(i,h){return d(this,void 0,void 0,(function*(){var m;if(typeof i!="string"&&(h=i),!h)throw new Error("File encryption error. Source file is missing.");if(!this._configuration.PubNubFile)throw new Error("File encryption error. File constructor not configured.");if(typeof i!="string"&&!this._configuration.getCryptoModule())throw new Error("File encryption error. Crypto module not configured.");if(typeof i=="string"){if(!this.cryptography)throw new Error("File encryption error. File encryption not available");return this.cryptography.encryptFile(i,h,this._configuration.PubNubFile)}return(m=this._configuration.getCryptoModule())===null||m===void 0?void 0:m.encryptFile(h,this._configuration.PubNubFile)}))}decryptFile(i,h){return d(this,void 0,void 0,(function*(){var m;if(typeof i!="string"&&(h=i),!h)throw new Error("File encryption error. Source file is missing.");if(!this._configuration.PubNubFile)throw new Error("File decryption error. File constructor not configured.");if(typeof i=="string"&&!this._configuration.getCryptoModule())throw new Error("File decryption error. Crypto module not configured.");if(typeof i=="string"){if(!this.cryptography)throw new Error("File decryption error. File decryption not available");return this.cryptography.decryptFile(i,h,this._configuration.PubNubFile)}return(m=this._configuration.getCryptoModule())===null||m===void 0?void 0:m.decryptFile(h,this._configuration.PubNubFile)}))}}yr.decoder=new TextDecoder,yr.OPERATIONS=V,yr.CATEGORIES=C,yr.Endpoint=Gt,yr.ExponentialRetryPolicy=Vn.ExponentialRetryPolicy,yr.LinearRetryPolicy=Vn.LinearRetryPolicy,yr.NoneRetryPolicy=Vn.None,yr.LogLevel=Ce;class Hc{constructor(i,h){this.decode=i,this.base64ToBinary=h}decodeToken(i){let h="";i.length%4==3?h="=":i.length%4==2&&(h="==");const m=i.replace(/-/gi,"+").replace(/_/gi,"/")+h,_=this.decode(this.base64ToBinary(m));return typeof _=="object"?_:void 0}}class fo extends yr{constructor(i){var h;const m=i.subscriptionWorkerUrl!==void 0,_=ie(i),S=Object.assign(Object.assign({},_),{sdkFamily:"Web"});S.PubNubFile=v;const P=qs(S,(de=>{if(de.cipherKey)return new Ee({default:new Re(Object.assign(Object.assign({},de),de.logger?{}:{logger:P.logger()})),cryptors:[new re({cipherKey:de.cipherKey})]})}));let R,U;i.subscriptionWorkerLogVerbosity?i.subscriptionWorkerLogLevel=Ce.Debug:i.subscriptionWorkerLogLevel===void 0&&(i.subscriptionWorkerLogLevel=Ce.None),i.subscriptionWorkerLogVerbosity!==void 0&&P.logger().warn("Configuration","'subscriptionWorkerLogVerbosity' is deprecated. Use 'subscriptionWorkerLogLevel' instead."),P.getCryptoModule()&&(P.getCryptoModule().logger=P.logger()),R=new vi(new Hc((de=>De(o.decode(de))),b)),(P.getCipherKey()||P.secretKey)&&(U=new _e({secretKey:P.secretKey,cipherKey:P.getCipherKey(),useRandomIVs:P.getUseRandomIVs(),customEncrypt:P.getCustomEncrypt(),customDecrypt:P.getCustomDecrypt(),logger:P.logger()}));let F,ae=()=>{},ne=()=>{},te=()=>{},ye=()=>{};F=new ke;let se=new Gr(P.logger(),S.transport);if(_.subscriptionWorkerUrl)try{const de=new Ne({clientIdentifier:P._instanceId,subscriptionKey:P.subscribeKey,userId:P.getUserId(),workerUrl:_.subscriptionWorkerUrl,sdkVersion:P.getVersion(),heartbeatInterval:P.getHeartbeatInterval(),announceSuccessfulHeartbeats:P.announceSuccessfulHeartbeats,announceFailedHeartbeats:P.announceFailedHeartbeats,workerOfflineClientsCheckInterval:S.subscriptionWorkerOfflineClientsCheckInterval,workerUnsubscribeOfflineClients:S.subscriptionWorkerUnsubscribeOfflineClients,workerLogLevel:S.subscriptionWorkerLogLevel,tokenManager:R,transport:se,logger:P.logger()});ne=Te=>de.onPresenceStateChange(Te),ae=Te=>de.onHeartbeatIntervalChange(Te),te=Te=>de.onTokenChange(Te),ye=Te=>de.onUserIdChange(Te),se=de,_.subscriptionWorkerUnsubscribeOfflineClients&&window.addEventListener("pagehide",(Te=>{Te.persisted||de.terminate()}),{once:!0})}catch(de){P.logger().error("PubNub",(()=>({messageType:"error",message:de})))}else m&&P.logger().warn("PubNub","SharedWorker not supported in this browser. Fallback to the original transport.");const ce=new ls({clientConfiguration:P,tokenManager:R,transport:se});if(super({configuration:P,transport:ce,cryptography:F,tokenManager:R,crypto:U}),this.onHeartbeatIntervalChange=ae,this.onAuthenticationChange=te,this.onPresenceStateChange=ne,this.onUserIdChange=ye,se instanceof Ne){se.emitStatus=this.emitStatus.bind(this);const de=this.disconnect.bind(this);this.disconnect=Te=>{se.disconnect(),de()}}((h=i.listenToBrowserNetworkEvents)===null||h===void 0||h)&&(window.addEventListener("offline",(()=>{this.networkDownDetected()})),window.addEventListener("online",(()=>{this.networkUpDetected()})))}networkDownDetected(){this.logger.debug("PubNub","Network down detected"),this.emitStatus({category:fo.CATEGORIES.PNNetworkDownCategory}),this._configuration.restore?this.disconnect(!0):this.destroy(!0)}networkUpDetected(){this.logger.debug("PubNub","Network up detected"),this.emitStatus({category:fo.CATEGORIES.PNNetworkUpCategory}),this.reconnect()}}return fo.CryptoModule=Ee,fo}))})(ky)),ky.exports}var e4=Z3();const t4=mr(e4);var xw=(n=>(n.LiveGameDetails="LiveGameDetails",n))(xw||{});const ey=new t4({publishKey:"pub-c-c60eb920-5d54-42cf-becb-e468ce96e343",subscribeKey:"sub-c-dbfaecac-a2ca-4e19-8ea2-6b698ac514b7",userId:"Talpakers"});function n4(n){const e={message:function(t){n(t.message)}};return ey.subscribe({channels:[xw.LiveGameDetails]}),ey.addListener(e),()=>{ey.unsubscribe({channels:[xw.LiveGameDetails]}),ey.removeListener(e)}}var Yg={exports:{}};var r4=Yg.exports,sk;function s4(){return sk||(sk=1,(function(n,e){(function(){var t,r="4.17.23",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",v=500,b="__lodash_placeholder__",x=1,E=2,C=4,N=1,A=2,I=1,L=2,G=4,W=8,Q=16,z=32,K=64,H=128,Y=256,re=512,ve=30,_e="...",ke=800,Re=16,Ee=1,he=2,ge=3,me=1/0,V=9007199254740991,Ne=17976931348623157e292,De=NaN,ie=4294967295,Ce=ie-1,Ue=ie>>>1,Qe=[["ary",H],["bind",I],["bindKey",L],["curry",W],["curryRight",Q],["flip",re],["partial",z],["partialRight",K],["rearg",Y]],rt="[object Arguments]",ht="[object Array]",Nt="[object AsyncFunction]",pt="[object Boolean]",xt="[object Date]",qt="[object DOMException]",Dn="[object Error]",or="[object Function]",Gt="[object GeneratorFunction]",Vn="[object Map]",mi="[object Number]",tl="[object Null]",Rr="[object Object]",nl="[object Promise]",ba="[object Proxy]",Wn="[object RegExp]",mn="[object Set]",qs="[object String]",Bi="[object Symbol]",to="[object Undefined]",vi="[object WeakMap]",ln="[object WeakSet]",Yr="[object ArrayBuffer]",ls="[object DataView]",Gr="[object Float32Array]",yt="[object Float64Array]",zt="[object Int8Array]",rl="[object Int16Array]",sl="[object Int32Array]",il="[object Uint8Array]",kc="[object Uint8ClampedArray]",al="[object Uint16Array]",ol="[object Uint32Array]",gu=/\b__p \+= '';/g,Ec=/\b(__p \+=) '' \+/g,Cc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wa=/&(?:amp|lt|gt|quot|#39);/g,Wi=/[&<>"']/g,Ir=RegExp(wa.source),Oc=RegExp(Wi.source),Pc=/<%-([\s\S]+?)%>/g,Qn=/<%([\s\S]+?)%>/g,no=/<%=([\s\S]+?)%>/g,ro=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tc=/^\w*$/,ll=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ul=/[\\^$.*+?()[\]{}|]/g,cl=RegExp(ul.source),zs=/^\s+/,_a=/\s/,Vr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,so=/\{\n\/\* \[wrapped with (.+)\] \*/,dl=/,? & /,Dc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mu=/[()=,{}\[\]\/\s]/,io=/\\(\\)?/g,Es=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sa=/\w*$/,Nc=/^[-+]0x[0-9a-f]+$/i,uh=/^0b[01]+$/i,Ac=/^\[object .+?Constructor\]$/,ch=/^0o[0-7]+$/i,Ks=/^(?:0|[1-9]\d*)$/,yi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bi=/($^)/,Jn=/['\n\r\u2028\u2029\\]/g,sn="\\ud800-\\udfff",Op="\\u0300-\\u036f",hl="\\ufe20-\\ufe2f",vu="\\u20d0-\\u20ff",ao=Op+hl+vu,Qr="\\u2700-\\u27bf",us="a-z\\xdf-\\xf6\\xf8-\\xff",Cs="\\xac\\xb1\\xd7\\xf7",Os="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dh="\\u2000-\\u206f",cs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rc="A-Z\\xc0-\\xd6\\xd8-\\xde",yu="\\ufe0e\\ufe0f",oo=Cs+Os+dh+cs,Ps="[']",cn="["+sn+"]",ds="["+oo+"]",hs="["+ao+"]",Mn="\\d+",xa="["+Qr+"]",wi="["+us+"]",kr="[^"+sn+oo+Mn+Qr+us+Rc+"]",fl="\\ud83c[\\udffb-\\udfff]",pl="(?:"+hs+"|"+fl+")",hh="[^"+sn+"]",gl="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",ka="["+Rc+"]",Hi="\\u200d",fs="(?:"+wi+"|"+kr+")",Ic="(?:"+ka+"|"+kr+")",bu="(?:"+Ps+"(?:d|ll|m|re|s|t|ve))?",Mc="(?:"+Ps+"(?:D|LL|M|RE|S|T|VE))?",Ys=pl+"?",ml="["+yu+"]?",Ts="(?:"+Hi+"(?:"+[hh,gl,Vt].join("|")+")"+ml+Ys+")*",qi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ki=ml+Ys+Ts,vl="(?:"+[xa,gl,Vt].join("|")+")"+Ki,Yi="(?:"+[hh+hs+"?",hs,gl,Vt,cn].join("|")+")",Pp=RegExp(Ps,"g"),fh=RegExp(hs,"g"),Ea=RegExp(fl+"(?="+fl+")|"+Yi+Ki,"g"),jc=RegExp([ka+"?"+wi+"+"+bu+"(?="+[ds,ka,"$"].join("|")+")",Ic+"+"+Mc+"(?="+[ds,ka+fs,"$"].join("|")+")",ka+"?"+fs+"+"+bu,ka+"+"+Mc,zi,qi,Mn,vl].join("|"),"g"),yl=RegExp("["+Hi+sn+ao+yu+"]"),lo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ph=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tp=-1,an={};an[Gr]=an[yt]=an[zt]=an[rl]=an[sl]=an[il]=an[kc]=an[al]=an[ol]=!0,an[rt]=an[ht]=an[Yr]=an[pt]=an[ls]=an[xt]=an[Dn]=an[or]=an[Vn]=an[mi]=an[Rr]=an[Wn]=an[mn]=an[qs]=an[vi]=!1;var Zt={};Zt[rt]=Zt[ht]=Zt[Yr]=Zt[ls]=Zt[pt]=Zt[xt]=Zt[Gr]=Zt[yt]=Zt[zt]=Zt[rl]=Zt[sl]=Zt[Vn]=Zt[mi]=Zt[Rr]=Zt[Wn]=Zt[mn]=Zt[qs]=Zt[Bi]=Zt[il]=Zt[kc]=Zt[al]=Zt[ol]=!0,Zt[Dn]=Zt[or]=Zt[vi]=!1;var uo={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},wu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Np={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bl=parseFloat,_u=parseInt,Ca=typeof $f=="object"&&$f&&$f.Object===Object&&$f,gh=typeof self=="object"&&self&&self.Object===Object&&self,_n=Ca||gh||Function("return this")(),wl=e&&!e.nodeType&&e,Gs=wl&&!0&&n&&!n.nodeType&&n,$c=Gs&&Gs.exports===wl,co=$c&&Ca.process,Er=(function(){try{var pe=Gs&&Gs.require&&Gs.require("util").types;return pe||co&&co.binding&&co.binding("util")}catch{}})(),Lc=Er&&Er.isArrayBuffer,Mr=Er&&Er.isDate,Oa=Er&&Er.isMap,Pa=Er&&Er.isRegExp,ho=Er&&Er.isSet,mh=Er&&Er.isTypedArray;function Cr(pe,Ae,Se){switch(Se.length){case 0:return pe.call(Ae);case 1:return pe.call(Ae,Se[0]);case 2:return pe.call(Ae,Se[0],Se[1]);case 3:return pe.call(Ae,Se[0],Se[1],Se[2])}return pe.apply(Ae,Se)}function Uc(pe,Ae,Se,Ze){for(var At=-1,en=pe==null?0:pe.length;++At<en;){var Xn=pe[At];Ae(Ze,Xn,Se(Xn),pe)}return Ze}function vr(pe,Ae){for(var Se=-1,Ze=pe==null?0:pe.length;++Se<Ze&&Ae(pe[Se],Se,pe)!==!1;);return pe}function Su(pe,Ae){for(var Se=pe==null?0:pe.length;Se--&&Ae(pe[Se],Se,pe)!==!1;);return pe}function Fc(pe,Ae){for(var Se=-1,Ze=pe==null?0:pe.length;++Se<Ze;)if(!Ae(pe[Se],Se,pe))return!1;return!0}function Gi(pe,Ae){for(var Se=-1,Ze=pe==null?0:pe.length,At=0,en=[];++Se<Ze;){var Xn=pe[Se];Ae(Xn,Se,pe)&&(en[At++]=Xn)}return en}function _l(pe,Ae){var Se=pe==null?0:pe.length;return!!Se&&yr(pe,Ae,0)>-1}function Bc(pe,Ae,Se){for(var Ze=-1,At=pe==null?0:pe.length;++Ze<At;)if(Se(Ae,pe[Ze]))return!0;return!1}function dn(pe,Ae){for(var Se=-1,Ze=pe==null?0:pe.length,At=Array(Ze);++Se<Ze;)At[Se]=Ae(pe[Se],Se,pe);return At}function Vi(pe,Ae){for(var Se=-1,Ze=Ae.length,At=pe.length;++Se<Ze;)pe[At+Se]=Ae[Se];return pe}function Wc(pe,Ae,Se,Ze){var At=-1,en=pe==null?0:pe.length;for(Ze&&en&&(Se=pe[++At]);++At<en;)Se=Ae(Se,pe[At],At,pe);return Se}function Ap(pe,Ae,Se,Ze){var At=pe==null?0:pe.length;for(Ze&&At&&(Se=pe[--At]);At--;)Se=Ae(Se,pe[At],At,pe);return Se}function xu(pe,Ae){for(var Se=-1,Ze=pe==null?0:pe.length;++Se<Ze;)if(Ae(pe[Se],Se,pe))return!0;return!1}var Rp=i("length");function vh(pe){return pe.split("")}function Ip(pe){return pe.match(Dc)||[]}function yh(pe,Ae,Se){var Ze;return Se(pe,function(At,en,Xn){if(Ae(At,en,Xn))return Ze=en,!1}),Ze}function ku(pe,Ae,Se,Ze){for(var At=pe.length,en=Se+(Ze?1:-1);Ze?en--:++en<At;)if(Ae(pe[en],en,pe))return en;return-1}function yr(pe,Ae,Se){return Ae===Ae?Tt(pe,Ae,Se):ku(pe,fo,Se)}function Hc(pe,Ae,Se,Ze){for(var At=Se-1,en=pe.length;++At<en;)if(Ze(pe[At],Ae))return At;return-1}function fo(pe){return pe!==pe}function O(pe,Ae){var Se=pe==null?0:pe.length;return Se?S(pe,Ae)/Se:De}function i(pe){return function(Ae){return Ae==null?t:Ae[pe]}}function h(pe){return function(Ae){return pe==null?t:pe[Ae]}}function m(pe,Ae,Se,Ze,At){return At(pe,function(en,Xn,hn){Se=Ze?(Ze=!1,en):Ae(Se,en,Xn,hn)}),Se}function _(pe,Ae){var Se=pe.length;for(pe.sort(Ae);Se--;)pe[Se]=pe[Se].value;return pe}function S(pe,Ae){for(var Se,Ze=-1,At=pe.length;++Ze<At;){var en=Ae(pe[Ze]);en!==t&&(Se=Se===t?en:Se+en)}return Se}function P(pe,Ae){for(var Se=-1,Ze=Array(pe);++Se<pe;)Ze[Se]=Ae(Se);return Ze}function R(pe,Ae){return dn(Ae,function(Se){return[Se,pe[Se]]})}function U(pe){return pe&&pe.slice(0,Ye(pe)+1).replace(zs,"")}function F(pe){return function(Ae){return pe(Ae)}}function ae(pe,Ae){return dn(Ae,function(Se){return pe[Se]})}function ne(pe,Ae){return pe.has(Ae)}function te(pe,Ae){for(var Se=-1,Ze=pe.length;++Se<Ze&&yr(Ae,pe[Se],0)>-1;);return Se}function ye(pe,Ae){for(var Se=pe.length;Se--&&yr(Ae,pe[Se],0)>-1;);return Se}function se(pe,Ae){for(var Se=pe.length,Ze=0;Se--;)pe[Se]===Ae&&++Ze;return Ze}var ce=h(uo),de=h(wu);function Te(pe){return"\\"+Np[pe]}function nt(pe,Ae){return pe==null?t:pe[Ae]}function bt(pe){return yl.test(pe)}function It(pe){return lo.test(pe)}function Ge(pe){for(var Ae,Se=[];!(Ae=pe.next()).done;)Se.push(Ae.value);return Se}function Je(pe){var Ae=-1,Se=Array(pe.size);return pe.forEach(function(Ze,At){Se[++Ae]=[At,Ze]}),Se}function Oe(pe,Ae){return function(Se){return pe(Ae(Se))}}function Le(pe,Ae){for(var Se=-1,Ze=pe.length,At=0,en=[];++Se<Ze;){var Xn=pe[Se];(Xn===Ae||Xn===b)&&(pe[Se]=b,en[At++]=Se)}return en}function Ve(pe){var Ae=-1,Se=Array(pe.size);return pe.forEach(function(Ze){Se[++Ae]=Ze}),Se}function $t(pe){var Ae=-1,Se=Array(pe.size);return pe.forEach(function(Ze){Se[++Ae]=[Ze,Ze]}),Se}function Tt(pe,Ae,Se){for(var Ze=Se-1,At=pe.length;++Ze<At;)if(pe[Ze]===Ae)return Ze;return-1}function Rt(pe,Ae,Se){for(var Ze=Se+1;Ze--;)if(pe[Ze]===Ae)return Ze;return Ze}function jn(pe){return bt(pe)?ze(pe):Rp(pe)}function Me(pe){return bt(pe)?Jr(pe):vh(pe)}function Ye(pe){for(var Ae=pe.length;Ae--&&_a.test(pe.charAt(Ae)););return Ae}var He=h(Dp);function ze(pe){for(var Ae=Ea.lastIndex=0;Ea.test(pe);)++Ae;return Ae}function Jr(pe){return pe.match(Ea)||[]}function Xr(pe){return pe.match(jc)||[]}var Ds=(function pe(Ae){Ae=Ae==null?_n:Ns.defaults(_n.Object(),Ae,Ns.pick(_n,ph));var Se=Ae.Array,Ze=Ae.Date,At=Ae.Error,en=Ae.Function,Xn=Ae.Math,hn=Ae.Object,qc=Ae.RegExp,Db=Ae.String,Vs=Ae.TypeError,Ta=Se.prototype,Mp=en.prototype,Qi=hn.prototype,Eu=Ae["__core-js_shared__"],zc=Mp.toString,Qt=Qi.hasOwnProperty,Cu=0,bh=(function(){var u=/[^.]+$/.exec(Eu&&Eu.keys&&Eu.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""})(),Kc=Qi.toString,wh=zc.call(hn),Ym=_n._,Gm=qc("^"+zc.call(Qt).replace(ul,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yc=$c?Ae.Buffer:t,Da=Ae.Symbol,Gc=Ae.Uint8Array,jp=Yc?Yc.allocUnsafe:t,_i=Oe(hn.getPrototypeOf,hn),_h=hn.create,Sh=Qi.propertyIsEnumerable,xh=Ta.splice,Vm=Da?Da.isConcatSpreadable:t,Na=Da?Da.iterator:t,Sl=Da?Da.toStringTag:t,Vc=(function(){try{var u=ko(hn,"defineProperty");return u({},"",{}),u}catch{}})(),Qm=Ae.clearTimeout!==_n.clearTimeout&&Ae.clearTimeout,kn=Ze&&Ze.now!==_n.Date.now&&Ze.now,$p=Ae.setTimeout!==_n.setTimeout&&Ae.setTimeout,xl=Xn.ceil,po=Xn.floor,kh=hn.getOwnPropertySymbols,Lp=Yc?Yc.isBuffer:t,Ou=Ae.isFinite,Eh=Ta.join,Pu=Oe(hn.keys,hn),Zn=Xn.max,jr=Xn.min,Nb=Ze.now,Jm=Ae.parseInt,Qc=Xn.random,Ch=Ta.reverse,Jc=ko(Ae,"DataView"),kl=ko(Ae,"Map"),Xc=ko(Ae,"Promise"),go=ko(Ae,"Set"),Zc=ko(Ae,"WeakMap"),Tu=ko(hn,"create"),Oh=Zc&&new Zc,Du={},Up=Eo(Jc),mo=Eo(kl),Xm=Eo(Xc),Nu=Eo(go),Ji=Eo(Zc),vo=Da?Da.prototype:t,As=vo?vo.valueOf:t,Ph=vo?vo.toString:t;function B(u){if(tr(u)&&!jt(u)&&!(u instanceof Mt)){if(u instanceof $r)return u;if(Qt.call(u,"__wrapped__"))return Cv(u)}return new $r(u)}var Au=(function(){function u(){}return function(f){if(!zn(f))return{};if(_h)return _h(f);u.prototype=f;var w=new u;return u.prototype=t,w}})();function Xi(){}function $r(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=t}B.templateSettings={escape:Pc,evaluate:Qn,interpolate:no,variable:"",imports:{_:B}},B.prototype=Xi.prototype,B.prototype.constructor=B,$r.prototype=Au(Xi.prototype),$r.prototype.constructor=$r;function Mt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function Th(){var u=new Mt(this.__wrapped__);return u.__actions__=es(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=es(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=es(this.__views__),u}function Fp(){if(this.__filtered__){var u=new Mt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Ru(){var u=this.__wrapped__.value(),f=this.__dir__,w=jt(u),T=f<0,j=w?u.length:0,q=pg(0,j,this.__views__),ee=q.start,le=q.end,be=le-ee,je=T?le:ee-1,$e=this.__iteratees__,We=$e.length,Xe=0,ft=jr(be,this.__takeCount__);if(!w||!T&&j==be&&ft==be)return Bu(u,this.__actions__);var Et=[];e:for(;be--&&Xe<ft;){je+=f;for(var Ft=-1,Ct=u[je];++Ft<We;){var Kt=$e[Ft],Xt=Kt.iteratee,Ni=Kt.type,$s=Xt(Ct);if(Ni==he)Ct=$s;else if(!$s){if(Ni==Ee)continue e;break e}}Et[Xe++]=Ct}return Et}Mt.prototype=Au(Xi.prototype),Mt.prototype.constructor=Mt;function ps(u){var f=-1,w=u==null?0:u.length;for(this.clear();++f<w;){var T=u[f];this.set(T[0],T[1])}}function En(){this.__data__=Tu?Tu(null):{},this.size=0}function Sn(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function yo(u){var f=this.__data__;if(Tu){var w=f[u];return w===p?t:w}return Qt.call(f,u)?f[u]:t}function Lr(u){var f=this.__data__;return Tu?f[u]!==t:Qt.call(f,u)}function gs(u,f){var w=this.__data__;return this.size+=this.has(u)?0:1,w[u]=Tu&&f===t?p:f,this}ps.prototype.clear=En,ps.prototype.delete=Sn,ps.prototype.get=yo,ps.prototype.has=Lr,ps.prototype.set=gs;function Zr(u){var f=-1,w=u==null?0:u.length;for(this.clear();++f<w;){var T=u[f];this.set(T[0],T[1])}}function Iu(){this.__data__=[],this.size=0}function ms(u){var f=this.__data__,w=Fr(f,u);if(w<0)return!1;var T=f.length-1;return w==T?f.pop():xh.call(f,w,1),--this.size,!0}function Dh(u){var f=this.__data__,w=Fr(f,u);return w<0?t:f[w][1]}function Zm(u){return Fr(this.__data__,u)>-1}function ev(u,f){var w=this.__data__,T=Fr(w,u);return T<0?(++this.size,w.push([u,f])):w[T][1]=f,this}Zr.prototype.clear=Iu,Zr.prototype.delete=ms,Zr.prototype.get=Dh,Zr.prototype.has=Zm,Zr.prototype.set=ev;function Qs(u){var f=-1,w=u==null?0:u.length;for(this.clear();++f<w;){var T=u[f];this.set(T[0],T[1])}}function tv(){this.size=0,this.__data__={hash:new ps,map:new(kl||Zr),string:new ps}}function Aa(u){var f=gd(this,u).delete(u);return this.size-=f?1:0,f}function Nh(u){return gd(this,u).get(u)}function Bp(u){return gd(this,u).has(u)}function nv(u,f){var w=gd(this,u),T=w.size;return w.set(u,f),this.size+=w.size==T?0:1,this}Qs.prototype.clear=tv,Qs.prototype.delete=Aa,Qs.prototype.get=Nh,Qs.prototype.has=Bp,Qs.prototype.set=nv;function El(u){var f=-1,w=u==null?0:u.length;for(this.__data__=new Qs;++f<w;)this.add(u[f])}function bo(u){return this.__data__.set(u,p),this}function Mu(u){return this.__data__.has(u)}El.prototype.add=El.prototype.push=bo,El.prototype.has=Mu;function Ur(u){var f=this.__data__=new Zr(u);this.size=f.size}function Ah(){this.__data__=new Zr,this.size=0}function Rh(u){var f=this.__data__,w=f.delete(u);return this.size=f.size,w}function Js(u){return this.__data__.get(u)}function Xs(u){return this.__data__.has(u)}function Cl(u,f){var w=this.__data__;if(w instanceof Zr){var T=w.__data__;if(!kl||T.length<s-1)return T.push([u,f]),this.size=++w.size,this;w=this.__data__=new Qs(T)}return w.set(u,f),this.size=w.size,this}Ur.prototype.clear=Ah,Ur.prototype.delete=Rh,Ur.prototype.get=Js,Ur.prototype.has=Xs,Ur.prototype.set=Cl;function Zi(u,f){var w=jt(u),T=!w&&Od(u),j=!w&&!T&&Ju(u),q=!w&&!T&&!j&&xf(u),ee=w||T||j||q,le=ee?P(u.length,Db):[],be=le.length;for(var je in u)(f||Qt.call(u,je))&&!(ee&&(je=="length"||j&&(je=="offset"||je=="parent")||q&&(je=="buffer"||je=="byteLength"||je=="byteOffset")||An(je,be)))&&le.push(je);return le}function ea(u){var f=u.length;return f?u[Uu(0,f-1)]:t}function Ol(u,f){return af(es(u),Ra(f,0,u.length))}function rv(u){return af(es(u))}function ed(u,f,w){(w!==t&&!Ha(u[f],w)||w===t&&!(f in u))&&ta(u,f,w)}function Pl(u,f,w){var T=u[f];(!(Qt.call(u,f)&&Ha(T,w))||w===t&&!(f in u))&&ta(u,f,w)}function Fr(u,f){for(var w=u.length;w--;)if(Ha(u[w][0],f))return w;return-1}function Rs(u,f,w,T){return ra(u,function(j,q,ee){f(T,j,w(j),ee)}),T}function Cn(u,f){return u&&xi(f,Hr(f),u)}function Si(u,f){return u&&xi(f,oi(f),u)}function ta(u,f,w){f=="__proto__"&&Vc?Vc(u,f,{configurable:!0,enumerable:!0,value:w,writable:!0}):u[f]=w}function Ih(u,f){for(var w=-1,T=f.length,j=Se(T),q=u==null;++w<T;)j[w]=q?t:t0(u,f[w]);return j}function Ra(u,f,w){return u===u&&(w!==t&&(u=u<=w?u:w),f!==t&&(u=u>=f?u:f)),u}function vs(u,f,w,T,j,q){var ee,le=f&x,be=f&E,je=f&C;if(w&&(ee=j?w(u,T,j,q):w(u)),ee!==t)return ee;if(!zn(u))return u;var $e=jt(u);if($e){if(ee=vd(u),!le)return es(u,ee)}else{var We=Tr(u),Xe=We==or||We==Gt;if(Ju(u))return ng(u,le);if(We==Rr||We==rt||Xe&&!j){if(ee=be||Xe?{}:Dr(u),!le)return be?Rb(u,Si(ee,u)):Yh(u,Cn(ee,u))}else{if(!Zt[We])return j?u:{};ee=Ib(u,We,le)}}q||(q=new Ur);var ft=q.get(u);if(ft)return ft;q.set(u,ee),I_(u)?u.forEach(function(Ct){ee.add(vs(Ct,f,w,Ct,u,q))}):A_(u)&&u.forEach(function(Ct,Kt){ee.set(Kt,vs(Ct,f,w,Kt,u,q))});var Et=je?be?pd:fd:be?oi:Hr,Ft=$e?t:Et(u);return vr(Ft||u,function(Ct,Kt){Ft&&(Kt=Ct,Ct=u[Kt]),Pl(ee,Kt,vs(Ct,f,w,Kt,u,q))}),ee}function sv(u){var f=Hr(u);return function(w){return td(w,u,f)}}function td(u,f,w){var T=w.length;if(u==null)return!T;for(u=hn(u);T--;){var j=w[T],q=f[j],ee=u[j];if(ee===t&&!(j in u)||!q(ee))return!1}return!0}function Wp(u,f,w){if(typeof u!="function")throw new Vs(c);return Gu(function(){u.apply(t,w)},f)}function na(u,f,w,T){var j=-1,q=_l,ee=!0,le=u.length,be=[],je=f.length;if(!le)return be;w&&(f=dn(f,F(w))),T?(q=Bc,ee=!1):f.length>=s&&(q=ne,ee=!1,f=new El(f));e:for(;++j<le;){var $e=u[j],We=w==null?$e:w($e);if($e=T||$e!==0?$e:0,ee&&We===We){for(var Xe=je;Xe--;)if(f[Xe]===We)continue e;be.push($e)}else q(f,We,T)||be.push($e)}return be}var ra=ri(Is),iv=ri(wo,!0);function nd(u,f){var w=!0;return ra(u,function(T,j,q){return w=!!f(T,j,q),w}),w}function Tl(u,f,w){for(var T=-1,j=u.length;++T<j;){var q=u[T],ee=f(q);if(ee!=null&&(le===t?ee===ee&&!Di(ee):w(ee,le)))var le=ee,be=q}return be}function av(u,f,w,T){var j=u.length;for(w=Ut(w),w<0&&(w=-w>j?0:j+w),T=T===t||T>j?j:Ut(T),T<0&&(T+=j),T=w>T?0:j_(T);w<T;)u[w++]=f;return u}function Hp(u,f){var w=[];return ra(u,function(T,j,q){f(T,j,q)&&w.push(T)}),w}function Bn(u,f,w,T,j){var q=-1,ee=u.length;for(w||(w=nf),j||(j=[]);++q<ee;){var le=u[q];f>0&&w(le)?f>1?Bn(le,f-1,w,T,j):Vi(j,le):T||(j[j.length]=le)}return j}var Mh=Vh(),rd=Vh(!0);function Is(u,f){return u&&Mh(u,f,Hr)}function wo(u,f){return u&&rd(u,f,Hr)}function ju(u,f){return Gi(f,function(w){return Wl(u[w])})}function Ia(u,f){f=aa(f,u);for(var w=0,T=f.length;u!=null&&w<T;)u=u[Oi(f[w++])];return w&&w==T?u:t}function jh(u,f,w){var T=f(u);return jt(u)?T:Vi(T,w(u))}function Or(u){return u==null?u===t?to:tl:Sl&&Sl in hn(u)?tf(u):mg(u)}function _o(u,f){return u>f}function Zs(u,f){return u!=null&&Qt.call(u,f)}function Dl(u,f){return u!=null&&f in hn(u)}function qp(u,f,w){return u>=jr(f,w)&&u<Zn(f,w)}function $h(u,f,w){for(var T=w?Bc:_l,j=u[0].length,q=u.length,ee=q,le=Se(q),be=1/0,je=[];ee--;){var $e=u[ee];ee&&f&&($e=dn($e,F(f))),be=jr($e.length,be),le[ee]=!w&&(f||j>=120&&$e.length>=120)?new El(ee&&$e):t}$e=u[0];var We=-1,Xe=le[0];e:for(;++We<j&&je.length<be;){var ft=$e[We],Et=f?f(ft):ft;if(ft=w||ft!==0?ft:0,!(Xe?ne(Xe,Et):T(je,Et,w))){for(ee=q;--ee;){var Ft=le[ee];if(!(Ft?ne(Ft,Et):T(u[ee],Et,w)))continue e}Xe&&Xe.push(Et),je.push(ft)}}return je}function Ma(u,f,w,T){return Is(u,function(j,q,ee){f(T,w(j),q,ee)}),T}function ei(u,f,w){f=aa(f,u),u=br(u,f);var T=u==null?u:u[Oi(rs(f))];return T==null?t:Cr(T,u,w)}function Lh(u){return tr(u)&&Or(u)==rt}function ov(u){return tr(u)&&Or(u)==Yr}function ja(u){return tr(u)&&Or(u)==xt}function ti(u,f,w,T,j){return u===f?!0:u==null||f==null||!tr(u)&&!tr(f)?u!==u&&f!==f:Uh(u,f,w,T,ti,j)}function Uh(u,f,w,T,j,q){var ee=jt(u),le=jt(f),be=ee?ht:Tr(u),je=le?ht:Tr(f);be=be==rt?Rr:be,je=je==rt?Rr:je;var $e=be==Rr,We=je==Rr,Xe=be==je;if(Xe&&Ju(u)){if(!Ju(f))return!1;ee=!0,$e=!1}if(Xe&&!$e)return q||(q=new Ur),ee||xf(u)?hg(u,f,w,T,j,q):fg(u,f,be,w,T,j,q);if(!(w&N)){var ft=$e&&Qt.call(u,"__wrapped__"),Et=We&&Qt.call(f,"__wrapped__");if(ft||Et){var Ft=ft?u.value():u,Ct=Et?f.value():f;return q||(q=new Ur),j(Ft,Ct,w,T,q)}}return Xe?(q||(q=new Ur),yv(u,f,w,T,j,q)):!1}function lv(u){return tr(u)&&Tr(u)==Vn}function $u(u,f,w,T){var j=w.length,q=j,ee=!T;if(u==null)return!q;for(u=hn(u);j--;){var le=w[j];if(ee&&le[2]?le[1]!==u[le[0]]:!(le[0]in u))return!1}for(;++j<q;){le=w[j];var be=le[0],je=u[be],$e=le[1];if(ee&&le[2]){if(je===t&&!(be in u))return!1}else{var We=new Ur;if(T)var Xe=T(je,$e,be,u,f,We);if(!(Xe===t?ti($e,je,N|A,T,We):Xe))return!1}}return!0}function zp(u){if(!zn(u)||_v(u))return!1;var f=Wl(u)?Gm:Ac;return f.test(Eo(u))}function sd(u){return tr(u)&&Or(u)==Wn}function sa(u){return tr(u)&&Tr(u)==mn}function id(u){return tr(u)&&Fv(u.length)&&!!an[Or(u)]}function Lu(u){return typeof u=="function"?u:u==null?li:typeof u=="object"?jt(u)?Nn(u[0],u[1]):Fh(u):Y_(u)}function $a(u){if(!Ba(u))return Pu(u);var f=[];for(var w in hn(u))Qt.call(u,w)&&w!="constructor"&&f.push(w);return f}function Kp(u){if(!zn(u))return kv(u);var f=Ba(u),w=[];for(var T in u)T=="constructor"&&(f||!Qt.call(u,T))||w.push(T);return w}function So(u,f){return u<f}function Yp(u,f){var w=-1,T=ai(u)?Se(u.length):[];return ra(u,function(j,q,ee){T[++w]=f(j,q,ee)}),T}function Fh(u){var f=md(u);return f.length==1&&f[0][2]?rf(f[0][0],f[0][1]):function(w){return w===u||$u(w,u,f)}}function Nn(u,f){return st(u)&&bd(f)?rf(Oi(u),f):function(w){var T=t0(w,u);return T===t&&T===f?n0(w,u):ti(f,T,N|A)}}function Nl(u,f,w,T,j){u!==f&&Mh(f,function(q,ee){if(j||(j=new Ur),zn(q))Gp(u,f,ee,w,Nl,T,j);else{var le=T?T(ua(u,ee),q,ee+"",u,f,j):t;le===t&&(le=q),ed(u,ee,le)}},oi)}function Gp(u,f,w,T,j,q,ee){var le=ua(u,w),be=ua(f,w),je=ee.get(be);if(je){ed(u,w,je);return}var $e=q?q(le,be,w+"",u,f,ee):t,We=$e===t;if(We){var Xe=jt(be),ft=!Xe&&Ju(be),Et=!Xe&&!ft&&xf(be);$e=be,Xe||ft||Et?jt(le)?$e=le:cr(le)?$e=es(le):ft?(We=!1,$e=ng(be,!0)):Et?(We=!1,$e=fv(be,!0)):$e=[]:Ig(be)||Od(be)?($e=le,Od(le)?$e=$_(le):(!zn(le)||Wl(le))&&($e=Dr(be))):We=!1}We&&(ee.set(be,$e),j($e,be,T,q,ee),ee.delete(be)),ed(u,w,$e)}function Bh(u,f){var w=u.length;if(w)return f+=f<0?w:0,An(f,w)?u[f]:t}function ad(u,f,w){f.length?f=dn(f,function(q){return jt(q)?function(ee){return Ia(ee,q.length===1?q[0]:q)}:q}):f=[li];var T=-1;f=dn(f,F(St()));var j=Yp(u,function(q,ee,le){var be=dn(f,function(je){return je(q)});return{criteria:be,index:++T,value:q}});return _(j,function(q,ee){return Ab(q,ee,w)})}function Vp(u,f){return xo(u,f,function(w,T){return n0(u,T)})}function xo(u,f,w){for(var T=-1,j=f.length,q={};++T<j;){var ee=f[T],le=Ia(u,ee);w(le,ee)&&Rl(q,aa(ee,u),le)}return q}function $n(u){return function(f){return Ia(f,u)}}function Hn(u,f,w,T){var j=T?Hc:yr,q=-1,ee=f.length,le=u;for(u===f&&(f=es(f)),w&&(le=dn(u,F(w)));++q<ee;)for(var be=0,je=f[q],$e=w?w(je):je;(be=j(le,$e,be,T))>-1;)le!==u&&xh.call(le,be,1),xh.call(u,be,1);return u}function lr(u,f){for(var w=u?f.length:0,T=w-1;w--;){var j=f[w];if(w==T||j!==q){var q=j;An(j)?xh.call(u,j,1):qh(u,j)}}return u}function Uu(u,f){return u+po(Qc()*(f-u+1))}function od(u,f,w,T){for(var j=-1,q=Zn(xl((f-u)/(w||1)),0),ee=Se(q);q--;)ee[T?q:++j]=u,u+=w;return ee}function Al(u,f){var w="";if(!u||f<1||f>V)return w;do f%2&&(w+=u),f=po(f/2),f&&(u+=u);while(f);return w}function Lt(u,f){return Ms(sf(u,f,li),u+"")}function Br(u){return ea(kf(u))}function Qp(u,f){var w=kf(u);return af(w,Ra(f,0,w.length))}function Rl(u,f,w,T){if(!zn(u))return u;f=aa(f,u);for(var j=-1,q=f.length,ee=q-1,le=u;le!=null&&++j<q;){var be=Oi(f[j]),je=w;if(be==="__proto__"||be==="constructor"||be==="prototype")return u;if(j!=ee){var $e=le[be];je=T?T($e,be,le):t,je===t&&(je=zn($e)?$e:An(f[j+1])?[]:{})}Pl(le,be,je),le=le[be]}return u}var Wh=Oh?function(u,f){return Oh.set(u,f),u}:li,ia=Vc?function(u,f){return Vc(u,"toString",{configurable:!0,enumerable:!1,value:s0(f),writable:!0})}:li;function ni(u){return af(kf(u))}function Wr(u,f,w){var T=-1,j=u.length;f<0&&(f=-f>j?0:j+f),w=w>j?j:w,w<0&&(w+=j),j=f>w?0:w-f>>>0,f>>>=0;for(var q=Se(j);++T<j;)q[T]=u[T+f];return q}function Jp(u,f){var w;return ra(u,function(T,j,q){return w=f(T,j,q),!w}),!!w}function Fu(u,f,w){var T=0,j=u==null?T:u.length;if(typeof f=="number"&&f===f&&j<=Ue){for(;T<j;){var q=T+j>>>1,ee=u[q];ee!==null&&!Di(ee)&&(w?ee<=f:ee<f)?T=q+1:j=q}return j}return Hh(u,f,li,w)}function Hh(u,f,w,T){var j=0,q=u==null?0:u.length;if(q===0)return 0;f=w(f);for(var ee=f!==f,le=f===null,be=Di(f),je=f===t;j<q;){var $e=po((j+q)/2),We=w(u[$e]),Xe=We!==t,ft=We===null,Et=We===We,Ft=Di(We);if(ee)var Ct=T||Et;else je?Ct=Et&&(T||Xe):le?Ct=Et&&Xe&&(T||!ft):be?Ct=Et&&Xe&&!ft&&(T||!Ft):ft||Ft?Ct=!1:Ct=T?We<=f:We<f;Ct?j=$e+1:q=$e}return jr(q,Ce)}function Xp(u,f){for(var w=-1,T=u.length,j=0,q=[];++w<T;){var ee=u[w],le=f?f(ee):ee;if(!w||!Ha(le,be)){var be=le;q[j++]=ee===0?0:ee}}return q}function Zp(u){return typeof u=="number"?u:Di(u)?De:+u}function ys(u){if(typeof u=="string")return u;if(jt(u))return dn(u,ys)+"";if(Di(u))return Ph?Ph.call(u):"";var f=u+"";return f=="0"&&1/u==-me?"-0":f}function La(u,f,w){var T=-1,j=_l,q=u.length,ee=!0,le=[],be=le;if(w)ee=!1,j=Bc;else if(q>=s){var je=f?null:vv(u);if(je)return Ve(je);ee=!1,j=ne,be=new El}else be=f?[]:le;e:for(;++T<q;){var $e=u[T],We=f?f($e):$e;if($e=w||$e!==0?$e:0,ee&&We===We){for(var Xe=be.length;Xe--;)if(be[Xe]===We)continue e;f&&be.push(We),le.push($e)}else j(be,We,w)||(be!==le&&be.push(We),le.push($e))}return le}function qh(u,f){f=aa(f,u);var w=-1,T=f.length;if(!T)return!0;for(var j=u==null||typeof u!="object"&&typeof u!="function";++w<T;){var q=f[w];if(typeof q=="string"){if(q==="__proto__"&&!Qt.call(u,"__proto__"))return!1;if(q==="constructor"&&w+1<T&&typeof f[w+1]=="string"&&f[w+1]==="prototype"){if(j&&w===0)continue;return!1}}}var ee=br(u,f);return ee==null||delete ee[Oi(rs(f))]}function eg(u,f,w,T){return Rl(u,f,w(Ia(u,f)),T)}function ld(u,f,w,T){for(var j=u.length,q=T?j:-1;(T?q--:++q<j)&&f(u[q],q,u););return w?Wr(u,T?0:q,T?q+1:j):Wr(u,T?q+1:0,T?j:q)}function Bu(u,f){var w=u;return w instanceof Mt&&(w=w.value()),Wc(f,function(T,j){return j.func.apply(j.thisArg,Vi([T],j.args))},w)}function zh(u,f,w){var T=u.length;if(T<2)return T?La(u[0]):[];for(var j=-1,q=Se(T);++j<T;)for(var ee=u[j],le=-1;++le<T;)le!=j&&(q[j]=na(q[j]||ee,u[le],f,w));return La(Bn(q,1),f,w)}function ud(u,f,w){for(var T=-1,j=u.length,q=f.length,ee={};++T<j;){var le=T<q?f[T]:t;w(ee,u[T],le)}return ee}function Wu(u){return cr(u)?u:[]}function Kh(u){return typeof u=="function"?u:li}function aa(u,f){return jt(u)?u:st(u,f)?[u]:bg(fn(u))}var uv=Lt;function Ua(u,f,w){var T=u.length;return w=w===t?T:w,!f&&w>=T?u:Wr(u,f,w)}var tg=Qm||function(u){return _n.clearTimeout(u)};function ng(u,f){if(f)return u.slice();var w=u.length,T=jp?jp(w):new u.constructor(w);return u.copy(T),T}function cd(u){var f=new u.constructor(u.byteLength);return new Gc(f).set(new Gc(u)),f}function cv(u,f){var w=f?cd(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.byteLength)}function dv(u){var f=new u.constructor(u.source,Sa.exec(u));return f.lastIndex=u.lastIndex,f}function hv(u){return As?hn(As.call(u)):{}}function fv(u,f){var w=f?cd(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.length)}function rg(u,f){if(u!==f){var w=u!==t,T=u===null,j=u===u,q=Di(u),ee=f!==t,le=f===null,be=f===f,je=Di(f);if(!le&&!je&&!q&&u>f||q&&ee&&be&&!le&&!je||T&&ee&&be||!w&&be||!j)return 1;if(!T&&!q&&!je&&u<f||je&&w&&j&&!T&&!q||le&&w&&j||!ee&&j||!be)return-1}return 0}function Ab(u,f,w){for(var T=-1,j=u.criteria,q=f.criteria,ee=j.length,le=w.length;++T<ee;){var be=rg(j[T],q[T]);if(be){if(T>=le)return be;var je=w[T];return be*(je=="desc"?-1:1)}}return u.index-f.index}function pv(u,f,w,T){for(var j=-1,q=u.length,ee=w.length,le=-1,be=f.length,je=Zn(q-ee,0),$e=Se(be+je),We=!T;++le<be;)$e[le]=f[le];for(;++j<ee;)(We||j<q)&&($e[w[j]]=u[j]);for(;je--;)$e[le++]=u[j++];return $e}function sg(u,f,w,T){for(var j=-1,q=u.length,ee=-1,le=w.length,be=-1,je=f.length,$e=Zn(q-le,0),We=Se($e+je),Xe=!T;++j<$e;)We[j]=u[j];for(var ft=j;++be<je;)We[ft+be]=f[be];for(;++ee<le;)(Xe||j<q)&&(We[ft+w[ee]]=u[j++]);return We}function es(u,f){var w=-1,T=u.length;for(f||(f=Se(T));++w<T;)f[w]=u[w];return f}function xi(u,f,w,T){var j=!w;w||(w={});for(var q=-1,ee=f.length;++q<ee;){var le=f[q],be=T?T(w[le],u[le],le,w,u):t;be===t&&(be=u[le]),j?ta(w,le,be):Pl(w,le,be)}return w}function Yh(u,f){return xi(u,ki(u),f)}function Rb(u,f){return xi(u,bv(u),f)}function Gh(u,f){return function(w,T){var j=jt(w)?Uc:Rs,q=f?f():{};return j(w,u,St(T,2),q)}}function Hu(u){return Lt(function(f,w){var T=-1,j=w.length,q=j>1?w[j-1]:t,ee=j>2?w[2]:t;for(q=u.length>3&&typeof q=="function"?(j--,q):t,ee&&ns(w[0],w[1],ee)&&(q=j<3?t:q,j=1),f=hn(f);++T<j;){var le=w[T];le&&u(f,le,T,q)}return f})}function ri(u,f){return function(w,T){if(w==null)return w;if(!ai(w))return u(w,T);for(var j=w.length,q=f?j:-1,ee=hn(w);(f?q--:++q<j)&&T(ee[q],q,ee)!==!1;);return w}}function Vh(u){return function(f,w,T){for(var j=-1,q=hn(f),ee=T(f),le=ee.length;le--;){var be=ee[u?le:++j];if(w(q[be],be,q)===!1)break}return f}}function Qh(u,f,w){var T=f&I,j=qu(u);function q(){var ee=this&&this!==_n&&this instanceof q?j:u;return ee.apply(T?w:this,arguments)}return q}function ig(u){return function(f){f=fn(f);var w=bt(f)?Me(f):t,T=w?w[0]:f.charAt(0),j=w?Ua(w,1).join(""):f.slice(1);return T[u]()+j}}function Il(u){return function(f){return Wc(z_(q_(f).replace(Pp,"")),u,"")}}function qu(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var w=Au(u.prototype),T=u.apply(w,f);return zn(T)?T:w}}function ag(u,f,w){var T=qu(u);function j(){for(var q=arguments.length,ee=Se(q),le=q,be=Fa(j);le--;)ee[le]=arguments[le];var je=q<3&&ee[0]!==be&&ee[q-1]!==be?[]:Le(ee,be);if(q-=je.length,q<w)return ts(u,f,zu,j.placeholder,t,ee,je,t,t,w-q);var $e=this&&this!==_n&&this instanceof j?T:u;return Cr($e,this,ee)}return j}function Ml(u){return function(f,w,T){var j=hn(f);if(!ai(f)){var q=St(w,3);f=Hr(f),w=function(le){return q(j[le],le,j)}}var ee=u(f,w,T);return ee>-1?j[q?f[ee]:ee]:t}}function Jh(u){return la(function(f){var w=f.length,T=w,j=$r.prototype.thru;for(u&&f.reverse();T--;){var q=f[T];if(typeof q!="function")throw new Vs(c);if(j&&!ee&&Ku(q)=="wrapper")var ee=new $r([],!0)}for(T=ee?T:w;++T<w;){q=f[T];var le=Ku(q),be=le=="wrapper"?ef(q):t;be&&yd(be[0])&&be[1]==(H|W|z|Y)&&!be[4].length&&be[9]==1?ee=ee[Ku(be[0])].apply(ee,be[3]):ee=q.length==1&&yd(q)?ee[le]():ee.thru(q)}return function(){var je=arguments,$e=je[0];if(ee&&je.length==1&&jt($e))return ee.plant($e).value();for(var We=0,Xe=w?f[We].apply(this,je):$e;++We<w;)Xe=f[We].call(this,Xe);return Xe}})}function zu(u,f,w,T,j,q,ee,le,be,je){var $e=f&H,We=f&I,Xe=f&L,ft=f&(W|Q),Et=f&re,Ft=Xe?t:qu(u);function Ct(){for(var Kt=arguments.length,Xt=Se(Kt),Ni=Kt;Ni--;)Xt[Ni]=arguments[Ni];if(ft)var $s=Fa(Ct),Ai=se(Xt,$s);if(T&&(Xt=pv(Xt,T,j,ft)),q&&(Xt=sg(Xt,q,ee,ft)),Kt-=Ai,ft&&Kt<je){var dr=Le(Xt,$s);return ts(u,f,zu,Ct.placeholder,w,Xt,dr,le,be,je-Kt)}var qa=We?w:this,ql=Xe?qa[u]:u;return Kt=Xt.length,le?Xt=Ei(Xt,le):Et&&Kt>1&&Xt.reverse(),$e&&be<Kt&&(Xt.length=be),this&&this!==_n&&this instanceof Ct&&(ql=Ft||qu(ql)),ql.apply(qa,Xt)}return Ct}function gv(u,f){return function(w,T){return Ma(w,u,f(T),{})}}function dd(u,f){return function(w,T){var j;if(w===t&&T===t)return f;if(w!==t&&(j=w),T!==t){if(j===t)return T;typeof w=="string"||typeof T=="string"?(w=ys(w),T=ys(T)):(w=Zp(w),T=Zp(T)),j=u(w,T)}return j}}function Xh(u){return la(function(f){return f=dn(f,F(St())),Lt(function(w){var T=this;return u(f,function(j){return Cr(j,T,w)})})})}function hd(u,f){f=f===t?" ":ys(f);var w=f.length;if(w<2)return w?Al(f,u):f;var T=Al(f,xl(u/jn(f)));return bt(f)?Ua(Me(T),0,u).join(""):T.slice(0,u)}function mv(u,f,w,T){var j=f&I,q=qu(u);function ee(){for(var le=-1,be=arguments.length,je=-1,$e=T.length,We=Se($e+be),Xe=this&&this!==_n&&this instanceof ee?q:u;++je<$e;)We[je]=T[je];for(;be--;)We[je++]=arguments[++le];return Cr(Xe,j?w:this,We)}return ee}function og(u){return function(f,w,T){return T&&typeof T!="number"&&ns(f,w,T)&&(w=T=t),f=Hl(f),w===t?(w=f,f=0):w=Hl(w),T=T===t?f<w?1:-1:Hl(T),od(f,w,T,u)}}function Zh(u){return function(f,w){return typeof f=="string"&&typeof w=="string"||(f=ca(f),w=ca(w)),u(f,w)}}function ts(u,f,w,T,j,q,ee,le,be,je){var $e=f&W,We=$e?ee:t,Xe=$e?t:ee,ft=$e?q:t,Et=$e?t:q;f|=$e?z:K,f&=~($e?K:z),f&G||(f&=-4);var Ft=[u,f,j,ft,We,Et,Xe,le,be,je],Ct=w.apply(t,Ft);return yd(u)&&vg(Ct,Ft),Ct.placeholder=T,yg(Ct,u,f)}function Pr(u){var f=Xn[u];return function(w,T){if(w=ca(w),T=T==null?0:jr(Ut(T),292),T&&Ou(w)){var j=(fn(w)+"e").split("e"),q=f(j[0]+"e"+(+j[1]+T));return j=(fn(q)+"e").split("e"),+(j[0]+"e"+(+j[1]-T))}return f(w)}}var vv=go&&1/Ve(new go([,-0]))[1]==me?function(u){return new go(u)}:o0;function lg(u){return function(f){var w=Tr(f);return w==Vn?Je(f):w==mn?$t(f):R(f,u(f))}}function oa(u,f,w,T,j,q,ee,le){var be=f&L;if(!be&&typeof u!="function")throw new Vs(c);var je=T?T.length:0;if(je||(f&=-97,T=j=t),ee=ee===t?ee:Zn(Ut(ee),0),le=le===t?le:Ut(le),je-=j?j.length:0,f&K){var $e=T,We=j;T=j=t}var Xe=be?t:ef(u),ft=[u,f,w,T,j,$e,We,q,ee,le];if(Xe&&xv(ft,Xe),u=ft[0],f=ft[1],w=ft[2],T=ft[3],j=ft[4],le=ft[9]=ft[9]===t?be?0:u.length:Zn(ft[9]-je,0),!le&&f&(W|Q)&&(f&=-25),!f||f==I)var Et=Qh(u,f,w);else f==W||f==Q?Et=ag(u,f,le):(f==z||f==(I|z))&&!j.length?Et=mv(u,f,w,T):Et=zu.apply(t,ft);var Ft=Xe?Wh:vg;return yg(Ft(Et,ft),u,f)}function ug(u,f,w,T){return u===t||Ha(u,Qi[w])&&!Qt.call(T,w)?f:u}function cg(u,f,w,T,j,q){return zn(u)&&zn(f)&&(q.set(f,u),Nl(u,f,t,cg,q),q.delete(f)),u}function dg(u){return Ig(u)?t:u}function hg(u,f,w,T,j,q){var ee=w&N,le=u.length,be=f.length;if(le!=be&&!(ee&&be>le))return!1;var je=q.get(u),$e=q.get(f);if(je&&$e)return je==f&&$e==u;var We=-1,Xe=!0,ft=w&A?new El:t;for(q.set(u,f),q.set(f,u);++We<le;){var Et=u[We],Ft=f[We];if(T)var Ct=ee?T(Ft,Et,We,f,u,q):T(Et,Ft,We,u,f,q);if(Ct!==t){if(Ct)continue;Xe=!1;break}if(ft){if(!xu(f,function(Kt,Xt){if(!ne(ft,Xt)&&(Et===Kt||j(Et,Kt,w,T,q)))return ft.push(Xt)})){Xe=!1;break}}else if(!(Et===Ft||j(Et,Ft,w,T,q))){Xe=!1;break}}return q.delete(u),q.delete(f),Xe}function fg(u,f,w,T,j,q,ee){switch(w){case ls:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case Yr:return!(u.byteLength!=f.byteLength||!q(new Gc(u),new Gc(f)));case pt:case xt:case mi:return Ha(+u,+f);case Dn:return u.name==f.name&&u.message==f.message;case Wn:case qs:return u==f+"";case Vn:var le=Je;case mn:var be=T&N;if(le||(le=Ve),u.size!=f.size&&!be)return!1;var je=ee.get(u);if(je)return je==f;T|=A,ee.set(u,f);var $e=hg(le(u),le(f),T,j,q,ee);return ee.delete(u),$e;case Bi:if(As)return As.call(u)==As.call(f)}return!1}function yv(u,f,w,T,j,q){var ee=w&N,le=fd(u),be=le.length,je=fd(f),$e=je.length;if(be!=$e&&!ee)return!1;for(var We=be;We--;){var Xe=le[We];if(!(ee?Xe in f:Qt.call(f,Xe)))return!1}var ft=q.get(u),Et=q.get(f);if(ft&&Et)return ft==f&&Et==u;var Ft=!0;q.set(u,f),q.set(f,u);for(var Ct=ee;++We<be;){Xe=le[We];var Kt=u[Xe],Xt=f[Xe];if(T)var Ni=ee?T(Xt,Kt,Xe,f,u,q):T(Kt,Xt,Xe,u,f,q);if(!(Ni===t?Kt===Xt||j(Kt,Xt,w,T,q):Ni)){Ft=!1;break}Ct||(Ct=Xe=="constructor")}if(Ft&&!Ct){var $s=u.constructor,Ai=f.constructor;$s!=Ai&&"constructor"in u&&"constructor"in f&&!(typeof $s=="function"&&$s instanceof $s&&typeof Ai=="function"&&Ai instanceof Ai)&&(Ft=!1)}return q.delete(u),q.delete(f),Ft}function la(u){return Ms(sf(u,t,lf),u+"")}function fd(u){return jh(u,Hr,ki)}function pd(u){return jh(u,oi,bv)}var ef=Oh?function(u){return Oh.get(u)}:o0;function Ku(u){for(var f=u.name+"",w=Du[f],T=Qt.call(Du,f)?w.length:0;T--;){var j=w[T],q=j.func;if(q==null||q==u)return j.name}return f}function Fa(u){var f=Qt.call(B,"placeholder")?B:u;return f.placeholder}function St(){var u=B.iteratee||i0;return u=u===i0?Lu:u,arguments.length?u(arguments[0],arguments[1]):u}function gd(u,f){var w=u.__data__;return Yu(f)?w[typeof f=="string"?"string":"hash"]:w.map}function md(u){for(var f=Hr(u),w=f.length;w--;){var T=f[w],j=u[T];f[w]=[T,j,bd(j)]}return f}function ko(u,f){var w=nt(u,f);return zp(w)?w:t}function tf(u){var f=Qt.call(u,Sl),w=u[Sl];try{u[Sl]=t;var T=!0}catch{}var j=Kc.call(u);return T&&(f?u[Sl]=w:delete u[Sl]),j}var ki=kh?function(u){return u==null?[]:(u=hn(u),Gi(kh(u),function(f){return Sh.call(u,f)}))}:l0,bv=kh?function(u){for(var f=[];u;)Vi(f,ki(u)),u=_i(u);return f}:l0,Tr=Or;(Jc&&Tr(new Jc(new ArrayBuffer(1)))!=ls||kl&&Tr(new kl)!=Vn||Xc&&Tr(Xc.resolve())!=nl||go&&Tr(new go)!=mn||Zc&&Tr(new Zc)!=vi)&&(Tr=function(u){var f=Or(u),w=f==Rr?u.constructor:t,T=w?Eo(w):"";if(T)switch(T){case Up:return ls;case mo:return Vn;case Xm:return nl;case Nu:return mn;case Ji:return vi}return f});function pg(u,f,w){for(var T=-1,j=w.length;++T<j;){var q=w[T],ee=q.size;switch(q.type){case"drop":u+=ee;break;case"dropRight":f-=ee;break;case"take":f=jr(f,u+ee);break;case"takeRight":u=Zn(u,f-ee);break}}return{start:u,end:f}}function wv(u){var f=u.match(so);return f?f[1].split(dl):[]}function gg(u,f,w){f=aa(f,u);for(var T=-1,j=f.length,q=!1;++T<j;){var ee=Oi(f[T]);if(!(q=u!=null&&w(u,ee)))break;u=u[ee]}return q||++T!=j?q:(j=u==null?0:u.length,!!j&&Fv(j)&&An(ee,j)&&(jt(u)||Od(u)))}function vd(u){var f=u.length,w=new u.constructor(f);return f&&typeof u[0]=="string"&&Qt.call(u,"index")&&(w.index=u.index,w.input=u.input),w}function Dr(u){return typeof u.constructor=="function"&&!Ba(u)?Au(_i(u)):{}}function Ib(u,f,w){var T=u.constructor;switch(f){case Yr:return cd(u);case pt:case xt:return new T(+u);case ls:return cv(u,w);case Gr:case yt:case zt:case rl:case sl:case il:case kc:case al:case ol:return fv(u,w);case Vn:return new T;case mi:case qs:return new T(u);case Wn:return dv(u);case mn:return new T;case Bi:return hv(u)}}function Mb(u,f){var w=f.length;if(!w)return u;var T=w-1;return f[T]=(w>1?"& ":"")+f[T],f=f.join(w>2?", ":" "),u.replace(Vr,`{
/* [wrapped with `+f+`] */
`)}function nf(u){return jt(u)||Od(u)||!!(Vm&&u&&u[Vm])}function An(u,f){var w=typeof u;return f=f??V,!!f&&(w=="number"||w!="symbol"&&Ks.test(u))&&u>-1&&u%1==0&&u<f}function ns(u,f,w){if(!zn(w))return!1;var T=typeof f;return(T=="number"?ai(w)&&An(f,w.length):T=="string"&&f in w)?Ha(w[f],u):!1}function st(u,f){if(jt(u))return!1;var w=typeof u;return w=="number"||w=="symbol"||w=="boolean"||u==null||Di(u)?!0:Tc.test(u)||!ro.test(u)||f!=null&&u in hn(f)}function Yu(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function yd(u){var f=Ku(u),w=B[f];if(typeof w!="function"||!(f in Mt.prototype))return!1;if(u===w)return!0;var T=ef(w);return!!T&&u===T[0]}function _v(u){return!!bh&&bh in u}var jb=Eu?Wl:u0;function Ba(u){var f=u&&u.constructor,w=typeof f=="function"&&f.prototype||Qi;return u===w}function bd(u){return u===u&&!zn(u)}function rf(u,f){return function(w){return w==null?!1:w[u]===f&&(f!==t||u in hn(w))}}function Sv(u){var f=xe(u,function(T){return w.size===v&&w.clear(),T}),w=f.cache;return f}function xv(u,f){var w=u[1],T=f[1],j=w|T,q=j<(I|L|H),ee=T==H&&w==W||T==H&&w==Y&&u[7].length<=f[8]||T==(H|Y)&&f[7].length<=f[8]&&w==W;if(!(q||ee))return u;T&I&&(u[2]=f[2],j|=w&I?0:G);var le=f[3];if(le){var be=u[3];u[3]=be?pv(be,le,f[4]):le,u[4]=be?Le(u[3],b):f[4]}return le=f[5],le&&(be=u[5],u[5]=be?sg(be,le,f[6]):le,u[6]=be?Le(u[5],b):f[6]),le=f[7],le&&(u[7]=le),T&H&&(u[8]=u[8]==null?f[8]:jr(u[8],f[8])),u[9]==null&&(u[9]=f[9]),u[0]=f[0],u[1]=j,u}function kv(u){var f=[];if(u!=null)for(var w in hn(u))f.push(w);return f}function mg(u){return Kc.call(u)}function sf(u,f,w){return f=Zn(f===t?u.length-1:f,0),function(){for(var T=arguments,j=-1,q=Zn(T.length-f,0),ee=Se(q);++j<q;)ee[j]=T[f+j];j=-1;for(var le=Se(f+1);++j<f;)le[j]=T[j];return le[f]=w(ee),Cr(u,this,le)}}function br(u,f){return f.length<2?u:Ia(u,Wr(f,0,-1))}function Ei(u,f){for(var w=u.length,T=jr(f.length,w),j=es(u);T--;){var q=f[T];u[T]=An(q,w)?j[q]:t}return u}function ua(u,f){if(!(f==="constructor"&&typeof u[f]=="function")&&f!="__proto__")return u[f]}var vg=Ci(Wh),Gu=$p||function(u,f){return _n.setTimeout(u,f)},Ms=Ci(ia);function yg(u,f,w){var T=f+"";return Ms(u,Mb(T,Ev(wv(T),w)))}function Ci(u){var f=0,w=0;return function(){var T=Nb(),j=Re-(T-w);if(w=T,j>0){if(++f>=ke)return arguments[0]}else f=0;return u.apply(t,arguments)}}function af(u,f){var w=-1,T=u.length,j=T-1;for(f=f===t?T:f;++w<f;){var q=Uu(w,j),ee=u[q];u[q]=u[w],u[w]=ee}return u.length=f,u}var bg=Sv(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace(ll,function(w,T,j,q){f.push(j?q.replace(io,"$1"):T||w)}),f});function Oi(u){if(typeof u=="string"||Di(u))return u;var f=u+"";return f=="0"&&1/u==-me?"-0":f}function Eo(u){if(u!=null){try{return zc.call(u)}catch{}try{return u+""}catch{}}return""}function Ev(u,f){return vr(Qe,function(w){var T="_."+w[0];f&w[1]&&!_l(u,T)&&u.push(T)}),u.sort()}function Cv(u){if(u instanceof Mt)return u.clone();var f=new $r(u.__wrapped__,u.__chain__);return f.__actions__=es(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}function of(u,f,w){(w?ns(u,f,w):f===t)?f=1:f=Zn(Ut(f),0);var T=u==null?0:u.length;if(!T||f<1)return[];for(var j=0,q=0,ee=Se(xl(T/f));j<T;)ee[q++]=Wr(u,j,j+=f);return ee}function wg(u){for(var f=-1,w=u==null?0:u.length,T=0,j=[];++f<w;){var q=u[f];q&&(j[T++]=q)}return j}function si(){var u=arguments.length;if(!u)return[];for(var f=Se(u-1),w=arguments[0],T=u;T--;)f[T-1]=arguments[T];return Vi(jt(w)?es(w):[w],Bn(f,1))}var Jt=Lt(function(u,f){return cr(u)?na(u,Bn(f,1,cr,!0)):[]}),wr=Lt(function(u,f){var w=rs(f);return cr(w)&&(w=t),cr(u)?na(u,Bn(f,1,cr,!0),St(w,2)):[]}),er=Lt(function(u,f){var w=rs(f);return cr(w)&&(w=t),cr(u)?na(u,Bn(f,1,cr,!0),t,w):[]});function Nr(u,f,w){var T=u==null?0:u.length;return T?(f=w||f===t?1:Ut(f),Wr(u,f<0?0:f,T)):[]}function js(u,f,w){var T=u==null?0:u.length;return T?(f=w||f===t?1:Ut(f),f=T-f,Wr(u,0,f<0?0:f)):[]}function Vu(u,f){return u&&u.length?ld(u,St(f,3),!0,!0):[]}function ur(u,f){return u&&u.length?ld(u,St(f,3),!0):[]}function wd(u,f,w,T){var j=u==null?0:u.length;return j?(w&&typeof w!="number"&&ns(u,f,w)&&(w=0,T=j),av(u,f,w,T)):[]}function Co(u,f,w){var T=u==null?0:u.length;if(!T)return-1;var j=w==null?0:Ut(w);return j<0&&(j=Zn(T+j,0)),ku(u,St(f,3),j)}function _d(u,f,w){var T=u==null?0:u.length;if(!T)return-1;var j=T-1;return w!==t&&(j=Ut(w),j=w<0?Zn(T+j,0):jr(j,T-1)),ku(u,St(f,3),j,!0)}function lf(u){var f=u==null?0:u.length;return f?Bn(u,1):[]}function Sd(u){var f=u==null?0:u.length;return f?Bn(u,me):[]}function bs(u,f){var w=u==null?0:u.length;return w?(f=f===t?1:Ut(f),Bn(u,f)):[]}function _g(u){for(var f=-1,w=u==null?0:u.length,T={};++f<w;){var j=u[f];T[j[0]]=j[1]}return T}function jl(u){return u&&u.length?u[0]:t}function Wa(u,f,w){var T=u==null?0:u.length;if(!T)return-1;var j=w==null?0:Ut(w);return j<0&&(j=Zn(T+j,0)),yr(u,f,j)}function uf(u){var f=u==null?0:u.length;return f?Wr(u,0,-1):[]}var Sg=Lt(function(u){var f=dn(u,Wu);return f.length&&f[0]===u[0]?$h(f):[]}),Oo=Lt(function(u){var f=rs(u),w=dn(u,Wu);return f===rs(w)?f=t:w.pop(),w.length&&w[0]===u[0]?$h(w,St(f,2)):[]}),cf=Lt(function(u){var f=rs(u),w=dn(u,Wu);return f=typeof f=="function"?f:t,f&&w.pop(),w.length&&w[0]===u[0]?$h(w,t,f):[]});function Po(u,f){return u==null?"":Eh.call(u,f)}function rs(u){var f=u==null?0:u.length;return f?u[f-1]:t}function xd(u,f,w){var T=u==null?0:u.length;if(!T)return-1;var j=T;return w!==t&&(j=Ut(w),j=j<0?Zn(T+j,0):jr(j,T-1)),f===f?Rt(u,f,j):ku(u,fo,j,!0)}function xg(u,f){return u&&u.length?Bh(u,Ut(f)):t}var df=Lt(kd);function kd(u,f){return u&&u.length&&f&&f.length?Hn(u,f):u}function ss(u,f,w){return u&&u.length&&f&&f.length?Hn(u,f,St(w,2)):u}function To(u,f,w){return u&&u.length&&f&&f.length?Hn(u,f,t,w):u}var Pi=la(function(u,f){var w=u==null?0:u.length,T=Ih(u,f);return lr(u,dn(f,function(j){return An(j,w)?+j:j}).sort(rg)),T});function ws(u,f){var w=[];if(!(u&&u.length))return w;var T=-1,j=[],q=u.length;for(f=St(f,3);++T<q;){var ee=u[T];f(ee,T,u)&&(w.push(ee),j.push(T))}return lr(u,j),w}function hf(u){return u==null?u:Ch.call(u)}function kg(u,f,w){var T=u==null?0:u.length;return T?(w&&typeof w!="number"&&ns(u,f,w)?(f=0,w=T):(f=f==null?0:Ut(f),w=w===t?T:Ut(w)),Wr(u,f,w)):[]}function Eg(u,f){return Fu(u,f)}function $b(u,f,w){return Hh(u,f,St(w,2))}function Do(u,f){var w=u==null?0:u.length;if(w){var T=Fu(u,f);if(T<w&&Ha(u[T],f))return T}return-1}function Ov(u,f){return Fu(u,f,!0)}function Cg(u,f,w){return Hh(u,f,St(w,2),!0)}function $l(u,f){var w=u==null?0:u.length;if(w){var T=Fu(u,f,!0)-1;if(Ha(u[T],f))return T}return-1}function Og(u){return u&&u.length?Xp(u):[]}function Ll(u,f){return u&&u.length?Xp(u,St(f,2)):[]}function Pv(u){var f=u==null?0:u.length;return f?Wr(u,1,f):[]}function Tv(u,f,w){return u&&u.length?(f=w||f===t?1:Ut(f),Wr(u,0,f<0?0:f)):[]}function Pg(u,f,w){var T=u==null?0:u.length;return T?(f=w||f===t?1:Ut(f),f=T-f,Wr(u,f<0?0:f,T)):[]}function ff(u,f){return u&&u.length?ld(u,St(f,3),!1,!0):[]}function Lb(u,f){return u&&u.length?ld(u,St(f,3)):[]}var Ub=Lt(function(u){return La(Bn(u,1,cr,!0))}),Dv=Lt(function(u){var f=rs(u);return cr(f)&&(f=t),La(Bn(u,1,cr,!0),St(f,2))}),Nv=Lt(function(u){var f=rs(u);return f=typeof f=="function"?f:t,La(Bn(u,1,cr,!0),t,f)});function Ul(u){return u&&u.length?La(u):[]}function Fb(u,f){return u&&u.length?La(u,St(f,2)):[]}function Qu(u,f){return f=typeof f=="function"?f:t,u&&u.length?La(u,t,f):[]}function pf(u){if(!(u&&u.length))return[];var f=0;return u=Gi(u,function(w){if(cr(w))return f=Zn(w.length,f),!0}),P(f,function(w){return dn(u,i(w))})}function Ln(u,f){if(!(u&&u.length))return[];var w=pf(u);return f==null?w:dn(w,function(T){return Cr(f,t,T)})}var Bb=Lt(function(u,f){return cr(u)?na(u,f):[]}),Av=Lt(function(u){return zh(Gi(u,cr))}),Wb=Lt(function(u){var f=rs(u);return cr(f)&&(f=t),zh(Gi(u,cr),St(f,2))}),Hb=Lt(function(u){var f=rs(u);return f=typeof f=="function"?f:t,zh(Gi(u,cr),t,f)}),Rv=Lt(pf);function Iv(u,f){return ud(u||[],f||[],Pl)}function qb(u,f){return ud(u||[],f||[],Rl)}var ii=Lt(function(u){var f=u.length,w=f>1?u[f-1]:t;return w=typeof w=="function"?(u.pop(),w):t,Ln(u,w)});function gf(u){var f=B(u);return f.__chain__=!0,f}function zb(u,f){return f(u),u}function Ti(u,f){return f(u)}var mf=la(function(u){var f=u.length,w=f?u[0]:0,T=this.__wrapped__,j=function(q){return Ih(q,u)};return f>1||this.__actions__.length||!(T instanceof Mt)||!An(w)?this.thru(j):(T=T.slice(w,+w+(f?1:0)),T.__actions__.push({func:Ti,args:[j],thisArg:t}),new $r(T,this.__chain__).thru(function(q){return f&&!q.length&&q.push(t),q}))});function Fl(){return gf(this)}function vf(){return new $r(this.value(),this.__chain__)}function Tg(){this.__values__===t&&(this.__values__=M_(this.value()));var u=this.__index__>=this.__values__.length,f=u?t:this.__values__[this.__index__++];return{done:u,value:f}}function Dg(){return this}function Kb(u){for(var f,w=this;w instanceof Xi;){var T=Cv(w);T.__index__=0,T.__values__=t,f?j.__wrapped__=T:f=T;var j=T;w=w.__wrapped__}return j.__wrapped__=u,f}function Ng(){var u=this.__wrapped__;if(u instanceof Mt){var f=u;return this.__actions__.length&&(f=new Mt(this)),f=f.reverse(),f.__actions__.push({func:Ti,args:[hf],thisArg:t}),new $r(f,this.__chain__)}return this.thru(hf)}function Yb(){return Bu(this.__wrapped__,this.__actions__)}var Mv=Gh(function(u,f,w){Qt.call(u,w)?++u[w]:ta(u,w,1)});function jv(u,f,w){var T=jt(u)?Fc:nd;return w&&ns(u,f,w)&&(f=t),T(u,St(f,3))}function yf(u,f){var w=jt(u)?Gi:Hp;return w(u,St(f,3))}var bf=Ml(Co),$v=Ml(_d);function Ag(u,f){return Bn(Bl(u,f),1)}function Gb(u,f){return Bn(Bl(u,f),me)}function Lv(u,f,w){return w=w===t?1:Ut(w),Bn(Bl(u,f),w)}function wf(u,f){var w=jt(u)?vr:ra;return w(u,St(f,3))}function Ed(u,f){var w=jt(u)?Su:iv;return w(u,St(f,3))}var Rg=Gh(function(u,f,w){Qt.call(u,w)?u[w].push(f):ta(u,w,[f])});function _f(u,f,w,T){u=ai(u)?u:kf(u),w=w&&!T?Ut(w):0;var j=u.length;return w<0&&(w=Zn(j+w,0)),Bv(u)?w<=j&&u.indexOf(f,w)>-1:!!j&&yr(u,f,w)>-1}var Uv=Lt(function(u,f,w){var T=-1,j=typeof f=="function",q=ai(u)?Se(u.length):[];return ra(u,function(ee){q[++T]=j?Cr(f,ee,w):ei(ee,f,w)}),q}),Vb=Gh(function(u,f,w){ta(u,w,f)});function Bl(u,f){var w=jt(u)?dn:Yp;return w(u,St(f,3))}function Qb(u,f,w,T){return u==null?[]:(jt(f)||(f=f==null?[]:[f]),w=T?t:w,jt(w)||(w=w==null?[]:[w]),ad(u,f,w))}var Cd=Gh(function(u,f,w){u[w?0:1].push(f)},function(){return[[],[]]});function Jb(u,f,w){var T=jt(u)?Wc:m,j=arguments.length<3;return T(u,St(f,4),w,j,ra)}function Sf(u,f,w){var T=jt(u)?Ap:m,j=arguments.length<3;return T(u,St(f,4),w,j,iv)}function a(u,f){var w=jt(u)?Gi:Hp;return w(u,Ke(St(f,3)))}function l(u){var f=jt(u)?ea:Br;return f(u)}function g(u,f,w){(w?ns(u,f,w):f===t)?f=1:f=Ut(f);var T=jt(u)?Ol:Qp;return T(u,f)}function y(u){var f=jt(u)?rv:ni;return f(u)}function k(u){if(u==null)return 0;if(ai(u))return Bv(u)?jn(u):u.length;var f=Tr(u);return f==Vn||f==mn?u.size:$a(u).length}function D(u,f,w){var T=jt(u)?xu:Jp;return w&&ns(u,f,w)&&(f=t),T(u,St(f,3))}var $=Lt(function(u,f){if(u==null)return[];var w=f.length;return w>1&&ns(u,f[0],f[1])?f=[]:w>2&&ns(f[0],f[1],f[2])&&(f=[f[0]]),ad(u,Bn(f,1),[])}),Z=kn||function(){return _n.Date.now()};function oe(u,f){if(typeof f!="function")throw new Vs(c);return u=Ut(u),function(){if(--u<1)return f.apply(this,arguments)}}function Pe(u,f,w){return f=w?t:f,f=u&&f==null?u.length:f,oa(u,H,t,t,t,t,f)}function Be(u,f){var w;if(typeof f!="function")throw new Vs(c);return u=Ut(u),function(){return--u>0&&(w=f.apply(this,arguments)),u<=1&&(f=t),w}}var qe=Lt(function(u,f,w){var T=I;if(w.length){var j=Le(w,Fa(qe));T|=z}return oa(u,T,f,w,j)}),Fe=Lt(function(u,f,w){var T=I|L;if(w.length){var j=Le(w,Fa(Fe));T|=z}return oa(f,T,u,w,j)});function et(u,f,w){f=w?t:f;var T=oa(u,W,t,t,t,t,t,f);return T.placeholder=et.placeholder,T}function ot(u,f,w){f=w?t:f;var T=oa(u,Q,t,t,t,t,t,f);return T.placeholder=ot.placeholder,T}function lt(u,f,w){var T,j,q,ee,le,be,je=0,$e=!1,We=!1,Xe=!0;if(typeof u!="function")throw new Vs(c);f=ca(f)||0,zn(w)&&($e=!!w.leading,We="maxWait"in w,q=We?Zn(ca(w.maxWait)||0,f):q,Xe="trailing"in w?!!w.trailing:Xe);function ft(dr){var qa=T,ql=j;return T=j=t,je=dr,ee=u.apply(ql,qa),ee}function Et(dr){return je=dr,le=Gu(Kt,f),$e?ft(dr):ee}function Ft(dr){var qa=dr-be,ql=dr-je,G_=f-qa;return We?jr(G_,q-ql):G_}function Ct(dr){var qa=dr-be,ql=dr-je;return be===t||qa>=f||qa<0||We&&ql>=q}function Kt(){var dr=Z();if(Ct(dr))return Xt(dr);le=Gu(Kt,Ft(dr))}function Xt(dr){return le=t,Xe&&T?ft(dr):(T=j=t,ee)}function Ni(){le!==t&&tg(le),je=0,T=be=j=le=t}function $s(){return le===t?ee:Xt(Z())}function Ai(){var dr=Z(),qa=Ct(dr);if(T=arguments,j=this,be=dr,qa){if(le===t)return Et(be);if(We)return tg(le),le=Gu(Kt,f),ft(be)}return le===t&&(le=Gu(Kt,f)),ee}return Ai.cancel=Ni,Ai.flush=$s,Ai}var qn=Lt(function(u,f){return Wp(u,1,f)}),we=Lt(function(u,f,w){return Wp(u,ca(f)||0,w)});function fe(u){return oa(u,re)}function xe(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new Vs(c);var w=function(){var T=arguments,j=f?f.apply(this,T):T[0],q=w.cache;if(q.has(j))return q.get(j);var ee=u.apply(this,T);return w.cache=q.set(j,ee)||q,ee};return w.cache=new(xe.Cache||Qs),w}xe.Cache=Qs;function Ke(u){if(typeof u!="function")throw new Vs(c);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}function dt(u){return Be(2,u)}var _t=uv(function(u,f){f=f.length==1&&jt(f[0])?dn(f[0],F(St())):dn(Bn(f,1),F(St()));var w=f.length;return Lt(function(T){for(var j=-1,q=jr(T.length,w);++j<q;)T[j]=f[j].call(this,T[j]);return Cr(u,this,T)})}),wt=Lt(function(u,f){var w=Le(f,Fa(wt));return oa(u,z,t,f,w)}),kt=Lt(function(u,f){var w=Le(f,Fa(kt));return oa(u,K,t,f,w)}),_r=la(function(u,f){return oa(u,Y,t,t,t,f)});function tn(u,f){if(typeof u!="function")throw new Vs(c);return f=f===t?f:Ut(f),Lt(u,f)}function No(u,f){if(typeof u!="function")throw new Vs(c);return f=f==null?0:Zn(Ut(f),0),Lt(function(w){var T=w[f],j=Ua(w,0,f);return T&&Vi(j,T),Cr(u,this,j)})}function Xb(u,f,w){var T=!0,j=!0;if(typeof u!="function")throw new Vs(c);return zn(w)&&(T="leading"in w?!!w.leading:T,j="trailing"in w?!!w.trailing:j),lt(u,f,{leading:T,maxWait:f,trailing:j})}function bO(u){return Pe(u,1)}function wO(u,f){return wt(Kh(f),u)}function _O(){if(!arguments.length)return[];var u=arguments[0];return jt(u)?u:[u]}function SO(u){return vs(u,C)}function xO(u,f){return f=typeof f=="function"?f:t,vs(u,C,f)}function kO(u){return vs(u,x|C)}function EO(u,f){return f=typeof f=="function"?f:t,vs(u,x|C,f)}function CO(u,f){return f==null||td(u,f,Hr(f))}function Ha(u,f){return u===f||u!==u&&f!==f}var OO=Zh(_o),PO=Zh(function(u,f){return u>=f}),Od=Lh((function(){return arguments})())?Lh:function(u){return tr(u)&&Qt.call(u,"callee")&&!Sh.call(u,"callee")},jt=Se.isArray,TO=Lc?F(Lc):ov;function ai(u){return u!=null&&Fv(u.length)&&!Wl(u)}function cr(u){return tr(u)&&ai(u)}function DO(u){return u===!0||u===!1||tr(u)&&Or(u)==pt}var Ju=Lp||u0,NO=Mr?F(Mr):ja;function AO(u){return tr(u)&&u.nodeType===1&&!Ig(u)}function RO(u){if(u==null)return!0;if(ai(u)&&(jt(u)||typeof u=="string"||typeof u.splice=="function"||Ju(u)||xf(u)||Od(u)))return!u.length;var f=Tr(u);if(f==Vn||f==mn)return!u.size;if(Ba(u))return!$a(u).length;for(var w in u)if(Qt.call(u,w))return!1;return!0}function IO(u,f){return ti(u,f)}function MO(u,f,w){w=typeof w=="function"?w:t;var T=w?w(u,f):t;return T===t?ti(u,f,t,w):!!T}function Zb(u){if(!tr(u))return!1;var f=Or(u);return f==Dn||f==qt||typeof u.message=="string"&&typeof u.name=="string"&&!Ig(u)}function jO(u){return typeof u=="number"&&Ou(u)}function Wl(u){if(!zn(u))return!1;var f=Or(u);return f==or||f==Gt||f==Nt||f==ba}function N_(u){return typeof u=="number"&&u==Ut(u)}function Fv(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=V}function zn(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function tr(u){return u!=null&&typeof u=="object"}var A_=Oa?F(Oa):lv;function $O(u,f){return u===f||$u(u,f,md(f))}function LO(u,f,w){return w=typeof w=="function"?w:t,$u(u,f,md(f),w)}function UO(u){return R_(u)&&u!=+u}function FO(u){if(jb(u))throw new At(o);return zp(u)}function BO(u){return u===null}function WO(u){return u==null}function R_(u){return typeof u=="number"||tr(u)&&Or(u)==mi}function Ig(u){if(!tr(u)||Or(u)!=Rr)return!1;var f=_i(u);if(f===null)return!0;var w=Qt.call(f,"constructor")&&f.constructor;return typeof w=="function"&&w instanceof w&&zc.call(w)==wh}var e0=Pa?F(Pa):sd;function HO(u){return N_(u)&&u>=-V&&u<=V}var I_=ho?F(ho):sa;function Bv(u){return typeof u=="string"||!jt(u)&&tr(u)&&Or(u)==qs}function Di(u){return typeof u=="symbol"||tr(u)&&Or(u)==Bi}var xf=mh?F(mh):id;function qO(u){return u===t}function zO(u){return tr(u)&&Tr(u)==vi}function KO(u){return tr(u)&&Or(u)==ln}var YO=Zh(So),GO=Zh(function(u,f){return u<=f});function M_(u){if(!u)return[];if(ai(u))return Bv(u)?Me(u):es(u);if(Na&&u[Na])return Ge(u[Na]());var f=Tr(u),w=f==Vn?Je:f==mn?Ve:kf;return w(u)}function Hl(u){if(!u)return u===0?u:0;if(u=ca(u),u===me||u===-me){var f=u<0?-1:1;return f*Ne}return u===u?u:0}function Ut(u){var f=Hl(u),w=f%1;return f===f?w?f-w:f:0}function j_(u){return u?Ra(Ut(u),0,ie):0}function ca(u){if(typeof u=="number")return u;if(Di(u))return De;if(zn(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=zn(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=U(u);var w=uh.test(u);return w||ch.test(u)?_u(u.slice(2),w?2:8):Nc.test(u)?De:+u}function $_(u){return xi(u,oi(u))}function VO(u){return u?Ra(Ut(u),-V,V):u===0?u:0}function fn(u){return u==null?"":ys(u)}var QO=Hu(function(u,f){if(Ba(f)||ai(f)){xi(f,Hr(f),u);return}for(var w in f)Qt.call(f,w)&&Pl(u,w,f[w])}),L_=Hu(function(u,f){xi(f,oi(f),u)}),Wv=Hu(function(u,f,w,T){xi(f,oi(f),u,T)}),JO=Hu(function(u,f,w,T){xi(f,Hr(f),u,T)}),XO=la(Ih);function ZO(u,f){var w=Au(u);return f==null?w:Cn(w,f)}var eP=Lt(function(u,f){u=hn(u);var w=-1,T=f.length,j=T>2?f[2]:t;for(j&&ns(f[0],f[1],j)&&(T=1);++w<T;)for(var q=f[w],ee=oi(q),le=-1,be=ee.length;++le<be;){var je=ee[le],$e=u[je];($e===t||Ha($e,Qi[je])&&!Qt.call(u,je))&&(u[je]=q[je])}return u}),tP=Lt(function(u){return u.push(t,cg),Cr(U_,t,u)});function nP(u,f){return yh(u,St(f,3),Is)}function rP(u,f){return yh(u,St(f,3),wo)}function sP(u,f){return u==null?u:Mh(u,St(f,3),oi)}function iP(u,f){return u==null?u:rd(u,St(f,3),oi)}function aP(u,f){return u&&Is(u,St(f,3))}function oP(u,f){return u&&wo(u,St(f,3))}function lP(u){return u==null?[]:ju(u,Hr(u))}function uP(u){return u==null?[]:ju(u,oi(u))}function t0(u,f,w){var T=u==null?t:Ia(u,f);return T===t?w:T}function cP(u,f){return u!=null&&gg(u,f,Zs)}function n0(u,f){return u!=null&&gg(u,f,Dl)}var dP=gv(function(u,f,w){f!=null&&typeof f.toString!="function"&&(f=Kc.call(f)),u[f]=w},s0(li)),hP=gv(function(u,f,w){f!=null&&typeof f.toString!="function"&&(f=Kc.call(f)),Qt.call(u,f)?u[f].push(w):u[f]=[w]},St),fP=Lt(ei);function Hr(u){return ai(u)?Zi(u):$a(u)}function oi(u){return ai(u)?Zi(u,!0):Kp(u)}function pP(u,f){var w={};return f=St(f,3),Is(u,function(T,j,q){ta(w,f(T,j,q),T)}),w}function gP(u,f){var w={};return f=St(f,3),Is(u,function(T,j,q){ta(w,j,f(T,j,q))}),w}var mP=Hu(function(u,f,w){Nl(u,f,w)}),U_=Hu(function(u,f,w,T){Nl(u,f,w,T)}),vP=la(function(u,f){var w={};if(u==null)return w;var T=!1;f=dn(f,function(q){return q=aa(q,u),T||(T=q.length>1),q}),xi(u,pd(u),w),T&&(w=vs(w,x|E|C,dg));for(var j=f.length;j--;)qh(w,f[j]);return w});function yP(u,f){return F_(u,Ke(St(f)))}var bP=la(function(u,f){return u==null?{}:Vp(u,f)});function F_(u,f){if(u==null)return{};var w=dn(pd(u),function(T){return[T]});return f=St(f),xo(u,w,function(T,j){return f(T,j[0])})}function wP(u,f,w){f=aa(f,u);var T=-1,j=f.length;for(j||(j=1,u=t);++T<j;){var q=u==null?t:u[Oi(f[T])];q===t&&(T=j,q=w),u=Wl(q)?q.call(u):q}return u}function _P(u,f,w){return u==null?u:Rl(u,f,w)}function SP(u,f,w,T){return T=typeof T=="function"?T:t,u==null?u:Rl(u,f,w,T)}var B_=lg(Hr),W_=lg(oi);function xP(u,f,w){var T=jt(u),j=T||Ju(u)||xf(u);if(f=St(f,4),w==null){var q=u&&u.constructor;j?w=T?new q:[]:zn(u)?w=Wl(q)?Au(_i(u)):{}:w={}}return(j?vr:Is)(u,function(ee,le,be){return f(w,ee,le,be)}),w}function kP(u,f){return u==null?!0:qh(u,f)}function EP(u,f,w){return u==null?u:eg(u,f,Kh(w))}function CP(u,f,w,T){return T=typeof T=="function"?T:t,u==null?u:eg(u,f,Kh(w),T)}function kf(u){return u==null?[]:ae(u,Hr(u))}function OP(u){return u==null?[]:ae(u,oi(u))}function PP(u,f,w){return w===t&&(w=f,f=t),w!==t&&(w=ca(w),w=w===w?w:0),f!==t&&(f=ca(f),f=f===f?f:0),Ra(ca(u),f,w)}function TP(u,f,w){return f=Hl(f),w===t?(w=f,f=0):w=Hl(w),u=ca(u),qp(u,f,w)}function DP(u,f,w){if(w&&typeof w!="boolean"&&ns(u,f,w)&&(f=w=t),w===t&&(typeof f=="boolean"?(w=f,f=t):typeof u=="boolean"&&(w=u,u=t)),u===t&&f===t?(u=0,f=1):(u=Hl(u),f===t?(f=u,u=0):f=Hl(f)),u>f){var T=u;u=f,f=T}if(w||u%1||f%1){var j=Qc();return jr(u+j*(f-u+bl("1e-"+((j+"").length-1))),f)}return Uu(u,f)}var NP=Il(function(u,f,w){return f=f.toLowerCase(),u+(w?H_(f):f)});function H_(u){return r0(fn(u).toLowerCase())}function q_(u){return u=fn(u),u&&u.replace(yi,ce).replace(fh,"")}function AP(u,f,w){u=fn(u),f=ys(f);var T=u.length;w=w===t?T:Ra(Ut(w),0,T);var j=w;return w-=f.length,w>=0&&u.slice(w,j)==f}function RP(u){return u=fn(u),u&&Oc.test(u)?u.replace(Wi,de):u}function IP(u){return u=fn(u),u&&cl.test(u)?u.replace(ul,"\\$&"):u}var MP=Il(function(u,f,w){return u+(w?"-":"")+f.toLowerCase()}),jP=Il(function(u,f,w){return u+(w?" ":"")+f.toLowerCase()}),$P=ig("toLowerCase");function LP(u,f,w){u=fn(u),f=Ut(f);var T=f?jn(u):0;if(!f||T>=f)return u;var j=(f-T)/2;return hd(po(j),w)+u+hd(xl(j),w)}function UP(u,f,w){u=fn(u),f=Ut(f);var T=f?jn(u):0;return f&&T<f?u+hd(f-T,w):u}function FP(u,f,w){u=fn(u),f=Ut(f);var T=f?jn(u):0;return f&&T<f?hd(f-T,w)+u:u}function BP(u,f,w){return w||f==null?f=0:f&&(f=+f),Jm(fn(u).replace(zs,""),f||0)}function WP(u,f,w){return(w?ns(u,f,w):f===t)?f=1:f=Ut(f),Al(fn(u),f)}function HP(){var u=arguments,f=fn(u[0]);return u.length<3?f:f.replace(u[1],u[2])}var qP=Il(function(u,f,w){return u+(w?"_":"")+f.toLowerCase()});function zP(u,f,w){return w&&typeof w!="number"&&ns(u,f,w)&&(f=w=t),w=w===t?ie:w>>>0,w?(u=fn(u),u&&(typeof f=="string"||f!=null&&!e0(f))&&(f=ys(f),!f&&bt(u))?Ua(Me(u),0,w):u.split(f,w)):[]}var KP=Il(function(u,f,w){return u+(w?" ":"")+r0(f)});function YP(u,f,w){return u=fn(u),w=w==null?0:Ra(Ut(w),0,u.length),f=ys(f),u.slice(w,w+f.length)==f}function GP(u,f,w){var T=B.templateSettings;w&&ns(u,f,w)&&(f=t),u=fn(u),f=Wv({},f,T,ug);var j=Wv({},f.imports,T.imports,ug),q=Hr(j),ee=ae(j,q),le,be,je=0,$e=f.interpolate||bi,We="__p += '",Xe=qc((f.escape||bi).source+"|"+$e.source+"|"+($e===no?Es:bi).source+"|"+(f.evaluate||bi).source+"|$","g"),ft="//# sourceURL="+(Qt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tp+"]")+`
`;u.replace(Xe,function(Ct,Kt,Xt,Ni,$s,Ai){return Xt||(Xt=Ni),We+=u.slice(je,Ai).replace(Jn,Te),Kt&&(le=!0,We+=`' +
__e(`+Kt+`) +
'`),$s&&(be=!0,We+=`';
`+$s+`;
__p += '`),Xt&&(We+=`' +
((__t = (`+Xt+`)) == null ? '' : __t) +
'`),je=Ai+Ct.length,Ct}),We+=`';
`;var Et=Qt.call(f,"variable")&&f.variable;if(!Et)We=`with (obj) {
`+We+`
}
`;else if(mu.test(Et))throw new At(d);We=(be?We.replace(gu,""):We).replace(Ec,"$1").replace(Cc,"$1;"),We="function("+(Et||"obj")+`) {
`+(Et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(le?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+We+`return __p
}`;var Ft=K_(function(){return en(q,ft+"return "+We).apply(t,ee)});if(Ft.source=We,Zb(Ft))throw Ft;return Ft}function VP(u){return fn(u).toLowerCase()}function QP(u){return fn(u).toUpperCase()}function JP(u,f,w){if(u=fn(u),u&&(w||f===t))return U(u);if(!u||!(f=ys(f)))return u;var T=Me(u),j=Me(f),q=te(T,j),ee=ye(T,j)+1;return Ua(T,q,ee).join("")}function XP(u,f,w){if(u=fn(u),u&&(w||f===t))return u.slice(0,Ye(u)+1);if(!u||!(f=ys(f)))return u;var T=Me(u),j=ye(T,Me(f))+1;return Ua(T,0,j).join("")}function ZP(u,f,w){if(u=fn(u),u&&(w||f===t))return u.replace(zs,"");if(!u||!(f=ys(f)))return u;var T=Me(u),j=te(T,Me(f));return Ua(T,j).join("")}function eT(u,f){var w=ve,T=_e;if(zn(f)){var j="separator"in f?f.separator:j;w="length"in f?Ut(f.length):w,T="omission"in f?ys(f.omission):T}u=fn(u);var q=u.length;if(bt(u)){var ee=Me(u);q=ee.length}if(w>=q)return u;var le=w-jn(T);if(le<1)return T;var be=ee?Ua(ee,0,le).join(""):u.slice(0,le);if(j===t)return be+T;if(ee&&(le+=be.length-le),e0(j)){if(u.slice(le).search(j)){var je,$e=be;for(j.global||(j=qc(j.source,fn(Sa.exec(j))+"g")),j.lastIndex=0;je=j.exec($e);)var We=je.index;be=be.slice(0,We===t?le:We)}}else if(u.indexOf(ys(j),le)!=le){var Xe=be.lastIndexOf(j);Xe>-1&&(be=be.slice(0,Xe))}return be+T}function tT(u){return u=fn(u),u&&Ir.test(u)?u.replace(wa,He):u}var nT=Il(function(u,f,w){return u+(w?" ":"")+f.toUpperCase()}),r0=ig("toUpperCase");function z_(u,f,w){return u=fn(u),f=w?t:f,f===t?It(u)?Xr(u):Ip(u):u.match(f)||[]}var K_=Lt(function(u,f){try{return Cr(u,t,f)}catch(w){return Zb(w)?w:new At(w)}}),rT=la(function(u,f){return vr(f,function(w){w=Oi(w),ta(u,w,qe(u[w],u))}),u});function sT(u){var f=u==null?0:u.length,w=St();return u=f?dn(u,function(T){if(typeof T[1]!="function")throw new Vs(c);return[w(T[0]),T[1]]}):[],Lt(function(T){for(var j=-1;++j<f;){var q=u[j];if(Cr(q[0],this,T))return Cr(q[1],this,T)}})}function iT(u){return sv(vs(u,x))}function s0(u){return function(){return u}}function aT(u,f){return u==null||u!==u?f:u}var oT=Jh(),lT=Jh(!0);function li(u){return u}function i0(u){return Lu(typeof u=="function"?u:vs(u,x))}function uT(u){return Fh(vs(u,x))}function cT(u,f){return Nn(u,vs(f,x))}var dT=Lt(function(u,f){return function(w){return ei(w,u,f)}}),hT=Lt(function(u,f){return function(w){return ei(u,w,f)}});function a0(u,f,w){var T=Hr(f),j=ju(f,T);w==null&&!(zn(f)&&(j.length||!T.length))&&(w=f,f=u,u=this,j=ju(f,Hr(f)));var q=!(zn(w)&&"chain"in w)||!!w.chain,ee=Wl(u);return vr(j,function(le){var be=f[le];u[le]=be,ee&&(u.prototype[le]=function(){var je=this.__chain__;if(q||je){var $e=u(this.__wrapped__),We=$e.__actions__=es(this.__actions__);return We.push({func:be,args:arguments,thisArg:u}),$e.__chain__=je,$e}return be.apply(u,Vi([this.value()],arguments))})}),u}function fT(){return _n._===this&&(_n._=Ym),this}function o0(){}function pT(u){return u=Ut(u),Lt(function(f){return Bh(f,u)})}var gT=Xh(dn),mT=Xh(Fc),vT=Xh(xu);function Y_(u){return st(u)?i(Oi(u)):$n(u)}function yT(u){return function(f){return u==null?t:Ia(u,f)}}var bT=og(),wT=og(!0);function l0(){return[]}function u0(){return!1}function _T(){return{}}function ST(){return""}function xT(){return!0}function kT(u,f){if(u=Ut(u),u<1||u>V)return[];var w=ie,T=jr(u,ie);f=St(f),u-=ie;for(var j=P(T,f);++w<u;)f(w);return j}function ET(u){return jt(u)?dn(u,Oi):Di(u)?[u]:es(bg(fn(u)))}function CT(u){var f=++Cu;return fn(u)+f}var OT=dd(function(u,f){return u+f},0),PT=Pr("ceil"),TT=dd(function(u,f){return u/f},1),DT=Pr("floor");function NT(u){return u&&u.length?Tl(u,li,_o):t}function AT(u,f){return u&&u.length?Tl(u,St(f,2),_o):t}function RT(u){return O(u,li)}function IT(u,f){return O(u,St(f,2))}function MT(u){return u&&u.length?Tl(u,li,So):t}function jT(u,f){return u&&u.length?Tl(u,St(f,2),So):t}var $T=dd(function(u,f){return u*f},1),LT=Pr("round"),UT=dd(function(u,f){return u-f},0);function FT(u){return u&&u.length?S(u,li):0}function BT(u,f){return u&&u.length?S(u,St(f,2)):0}return B.after=oe,B.ary=Pe,B.assign=QO,B.assignIn=L_,B.assignInWith=Wv,B.assignWith=JO,B.at=XO,B.before=Be,B.bind=qe,B.bindAll=rT,B.bindKey=Fe,B.castArray=_O,B.chain=gf,B.chunk=of,B.compact=wg,B.concat=si,B.cond=sT,B.conforms=iT,B.constant=s0,B.countBy=Mv,B.create=ZO,B.curry=et,B.curryRight=ot,B.debounce=lt,B.defaults=eP,B.defaultsDeep=tP,B.defer=qn,B.delay=we,B.difference=Jt,B.differenceBy=wr,B.differenceWith=er,B.drop=Nr,B.dropRight=js,B.dropRightWhile=Vu,B.dropWhile=ur,B.fill=wd,B.filter=yf,B.flatMap=Ag,B.flatMapDeep=Gb,B.flatMapDepth=Lv,B.flatten=lf,B.flattenDeep=Sd,B.flattenDepth=bs,B.flip=fe,B.flow=oT,B.flowRight=lT,B.fromPairs=_g,B.functions=lP,B.functionsIn=uP,B.groupBy=Rg,B.initial=uf,B.intersection=Sg,B.intersectionBy=Oo,B.intersectionWith=cf,B.invert=dP,B.invertBy=hP,B.invokeMap=Uv,B.iteratee=i0,B.keyBy=Vb,B.keys=Hr,B.keysIn=oi,B.map=Bl,B.mapKeys=pP,B.mapValues=gP,B.matches=uT,B.matchesProperty=cT,B.memoize=xe,B.merge=mP,B.mergeWith=U_,B.method=dT,B.methodOf=hT,B.mixin=a0,B.negate=Ke,B.nthArg=pT,B.omit=vP,B.omitBy=yP,B.once=dt,B.orderBy=Qb,B.over=gT,B.overArgs=_t,B.overEvery=mT,B.overSome=vT,B.partial=wt,B.partialRight=kt,B.partition=Cd,B.pick=bP,B.pickBy=F_,B.property=Y_,B.propertyOf=yT,B.pull=df,B.pullAll=kd,B.pullAllBy=ss,B.pullAllWith=To,B.pullAt=Pi,B.range=bT,B.rangeRight=wT,B.rearg=_r,B.reject=a,B.remove=ws,B.rest=tn,B.reverse=hf,B.sampleSize=g,B.set=_P,B.setWith=SP,B.shuffle=y,B.slice=kg,B.sortBy=$,B.sortedUniq=Og,B.sortedUniqBy=Ll,B.split=zP,B.spread=No,B.tail=Pv,B.take=Tv,B.takeRight=Pg,B.takeRightWhile=ff,B.takeWhile=Lb,B.tap=zb,B.throttle=Xb,B.thru=Ti,B.toArray=M_,B.toPairs=B_,B.toPairsIn=W_,B.toPath=ET,B.toPlainObject=$_,B.transform=xP,B.unary=bO,B.union=Ub,B.unionBy=Dv,B.unionWith=Nv,B.uniq=Ul,B.uniqBy=Fb,B.uniqWith=Qu,B.unset=kP,B.unzip=pf,B.unzipWith=Ln,B.update=EP,B.updateWith=CP,B.values=kf,B.valuesIn=OP,B.without=Bb,B.words=z_,B.wrap=wO,B.xor=Av,B.xorBy=Wb,B.xorWith=Hb,B.zip=Rv,B.zipObject=Iv,B.zipObjectDeep=qb,B.zipWith=ii,B.entries=B_,B.entriesIn=W_,B.extend=L_,B.extendWith=Wv,a0(B,B),B.add=OT,B.attempt=K_,B.camelCase=NP,B.capitalize=H_,B.ceil=PT,B.clamp=PP,B.clone=SO,B.cloneDeep=kO,B.cloneDeepWith=EO,B.cloneWith=xO,B.conformsTo=CO,B.deburr=q_,B.defaultTo=aT,B.divide=TT,B.endsWith=AP,B.eq=Ha,B.escape=RP,B.escapeRegExp=IP,B.every=jv,B.find=bf,B.findIndex=Co,B.findKey=nP,B.findLast=$v,B.findLastIndex=_d,B.findLastKey=rP,B.floor=DT,B.forEach=wf,B.forEachRight=Ed,B.forIn=sP,B.forInRight=iP,B.forOwn=aP,B.forOwnRight=oP,B.get=t0,B.gt=OO,B.gte=PO,B.has=cP,B.hasIn=n0,B.head=jl,B.identity=li,B.includes=_f,B.indexOf=Wa,B.inRange=TP,B.invoke=fP,B.isArguments=Od,B.isArray=jt,B.isArrayBuffer=TO,B.isArrayLike=ai,B.isArrayLikeObject=cr,B.isBoolean=DO,B.isBuffer=Ju,B.isDate=NO,B.isElement=AO,B.isEmpty=RO,B.isEqual=IO,B.isEqualWith=MO,B.isError=Zb,B.isFinite=jO,B.isFunction=Wl,B.isInteger=N_,B.isLength=Fv,B.isMap=A_,B.isMatch=$O,B.isMatchWith=LO,B.isNaN=UO,B.isNative=FO,B.isNil=WO,B.isNull=BO,B.isNumber=R_,B.isObject=zn,B.isObjectLike=tr,B.isPlainObject=Ig,B.isRegExp=e0,B.isSafeInteger=HO,B.isSet=I_,B.isString=Bv,B.isSymbol=Di,B.isTypedArray=xf,B.isUndefined=qO,B.isWeakMap=zO,B.isWeakSet=KO,B.join=Po,B.kebabCase=MP,B.last=rs,B.lastIndexOf=xd,B.lowerCase=jP,B.lowerFirst=$P,B.lt=YO,B.lte=GO,B.max=NT,B.maxBy=AT,B.mean=RT,B.meanBy=IT,B.min=MT,B.minBy=jT,B.stubArray=l0,B.stubFalse=u0,B.stubObject=_T,B.stubString=ST,B.stubTrue=xT,B.multiply=$T,B.nth=xg,B.noConflict=fT,B.noop=o0,B.now=Z,B.pad=LP,B.padEnd=UP,B.padStart=FP,B.parseInt=BP,B.random=DP,B.reduce=Jb,B.reduceRight=Sf,B.repeat=WP,B.replace=HP,B.result=wP,B.round=LT,B.runInContext=pe,B.sample=l,B.size=k,B.snakeCase=qP,B.some=D,B.sortedIndex=Eg,B.sortedIndexBy=$b,B.sortedIndexOf=Do,B.sortedLastIndex=Ov,B.sortedLastIndexBy=Cg,B.sortedLastIndexOf=$l,B.startCase=KP,B.startsWith=YP,B.subtract=UT,B.sum=FT,B.sumBy=BT,B.template=GP,B.times=kT,B.toFinite=Hl,B.toInteger=Ut,B.toLength=j_,B.toLower=VP,B.toNumber=ca,B.toSafeInteger=VO,B.toString=fn,B.toUpper=QP,B.trim=JP,B.trimEnd=XP,B.trimStart=ZP,B.truncate=eT,B.unescape=tT,B.uniqueId=CT,B.upperCase=nT,B.upperFirst=r0,B.each=wf,B.eachRight=Ed,B.first=jl,a0(B,(function(){var u={};return Is(B,function(f,w){Qt.call(B.prototype,w)||(u[w]=f)}),u})(),{chain:!1}),B.VERSION=r,vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){B[u].placeholder=B}),vr(["drop","take"],function(u,f){Mt.prototype[u]=function(w){w=w===t?1:Zn(Ut(w),0);var T=this.__filtered__&&!f?new Mt(this):this.clone();return T.__filtered__?T.__takeCount__=jr(w,T.__takeCount__):T.__views__.push({size:jr(w,ie),type:u+(T.__dir__<0?"Right":"")}),T},Mt.prototype[u+"Right"]=function(w){return this.reverse()[u](w).reverse()}}),vr(["filter","map","takeWhile"],function(u,f){var w=f+1,T=w==Ee||w==ge;Mt.prototype[u]=function(j){var q=this.clone();return q.__iteratees__.push({iteratee:St(j,3),type:w}),q.__filtered__=q.__filtered__||T,q}}),vr(["head","last"],function(u,f){var w="take"+(f?"Right":"");Mt.prototype[u]=function(){return this[w](1).value()[0]}}),vr(["initial","tail"],function(u,f){var w="drop"+(f?"":"Right");Mt.prototype[u]=function(){return this.__filtered__?new Mt(this):this[w](1)}}),Mt.prototype.compact=function(){return this.filter(li)},Mt.prototype.find=function(u){return this.filter(u).head()},Mt.prototype.findLast=function(u){return this.reverse().find(u)},Mt.prototype.invokeMap=Lt(function(u,f){return typeof u=="function"?new Mt(this):this.map(function(w){return ei(w,u,f)})}),Mt.prototype.reject=function(u){return this.filter(Ke(St(u)))},Mt.prototype.slice=function(u,f){u=Ut(u);var w=this;return w.__filtered__&&(u>0||f<0)?new Mt(w):(u<0?w=w.takeRight(-u):u&&(w=w.drop(u)),f!==t&&(f=Ut(f),w=f<0?w.dropRight(-f):w.take(f-u)),w)},Mt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Mt.prototype.toArray=function(){return this.take(ie)},Is(Mt.prototype,function(u,f){var w=/^(?:filter|find|map|reject)|While$/.test(f),T=/^(?:head|last)$/.test(f),j=B[T?"take"+(f=="last"?"Right":""):f],q=T||/^find/.test(f);j&&(B.prototype[f]=function(){var ee=this.__wrapped__,le=T?[1]:arguments,be=ee instanceof Mt,je=le[0],$e=be||jt(ee),We=function(Kt){var Xt=j.apply(B,Vi([Kt],le));return T&&Xe?Xt[0]:Xt};$e&&w&&typeof je=="function"&&je.length!=1&&(be=$e=!1);var Xe=this.__chain__,ft=!!this.__actions__.length,Et=q&&!Xe,Ft=be&&!ft;if(!q&&$e){ee=Ft?ee:new Mt(this);var Ct=u.apply(ee,le);return Ct.__actions__.push({func:Ti,args:[We],thisArg:t}),new $r(Ct,Xe)}return Et&&Ft?u.apply(this,le):(Ct=this.thru(We),Et?T?Ct.value()[0]:Ct.value():Ct)})}),vr(["pop","push","shift","sort","splice","unshift"],function(u){var f=Ta[u],w=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",T=/^(?:pop|shift)$/.test(u);B.prototype[u]=function(){var j=arguments;if(T&&!this.__chain__){var q=this.value();return f.apply(jt(q)?q:[],j)}return this[w](function(ee){return f.apply(jt(ee)?ee:[],j)})}}),Is(Mt.prototype,function(u,f){var w=B[f];if(w){var T=w.name+"";Qt.call(Du,T)||(Du[T]=[]),Du[T].push({name:f,func:w})}}),Du[zu(t,L).name]=[{name:"wrapper",func:t}],Mt.prototype.clone=Th,Mt.prototype.reverse=Fp,Mt.prototype.value=Ru,B.prototype.at=mf,B.prototype.chain=Fl,B.prototype.commit=vf,B.prototype.next=Tg,B.prototype.plant=Kb,B.prototype.reverse=Ng,B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=Yb,B.prototype.first=B.prototype.head,Na&&(B.prototype[Na]=Dg),B}),Ns=Ds();Gs?((Gs.exports=Ns)._=Ns,wl._=Ns):_n._=Ns}).call(r4)})(Yg,Yg.exports)),Yg.exports}var On=s4();const i4=()=>{const[n,e]=X.useState([]),[t,r]=X.useState({}),[s,o]=X.useState(!0),[c,d]=X.useState(!1),p=X.useCallback(()=>{Md.reload()},[]);return X.useEffect(()=>{const v=Md.loading$.subscribe(o),b=Md.list$.subscribe(e),x=Md.listWithStatuses$.subscribe(r),E=Md.error$.subscribe(d);return p(),()=>{v.unsubscribe(),b.unsubscribe(),x.unsubscribe(),E.unsubscribe()}},[p]),X.useEffect(()=>{const v=n4(b=>{console.log("gaga-----------------------msg.data--------------",b.data);const x=b.data.reduce((N,A)=>(N[A.gameId]=A,N),{}),E=n.map(N=>{const A=x[N._id];return A&&(N.data.updatedBet1Rate=A.bet1Rate||N.data.updatedBet1Rate,N.data.updatedBet2Rate=A.bet2Rate||N.data.updatedBet2Rate,N.updatedAt=new Date(b.date).toISOString()),N}),C=On.orderBy(E,["updatedAt","status"],["desc"]);e(C)});return()=>{v()}},[n]),{list:n,loading:s,error:c,reload:p,listStatus:t}};var M0={exports:{}};var ik;function a4(){return ik||(ik=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(o=s(o,r(d)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var d in o)e.call(o,d)&&o[d]&&(c=s(c,d));return c}function s(o,c){return c?o?o+" "+c:o+c:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(M0)),M0.exports}var o4=a4();const xn=mr(o4),SC=({usersBetInfo:n})=>!n||n.length===0?null:M.jsx("div",{"data-testid":"PredictionBetsInfo",className:"mt-2 text-sm",children:M.jsx(lu,{panels:[{key:"panel-0",title:M.jsxs(lu.Title,{className:"flex justify-between !m-0 !p-0",children:[M.jsxs("span",{className:"text-white",children:["B#(",n.length,")"]}),M.jsx("i",{className:"dropdown icon text-white"})]}),content:{content:M.jsx(M.Fragment,{children:n.map(e=>{const t=e.staked||0,r=e.teams||"",s=e.winnings||0;return M.jsxs("div",{className:xn({"flex gap-1 justify-between":!0,"text-green-dark":s>0,"text-yellow-dark":s===0,"text-red-dark":s<0&&e.status!=="Placed","text-white":e.status==="Placed"}),children:[M.jsx("div",{className:"flex-1",children:e.build}),M.jsx(Ht,{position:"left center",trigger:M.jsx("div",{className:"flex-1 text-center",children:t}),children:M.jsx(Ht.Content,{children:M.jsx("div",{className:"flex-1 text-center",children:r})})}),M.jsx("div",{className:"flex-1 text-center",children:e.odds}),M.jsx("div",{className:"flex-[0.7] text-end",children:rn(s)})]},e.build)})})}}]})});SC.displayName="PredictionBetsInfo";const xC=()=>{const{list:n,reload:e,loading:t,listStatus:r}=i4();return console.log("gaga-------------------------------------PredictionListComponent render",t),M.jsxs("div",{"data-testid":"PredictionList",className:"flex flex-1 flex-col overflow-hidden",children:[M.jsxs("div",{className:"flex flex-row items-start justify-between h-10",children:[M.jsxs("span",{className:"dark:text-white text-2xl",children:["Predictions (#",n.length,")"]}),M.jsx(wn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl !mt-[-7px]",name:"refresh",onClick:e})]}),M.jsx("hr",{}),M.jsxs("div",{className:"flex justify-between mt-2",children:[M.jsxs("span",{className:"text-green-dark",children:["W (#",r.Won||0,")"]}),M.jsxs("span",{className:"text-purple-dark text-center",children:["P (#",r.Placed||0,")"]}),M.jsxs("span",{className:"text-red-dark",children:["L (#",r.Lost||0,")"]})]}),M.jsx("div",{className:"flex flex-col overflow-auto flex-1 my-3 gap-y-3",children:n.map(s=>{const{_id:o,createdAt:c,updatedAt:d}=s,{winningPercentage:p,game:v,team1Name:b,team2Name:x,status:E,bet1Rate:C=0,bet2Rate:N=0,from:A,prediction:I,usersBetInfo:L,updatedBet1Rate:G,updatedBet2Rate:W}=s.data;return M.jsxs("div",{className:xn({group:!0,"bg-neutral-950 rounded-lg p-3 dark:text-white border":!0,"border-red-dark":E==="Lost","border-green-dark":E==="Won","border-purple-dark":E==="Placed","border-transparent":!E}),children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("span",{className:"text-xl font-bold",children:[v,"(",p.toFixed(0),"%)"]}),M.jsx(Ht,{position:"left center",trigger:M.jsx("span",{children:c?mt(c).utc().fromNow(!0):" N/A"}),flowing:!0,children:M.jsxs("span",{children:["Last update: ",d?mt(d).utc().fromNow():" N/A"]})})]}),M.jsx("div",{className:"flex justify-between mb-2 items-center h-5",children:M.jsx("span",{className:"text-sm font-bold",children:o})}),M.jsxs("div",{className:"flex flex-1 flex-row",children:[M.jsx("span",{className:xn({truncate:!0,"text-green-dark":b===I}),children:b}),"",M.jsxs("span",{className:xn({"text-green-dark":C<N,"text-red-dark":C>N}),children:["(",C,")",G&&` - ${G}`]})]}),M.jsx("div",{className:"flex justify-center",children:M.jsx("span",{children:"VS"})}),M.jsxs("div",{className:"flex flex-1 flex-row justify-end",children:[M.jsxs("span",{className:xn({"text-green-dark":N<C,"text-red-dark":N>C}),children:[W&&`${W} - `,"(",N,")"]}),"",M.jsx("span",{className:xn({truncate:!0,"text-green-dark":x===I}),children:x})]}),M.jsx("div",{className:"mt-2",children:Object.values(A.reduce((Q,z)=>(Q[z.team]||(Q[z.team]=[]),Q[z.team].push(z),Q),{})).sort((Q,z)=>z.length-Q.length).map(Q=>Q.map(z=>M.jsxs("div",{className:xn({"flex justify-between text-sm":!0,"text-blue-light":Q.length>=2,"text-yellow-light":Q.length<2}),children:[M.jsx("span",{children:z.name}),M.jsxs("span",{children:[z.percentage.toFixed(0),"%"]})]},z.name)))}),M.jsx(SC,{usersBetInfo:L})]},o+b+x)})}),M.jsx(gi,{active:t,children:M.jsx(Yo,{})})]})};xC.displayName="PredictionList";const l4=()=>{const[n,e]=X.useState(""),t=X.useMemo(()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[]),[r,s]=X.useState({});X.useEffect(()=>{const c=Md.list$.subscribe(d=>{const p=d.reduce((v,b)=>{const x=b.data.status;return x&&(v[x]=(v[x]||0)+1),v},{});s(p)});return()=>{c.unsubscribe()}},[]);const o=X.useCallback(c=>{const{dayStartOfWeekDay:d}=ir(),p=n===c?"":c,v=d(p);e(p),Md.reload(v)},[n]);return{selectedDay:n,handleDayClick:o,daysOfWeek:t,listStatus:r}},kC=()=>{const{selectedDay:n,handleDayClick:e,daysOfWeek:t,listStatus:r}=l4();return M.jsxs("div",{"data-testid":"PredictionFilter",className:"flex flex-col gap-2",children:[M.jsxs("div",{className:"flex justify-between",children:[M.jsxs("span",{className:"text-green-dark text-sm",children:["W (#",r.Won||0,")"]}),M.jsxs("span",{className:"text-red-dark text-sm",children:["L (#",r.Lost||0,")"]})]}),M.jsx("div",{className:"flex justify-between gap-1",children:t.map(s=>M.jsx("button",{className:xn({"p-2 border-amber-50 flex-1":!0,"bg-amber-50 text-black":n===s}),onClick:()=>e(s),children:s},s))})]})};kC.displayName="PredictionFilter";const EC=()=>{const[n,e]=X.useState(!1);return M.jsx(Ht,{position:"bottom right",on:"click",inverted:!0,open:n,onOpen:()=>e(!0),onClose:()=>e(!1),className:"flex h-[calc(100dvh-75px)] !p-4",trigger:M.jsx(wn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl",name:"magic"}),children:M.jsxs("div",{className:"w-[320px] h-full flex flex-col",children:[M.jsx(xC,{}),M.jsx(kC,{})]})})};EC.displayName="PredictionPopup";const u4=()=>{const[n,e]=X.useState({});return X.useEffect(()=>{const r=hi.get3rdPartyData().subscribe(s=>{s.data&&e(s.data)});return()=>{r.unsubscribe()}},[]),{other:X.useMemo(()=>{const{webshare:r,captcha:s,solveCaptcha:o}=n,c=(v=0)=>Number((v/1024**3).toFixed(2)),d=(v=0)=>Number((v/1024**2).toFixed(2));let p="";if(r){const v=c(r.bandwidth_total),b=d(r.bandwidth_total),x=[v&&`${v}`,b&&`${b}MB`].find(Boolean)||"",E=new Date;E.setMonth(E.getMonth()+1),E.toLocaleString("en-US",{month:"short"}),p=`WebShare: ${x}/1TB`,console.log("gaga-------------------------------------",[v&&`${v}GB`,b&&`${b}MB`])}return{solveCaptcha:`SolveCaptcha: ${rn(o?.balance||0)}`,captcha:`2Captcha: ${rn(s?.balance||0)}`,webshare:p}},[n])}},CC=()=>{const{other:n}=u4(),e=th();return console.log("HeaderComponent-------------------------------------",n),M.jsxs("div",{"data-testid":"Header",className:"h-20 bg-black p-3 flex justify-between items-center",children:[M.jsx("div",{className:"flex-1",children:M.jsxs(Ht,{size:"mini",position:"right center",trigger:M.jsxs(Iy,{className:"h-full inline-flex flex-row items-center",to:"/",children:[M.jsx("div",{className:" rounded-full overflow-hidden h-[50px] w-[50px] border-gray-800 border-4",children:M.jsx("img",{className:"h-[42px] aspect-square",src:nC,alt:"logo"})}),M.jsx("span",{className:"pl-4 text-3xl dark:text-white",children:"Talpakers"})]}),children:[M.jsxs("div",{children:["v",rC," build ",mt(1770847112020).fromNow()]}),M.jsxs("div",{children:["MT: ",ir().formatDate()]})]})}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx(Iy,{to:"/apks","aria-label":"Navigate to APKs page",children:M.jsx(wn,{circular:!0,inverted:!0,name:"android",className:`cursor-pointer !text-xl ${e.pathname==="/apks"?"bg-gray-700":""}`})}),M.jsx(Ht,{size:"mini",position:"right center",trigger:M.jsx(wn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl",name:"database"}),children:Object.keys(n).map(t=>M.jsx("div",{children:n?.[t]},t))}),M.jsx(EC,{})]})]})};CC.displayName="Header";const m_=({children:n})=>M.jsxs("div",{"data-testid":"MainLayout",className:"h-full flex flex-col",children:[M.jsx(CC,{}),M.jsx("div",{className:"content flex flex-1 w-full overflow-hidden bg-neutral-900",children:n})]});m_.displayName="MainLayout";const kw=n=>{const e=n.match(/^app-([A-Z0-9_-]+)/i);if(!e)return null;let t=e[1];return t=t.replace(/-release$/i,""),t},c4=n=>{const e=n.match(/\.(\d+\.\d+\.\d+)\.apk$/i);return e?`v${e[1]}`:null},d4=()=>{const[n,e]=X.useState([]),[t,r]=X.useState(!0),[s,o]=X.useState(!1),c=X.useCallback(()=>(r(!0),o(!1),hi.getGDriveList().subscribe({next:v=>{const b=v.filter(x=>x.name.toLowerCase().startsWith("app-")).sort((x,E)=>{const C=kw(x.name)||x.name,N=kw(E.name)||E.name;return C.localeCompare(N)});e(b),r(!1)},error:()=>{o(!0),r(!1)}})),[]);X.useEffect(()=>{const p=c();return()=>{p.unsubscribe()}},[c]);const d=X.useCallback(()=>{c()},[c]);return{files:n,loading:t,error:s,retry:d}},OC=()=>{const{files:n,loading:e,error:t,retry:r}=d4();return!e&&t?M.jsx("div",{className:"w-full m-4 bg-neutral-800 rounded-lg p-4",children:M.jsxs(Ja,{negative:!0,children:[M.jsx(Ja.Header,{children:"Failed to load APK files"}),M.jsx("p",{children:"Please try refreshing the page or contact support if the problem persists."}),M.jsx(Yn,{primary:!0,size:"small",onClick:r,children:"Retry"})]})}):!e&&!t&&n.length===0?M.jsx("div",{className:"w-full m-4 bg-neutral-800 rounded-lg p-4",children:M.jsxs(Ja,{info:!0,children:[M.jsx(Ja.Header,{children:"No APK files found"}),M.jsx("p",{children:"The Google Drive folder is currently empty."})]})}):M.jsxs("div",{className:"w-full m-4 bg-neutral-800 rounded-lg relative",children:[M.jsxs("div",{className:"flex flex-col p-4 h-full",children:[M.jsxs("div",{className:"flex flex-row items-start justify-between h-12",children:[M.jsxs("span",{className:"dark:text-white text-2xl",children:["APK Files (",n.length,")"]}),M.jsx(wn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl !mt-[-3px]",onClick:r,name:"refresh"})]}),M.jsx("hr",{}),M.jsx(Hs,{className:"flex-1 overflow-auto mt-4",children:M.jsxs(hr,{size:"small",selectable:!0,compact:!0,striped:!0,celled:!0,inverted:!0,unstackable:!0,"aria-label":"List of available APK files",children:[M.jsx(hr.Header,{className:"bg-neutral-900 sticky top-0 z-10",children:M.jsxs(hr.Row,{children:[M.jsx(hr.HeaderCell,{textAlign:"center",children:"BUILD"}),M.jsx(hr.HeaderCell,{textAlign:"center",children:"VERSION"})]})}),M.jsx(hr.Body,{children:n.map(s=>{const o=kw(s.name),c=c4(s.name),d=`https://drive.google.com/uc?export=download&id=${s.id}`,p=()=>{window.open(d,"_blank")};return M.jsxs(hr.Row,{onClick:p,className:"cursor-pointer",children:[M.jsx(hr.Cell,{children:M.jsx("a",{href:d,className:"text-white cursor-pointer hover:text-white",target:"_blank",rel:"noopener noreferrer",onClick:v=>v.stopPropagation(),children:o||s.name})}),M.jsx(hr.Cell,{children:c||"N/A"})]},s.id)})})]})})]}),M.jsx(gi,{active:e,children:M.jsx(Yo,{})})]})};OC.displayName="ApksTable";const PC=()=>M.jsx(m_,{children:M.jsx("div",{"data-testid":"ApksPage",className:"w-full flex flex-row overflow-auto",children:M.jsx(OC,{})})});PC.displayName="ApksPage";const h4=Object.freeze(Object.defineProperty({__proto__:null,default:PC},Symbol.toStringTag,{value:"Module"})),TC=()=>M.jsx("div",{"data-testid":"MainPage",className:"flex h-full items-center justify-center flex-col",children:M.jsx("div",{className:"rounded-full overflow-hidden w-[100px] aspect-square flex items-center border-gray-700 border-8",children:M.jsxs(Ht,{open:!0,position:"top center",trigger:M.jsx(Iy,{className:"h-full w-full",title:"Users",to:"users",children:M.jsx("img",{className:"h-full",src:nC,alt:"logo"})}),children:[M.jsx("div",{children:"Talapkers"}),M.jsx("div",{children:M.jsx("span",{children:`Version: ${rC}`})}),M.jsx("div",{children:M.jsx("span",{children:`Build Date: ${mt(1770847112020).fromNow()}`})})]})})});TC.displayName="MainPage";const f4=Object.freeze(Object.defineProperty({__proto__:null,default:TC},Symbol.toStringTag,{value:"Module"}));var Pn=(n=>(n.IsDone="Done",n.InProgress="InProgress",n.IsWaiting="Waiting",n))(Pn||{}),Mo=(n=>(n.Earnings="earnings",n.OpenBets="openBets",n.NextWithdrawal="nextWithdrawal",n.Active="active",n))(Mo||{});const v_=(n,e)=>{const t=["#adff2f","#b2fa33","#b7f636","#bcf139","#c0ec3b","#c4e73e","#c8e340","#ccde42","#d0d945","#d3d447","#d6cf48","#d9ca4a","#dcc54c","#dfc04d","#e2bb4f","#e4b650","#e7b152","#e9ab53","#eca654","#eea056","#f09b57","#f29558","#f48f59","#f6895a","#f7835b","#f97c5c","#fb755d","#fc6e5d","#fe675e","#ff5f5f"],r=Math.max(0,Math.min(e,n)),s=Math.floor(r/e*(t.length-1));return t[s]},Gg=n=>{const{weekStart:e}=ir(),t=n.data.weeklySummary?.find(b=>b.data.weekStart===e.toISOString()),r=t?.data.done===!0,s=t?.data.done===!1,o=mt(n.updatedAt??n.createdAt??new Date),c=mt.duration(-o.diff(Date.now())).asMinutes();let d=!1;return s&&c>=30&&(d=!0),!ir().isWithinThisWeek(t?.data.weekStart)||d||t?.data.done===void 0?Pn.IsWaiting:r?Pn.IsDone:Pn.InProgress},p4=n=>{const[e,t]=X.useState(!0),[r,s]=X.useState([]),[o,c]=X.useState(void 0);X.useEffect(()=>{const{weekStart:p}=ir(),v=hi.getWeeklySummaryByWeek(n._id,p.toISOString()).pipe(Bm(b=>{const E=b.data?.[0]?.data.betsInfo||[];s(E);const C=E.map(N=>N.gameId);return hi.getPredictionsByGameIds(C)})).subscribe(b=>{const x=b.data||[];t(!1);const E=x.reduce((C,N)=>(C[N._id]=N,C),{});c(E)});return()=>{v.unsubscribe()}},[n]);const d=X.useMemo(()=>{let p=0,v=0;return r.forEach(b=>{b.status==="Won"?p++:b.status==="Lost"&&v++}),{Won:p,Lost:v}},[r]);return{betsInfo:r,predictionDictionary:o,loading:e,listStatus:d}},DC=n=>{const{weekStart:e}=ir(),{user:t}=n,{predictionDictionary:r,loading:s,listStatus:o,betsInfo:c}=p4(t);return M.jsxs("div",{"data-testid":"UserBetDetails",className:"flex flex-col h-full p-1 pt-0 gap-y-1",children:[M.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[M.jsxs("span",{className:"text-green-light font-bold",children:["W (#",o.Won||0,")"]}),M.jsxs("span",{className:"text-red-light font-bold",children:["L (#",o.Lost||0,")"]})]}),M.jsx("div",{className:"overflow-auto h-full flex flex-1 flex-col gap-y-1",children:!!r&&c.map(d=>{const p=d.gameId,v=r[p];return v?M.jsxs("div",{"data-id":p,className:xn({"flex flex-row gap-x-1 justify-between text-sm border-2 rounded-md p-2":!0,"border-green-light":d.winnings>0,"border-red-light":d.winnings<0&&v.data.status!=="Placed","border-purple-light":v.data.status==="Placed"}),children:[M.jsxs("div",{className:"w-[200px] justify-evenly flex bg-gray-100 gap-2",children:[M.jsx("span",{className:"flex flex-1 items-center",children:d.staked}),M.jsx("span",{className:"flex flex-1 items-center text-center",children:d.odds}),M.jsx("span",{className:"flex items-center flex-[0.5]",children:rn(d.winnings)})]}),M.jsxs("div",{className:"flex flex-1 justify-between items-center gap-x-4 w-full",children:[M.jsx("span",{className:"flex-1",children:v.data.team1Name}),M.jsx("span",{children:"vs"}),M.jsx("span",{className:"flex-1 text-right",children:v.data.team2Name})]})]},p):null})}),M.jsx(gi,{inverted:!0,active:s,children:M.jsx(Yo,{})})]})};DC.displayName="UserBetDetails";var ty={},ak;function g4(){if(ak)return ty;ak=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.toPascalCase=n;function n(e){return e!==""?e[0].toUpperCase()+e.slice(1):e}return ty}var m4=g4();const v4=n=>{const{user:e}=n,{weekStart:t,weekEnd:r}=ir(),o=e?.data.weeklySummary?.find(d=>d.data.weekStart===t.toISOString())?.data.withdrawals?.[0],c=`curl 'https://webapi.playalberta.ca/api/v1/Player/GetPlayerTransactionsAndShoppingCartsHistory?UniqueDeviceId=5632ff40-be41-49fe-a567-6e14bee92e86' \\
  -H 'accept: application/json, text/plain, */*' \\
  -H 'accept-language: en-US,en;q=0.9' \\
  -H 'content-type: application/json;charset=UTF-8' \\
  --data-raw '${JSON.stringify({BrandID:"128",LanguageCode:"ENG",CountryCode:"CA",AFI:"128",MMI:"0",PlayerID:e.data.userSession?.EXTERNAL_PLAYER_ID,SessionToken:e.data.userSession?.ISID,TransactionType:"COR",DateFrom:t.toISOString(),DateTo:r.toISOString(),PageSize:1,PageIndex:1})}'`;return M.jsxs(Tn,{className:"md:!min-w-[33%] md:!text-center",children:[!!o&&M.jsx(M.Fragment,{children:[{Pending:o.TransactionStatus==="Pending",Approved:o.TransactionStatus==="Approved",Processing:["In Process","Sending to Processor"].includes(o.TransactionStatus)}].map((d,p)=>M.jsxs(Ht,{position:"right center",trigger:M.jsx("div",{onClick:v=>{v.stopPropagation(),navigator.clipboard.writeText(c)},className:xn({"has-withdrawal rounded-full h-2 w-2 top-2 right-2 absolute cursor-pointer":!0,"bg-yellow-dark":d.Pending,"bg-green-dark":d.Approved,"bg-blue-dark":d.Processing})}),flowing:!0,children:[M.jsx(Ht.Header,{children:M.jsxs("div",{className:"withdrawal-header",children:[M.jsxs("span",{children:["Withdrawal (",M.jsx("span",{className:xn({"text-yellow-light":d.Pending,"text-green-light":d.Approved,"text-blue-light":d.Processing}),children:o?.TransactionStatus}),")"]}),M.jsx("span",{className:"transaction-wrap",children:` ${o?.TransactionDateTime&&mt(o.TransactionDateTime).fromNow()}`})]})}),M.jsx(Ht.Content,{children:M.jsx("div",{children:`${o?.PaymentMethodInfo} ${rn(o?.Amount??0)}`})})]},p))}),M.jsx(Iy,{to:`https://drive.google.com/uc?export=download&id=${n.buildId}`,className:"text-white hover:text-white",children:e.data.build})]})},y4=n=>{const{user:e}=n,t=Gg(e);return M.jsx(Tn,{className:"md:!min-w-[33%] md:!text-right",textAlign:"center",children:[t].map((r,s)=>{let o="text-green-light cursor-pointer",c=M.jsx("i",{className:"fa-solid fa-circle-check  text-green-dark cursor-pointer"},s);return r===Pn.InProgress?(o="text-yellow-light cursor-pointer",c=M.jsx("i",{className:"fa-solid fa-basketball  text-yellow-dark cursor-pointer"},s)):r===Pn.IsWaiting&&(o="text-red-light cursor-pointer",c=M.jsx("i",{className:"fa-solid fa-circle-stop  text-red-dark cursor-pointer"},s)),M.jsx(Ht,{position:"top center",trigger:c,mouseEnterDelay:1500,mouseLeaveDelay:500,children:M.jsx("span",{className:o,children:r})},s)})})},b4=n=>{const{user:e}=n;return M.jsx(Tn,{className:"md:hidden",user:e,collapsing:!0,children:M.jsx(Ht,{position:"right center",trigger:M.jsx("span",{children:e.data.version}),flowing:!0,disabled:!e.data.codePushVersion,children:M.jsx(Ht.Content,{children:M.jsx("span",{className:"text-green-light",children:e.data.codePushVersion})})})})},w4=n=>{const{user:e}=n,{weekStart:t}=ir(),r=e?.data.weeklySummary?.find(d=>d.data.weekStart===t.toISOString()),s=r?.data.totalEarnings||0,o=r?.data.winnings||0,c=r?.data.potentialBonus||0;return M.jsx(Tn,{className:"md:flex-1",textAlign:"center",children:M.jsxs("div",{className:"week-summary-wrap flex justify-evenly",children:[M.jsx("span",{className:xn({"block w-[50px]":!0,"text-green-dark":c>0}),children:rn(c)})," + ",M.jsx("span",{className:xn({"block w-[50px]":!0,"text-green-dark":s>0,"text-red-dark":s<0}),children:rn(s)})," = ",M.jsx("span",{className:xn({"block w-[50px]":!0,"text-green-dark":o>0,"text-red-dark":o<0}),children:rn(o)})]})})},_4=n=>{const{user:e}=n,{weekStart:t}=ir(),r=e?.data.weeklySummary?.find(o=>o.data.weekStart===t.toISOString()),s=r?.data.totalStaked||0;return M.jsx(Tn,{className:"md:w-full",textAlign:"center",children:M.jsx(a_,{inverted:!0,success:r?.data.done===!0&&s!==0,precision:0,value:Math.floor(s),progress:"percent",total:500,label:rn(s)})})},S4=n=>{const{user:e}=n,{weekStart:t}=ir(),r=e?.data.weeklySummary?.find(o=>o.data.weekStart===t.toISOString()),s={open:r?.data.openBets??0,settled:r?.data.settledBets??0};return M.jsx(Tn,{className:"md:w-[60px]",children:[s].map(({open:o,settled:c},d)=>M.jsx("div",{children:M.jsx(Ht,{className:"w-[500px] max-h-96 !p-0 h-96",position:"bottom center",on:"click",trigger:M.jsxs("div",{className:"cursor-pointer flex justify-between",onClick:p=>p.stopPropagation(),children:[M.jsx("span",{children:o}),M.jsx("span",{children:"-"}),M.jsx("span",{children:c})]}),flowing:!0,children:M.jsx(DC,{user:e})})},d))})},x4=n=>{const{user:e}=n,t=e.data.userSession?.autoCashout?.maintainCash??100,r=(e.data.userSession?.autoCashout?.fixedAmount??900)+t,s=e.data.userSession?.cashout??0,o=e.data.userSession?.cash??0,c=Math.floor(s/r*100),d=s/r*-100+100,p=v_(d,100);return M.jsx(Tn,{className:"md:hidden",children:M.jsxs("div",{className:"flex justify-between",children:[M.jsxs(Ht,{position:"left center",trigger:M.jsx("span",{style:{color:p},children:rn(s.toFixed(0),0)}),flowing:!0,children:[M.jsx(Ht.Header,{children:M.jsxs("span",{className:"text-green-light",children:["Current Cash - ",rn(o,0)]})}),M.jsx(Ht.Header,{children:M.jsxs("span",{className:"text-green-light",children:["Cashout at - ",`${c}%`]})})]}),M.jsx("span",{children:"/"}),M.jsx("span",{children:rn(r,0)})]})})},k4=n=>{const{user:e}=n,{weekStart:t}=ir(),s=e.data.weeklySummary?.find(o=>o.data.weekStart===t.toISOString())?.data.metadata?.hasMinimumBetRestriction;return M.jsx(Tn,{className:"md:hidden relative",textAlign:"center",children:s&&M.jsx(Ht,{position:"left center",trigger:M.jsx("span",{className:"text-red-dark",children:"true"}),flowing:!0,children:M.jsx(Ht.Header,{children:M.jsx("span",{className:"text-red-light",children:mt(s).fromNow()})})})})},E4=n=>{const{user:e}=n,{weekStart:t,weekEnd:r}=ir(),o=e.data.weeklySummary?.find(d=>d.data.weekStart===t.toISOString())?.data.bonuses?.[0],c=`curl 'https://webapi.playalberta.ca/api/v1/Player/GetPlayerTransactionsAndShoppingCartsHistory?UniqueDeviceId=5632ff40-be41-49fe-a567-6e14bee92e86' \\
  -H 'accept: application/json, text/plain, */*' \\
  -H 'accept-language: en-US,en;q=0.9' \\
  -H 'content-type: application/json;charset=UTF-8' \\
  --data-raw '${JSON.stringify({BrandID:"128",LanguageCode:"ENG",PlatformType:"W",CountryCode:"CA",AFI:"128",MMI:"0",PlayerID:e.data.userSession?.EXTERNAL_PLAYER_ID,SessionToken:e.data.userSession?.ISID,TransactionType:"BON",DateFrom:t.toISOString(),DateTo:r.toISOString(),PageSize:1,PageIndex:1})}'`;return M.jsx(Tn,{onClick:d=>d.stopPropagation(),textAlign:"center",className:"relative md:hidden",children:M.jsx(Ht,{position:"top center",disabled:!o?.Amount,trigger:M.jsx("span",{onClick:()=>navigator.clipboard.writeText(c),className:xn({"cursor-pointer":!0,"text-green-dark":!!o?.Balance}),children:rn(o?.Amount||0,0)}),flowing:!0,children:M.jsxs(Ht.Header,{className:"text-green-light",children:[M.jsxs("span",{children:["Total Balance :",rn(o?.Balance||0)]}),M.jsx("span",{children:" - "}),M.jsx("span",{children:mt(o?.TransactionDateTime).fromNow()})]})})})},C4=n=>{const{user:e}=n,{lastWeekStart:t,weekStart:r}=ir(),s=e?.data.weeklySummary?.find(v=>v.data.weekStart===r.toISOString()),o=e?.data.weeklySummary?.find(v=>v.data.weekStart===t.toISOString()),c=On.sumBy(s?.data.bonuses,v=>v.Amount),p=(o?.data.totalEarnings||0)+c;return M.jsx(Tn,{onClick:v=>v.stopPropagation(),className:"relative md:hidden",textAlign:"center",children:M.jsx("span",{className:xn({"text-green-dark":p>0,"text-red-dark":p<0}),children:rn(p,0)})})},O4=n=>{const{user:e}=n;return M.jsx(Tn,{className:"relative md:hidden",textAlign:"center",children:M.jsxs("span",{className:xn({"text-green-dark":e.data.lottoTickets?.length}),children:[e.data.lottoTickets?.length," / ",rn(e.data.totalPurchases||0,0)]})})},P4=n=>{const{user:e}=n;return M.jsx(Tn,{className:"relative md:hidden",textAlign:"center",children:M.jsx("span",{children:rn(e.data.totalDeposits||0,0)})})},T4=n=>{const{user:e}=n,t=e.data.userSession?.GPD?.lifetimeWinAndLoss||"0.00";return M.jsx(Tn,{className:"relative md:hidden",textAlign:"center",children:M.jsx("span",{className:"text-red-dark",children:rn(t)})})},D4=n=>{const{user:e}=n,{weekStart:t}=ir(),s=e?.data.weeklySummary?.find(o=>o.data.weekStart===t.toISOString())?.data?.freeBets||[];return M.jsx(Tn,{className:"relative md:hidden",textAlign:"center",children:M.jsx(Ht,{position:"top center",trigger:M.jsx("span",{children:!!s.length&&M.jsx("span",{className:"text-green-dark",children:s.length})}),flowing:!0,children:s.map(o=>M.jsxs(Ht.Header,{className:"text-green-light",children:[M.jsx("span",{children:rn(o.BonusAmount)}),M.jsx("span",{children:" - "}),M.jsx("span",{children:mt(o.FreeGameUsageExpirationDateTime).fromNow()})]},o.PlayerBonusID))})})},N4=n=>{const{user:e}=n,t=new Date(e.data.userSession?.GPD?.lastLogin||e.updatedAt||new Date),r=mt(t).tz("America/Denver"),s=mt.duration(-r.diff(Date.now())).asHours(),o=v_(s,72);return M.jsx(Tn,{className:"relative",textAlign:"center",children:M.jsxs("span",{style:{color:o},children:[ir().fromNow(fr(t))," "]})})},A4=n=>{const{user:e}=n,{weekStart:t}=ir(),r=e?.data.weeklySummary?.find(E=>E.data.weekStart===t.toISOString()),s=e.updatedAt||e.createdAt||new Date,o=new Date(s),c=r?.data.metadata,d=mt(o).tz("America/Denver"),p=mt.duration(-d.diff(Date.now())).asMinutes(),v=v_(p,30),b=[];return(typeof e.data?.userSession?.TWO_FACTOR_AUTH!="string"||!e.data.userSession?.TWO_FACTOR_AUTH)&&b.push("Missing TWO_FACTOR_AUTH"),Object.keys(c||{}).forEach(E=>{c?.[E]&&b.push(`${m4.toPascalCase(E)} ${mt(c[E]).tz("America/Denver").fromNow()}`)}),M.jsxs(Tn,{className:"relative md:flex-1 md:!text-right",textAlign:"center",children:[M.jsx(Ht,{position:"left center",trigger:M.jsx("div",{className:xn({"rounded-full h-2 w-2 top-2 right-2 absolute cursor-pointer":b.length,"bg-red-light":!0})}),flowing:!0,children:b.map(E=>M.jsx(Ht.Header,{children:M.jsx("span",{className:xn({"text-red-light":!0}),children:E})},E))}),M.jsxs("span",{style:{color:v},children:[ir().fromNow(fr(o))," "]})]})},ok="paid-check",R4=()=>{const[n,e]=X.useState([]),[t,r]=X.useState([]),[s,o]=X.useState({}),[c,d]=X.useState(!1),[p,v]=X.useState(!1),b=iE(),x=th(),[E,C]=X.useState(new Map),[N,A]=X.useState(()=>{const[ke]=Q3(ok);return ke??{}});X.useEffect(()=>{const ke=x.pathname.replace("/users/","").split(",").filter(Boolean),Re=new Map;ke.forEach(Ee=>Re.set(Ee,!0)),C(Re)},[x.pathname]);const I=X.useMemo(()=>ir(),[]),L=X.useCallback((ke,Re)=>{A(Ee=>{const he={...Ee,[ke]:Re};Re||delete he[ke];const{weekEnd:ge}=ir(),me=ge.getTime()-Date.now();return V3(ok,he,me),he})},[]),G=X.useCallback((ke,Re)=>{const{weekStart:Ee}=I;return Re.filter===Pn.IsDone?On.orderBy(ke,[he=>Gg(he)===Pn.IsDone,he=>he.updatedAt??he.createdAt],["desc","desc"]):Re.filter===Pn.InProgress?On.orderBy(ke,[he=>Gg(he)===Pn.InProgress,he=>he?.data.weeklySummary?.find(me=>me.data.weekStart===Ee.toISOString())?.data.totalStaked??0],["desc","desc"]):Re.filter===Pn.IsWaiting?On.orderBy(ke,[he=>Gg(he)===Pn.IsWaiting,he=>he.updatedAt??he.createdAt],["desc","desc"]):Re.filter===Mo.NextWithdrawal?On.orderBy(ke,[he=>{const ge=he.data.userSession?.autoCashout?.maintainCash??100,me=(he.data.userSession?.autoCashout?.fixedAmount??900)+ge,V=he.data.userSession?.cashout??0;return Math.floor(V/me*100)}],["desc"]):Re.filter===Mo.Earnings?On.orderBy(ke,[he=>he?.data.weeklySummary?.find(me=>me.data.weekStart===Ee.toISOString())?.data.totalEarnings??0],["asc"]):Re.filter===Mo.OpenBets?On.orderBy(ke,[he=>he?.data.weeklySummary?.find(me=>me.data.weekStart===Ee.toISOString())?.data.openBets??0],["desc"]):Re.filter===Mo.Active?On.orderBy(ke,[he=>he.updatedAt],["desc"]):ke},[I]),W=X.useCallback(ke=>(d(!0),v(!1),hi.getUsersWithWeeklySummary().pipe(tC(()=>d(!1))).subscribe({next:Re=>{const Ee=Re.data??[];e(Ee);const he=G(Ee,ke);r(he)},error:()=>{v(!0),d(!1)}})),[G]);X.useEffect(()=>{const ke=hi.getGDriveList().subscribe(Ee=>{const he=Ee.reduce((ge,me)=>{const V=me.name.match(/^app-([A-Z]+)-release/);if(V){const Ne=V[1];ge[Ne]=me.id}return ge},{});console.log("gaga----------SharedApiSupabase---------------------------",he),o(he)}),Re=W({filter:Mo.Earnings});return()=>{ke.unsubscribe(),Re.unsubscribe()}},[W]);const Q=X.useCallback((ke,Re)=>{ke.preventDefault(),W(Re)},[W]),z=X.useMemo(()=>{const{weekStart:ke,lastWeekStart:Re}=I;let Ee=0,he=0,ge=0,me=0,V=!1;const Ne=[],De=[],ie=[],Ce=[];t.forEach(Qe=>{const rt=Gg(Qe);rt===Pn.IsDone&&Ee++,rt===Pn.InProgress&&he++,rt===Pn.IsWaiting&&ge++;const ht=Qe.data.weeklySummary?.find(pt=>pt.data.weekStart===ke.toISOString()),Nt=Qe.data.weeklySummary?.find(pt=>pt.data.weekStart===Re.toISOString());if(ht){ht.data.metadata?.hasBetRestriction&&me++,(ht.data.freeBets?.length??0)>0&&(V=!0);const pt=On.sumBy(ht.data.bonuses,"Amount");Ne.push(pt),Ce.push(ht.data.winnings),Nt&&ie.push(pt+Nt.data.totalEarnings),ht.data.withdrawals?.length&&ht.data.withdrawals.forEach(xt=>{xt.build=Qe.data.build,De.push(xt)})}});const Ue=On.orderBy(De,"TransactionDateTime","desc");return{statusCount:{[Pn.IsDone]:Ee,[Pn.InProgress]:he,[Pn.IsWaiting]:ge},restrictedCount:me,hasFreeBet:V,totals:{bonus:On.sum(Ne),lastWeekWinnings:On.sum(ie),weekWinnings:On.sum(Ce),withdrawals:Ue}}},[t,I]),{statusCount:K,restrictedCount:H,hasFreeBet:Y,totals:re}=z,ve=X.useCallback(ke=>()=>{C(new Map([[ke._id,!0]])),b(`./${ke._id}`,{relative:"route",replace:x.pathname.includes("@")})},[x.pathname,b]),_e=X.useCallback((ke,Re)=>{ke.stopPropagation(),C(Ee=>{const he=new Map(Ee);Re.checked?he.set(Re.value,!0):he.delete(Re.value);const ge=[];return he.forEach((me,V)=>{ge.push(V)}),b(`./${ge.join(",")}`,{relative:"route",replace:x.pathname.includes("@")}),he})},[x.pathname,b]);return{list:t,loading:c,error:p,handleOrderByStatus:Q,statusCount:K,restrictedCount:H,hasFreeBet:Y,handleCheckboxMultiUserChange:_e,handleRowClick:ve,selectedUserMemo:E,totals:re,gDriveList:s,paidCheck:N,handlePaidCheck:L}},NC=()=>{const{list:n,loading:e,handleOrderByStatus:t,statusCount:r,restrictedCount:s,hasFreeBet:o,handleRowClick:c,selectedUserMemo:d,handleCheckboxMultiUserChange:p,totals:v,gDriveList:b,paidCheck:x,handlePaidCheck:E}=R4(),C=[{name:M.jsxs(M.Fragment,{children:["App Build ",M.jsx("br",{}),M.jsx(Ht,{position:"bottom right",on:"click",disabled:!v.withdrawals.length,trigger:M.jsxs("span",{className:"cursor-pointer",children:["(",v.withdrawals.length,")"]}),flowing:!0,children:M.jsx(Ht.Content,{children:v.withdrawals.map(N=>M.jsxs("div",{className:"grid grid-cols-[auto_max-content_max-content_1fr_max-content] gap-x-6 text-left items-center",children:[M.jsx(ru,{checked:x[N.TransactionID],onChange:(A,I)=>E(N.TransactionID,!!I.checked)}),M.jsx("span",{className:"min-w-28 truncate",children:N.build}),M.jsx("span",{className:"min-w-10 truncate",children:rn(Math.abs(N.Amount),0)}),M.jsx("span",{children:N.PaymentMethodInfo.replace("INTERAC e-Transfer: ","")}),M.jsx("span",{className:"min-w-10 truncate",children:mt(N.TransactionDateTime).utc().fromNow(!0)})]},N.TransactionID))})})]}),render:N=>{const A=b[N.data.build];return M.jsx(v4,{user:N,buildId:A})}},{name:"Status",render:N=>M.jsx(y4,{user:N})},{name:"Version",render:N=>M.jsx(b4,{user:N})},{name:M.jsxs(M.Fragment,{children:["Weekly Summary ",M.jsx("br",{})," (Bonus + Earnings = ",rn(v.weekWinnings,0),")"]}),className:{"min-w-[205px]":!0},filter:Mo.Earnings,render:N=>M.jsx(w4,{user:N})},{name:M.jsxs(M.Fragment,{children:["Weekly ",M.jsx("br",{})," Progress"]}),className:{"min-w-[74px]":!0},collapsing:!1,render:N=>M.jsx(_4,{user:N})},{name:"Bets",className:{"min-w-[60px]":!0},filter:Mo.OpenBets,render:N=>M.jsx(S4,{user:N})},{name:M.jsxs(M.Fragment,{children:["Next ",M.jsx("br",{})," Withdrawal"]}),className:{"min-w-[105px]":!0},filter:Mo.NextWithdrawal,render:N=>M.jsx(x4,{user:N})},{name:M.jsxs(M.Fragment,{children:["Bet ",M.jsx("br",{})," Restricted"]}),className:{"min-w-[75px]":!0},isVisible:!!s,render:N=>M.jsx(k4,{user:N})},{name:M.jsxs(M.Fragment,{children:["Bonus ",M.jsx("br",{})," (",rn(v.bonus,0),")"]}),className:{"min-w-[75px]":!0},render:N=>M.jsx(E4,{user:N})},{name:M.jsxs(M.Fragment,{children:["Earnings ",M.jsx("br",{})," (",rn(v.lastWeekWinnings,0),")"]}),className:{"min-w-[75px]":!0},render:N=>M.jsx(C4,{user:N})},{name:"Tickets",className:{"min-w-[100px]":!0},render:N=>M.jsx(O4,{user:N})},{name:M.jsxs(M.Fragment,{children:["Total ",M.jsx("br",{})," Deposits"]}),className:{"min-w-[75px]":!0},render:N=>M.jsx(P4,{user:N})},{name:M.jsxs(M.Fragment,{children:["Total ",M.jsx("br",{})," Loss"]}),className:{"min-w-[75px]":!0},render:N=>M.jsx(T4,{user:N})},{name:M.jsxs(M.Fragment,{children:["Free ",M.jsx("br",{})," Bet"]}),className:{"min-w-[75px]":!0},isVisible:o,render:N=>M.jsx(D4,{user:N})},{name:"Last Login",className:{"min-w-[105px]":!0},render:N=>M.jsx(N4,{user:N})},{name:"Last Update",className:{"min-w-[105px]":!0},filter:Mo.Active,render:N=>M.jsx(A4,{user:N})}];return M.jsxs("div",{"data-testid":"UserList",className:'w-full m-4 bg-neutral-800 rounded-lg relative [&:has(+[data-testid="UserDetails"])]:mr-0',children:[M.jsxs("div",{className:"flex flex-col p-4 h-full",children:[M.jsxs("div",{className:"flex flex-row items-start justify-between h-12",children:[M.jsxs("span",{className:"dark:text-white text-2xl",children:["Users ",d.size>1&&d.size]}),M.jsx(wn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl !mt-[-3px]",onClick:t,name:"refresh"})]}),M.jsx("hr",{}),M.jsx(Hs,{className:"flex-1 overflow-auto mt-4",children:M.jsxs(hr,{size:"small",selectable:!0,compact:!0,striped:!0,celled:!0,inverted:!0,unstackable:!0,children:[M.jsx(ou,{className:xn({"bg-neutral-900 sticky top-0 z-10":!0,"md:!hidden":!0}),children:M.jsxs(Us,{children:[M.jsx(ic,{collapsing:!0,children:"#"}),C.map(({name:N,className:A,filter:I,isVisible:L,collapsing:G},W)=>L===!1?null:M.jsxs(ic,{collapsing:G===!1?void 0:!0,textAlign:"center",className:xn({relative:!0,...A}),children:[M.jsx("span",{children:N}),I&&M.jsx(Yn,{className:"absolute top-0 right-0 bottom-0 left-0 opacity-0",inverted:!0,onClick:t,filter:I})]},W))]})}),M.jsx(hc,{children:n.map(N=>M.jsxs(Us,{className:xn({"md:flex md:flex-row md:flex-wrap":!0,"child:md:!border-0 child:relative":!0}),onClick:c(N),children:[M.jsx(Tn,{className:"md:!min-w-[33%]",children:M.jsx(Ui,{children:M.jsx(ru,{checked:d.has(N._id),type:"checkbox",name:"user",value:N._id,style:{"--cb-size":"15px"},className:"max-w-[25px] h-[5px] mt-1",onChange:p,toggle:!0})})}),C.map(({render:A,isVisible:I},L)=>M.jsx(X.Fragment,{children:I===!1?null:A(N)},L))]},N._id))}),M.jsx(oh,{className:"bg-neutral-800 sticky bottom-0 z-10",children:M.jsx(Us,{children:M.jsx(ic,{colSpan:100,children:M.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[M.jsx("span",{className:"",children:`Total Users ${n.length}`}),M.jsxs("div",{className:"filter-wrap",children:[M.jsxs(Yn,{compact:!0,onClick:t,className:"!bg-green-dark !pt-1 !pb-1",size:"small",filter:Pn.IsDone,children:["Done ",!!r[Pn.IsDone]&&`#${r[Pn.IsDone]}`]}),M.jsxs(Yn,{compact:!0,onClick:t,className:"!bg-yellow-dark !pt-1 !pb-1",size:"small",filter:Pn.InProgress,children:["InProgress"," ",!!r[Pn.InProgress]&&`#${r[Pn.InProgress]}`]}),M.jsxs(Yn,{compact:!0,onClick:t,className:"!bg-red-dark !pt-1 !pb-1",size:"small",filter:Pn.IsWaiting,children:["Waiting"," ",!!r[Pn.IsWaiting]&&`#${r[Pn.IsWaiting]}`]})]})]})})})})]})})]}),M.jsx(gi,{active:e,children:M.jsx(Yo,{})})]})};NC.displayName="UserList";const I4=({earnings:n})=>{const e=mt(n.startDate).utc(),t=mt(n.endDate).utc();return M.jsx("div",{className:"week-item flex flex-col w-[150px] aspect-square bg-neutral-900 rounded-lg mr-4 mt-4 p-3 dark:text-white",children:M.jsxs("div",{className:"week-content flex h-full flex-col",children:[M.jsx("div",{className:"week-date flex-1",children:M.jsxs("span",{children:[e.format("ddd D")," - ",t.format("ddd D")]})}),M.jsxs("div",{className:"flex flex-1 justify-between",children:[M.jsx("span",{children:"Staked"}),M.jsx("span",{children:rn(n.totalStaked)})]}),M.jsxs("div",{className:"flex flex-1 justify-between",children:[M.jsx("span",{children:"Earnings"}),M.jsx("span",{children:rn(n.totalEarnings)})]}),M.jsxs("div",{className:"flex flex-1 justify-between",children:[M.jsx("span",{children:"Bonus"}),M.jsx("span",{children:rn(n.bonus)})]}),n.approxWinnings>0&&M.jsx(M4,{earnings:n})||M.jsx(j4,{earnings:n})]})})},M4=({earnings:n})=>M.jsxs("div",{className:"flex flex-1 justify-between",children:[M.jsx("span",{children:"Winnings"}),M.jsx(Ht,{content:"Approximate Earnings.",position:"top center",trigger:M.jsx("span",{className:xn({"text-yellow-dark":!0,"cursor-pointer":!0}),children:rn(n.approxWinnings)})})]}),j4=({earnings:n})=>M.jsxs("div",{className:"flex flex-1 justify-between",children:[M.jsx("span",{children:"Winnings"}),M.jsx(Ht,{disabled:!n.bonusDateTime,content:mt(n.bonusDateTime).format("ddd hh:mm A"),position:"top center",trigger:M.jsx("span",{className:xn({"cursor-pointer":!0,"text-green-dark":n.winnings>0,"text-red-dark":n.winnings<0}),children:rn(n.winnings)})})]}),$4=({earnings:n})=>{const e=n.emails.length>=2;if(!n.withdrawal||e)return null;const t=[{Pending:n.withdrawal.TransactionStatus==="Pending",Approved:n.withdrawal.TransactionStatus==="Approved",Processing:["In Process","Sending to Processor"].includes(n.withdrawal.TransactionStatus)}];return M.jsx(M.Fragment,{children:t.map((r,s)=>M.jsxs(Ht,{on:"click",position:"left center",trigger:M.jsx("div",{className:xn({"rounded-full h-2 w-2 top-6 right-6 absolute cursor-pointer":!0,"bg-yellow-dark":r.Pending,"bg-green-dark":r.Approved,"bg-blue-dark":r.Processing})}),flowing:!0,children:[M.jsxs(Ht.Header,{children:["Withdrawal (",M.jsx("span",{className:xn({"text-yellow-light":r.Pending,"text-green-light":r.Approved,"text-blue-light":r.Processing}),children:n.withdrawal?.TransactionStatus}),")",M.jsx("span",{className:"transaction-wrap",children:` ${n.withdrawal?.TransactionDateTime&&mt(n.withdrawal.TransactionDateTime).fromNow()}`})]}),M.jsx(Ht.Content,{children:`${n.withdrawal?.PaymentMethodInfo} ${rn(n.withdrawal?.Amount??0)}`})]},`WithdrawalPopup-${s}`))})},L4=({userDetails:n,totalWinnings:e,totalWithdrawals:t})=>M.jsx(Ht,{on:"hover",basic:!0,trigger:M.jsx(wn,{name:"info circle",size:"small",className:"cursor-pointer dark:text-white"}),position:"bottom right",mouseLeaveDelay:6e4,children:M.jsxs(di,{vertical:!0,children:[M.jsx(di.Item,{header:!0,children:M.jsxs(Va,{as:"h3",children:["Year ",mt().format("YYYY")," Details"]})}),M.jsxs(di.Item,{children:[M.jsx(Va,{as:"h4",children:"Current Balance"}),M.jsx(_s,{className:"!float-none !ml-0",color:"green",children:rn(n?.[0]?.data?.userSession?.cash??0)})]}),M.jsxs(di.Item,{children:[M.jsx(Va,{as:"h4",children:"Available Cashout"}),M.jsx(_s,{className:"!float-none !ml-0",color:"orange",children:rn(n?.[0]?.data?.userSession?.cashout??0)})]}),M.jsxs(di.Item,{children:[M.jsx(Va,{as:"h4",children:"Total Earnings this year"}),M.jsx(_s,{className:"!float-none !ml-0",color:"purple",children:rn(e)})]}),M.jsxs(di.Item,{children:[M.jsx(Va,{as:"h4",children:"Total Cashout this year"}),M.jsxs(_s,{className:"!float-none !ml-0",color:"red",children:[" ",rn(Math.abs(t??0))]})]})]})}),U4=()=>{const[n,e]=X.useState(!1),[t,r]=X.useState(new Map),[s,o]=X.useState(!1),[c,d]=X.useState(""),p=X.useCallback(()=>{e(!0)},[]),v=X.useCallback(()=>{e(!1)},[]),b=X.useCallback((E,C)=>{r(N=>{const A=new Map([...N]);return A.has(E)&&A.get(E)===C?A.delete(E):A.set(E,C),A})},[]),x=X.useCallback(E=>{E.preventDefault();const C=new FormData(E.currentTarget),N=C.get("data.email");C.delete("password");const A={_id:N};for(const[I,L]of C.entries())On.set(A,I,L);for(const[I,L]of t.entries())On.set(A,I,L);console.log("userDetails------------------------------------",JSON.stringify(A,null,2)),o(!0),d(""),ec(!0).pipe(Bm(()=>hi.upsertUserData(A,A.updatedAt))).subscribe({next:I=>{o(!1),console.log("gaga-------------------------------------",I)},error:I=>{o(!1),d(I.error)}})},[t]);return{modal:{active:n,handleOpen:p,handleCLose:v},form:{formFieldState:t,patchValues:b,submit:x,loading:s,error:c}}};function AC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=AC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function os(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=AC(n))&&(r&&(r+=" "),r+=e);return r}function at(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function yn(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function Za(n,e){const t=at(n);return isNaN(e)?yn(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function eo(n,e){const t=at(n);if(isNaN(e))return yn(n,NaN);if(!e)return t;const r=t.getDate(),s=yn(n,t.getTime());s.setMonth(t.getMonth()+e+1,0);const o=s.getDate();return r>=o?s:(t.setFullYear(s.getFullYear(),s.getMonth(),r),t)}function y_(n,e){const t=+at(n);return yn(n,t+e)}const RC=6048e5,F4=864e5,_b=6e4,Sb=36e5,B4=1e3;function W4(n,e){return y_(n,e*Sb)}let H4={};function lh(){return H4}function cu(n,e){const t=lh(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=at(n),o=s.getDay(),c=(o<r?7:0)+o-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function gp(n){return cu(n,{weekStartsOn:1})}function IC(n){const e=at(n),t=e.getFullYear(),r=yn(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const s=gp(r),o=yn(n,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const c=gp(o);return e.getTime()>=s.getTime()?t+1:e.getTime()>=c.getTime()?t:t-1}function Jd(n){const e=at(n);return e.setHours(0,0,0,0),e}function qy(n){const e=at(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function mp(n,e){const t=Jd(n),r=Jd(e),s=+t-qy(t),o=+r-qy(r);return Math.round((s-o)/F4)}function q4(n){const e=IC(n),t=yn(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),gp(t)}function Ew(n,e){return y_(n,e*_b)}function b_(n,e){const t=e*3;return eo(n,t)}function z4(n,e){return y_(n,e*1e3)}function zy(n,e){const t=e*7;return Za(n,t)}function Zl(n,e){return eo(n,e*12)}function lk(n){let e;return n.forEach(function(t){const r=at(t);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function uk(n){let e;return n.forEach(t=>{const r=at(t);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function K4(n,e){const t=Jd(n),r=Jd(e);return+t==+r}function eu(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Ky(n){if(!eu(n)&&typeof n!="number")return!1;const e=at(n);return!isNaN(Number(e))}function Yy(n,e){const t=at(n),r=at(e),s=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return s*12+o}function Bd(n){const e=at(n);return Math.trunc(e.getMonth()/3)+1}function Gy(n,e){const t=at(n),r=at(e),s=t.getFullYear()-r.getFullYear(),o=Bd(t)-Bd(r);return s*4+o}function Vy(n,e){const t=at(n),r=at(e);return t.getFullYear()-r.getFullYear()}function Y4(n,e){const t=at(n),r=at(e),s=ck(t,r),o=Math.abs(mp(t,r));t.setDate(t.getDate()-s*o);const c=+(ck(t,r)===-s),d=s*(o-c);return d===0?0:d}function ck(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function MC(n){const e=at(n);return e.setHours(23,59,59,999),e}function jC(n){const e=at(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Cw(n){const e=at(n),t=e.getMonth(),r=t-t%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function $C(n){const e=at(n);return e.setDate(1),e.setHours(0,0,0,0),e}function LC(n){const e=at(n),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function xb(n){const e=at(n),t=yn(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function G4(n,e){const t=lh(),r=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=at(n),o=s.getDay(),c=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const V4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Q4=(n,e,t)=>{let r;const s=V4[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function j0(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const J4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},X4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eW={date:j0({formats:J4,defaultWidth:"full"}),time:j0({formats:X4,defaultWidth:"full"}),dateTime:j0({formats:Z4,defaultWidth:"full"})},tW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nW=(n,e,t,r)=>tW[n];function Wg(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,d=t?.width?String(t.width):c;s=n.formattingValues[d]||n.formattingValues[c]}else{const c=n.defaultWidth,d=t?.width?String(t.width):n.defaultWidth;s=n.values[d]||n.values[c]}const o=n.argumentCallback?n.argumentCallback(e):e;return s[o]}}const rW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uW=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},cW={ordinalNumber:uW,era:Wg({values:rW,defaultWidth:"wide"}),quarter:Wg({values:sW,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Wg({values:iW,defaultWidth:"wide"}),day:Wg({values:aW,defaultWidth:"wide"}),dayPeriod:Wg({values:oW,defaultWidth:"wide",formattingValues:lW,defaultFormattingWidth:"wide"})};function Hg(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],d=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(d)?hW(d,x=>x.test(c)):dW(d,x=>x.test(c));let v;v=n.valueCallback?n.valueCallback(p):p,v=t.valueCallback?t.valueCallback(v):v;const b=e.slice(c.length);return{value:v,rest:b}}}function dW(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function hW(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function fW(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],o=e.match(n.parsePattern);if(!o)return null;let c=n.valueCallback?n.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const pW=/^(\d+)(th|st|nd|rd)?/i,gW=/\d+/i,mW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vW={any:[/^b/i,/^(a|c)/i]},yW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bW={any:[/1/i,/2/i,/3/i,/4/i]},wW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_W={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CW={ordinalNumber:fW({matchPattern:pW,parsePattern:gW,valueCallback:n=>parseInt(n,10)}),era:Hg({matchPatterns:mW,defaultMatchWidth:"wide",parsePatterns:vW,defaultParseWidth:"any"}),quarter:Hg({matchPatterns:yW,defaultMatchWidth:"wide",parsePatterns:bW,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Hg({matchPatterns:wW,defaultMatchWidth:"wide",parsePatterns:_W,defaultParseWidth:"any"}),day:Hg({matchPatterns:SW,defaultMatchWidth:"wide",parsePatterns:xW,defaultParseWidth:"any"}),dayPeriod:Hg({matchPatterns:kW,defaultMatchWidth:"any",parsePatterns:EW,defaultParseWidth:"any"})},UC={code:"en-US",formatDistance:Q4,formatLong:eW,formatRelative:nW,localize:cW,match:CW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OW(n){const e=at(n);return mp(e,xb(e))+1}function w_(n){const e=at(n),t=+gp(e)-+q4(e);return Math.round(t/RC)+1}function __(n,e){const t=at(n),r=t.getFullYear(),s=lh(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=yn(n,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const d=cu(c,e),p=yn(n,0);p.setFullYear(r,0,o),p.setHours(0,0,0,0);const v=cu(p,e);return t.getTime()>=d.getTime()?r+1:t.getTime()>=v.getTime()?r:r-1}function PW(n,e){const t=lh(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=__(n,e),o=yn(n,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),cu(o,e)}function FC(n,e){const t=at(n),r=+cu(t,e)-+PW(t,e);return Math.round(r/RC)+1}function vn(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Xu={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return vn(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):vn(t+1,2)},d(n,e){return vn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(n,e){return vn(n.getHours()%12||12,e.length)},H(n,e){return vn(n.getHours(),e.length)},m(n,e){return vn(n.getMinutes(),e.length)},s(n,e){return vn(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return vn(s,e.length)}},Nf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dk={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return Xu.y(n,e)},Y:function(n,e,t,r){const s=__(n,r),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return vn(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):vn(o,e.length)},R:function(n,e){const t=IC(n);return vn(t,e.length)},u:function(n,e){const t=n.getFullYear();return vn(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return vn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return vn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Xu.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return vn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=FC(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):vn(s,e.length)},I:function(n,e,t){const r=w_(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):vn(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Xu.d(n,e)},D:function(n,e,t){const r=OW(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):vn(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return vn(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return vn(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return vn(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Nf.noon:r===0?s=Nf.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Nf.evening:r>=12?s=Nf.afternoon:r>=4?s=Nf.morning:s=Nf.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Xu.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Xu.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):vn(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):vn(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Xu.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Xu.s(n,e)},S:function(n,e){return Xu.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return fk(r);case"XXXX":case"XX":return Ad(r);default:return Ad(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return fk(r);case"xxxx":case"xx":return Ad(r);default:return Ad(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hk(r,":");default:return"GMT"+Ad(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hk(r,":");default:return"GMT"+Ad(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return vn(r,e.length)},T:function(n,e,t){const r=n.getTime();return vn(r,e.length)}};function hk(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),o=r%60;return o===0?t+String(s):t+String(s)+e+vn(o,2)}function fk(n,e){return n%60===0?(n>0?"-":"+")+vn(Math.abs(n)/60,2):Ad(n,e)}function Ad(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=vn(Math.trunc(r/60),2),o=vn(r%60,2);return t+s+e+o}const pk=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},BC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},TW=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return pk(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",pk(r,e)).replace("{{time}}",BC(s,e))},Qy={p:BC,P:TW},DW=/^D+$/,NW=/^Y+$/,AW=["D","DD","YY","YYYY"];function WC(n){return DW.test(n)}function HC(n){return NW.test(n)}function Ow(n,e,t){const r=RW(n,e,t);if(console.warn(r),AW.includes(n))throw new RangeError(r)}function RW(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jW=/^'([^]*?)'?$/,$W=/''/g,LW=/[a-zA-Z]/;function gk(n,e,t){const r=lh(),s=t?.locale??r.locale??UC,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=at(n);if(!Ky(d))throw new RangeError("Invalid time value");let p=e.match(MW).map(b=>{const x=b[0];if(x==="p"||x==="P"){const E=Qy[x];return E(b,s.formatLong)}return b}).join("").match(IW).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const x=b[0];if(x==="'")return{isToken:!1,value:UW(b)};if(dk[x])return{isToken:!0,value:b};if(x.match(LW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(p=s.localize.preprocessor(d,p));const v={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return p.map(b=>{if(!b.isToken)return b.value;const x=b.value;(!t?.useAdditionalWeekYearTokens&&HC(x)||!t?.useAdditionalDayOfYearTokens&&WC(x))&&Ow(x,e,String(n));const E=dk[x[0]];return E(d,x,s.localize,v)}).join("")}function UW(n){const e=n.match(jW);return e?e[1].replace($W,"'"):n}function mk(n){return at(n).getDate()}function FW(n){return at(n).getDay()}function BW(n){const e=at(n),t=e.getFullYear(),r=e.getMonth(),s=yn(n,0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function WW(){return Object.assign({},lh())}function Wo(n){return at(n).getHours()}function HW(n){let t=at(n).getDay();return t===0&&(t=7),t}function Ho(n){return at(n).getMinutes()}function Fs(n){return at(n).getMonth()}function tu(n){return at(n).getSeconds()}function Pw(n){return at(n).getTime()}function Wt(n){return at(n).getFullYear()}function yc(n,e){const t=at(n),r=at(e);return t.getTime()>r.getTime()}function Xd(n,e){const t=at(n),r=at(e);return+t<+r}function qW(n,e){const t=at(n),r=at(e);return+t==+r}function zW(n,e){const t=e instanceof Date?yn(e,0):new e(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}const KW=10;class qC{subPriority=0;validate(e,t){return!0}}class YW extends qC{constructor(e,t,r,s,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=s,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class GW extends qC{priority=KW;subPriority=-1;set(e,t){return t.timestampIsSet?e:yn(e,zW(e,Date))}}class un{run(e,t,r,s){const o=this.parse(e,t,r,s);return o?{setter:new YW(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class VW extends un{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const pr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},jo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function gr(n,e){return n&&{value:e(n.value),rest:n.rest}}function Gn(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function $o(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:r*(s*Sb+o*_b+c*B4),rest:e.slice(t[0].length)}}function zC(n){return Gn(pr.anyDigitsSigned,n)}function ar(n,e){switch(n){case 1:return Gn(pr.singleDigit,e);case 2:return Gn(pr.twoDigits,e);case 3:return Gn(pr.threeDigits,e);case 4:return Gn(pr.fourDigits,e);default:return Gn(new RegExp("^\\d{1,"+n+"}"),e)}}function Jy(n,e){switch(n){case 1:return Gn(pr.singleDigitSigned,e);case 2:return Gn(pr.twoDigitsSigned,e);case 3:return Gn(pr.threeDigitsSigned,e);case 4:return Gn(pr.fourDigitsSigned,e);default:return Gn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function S_(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function KC(n,e){const t=e>0,r=t?e:1-e;let s;if(r<=50)s=n||100;else{const o=r+50,c=Math.trunc(o/100)*100,d=n>=o%100;s=n+c-(d?100:0)}return t?s:1-s}function YC(n){return n%400===0||n%4===0&&n%100!==0}class QW extends un{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const s=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return gr(ar(4,e),s);case"yo":return gr(r.ordinalNumber(e,{unit:"year"}),s);default:return gr(ar(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const s=e.getFullYear();if(r.isTwoDigitYear){const c=KC(r.year,s);return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}const o=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class JW extends un{priority=130;parse(e,t,r){const s=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return gr(ar(4,e),s);case"Yo":return gr(r.ordinalNumber(e,{unit:"year"}),s);default:return gr(ar(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,s){const o=__(e,s);if(r.isTwoDigitYear){const d=KC(r.year,o);return e.setFullYear(d,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),cu(e,s)}const c=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(c,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),cu(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class XW extends un{priority=130;parse(e,t){return Jy(t==="R"?4:t.length,e)}set(e,t,r){const s=yn(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),gp(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class ZW extends un{priority=130;parse(e,t){return Jy(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class eH extends un{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return ar(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class tH extends un{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return ar(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class nH extends un{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const s=o=>o-1;switch(t){case"M":return gr(Gn(pr.month,e),s);case"MM":return gr(ar(2,e),s);case"Mo":return gr(r.ordinalNumber(e,{unit:"month"}),s);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class rH extends un{priority=110;parse(e,t,r){const s=o=>o-1;switch(t){case"L":return gr(Gn(pr.month,e),s);case"LL":return gr(ar(2,e),s);case"Lo":return gr(r.ordinalNumber(e,{unit:"month"}),s);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function sH(n,e,t){const r=at(n),s=FC(r,t)-e;return r.setDate(r.getDate()-s*7),r}class iH extends un{priority=100;parse(e,t,r){switch(t){case"w":return Gn(pr.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return ar(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,s){return cu(sH(e,r,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function aH(n,e){const t=at(n),r=w_(t)-e;return t.setDate(t.getDate()-r*7),t}class oH extends un{priority=100;parse(e,t,r){switch(t){case"I":return Gn(pr.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return ar(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return gp(aH(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const lH=[31,28,31,30,31,30,31,31,30,31,30,31],uH=[31,29,31,30,31,30,31,31,30,31,30,31];class cH extends un{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return Gn(pr.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return ar(t.length,e)}}validate(e,t){const r=e.getFullYear(),s=YC(r),o=e.getMonth();return s?t>=1&&t<=uH[o]:t>=1&&t<=lH[o]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class dH extends un{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return Gn(pr.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return ar(t.length,e)}}validate(e,t){const r=e.getFullYear();return YC(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function x_(n,e,t){const r=lh(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=at(n),c=o.getDay(),p=(e%7+7)%7,v=7-s,b=e<0||e>6?e-(c+v)%7:(p+v)%7-(c+v)%7;return Za(o,b)}class hH extends un{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,s){return e=x_(e,r,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class fH extends un{priority=90;parse(e,t,r,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"e":case"ee":return gr(ar(t.length,e),o);case"eo":return gr(r.ordinalNumber(e,{unit:"day"}),o);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,s){return e=x_(e,r,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class pH extends un{priority=90;parse(e,t,r,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"c":case"cc":return gr(ar(t.length,e),o);case"co":return gr(r.ordinalNumber(e,{unit:"day"}),o);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,s){return e=x_(e,r,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function gH(n,e){const t=at(n),r=HW(t),s=e-r;return Za(t,s)}class mH extends un{priority=90;parse(e,t,r){const s=o=>o===0?7:o;switch(t){case"i":case"ii":return ar(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return gr(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return gr(r.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return gr(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),s);default:return gr(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=gH(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class vH extends un{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(S_(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class yH extends un{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(S_(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class bH extends un{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(S_(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class wH extends un{priority=70;parse(e,t,r){switch(t){case"h":return Gn(pr.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return ar(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const s=e.getHours()>=12;return s&&r<12?e.setHours(r+12,0,0,0):!s&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class _H extends un{priority=70;parse(e,t,r){switch(t){case"H":return Gn(pr.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return ar(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class SH extends un{priority=70;parse(e,t,r){switch(t){case"K":return Gn(pr.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return ar(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class xH extends un{priority=70;parse(e,t,r){switch(t){case"k":return Gn(pr.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return ar(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const s=r<=24?r%24:r;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class kH extends un{priority=60;parse(e,t,r){switch(t){case"m":return Gn(pr.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return ar(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class EH extends un{priority=50;parse(e,t,r){switch(t){case"s":return Gn(pr.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return ar(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class CH extends un{priority=30;parse(e,t){const r=s=>Math.trunc(s*Math.pow(10,-t.length+3));return gr(ar(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class OH extends un{priority=10;parse(e,t){switch(t){case"X":return $o(jo.basicOptionalMinutes,e);case"XX":return $o(jo.basic,e);case"XXXX":return $o(jo.basicOptionalSeconds,e);case"XXXXX":return $o(jo.extendedOptionalSeconds,e);default:return $o(jo.extended,e)}}set(e,t,r){return t.timestampIsSet?e:yn(e,e.getTime()-qy(e)-r)}incompatibleTokens=["t","T","x"]}class PH extends un{priority=10;parse(e,t){switch(t){case"x":return $o(jo.basicOptionalMinutes,e);case"xx":return $o(jo.basic,e);case"xxxx":return $o(jo.basicOptionalSeconds,e);case"xxxxx":return $o(jo.extendedOptionalSeconds,e);default:return $o(jo.extended,e)}}set(e,t,r){return t.timestampIsSet?e:yn(e,e.getTime()-qy(e)-r)}incompatibleTokens=["t","T","X"]}class TH extends un{priority=40;parse(e){return zC(e)}set(e,t,r){return[yn(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class DH extends un{priority=20;parse(e){return zC(e)}set(e,t,r){return[yn(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const NH={G:new VW,y:new QW,Y:new JW,R:new XW,u:new ZW,Q:new eH,q:new tH,M:new nH,L:new rH,w:new iH,I:new oH,d:new cH,D:new dH,E:new hH,e:new fH,c:new pH,i:new mH,a:new vH,b:new yH,B:new bH,h:new wH,H:new _H,K:new SH,k:new xH,m:new kH,s:new EH,S:new CH,X:new OH,x:new PH,t:new TH,T:new DH},AH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IH=/^'([^]*?)'?$/,MH=/''/g,jH=/\S/,$H=/[a-zA-Z]/;function $0(n,e,t,r){const s=WW(),o=r?.locale??s.locale??UC,c=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(e==="")return n===""?at(t):yn(t,NaN);const p={firstWeekContainsDate:c,weekStartsOn:d,locale:o},v=[new GW],b=e.match(RH).map(A=>{const I=A[0];if(I in Qy){const L=Qy[I];return L(A,o.formatLong)}return A}).join("").match(AH),x=[];for(let A of b){!r?.useAdditionalWeekYearTokens&&HC(A)&&Ow(A,e,n),!r?.useAdditionalDayOfYearTokens&&WC(A)&&Ow(A,e,n);const I=A[0],L=NH[I];if(L){const{incompatibleTokens:G}=L;if(Array.isArray(G)){const Q=x.find(z=>G.includes(z.token)||z.token===I);if(Q)throw new RangeError(`The format string mustn't contain \`${Q.fullToken}\` and \`${A}\` at the same time`)}else if(L.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);x.push({token:I,fullToken:A});const W=L.run(n,A,o.match,p);if(!W)return yn(t,NaN);v.push(W.setter),n=W.rest}else{if(I.match($H))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(A==="''"?A="'":I==="'"&&(A=LH(A)),n.indexOf(A)===0)n=n.slice(A.length);else return yn(t,NaN)}}if(n.length>0&&jH.test(n))return yn(t,NaN);const E=v.map(A=>A.priority).sort((A,I)=>I-A).filter((A,I,L)=>L.indexOf(A)===I).map(A=>v.filter(I=>I.priority===A).sort((I,L)=>L.subPriority-I.subPriority)).map(A=>A[0]);let C=at(t);if(isNaN(C.getTime()))return yn(t,NaN);const N={};for(const A of E){if(!A.validate(C,p))return yn(t,NaN);const I=A.set(C,N,p);Array.isArray(I)?(C=I[0],Object.assign(N,I[1])):C=I}return yn(t,C)}function LH(n){return n.match(IH)[1].replace(MH,"'")}function UH(n,e){const t=at(n),r=at(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function FH(n,e){const t=Cw(n),r=Cw(e);return+t==+r}function BH(n,e){const t=at(n),r=at(e);return t.getFullYear()===r.getFullYear()}function Dm(n,e){const t=+at(n),[r,s]=[+at(e.start),+at(e.end)].sort((o,c)=>o-c);return t>=r&&t<=s}function WH(n,e){return Za(n,-1)}function HH(n,e){const r=YH(n);let s;if(r.date){const p=GH(r.date,2);s=VH(p.restDateString,p.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let c=0,d;if(r.time&&(c=QH(r.time),isNaN(c)))return new Date(NaN);if(r.timezone){if(d=JH(r.timezone),isNaN(d))return new Date(NaN)}else{const p=new Date(o+c),v=new Date(0);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return new Date(o+c+d)}const ny={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,KH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function YH(n){const e={},t=n.split(ny.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],ny.timeZoneDelimiter.test(e.date)&&(e.date=n.split(ny.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const s=ny.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function GH(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function VH(n,e){if(e===null)return new Date(NaN);const t=n.match(qH);if(!t)return new Date(NaN);const r=!!t[4],s=qg(t[1]),o=qg(t[2])-1,c=qg(t[3]),d=qg(t[4]),p=qg(t[5])-1;if(r)return n5(e,d,p)?XH(e,d,p):new Date(NaN);{const v=new Date(0);return!e5(e,o,c)||!t5(e,s)?new Date(NaN):(v.setUTCFullYear(e,o,Math.max(s,c)),v)}}function qg(n){return n?parseInt(n):1}function QH(n){const e=n.match(zH);if(!e)return NaN;const t=L0(e[1]),r=L0(e[2]),s=L0(e[3]);return r5(t,r,s)?t*Sb+r*_b+s*1e3:NaN}function L0(n){return n&&parseFloat(n.replace(",","."))||0}function JH(n){if(n==="Z")return 0;const e=n.match(KH);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return s5(r,s)?t*(r*Sb+s*_b):NaN}function XH(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const s=r.getUTCDay()||7,o=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+o),r}const ZH=[31,null,31,30,31,30,31,31,30,31,30,31];function GC(n){return n%400===0||n%4===0&&n%100!==0}function e5(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(ZH[e]||(GC(n)?29:28))}function t5(n,e){return e>=1&&e<=(GC(n)?366:365)}function n5(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function r5(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function s5(n,e){return e>=0&&e<=59}function Ii(n,e){const t=at(n),r=t.getFullYear(),s=t.getDate(),o=yn(n,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const c=BW(o);return t.setMonth(e,Math.min(s,c)),t}function i5(n,e){let t=at(n);return isNaN(+t)?yn(n,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Ii(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function Ey(n,e){const t=at(n);return t.setHours(e),t}function Cy(n,e){const t=at(n);return t.setMinutes(e),t}function jf(n,e){const t=at(n),r=Math.trunc(t.getMonth()/3)+1,s=e-r;return Ii(t,t.getMonth()+s*3)}function Oy(n,e){const t=at(n);return t.setSeconds(e),t}function Ao(n,e){const t=at(n);return isNaN(+t)?yn(n,NaN):(t.setFullYear(e),t)}function Wd(n,e){return eo(n,-e)}function VC(n,e){return b_(n,-1)}function vk(n,e){return zy(n,-1)}function vp(n,e){return Zl(n,-e)}function kb(){return typeof window<"u"}function Cp(n){return QC(n)?(n.nodeName||"").toLowerCase():"#document"}function Li(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function el(n){var e;return(e=(QC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function QC(n){return kb()?n instanceof Node||n instanceof Li(n).Node:!1}function Bs(n){return kb()?n instanceof Element||n instanceof Li(n).Element:!1}function Qo(n){return kb()?n instanceof HTMLElement||n instanceof Li(n).HTMLElement:!1}function yk(n){return!kb()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Li(n).ShadowRoot}const a5=new Set(["inline","contents"]);function Hm(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=ya(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!a5.has(s)}const o5=new Set(["table","td","th"]);function l5(n){return o5.has(Cp(n))}const u5=[":popover-open",":modal"];function Eb(n){return u5.some(e=>{try{return n.matches(e)}catch{return!1}})}const c5=["transform","translate","scale","rotate","perspective"],d5=["transform","translate","scale","rotate","perspective","filter"],h5=["paint","layout","strict","content"];function k_(n){const e=E_(),t=Bs(n)?ya(n):n;return c5.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||d5.some(r=>(t.willChange||"").includes(r))||h5.some(r=>(t.contain||"").includes(r))}function f5(n){let e=bc(n);for(;Qo(e)&&!yp(e);){if(k_(e))return e;if(Eb(e))return null;e=bc(e)}return null}function E_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p5=new Set(["html","body","#document"]);function yp(n){return p5.has(Cp(n))}function ya(n){return Li(n).getComputedStyle(n)}function Cb(n){return Bs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function bc(n){if(Cp(n)==="html")return n;const e=n.assignedSlot||n.parentNode||yk(n)&&n.host||el(n);return yk(e)?e.host:e}function JC(n){const e=bc(n);return yp(e)?n.ownerDocument?n.ownerDocument.body:n.body:Qo(e)&&Hm(e)?e:JC(e)}function Nm(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=JC(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),c=Li(s);if(o){const d=Tw(c);return e.concat(c,c.visualViewport||[],Hm(s)?s:[],d&&t?Nm(d):[])}return e.concat(s,Nm(s,[],t))}function Tw(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const bp=Math.min,Hd=Math.max,Xy=Math.round,ry=Math.floor,qo=n=>({x:n,y:n}),g5={left:"right",right:"left",bottom:"top",top:"bottom"},m5={start:"end",end:"start"};function v5(n,e,t){return Hd(n,bp(e,t))}function Ob(n,e){return typeof n=="function"?n(e):n}function wp(n){return n.split("-")[0]}function qm(n){return n.split("-")[1]}function y5(n){return n==="x"?"y":"x"}function C_(n){return n==="y"?"height":"width"}const b5=new Set(["top","bottom"]);function Ld(n){return b5.has(wp(n))?"y":"x"}function O_(n){return y5(Ld(n))}function w5(n,e,t){t===void 0&&(t=!1);const r=qm(n),s=O_(n),o=C_(s);let c=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Zy(c)),[c,Zy(c)]}function _5(n){const e=Zy(n);return[Dw(n),e,Dw(e)]}function Dw(n){return n.replace(/start|end/g,e=>m5[e])}const bk=["left","right"],wk=["right","left"],S5=["top","bottom"],x5=["bottom","top"];function k5(n,e,t){switch(n){case"top":case"bottom":return t?e?wk:bk:e?bk:wk;case"left":case"right":return e?S5:x5;default:return[]}}function E5(n,e,t,r){const s=qm(n);let o=k5(wp(n),t==="start",r);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(Dw)))),o}function Zy(n){return n.replace(/left|right|bottom|top/g,e=>g5[e])}function C5(n){return{top:0,right:0,bottom:0,left:0,...n}}function XC(n){return typeof n!="number"?C5(n):{top:n,right:n,bottom:n,left:n}}function eb(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}var O5=typeof document<"u",P5=function(){},tb=O5?X.useLayoutEffect:P5;const T5={...Iw},D5=T5.useInsertionEffect,N5=D5||(n=>n());function A5(n){const e=X.useRef(()=>{});return N5(()=>{e.current=n}),X.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function _k(n,e,t){let{reference:r,floating:s}=n;const o=Ld(e),c=O_(e),d=C_(c),p=wp(e),v=o==="y",b=r.x+r.width/2-s.width/2,x=r.y+r.height/2-s.height/2,E=r[d]/2-s[d]/2;let C;switch(p){case"top":C={x:b,y:r.y-s.height};break;case"bottom":C={x:b,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:x};break;case"left":C={x:r.x-s.width,y:x};break;default:C={x:r.x,y:r.y}}switch(qm(e)){case"start":C[c]-=E*(t&&v?-1:1);break;case"end":C[c]+=E*(t&&v?-1:1);break}return C}const R5=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:c}=t,d=o.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let v=await c.getElementRects({reference:n,floating:e,strategy:s}),{x:b,y:x}=_k(v,r,p),E=r,C={},N=0;for(let A=0;A<d.length;A++){const{name:I,fn:L}=d[A],{x:G,y:W,data:Q,reset:z}=await L({x:b,y:x,initialPlacement:r,placement:E,strategy:s,middlewareData:C,rects:v,platform:c,elements:{reference:n,floating:e}});b=G??b,x=W??x,C={...C,[I]:{...C[I],...Q}},z&&N<=50&&(N++,typeof z=="object"&&(z.placement&&(E=z.placement),z.rects&&(v=z.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:s}):z.rects),{x:b,y:x}=_k(v,E,p)),A=-1)}return{x:b,y:x,placement:E,strategy:s,middlewareData:C}};async function I5(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:c,elements:d,strategy:p}=n,{boundary:v="clippingAncestors",rootBoundary:b="viewport",elementContext:x="floating",altBoundary:E=!1,padding:C=0}=Ob(e,n),N=XC(C),I=d[E?x==="floating"?"reference":"floating":x],L=eb(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(I)))==null||t?I:I.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:v,rootBoundary:b,strategy:p})),G=x==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,W=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),Q=await(o.isElement==null?void 0:o.isElement(W))?await(o.getScale==null?void 0:o.getScale(W))||{x:1,y:1}:{x:1,y:1},z=eb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:G,offsetParent:W,strategy:p}):G);return{top:(L.top-z.top+N.top)/Q.y,bottom:(z.bottom-L.bottom+N.bottom)/Q.y,left:(L.left-z.left+N.left)/Q.x,right:(z.right-L.right+N.right)/Q.x}}const M5=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:o,platform:c,elements:d,middlewareData:p}=e,{element:v,padding:b=0}=Ob(n,e)||{};if(v==null)return{};const x=XC(b),E={x:t,y:r},C=O_(s),N=C_(C),A=await c.getDimensions(v),I=C==="y",L=I?"top":"left",G=I?"bottom":"right",W=I?"clientHeight":"clientWidth",Q=o.reference[N]+o.reference[C]-E[C]-o.floating[N],z=E[C]-o.reference[C],K=await(c.getOffsetParent==null?void 0:c.getOffsetParent(v));let H=K?K[W]:0;(!H||!await(c.isElement==null?void 0:c.isElement(K)))&&(H=d.floating[W]||o.floating[N]);const Y=Q/2-z/2,re=H/2-A[N]/2-1,ve=bp(x[L],re),_e=bp(x[G],re),ke=ve,Re=H-A[N]-_e,Ee=H/2-A[N]/2+Y,he=v5(ke,Ee,Re),ge=!p.arrow&&qm(s)!=null&&Ee!==he&&o.reference[N]/2-(Ee<ke?ve:_e)-A[N]/2<0,me=ge?Ee<ke?Ee-ke:Ee-Re:0;return{[C]:E[C]+me,data:{[C]:he,centerOffset:Ee-he-me,...ge&&{alignmentOffset:me}},reset:ge}}}),j5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:p,elements:v}=e,{mainAxis:b=!0,crossAxis:x=!0,fallbackPlacements:E,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:A=!0,...I}=Ob(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const L=wp(s),G=Ld(d),W=wp(d)===d,Q=await(p.isRTL==null?void 0:p.isRTL(v.floating)),z=E||(W||!A?[Zy(d)]:_5(d)),K=N!=="none";!E&&K&&z.push(...E5(d,A,N,Q));const H=[d,...z],Y=await I5(e,I),re=[];let ve=((r=o.flip)==null?void 0:r.overflows)||[];if(b&&re.push(Y[L]),x){const Ee=w5(s,c,Q);re.push(Y[Ee[0]],Y[Ee[1]])}if(ve=[...ve,{placement:s,overflows:re}],!re.every(Ee=>Ee<=0)){var _e,ke;const Ee=(((_e=o.flip)==null?void 0:_e.index)||0)+1,he=H[Ee];if(he&&(!(x==="alignment"?G!==Ld(he):!1)||ve.every(V=>Ld(V.placement)===G?V.overflows[0]>0:!0)))return{data:{index:Ee,overflows:ve},reset:{placement:he}};let ge=(ke=ve.filter(me=>me.overflows[0]<=0).sort((me,V)=>me.overflows[1]-V.overflows[1])[0])==null?void 0:ke.placement;if(!ge)switch(C){case"bestFit":{var Re;const me=(Re=ve.filter(V=>{if(K){const Ne=Ld(V.placement);return Ne===G||Ne==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Ne=>Ne>0).reduce((Ne,De)=>Ne+De,0)]).sort((V,Ne)=>V[1]-Ne[1])[0])==null?void 0:Re[0];me&&(ge=me);break}case"initialPlacement":ge=d;break}if(s!==ge)return{reset:{placement:ge}}}return{}}}},$5=new Set(["left","top"]);async function L5(n,e){const{placement:t,platform:r,elements:s}=n,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=wp(t),d=qm(t),p=Ld(t)==="y",v=$5.has(c)?-1:1,b=o&&p?-1:1,x=Ob(e,n);let{mainAxis:E,crossAxis:C,alignmentAxis:N}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof N=="number"&&(C=d==="end"?N*-1:N),p?{x:C*b,y:E*v}:{x:E*v,y:C*b}}const U5=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:o,placement:c,middlewareData:d}=e,p=await L5(e,n);return c===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+p.x,y:o+p.y,data:{...p,placement:c}}}}};function ZC(n){const e=ya(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qo(n),o=s?n.offsetWidth:t,c=s?n.offsetHeight:r,d=Xy(t)!==o||Xy(r)!==c;return d&&(t=o,r=c),{width:t,height:r,$:d}}function P_(n){return Bs(n)?n:n.contextElement}function qf(n){const e=P_(n);if(!Qo(e))return qo(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=ZC(e);let c=(o?Xy(t.width):t.width)/r,d=(o?Xy(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const F5=qo(0);function eO(n){const e=Li(n);return!E_()||!e.visualViewport?F5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function B5(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Li(n)?!1:e}function Zd(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=P_(n);let c=qo(1);e&&(r?Bs(r)&&(c=qf(r)):c=qf(n));const d=B5(o,t,r)?eO(o):qo(0);let p=(s.left+d.x)/c.x,v=(s.top+d.y)/c.y,b=s.width/c.x,x=s.height/c.y;if(o){const E=Li(o),C=r&&Bs(r)?Li(r):r;let N=E,A=Tw(N);for(;A&&r&&C!==N;){const I=qf(A),L=A.getBoundingClientRect(),G=ya(A),W=L.left+(A.clientLeft+parseFloat(G.paddingLeft))*I.x,Q=L.top+(A.clientTop+parseFloat(G.paddingTop))*I.y;p*=I.x,v*=I.y,b*=I.x,x*=I.y,p+=W,v+=Q,N=Li(A),A=Tw(N)}}return eb({width:b,height:x,x:p,y:v})}function Pb(n,e){const t=Cb(n).scrollLeft;return e?e.left+t:Zd(el(n)).left+t}function tO(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Pb(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function W5(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const o=s==="fixed",c=el(r),d=e?Eb(e.floating):!1;if(r===c||d&&o)return t;let p={scrollLeft:0,scrollTop:0},v=qo(1);const b=qo(0),x=Qo(r);if((x||!x&&!o)&&((Cp(r)!=="body"||Hm(c))&&(p=Cb(r)),Qo(r))){const C=Zd(r);v=qf(r),b.x=C.x+r.clientLeft,b.y=C.y+r.clientTop}const E=c&&!x&&!o?tO(c,p):qo(0);return{width:t.width*v.x,height:t.height*v.y,x:t.x*v.x-p.scrollLeft*v.x+b.x+E.x,y:t.y*v.y-p.scrollTop*v.y+b.y+E.y}}function H5(n){return Array.from(n.getClientRects())}function q5(n){const e=el(n),t=Cb(n),r=n.ownerDocument.body,s=Hd(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Hd(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-t.scrollLeft+Pb(n);const d=-t.scrollTop;return ya(r).direction==="rtl"&&(c+=Hd(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:c,y:d}}const Sk=25;function z5(n,e){const t=Li(n),r=el(n),s=t.visualViewport;let o=r.clientWidth,c=r.clientHeight,d=0,p=0;if(s){o=s.width,c=s.height;const b=E_();(!b||b&&e==="fixed")&&(d=s.offsetLeft,p=s.offsetTop)}const v=Pb(r);if(v<=0){const b=r.ownerDocument,x=b.body,E=getComputedStyle(x),C=b.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,N=Math.abs(r.clientWidth-x.clientWidth-C);N<=Sk&&(o-=N)}else v<=Sk&&(o+=v);return{width:o,height:c,x:d,y:p}}const K5=new Set(["absolute","fixed"]);function Y5(n,e){const t=Zd(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,o=Qo(n)?qf(n):qo(1),c=n.clientWidth*o.x,d=n.clientHeight*o.y,p=s*o.x,v=r*o.y;return{width:c,height:d,x:p,y:v}}function xk(n,e,t){let r;if(e==="viewport")r=z5(n,t);else if(e==="document")r=q5(el(n));else if(Bs(e))r=Y5(e,t);else{const s=eO(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return eb(r)}function nO(n,e){const t=bc(n);return t===e||!Bs(t)||yp(t)?!1:ya(t).position==="fixed"||nO(t,e)}function G5(n,e){const t=e.get(n);if(t)return t;let r=Nm(n,[],!1).filter(d=>Bs(d)&&Cp(d)!=="body"),s=null;const o=ya(n).position==="fixed";let c=o?bc(n):n;for(;Bs(c)&&!yp(c);){const d=ya(c),p=k_(c);!p&&d.position==="fixed"&&(s=null),(o?!p&&!s:!p&&d.position==="static"&&!!s&&K5.has(s.position)||Hm(c)&&!p&&nO(n,c))?r=r.filter(b=>b!==c):s=d,c=bc(c)}return e.set(n,r),r}function V5(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const c=[...t==="clippingAncestors"?Eb(e)?[]:G5(e,this._c):[].concat(t),r],d=c[0],p=c.reduce((v,b)=>{const x=xk(e,b,s);return v.top=Hd(x.top,v.top),v.right=bp(x.right,v.right),v.bottom=bp(x.bottom,v.bottom),v.left=Hd(x.left,v.left),v},xk(e,d,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Q5(n){const{width:e,height:t}=ZC(n);return{width:e,height:t}}function J5(n,e,t){const r=Qo(e),s=el(e),o=t==="fixed",c=Zd(n,!0,o,e);let d={scrollLeft:0,scrollTop:0};const p=qo(0);function v(){p.x=Pb(s)}if(r||!r&&!o)if((Cp(e)!=="body"||Hm(s))&&(d=Cb(e)),r){const C=Zd(e,!0,o,e);p.x=C.x+e.clientLeft,p.y=C.y+e.clientTop}else s&&v();o&&!r&&s&&v();const b=s&&!r&&!o?tO(s,d):qo(0),x=c.left+d.scrollLeft-p.x-b.x,E=c.top+d.scrollTop-p.y-b.y;return{x,y:E,width:c.width,height:c.height}}function U0(n){return ya(n).position==="static"}function kk(n,e){if(!Qo(n)||ya(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return el(n)===t&&(t=t.ownerDocument.body),t}function rO(n,e){const t=Li(n);if(Eb(n))return t;if(!Qo(n)){let s=bc(n);for(;s&&!yp(s);){if(Bs(s)&&!U0(s))return s;s=bc(s)}return t}let r=kk(n,e);for(;r&&l5(r)&&U0(r);)r=kk(r,e);return r&&yp(r)&&U0(r)&&!k_(r)?t:r||f5(n)||t}const X5=async function(n){const e=this.getOffsetParent||rO,t=this.getDimensions,r=await t(n.floating);return{reference:J5(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Z5(n){return ya(n).direction==="rtl"}const e6={convertOffsetParentRelativeRectToViewportRelativeRect:W5,getDocumentElement:el,getClippingRect:V5,getOffsetParent:rO,getElementRects:X5,getClientRects:H5,getDimensions:Q5,getScale:qf,isElement:Bs,isRTL:Z5};function sO(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function t6(n,e){let t=null,r;const s=el(n);function o(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function c(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),o();const v=n.getBoundingClientRect(),{left:b,top:x,width:E,height:C}=v;if(d||e(),!E||!C)return;const N=ry(x),A=ry(s.clientWidth-(b+E)),I=ry(s.clientHeight-(x+C)),L=ry(b),W={rootMargin:-N+"px "+-A+"px "+-I+"px "+-L+"px",threshold:Hd(0,bp(1,p))||1};let Q=!0;function z(K){const H=K[0].intersectionRatio;if(H!==p){if(!Q)return c();H?c(!1,H):r=setTimeout(()=>{c(!1,1e-7)},1e3)}H===1&&!sO(v,n.getBoundingClientRect())&&c(),Q=!1}try{t=new IntersectionObserver(z,{...W,root:s.ownerDocument})}catch{t=new IntersectionObserver(z,W)}t.observe(n)}return c(!0),o}function n6(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,v=P_(n),b=s||o?[...v?Nm(v):[],...Nm(e)]:[];b.forEach(L=>{s&&L.addEventListener("scroll",t,{passive:!0}),o&&L.addEventListener("resize",t)});const x=v&&d?t6(v,t):null;let E=-1,C=null;c&&(C=new ResizeObserver(L=>{let[G]=L;G&&G.target===v&&C&&(C.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var W;(W=C)==null||W.observe(e)})),t()}),v&&!p&&C.observe(v),C.observe(e));let N,A=p?Zd(n):null;p&&I();function I(){const L=Zd(n);A&&!sO(A,L)&&t(),A=L,N=requestAnimationFrame(I)}return t(),()=>{var L;b.forEach(G=>{s&&G.removeEventListener("scroll",t),o&&G.removeEventListener("resize",t)}),x?.(),(L=C)==null||L.disconnect(),C=null,p&&cancelAnimationFrame(N)}}const r6=U5,s6=j5,Ek=M5,i6=(n,e,t)=>{const r=new Map,s={platform:e6,...t},o={...s.platform,_c:r};return R5(n,e,{...s,platform:o})};var a6=typeof document<"u",o6=function(){},Py=a6?X.useLayoutEffect:o6;function nb(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!nb(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const o=s[r];if(!(o==="_owner"&&n.$$typeof)&&!nb(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function iO(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Ck(n,e){const t=iO(n);return Math.round(e*t)/t}function F0(n){const e=X.useRef(n);return Py(()=>{e.current=n}),e}function l6(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:p,open:v}=n,[b,x]=X.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,C]=X.useState(r);nb(E,r)||C(r);const[N,A]=X.useState(null),[I,L]=X.useState(null),G=X.useCallback(V=>{V!==K.current&&(K.current=V,A(V))},[]),W=X.useCallback(V=>{V!==H.current&&(H.current=V,L(V))},[]),Q=o||N,z=c||I,K=X.useRef(null),H=X.useRef(null),Y=X.useRef(b),re=p!=null,ve=F0(p),_e=F0(s),ke=F0(v),Re=X.useCallback(()=>{if(!K.current||!H.current)return;const V={placement:e,strategy:t,middleware:E};_e.current&&(V.platform=_e.current),i6(K.current,H.current,V).then(Ne=>{const De={...Ne,isPositioned:ke.current!==!1};Ee.current&&!nb(Y.current,De)&&(Y.current=De,Kf.flushSync(()=>{x(De)}))})},[E,e,t,_e,ke]);Py(()=>{v===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,x(V=>({...V,isPositioned:!1})))},[v]);const Ee=X.useRef(!1);Py(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Py(()=>{if(Q&&(K.current=Q),z&&(H.current=z),Q&&z){if(ve.current)return ve.current(Q,z,Re);Re()}},[Q,z,Re,ve,re]);const he=X.useMemo(()=>({reference:K,floating:H,setReference:G,setFloating:W}),[G,W]),ge=X.useMemo(()=>({reference:Q,floating:z}),[Q,z]),me=X.useMemo(()=>{const V={position:t,left:0,top:0};if(!ge.floating)return V;const Ne=Ck(ge.floating,b.x),De=Ck(ge.floating,b.y);return d?{...V,transform:"translate("+Ne+"px, "+De+"px)",...iO(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Ne,top:De}},[t,d,ge.floating,b.x,b.y]);return X.useMemo(()=>({...b,update:Re,refs:he,elements:ge,floatingStyles:me}),[b,Re,he,ge,me])}const u6=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Ek({element:r.current,padding:s}).fn(t):{}:r?Ek({element:r,padding:s}).fn(t):{}}}},c6=(n,e)=>({...r6(n),options:[n,e]}),d6=(n,e)=>({...s6(n),options:[n,e]}),h6=(n,e)=>({...u6(n),options:[n,e]}),f6={...Iw};let Ok=!1,p6=0;const Pk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+p6++;function g6(){const[n,e]=X.useState(()=>Ok?Pk():void 0);return tb(()=>{n==null&&e(Pk())},[]),X.useEffect(()=>{Ok=!0},[]),n}const m6=f6.useId,aO=m6||g6,v6=X.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:o,shift:c}},width:d=14,height:p=7,tipRadius:v=0,strokeWidth:b=0,staticOffset:x,stroke:E,d:C,style:{transform:N,...A}={},...I}=e,L=aO(),[G,W]=X.useState(!1);if(tb(()=>{if(!s)return;ya(s).direction==="rtl"&&W(!0)},[s]),!s)return null;const[Q,z]=r.split("-"),K=Q==="top"||Q==="bottom";let H=x;(K&&c!=null&&c.x||!K&&c!=null&&c.y)&&(H=null);const Y=b*2,re=Y/2,ve=d/2*(v/-8+1),_e=p/2*v/4,ke=!!C,Re=H&&z==="end"?"bottom":"top";let Ee=H&&z==="end"?"right":"left";H&&G&&(Ee=z==="end"?"left":"right");const he=o?.x!=null?H||o.x:"",ge=o?.y!=null?H||o.y:"",me=C||"M0,0"+(" H"+d)+(" L"+(d-ve)+","+(p-_e))+(" Q"+d/2+","+p+" "+ve+","+(p-_e))+" Z",V={top:ke?"rotate(180deg)":"",left:ke?"rotate(90deg)":"rotate(-90deg)",bottom:ke?"":"rotate(180deg)",right:ke?"rotate(-90deg)":"rotate(90deg)"}[Q];return M.jsxs("svg",{...I,"aria-hidden":!0,ref:t,width:ke?d:d+Y,height:d,viewBox:"0 0 "+d+" "+(p>d?p:d),style:{position:"absolute",pointerEvents:"none",[Ee]:he,[Re]:ge,[Q]:K||ke?"100%":"calc(100% - "+Y/2+"px)",transform:[V,N].filter(Ne=>!!Ne).join(" "),...A},children:[Y>0&&M.jsx("path",{clipPath:"url(#"+L+")",fill:"none",stroke:E,strokeWidth:Y+(C?0:1),d:me}),M.jsx("path",{stroke:Y&&!C?I.fill:"none",d:me}),M.jsx("clipPath",{id:L,children:M.jsx("rect",{x:-re,y:re*(ke?-1:1),width:d+Y,height:d})})]})});function y6(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(s=>s(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const b6=X.createContext(null),w6=X.createContext(null),_6=()=>{var n;return((n=X.useContext(b6))==null?void 0:n.id)||null},S6=()=>X.useContext(w6);function x6(n){const{open:e=!1,onOpenChange:t,elements:r}=n,s=aO(),o=X.useRef({}),[c]=X.useState(()=>y6()),d=_6()!=null,[p,v]=X.useState(r.reference),b=A5((C,N,A)=>{o.current.openEvent=C?N:void 0,c.emit("openchange",{open:C,event:N,reason:A,nested:d}),t?.(C,N,A)}),x=X.useMemo(()=>({setPositionReference:v}),[]),E=X.useMemo(()=>({reference:p||r.reference||null,floating:r.floating||null,domReference:r.reference}),[p,r.reference,r.floating]);return X.useMemo(()=>({dataRef:o,open:e,onOpenChange:b,elements:E,events:c,floatingId:s,refs:x}),[e,b,E,c,s,x])}function k6(n){n===void 0&&(n={});const{nodeId:e}=n,t=x6({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,s=r.elements,[o,c]=X.useState(null),[d,p]=X.useState(null),b=s?.domReference||o,x=X.useRef(null),E=S6();tb(()=>{b&&(x.current=b)},[b]);const C=l6({...n,elements:{...s,...d&&{reference:d}}}),N=X.useCallback(W=>{const Q=Bs(W)?{getBoundingClientRect:()=>W.getBoundingClientRect(),getClientRects:()=>W.getClientRects(),contextElement:W}:W;p(Q),C.refs.setReference(Q)},[C.refs]),A=X.useCallback(W=>{(Bs(W)||W===null)&&(x.current=W,c(W)),(Bs(C.refs.reference.current)||C.refs.reference.current===null||W!==null&&!Bs(W))&&C.refs.setReference(W)},[C.refs]),I=X.useMemo(()=>({...C.refs,setReference:A,setPositionReference:N,domReference:x}),[C.refs,A,N]),L=X.useMemo(()=>({...C.elements,domReference:b}),[C.elements,b]),G=X.useMemo(()=>({...C,...r,refs:I,elements:L,nodeId:e}),[C,I,L,e,r]);return tb(()=>{r.dataRef.current.floatingContext=G;const W=E?.nodesRef.current.find(Q=>Q.id===e);W&&(W.context=G)}),X.useMemo(()=>({...C,context:G,refs:I,elements:L}),[C,I,L,G])}var Nw=function(e,t){return Nw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},Nw(e,t)};function Kr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Nw(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var on=function(){return on=Object.assign||function(t){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},on.apply(this,arguments)};function Fo(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var E6=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,s=r===void 0?!1:r,o=n.className,c=n.children,d=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return J.createElement("div",{className:o,role:"dialog","aria-label":d,"aria-modal":"true"},c)},C6=function(n,e){var t=X.useRef(null),r=X.useRef(n);r.current=n;var s=X.useCallback(function(o){var c;t.current&&!t.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(c=r.current)===null||c===void 0||c.call(r,o))},[e]);return X.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},Tb=function(n){var e=n.children,t=n.onClickOutside,r=n.className,s=n.containerRef,o=n.style,c=n.ignoreClass,d=C6(t,c);return J.createElement("div",{className:r,style:o,ref:function(p){d.current=p,s&&(s.current=p)}},e)},tt;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(tt||(tt={}));function oO(){var n=typeof window<"u"?window:globalThis;return n}var zm=12,O6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function bn(n){if(n==null)return new Date;var e=typeof n=="string"?HH(n):at(n);return Yl(e)?e:new Date}function B0(n,e,t,r,s){var o,c=null,d=qd(t)||qd(sm()),p=!0;if(Array.isArray(e))return e.forEach(function(b){var x=$0(n,b,new Date,{locale:d,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(p=Yl(x,s)&&n===Fn(x,b,t)),Yl(x,s)&&p&&(c=x)}),c;if(c=$0(n,e,new Date,{locale:d,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)p=Yl(c)&&n===Fn(c,e,t);else if(!Yl(c)){var v=((o=e.match(O6))!==null&&o!==void 0?o:[]).map(function(b){var x=b[0];if(x==="p"||x==="P"){var E=Qy[x];return d?E(b,d.formatLong):x}return b}).join("");n.length>0&&(c=$0(n,v.slice(0,n.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Yl(c)||(c=new Date(n))}return Yl(c)&&p?c:null}function Yl(n,e){return Ky(n)&&!Xd(n,e??new Date("1/1/1800"))}function Fn(n,e,t){if(t==="en")return gk(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?qd(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&sm()&&qd(sm())&&(r=qd(sm())),gk(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function da(n,e){var t=e.dateFormat,r=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Fn(n,s,r)||""}function P6(n,e,t){if(!n)return"";var r=da(n,t),s=e?da(e,t):"";return"".concat(r," - ").concat(s)}function T6(n,e){if(!n?.length)return"";var t=n[0]?da(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=da(n[1],e);return"".concat(t,", ").concat(r)}var s=n.length-1;return"".concat(t," (+").concat(s,")")}function W0(n,e){var t=e.hour,r=t===void 0?0:t,s=e.minute,o=s===void 0?0:s,c=e.second,d=c===void 0?0:c;return Ey(Cy(Oy(n,d),o),r)}function D6(n){return w_(n)}function N6(n,e){return Fn(n,"ddd",e)}function Ty(n){return Jd(n)}function oc(n,e,t){var r=qd(e||sm());return cu(n,{locale:r,weekStartsOn:t})}function nu(n){return $C(n)}function Vg(n){return xb(n)}function Tk(n){return Cw(n)}function Dk(){return Jd(bn())}function Nk(n){return MC(n)}function A6(n){return G4(n)}function R6(n){return jC(n)}function Io(n,e){return n&&e?BH(n,e):!n&&!e}function Ls(n,e){return n&&e?UH(n,e):!n&&!e}function rb(n,e){return n&&e?FH(n,e):!n&&!e}function nn(n,e){return n&&e?K4(n,e):!n&&!e}function Ud(n,e){return n&&e?qW(n,e):!n&&!e}function Qg(n,e,t){var r,s=Jd(e),o=MC(t);try{r=Dm(n,{start:s,end:o})}catch{r=!1}return r}function sm(){var n=oO();return n.__localeId__}function qd(n){if(typeof n=="string"){var e=oO();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function I6(n,e,t){return e(Fn(n,"EEEE",t))}function M6(n,e){return Fn(n,"EEEEEE",e)}function j6(n,e){return Fn(n,"EEE",e)}function T_(n,e){return Fn(Ii(bn(),n),"LLLL",e)}function lO(n,e){return Fn(Ii(bn(),n),"LLL",e)}function $6(n,e){return Fn(jf(bn(),n),"QQQ",e)}function ha(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,d=t.includeDates,p=t.includeDateIntervals,v=t.filterDate;return Km(n,{minDate:r,maxDate:s})||o&&o.some(function(b){return b instanceof Date?nn(n,b):nn(n,b.date)})||c&&c.some(function(b){var x=b.start,E=b.end;return Dm(n,{start:x,end:E})})||d&&!d.some(function(b){return nn(n,b)})||p&&!p.some(function(b){var x=b.start,E=b.end;return Dm(n,{start:x,end:E})})||v&&!v(bn(n))||!1}function D_(n,e){var t=e===void 0?{}:e,r=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var c=o.start,d=o.end;return Dm(n,{start:c,end:d})}):r&&r.some(function(o){var c;return o instanceof Date?nn(n,o):nn(n,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function uO(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate;return Km(n,{minDate:r?$C(r):void 0,maxDate:s?jC(s):void 0})||o?.some(function(p){return Ls(n,p instanceof Date?p:p.date)})||c&&!c.some(function(p){return Ls(n,p)})||d&&!d(bn(n))||!1}function sy(n,e,t,r){var s=Wt(n),o=Fs(n),c=Wt(e),d=Fs(e),p=Wt(r);return s===c&&s===p?o<=t&&t<=d:s<c?p===s&&o<=t||p===c&&d>=t||p<c&&p>s:!1}function L6(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates;return Km(n,{minDate:r,maxDate:s})||o&&o.some(function(d){return Ls(d instanceof Date?d:d.date,n)})||c&&!c.some(function(d){return Ls(d,n)})||!1}function iy(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate;return Km(n,{minDate:r,maxDate:s})||o?.some(function(p){return rb(n,p instanceof Date?p:p.date)})||c&&!c.some(function(p){return rb(n,p)})||d&&!d(bn(n))||!1}function ay(n,e,t){if(!e||!t||!Ky(e)||!Ky(t))return!1;var r=Wt(e),s=Wt(t);return r<=n&&s>=n}function Dy(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,p=new Date(n,0,1);return Km(p,{minDate:r?xb(r):void 0,maxDate:s?LC(s):void 0})||o?.some(function(v){return Io(p,v instanceof Date?v:v.date)})||c&&!c.some(function(v){return Io(p,v)})||d&&!d(bn(p))||!1}function oy(n,e,t,r){var s=Wt(n),o=Bd(n),c=Wt(e),d=Bd(e),p=Wt(r);return s===c&&s===p?o<=t&&t<=d:s<c?p===s&&o<=t||p===c&&d>=t||p<c&&p>s:!1}function Km(n,e){var t,r=e===void 0?{}:e,s=r.minDate,o=r.maxDate;return(t=s&&mp(n,s)<0||o&&mp(n,o)>0)!==null&&t!==void 0?t:!1}function Ak(n,e){return e.some(function(t){return Wo(t)===Wo(n)&&Ho(t)===Ho(n)&&tu(t)===tu(n)})}function Rk(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,s=t.includeTimes,o=t.filterTime;return r&&Ak(n,r)||s&&!Ak(n,s)||o&&!o(n)||!1}function Ik(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var s=bn();s=Ey(s,Wo(n)),s=Cy(s,Ho(n)),s=Oy(s,tu(n));var o=bn();o=Ey(o,Wo(t)),o=Cy(o,Ho(t)),o=Oy(o,tu(t));var c=bn();c=Ey(c,Wo(r)),c=Cy(c,Ho(r)),c=Oy(c,tu(r));var d;try{d=!Dm(s,{start:o,end:c})}catch{d=!1}return d}function Mk(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,o=Wd(n,1);return r&&Yy(r,o)>0||s&&s.every(function(c){return Yy(c,o)>0})||!1}function jk(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,o=eo(n,1);return r&&Yy(o,r)>0||s&&s.every(function(c){return Yy(o,c)>0})||!1}function U6(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,o=xb(n),c=VC(o);return r&&Gy(r,c)>0||s&&s.every(function(d){return Gy(d,c)>0})||!1}function F6(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,o=LC(n),c=b_(o,1);return r&&Gy(c,r)>0||s&&s.every(function(d){return Gy(c,d)>0})||!1}function $k(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,o=vp(n,1);return r&&Vy(r,o)>0||s&&s.every(function(c){return Vy(c,o)>0})||!1}function B6(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.yearItemNumber,o=s===void 0?zm:s,c=Vg(vp(n,o)),d=rc(c,o).endPeriod,p=r&&Wt(r);return p&&p>d||!1}function Lk(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,o=Zl(n,1);return r&&Vy(o,r)>0||s&&s.every(function(c){return Vy(o,c)>0})||!1}function W6(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.yearItemNumber,o=s===void 0?zm:s,c=Zl(n,o),d=rc(c,o).startPeriod,p=r&&Wt(r);return p&&p<d||!1}function cO(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(s){return mp(s,e)>=0});return uk(r)}else return t?uk(t):e}function dO(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(s){return mp(s,e)<=0});return lk(r)}else return t?lk(t):e}function Uk(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,s=0,o=n.length;s<o;s++){var c=n[s];if(eu(c)){var d=Fn(c,"MM.dd.yyyy"),p=r.get(d)||[];p.includes(e)||(p.push(e),r.set(d,p))}else if(typeof c=="object"){var v=Object.keys(c),b=(t=v[0])!==null&&t!==void 0?t:"",x=c[b];if(typeof b=="string"&&Array.isArray(x))for(var E=0,C=x.length;E<C;E++){var N=x[E];if(N){var d=Fn(N,"MM.dd.yyyy"),p=r.get(d)||[];p.includes(b)||(p.push(b),r.set(d,p))}}}}return r}function H6(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function q6(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var s=r.date,o=r.holidayName;if(eu(s)){var c=Fn(s,"MM.dd.yyyy"),d=t.get(c)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===e&&H6(d.holidayNames,[o]))){d.className=e;var p=d.holidayNames;d.holidayNames=p?Fo(Fo([],p,!0),[o],!1):[o],t.set(c,d)}}}),t}function z6(n,e,t,r,s){for(var o=s.length,c=[],d=0;d<o;d++){var p=n,v=s[d];v&&(p=W4(p,Wo(v)),p=Ew(p,Ho(v)),p=z4(p,tu(v)));var b=Ew(n,(t+1)*r);yc(p,e)&&Xd(p,b)&&v!=null&&c.push(v)}return c}function Fk(n){return n<10?"0".concat(n):"".concat(n)}function rc(n,e){e===void 0&&(e=zm);var t=Math.ceil(Wt(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function K6(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function Bk(n){var e=n.getSeconds(),t=n.getMilliseconds();return at(n.getTime()-e*1e3-t)}function Y6(n,e){return Bk(n).getTime()===Bk(e).getTime()}function Wk(n){if(!eu(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function Hk(n,e){if(!eu(n)||!eu(e))throw new Error("Invalid date received");var t=Wk(n),r=Wk(e);return Xd(t,r)}function hO(n){return n.key===tt.Space}var G6=(function(n){Kr(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=J.createRef(),r.onTimeChange=function(s){var o,c;r.setState({time:s});var d=r.props.date,p=d instanceof Date&&!isNaN(+d),v=p?d:new Date;if(s?.includes(":")){var b=s.split(":"),x=b[0],E=b[1];v.setHours(Number(x)),v.setMinutes(Number(E))}(c=(o=r.props).onChange)===null||c===void 0||c.call(o,v)},r.renderTimeInput=function(){var s=r.state.time,o=r.props,c=o.date,d=o.timeString,p=o.customTimeInput;return p?X.cloneElement(p,{date:c,value:s,onChange:r.onTimeChange}):J.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var v;(v=r.inputRef.current)===null||v===void 0||v.focus()},required:!0,value:s,onChange:function(v){r.onTimeChange(v.target.value||d)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return J.createElement("div",{className:"react-datepicker__input-time-container"},J.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),J.createElement("div",{className:"react-datepicker-time__input-container"},J.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(X.Component),V6=(function(n){Kr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=X.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var s,o,c=r.key;c===tt.Space&&(r.preventDefault(),r.key=tt.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},t.isSameDay=function(r){return nn(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),ha(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return D_(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return nn(t.props.day,oc(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&nn(r,oc(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,s=r.day,o=r.highlightDates;if(!o)return!1;var c=Fn(s,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var r,s=t.props,o=s.day,c=s.holidays;if(!c)return[void 0];var d=Fn(o,"MM.dd.yyyy");return c.has(d)?[(r=c.get(d))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Qg(s,o,c)},t.isInSelectingRange=function(){var r,s=t.props,o=s.day,c=s.selectsStart,d=s.selectsEnd,p=s.selectsRange,v=s.selectsDisabledDaysInRange,b=s.startDate,x=s.endDate,E=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(c||d||p)||!E||!v&&t.isDisabled()?!1:c&&x&&(Xd(E,x)||Ud(E,x))?Qg(o,E,x):d&&b&&(yc(E,b)||Ud(E,b))||p&&b&&!x&&(yc(E,b)||Ud(E,b))?Qg(o,b,E):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.startDate,d=s.selectsStart,p=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return d?nn(o,p):nn(o,c)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.endDate,d=s.selectsEnd,p=s.selectsRange,v=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return d||p?nn(o,v):nn(o,c)},t.isRangeStart=function(){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:nn(o,s)},t.isRangeEnd=function(){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:nn(c,s)},t.isWeekend=function(){var r=FW(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Fs(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Fs(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(bn())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var s=t.props.dayClassName?t.props.dayClassName(r):void 0;return os("react-datepicker__day",s,"react-datepicker__day--"+N6(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,s=r.day,o=r.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,d=r.ariaLabelPrefixWhenDisabled,p=d===void 0?"Not available":d,v=t.isDisabled()||t.isExcluded()?p:c;return"".concat(v," ").concat(Fn(s,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,s=r.day,o=r.holidays,c=o===void 0?new Map:o,d=r.excludeDates,p=Fn(s,"MM.dd.yyyy"),v=[];return c.has(p)&&v.push.apply(v,c.get(p).holidayNames),t.isExcluded()&&v.push(d?.filter(function(b){return b instanceof Date?nn(b,s):nn(b?.date,s)}).map(function(b){if(!(b instanceof Date))return b?.message})),v.join(", ")},t.getTabIndex=function(){var r=t.props.selected,s=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&nn(s,r))?0:-1;return o},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(mk(t.props.day),t.props.day):mk(t.props.day)},t.render=function(){return J.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&J.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,s;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(X.Component),Q6=(function(n){Kr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=X.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var s,o,c=r.key;c===tt.Space&&(r.preventDefault(),r.key=tt.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!nn(t.props.date,t.props.selected)&&nn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||nn(t.props.date,t.props.selected)&&nn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var s=!1;t.getTabIndex()===0&&!r?.isInputFocused&&nn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,s=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,d=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!s,"react-datepicker__week-number--selected":!!d&&nn(this.props.date,this.props.selected)};return J.createElement("div",{ref:this.weekNumberEl,className:os(p),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e})(X.Component),J6=(function(n){Kr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return ha(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,s){t.props.onDayClick&&t.props.onDayClick(r,s)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,s,o){for(var c,d,p,v=new Date(r),b=0;b<7;b++){var x=new Date(r);x.setDate(x.getDate()+b);var E=!t.isDisabled(x);if(E){v=x;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(v,s,o),t.props.showWeekPicker&&t.handleDayClick(v,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((p=(d=t.props).setOpen)===null||p===void 0||p.call(d,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):D6(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),s=Za(r,6),o=new Date(r);o<=s;){if(!t.isDisabled(o))return!1;o=Za(o,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),s=[],o=t.formatWeekNumber(r);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,o):void 0;s.push(J.createElement(Q6,on({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:c})))}return s.concat([0,1,2,3,4,5,6].map(function(d){var p=Za(r,d);return J.createElement(V6,on({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return oc(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!nn(t.startOfWeek(),t.props.selected)&&nn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":nn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return J.createElement("div",{className:os(t)},this.renderDays())},e})(X.Component),zg,X6=6,zf={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},H0=(zg={},zg[zf.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},zg[zf.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},zg[zf.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},zg),ly=1;function qk(n,e){return n?zf.FOUR_COLUMNS:e?zf.TWO_COLUMNS:zf.THREE_COLUMNS}var Z6=(function(n){Kr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Fo([],Array(12),!0).map(function(){return X.createRef()}),t.QUARTER_REFS=Fo([],Array(4),!0).map(function(){return X.createRef()}),t.isDisabled=function(r){return ha(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return D_(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,s){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,r,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var s,o;(o=(s=t.props).onDayMouseEnter)===null||o===void 0||o.call(s,r)},t.handleMouseLeave=function(){var r,s;(s=(r=t.props).onMouseLeave)===null||s===void 0||s.call(r)},t.isRangeStartMonth=function(r){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Ls(Ii(o,r),c)},t.isRangeStartQuarter=function(r){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:rb(jf(o,r),c)},t.isRangeEndMonth=function(r){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Ls(Ii(o,r),d)},t.isRangeEndQuarter=function(r){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:rb(jf(o,r),d)},t.isInSelectingRangeMonth=function(r){var s,o=t.props,c=o.day,d=o.selectsStart,p=o.selectsEnd,v=o.selectsRange,b=o.startDate,x=o.endDate,E=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||p||v)||!E?!1:d&&x?sy(E,x,r,c):p&&b||v&&b&&!x?sy(b,E,r,c):!1},t.isSelectingMonthRangeStart=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,c=o.day,d=o.startDate,p=o.selectsStart,v=Ii(c,r),b=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p?Ls(v,b):Ls(v,d)},t.isSelectingMonthRangeEnd=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,c=o.day,d=o.endDate,p=o.selectsEnd,v=o.selectsRange,b=Ii(c,r),x=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p||v?Ls(b,x):Ls(b,d)},t.isInSelectingRangeQuarter=function(r){var s,o=t.props,c=o.day,d=o.selectsStart,p=o.selectsEnd,v=o.selectsRange,b=o.startDate,x=o.endDate,E=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||p||v)||!E?!1:d&&x?oy(E,x,r,c):p&&b||v&&b&&!x?oy(b,E,r,c):!1},t.isWeekInMonth=function(r){var s=t.props.day,o=Za(r,6);return Ls(r,s)||Ls(o,s)},t.isCurrentMonth=function(r,s){return Wt(r)===Wt(bn())&&s===Fs(bn())},t.isCurrentQuarter=function(r,s){return Wt(r)===Wt(bn())&&s===Bd(bn())},t.isSelectedMonth=function(r,s,o){return Fs(o)===s&&Wt(r)===Wt(o)},t.isSelectMonthInList=function(r,s,o){return o.some(function(c){return t.isSelectedMonth(r,s,c)})},t.isSelectedQuarter=function(r,s,o){return Bd(r)===s&&Wt(r)===Wt(o)},t.renderWeeks=function(){for(var r=[],s=t.props.fixedHeight,o=0,c=!1,d=oc(nu(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(N){return t.props.showWeekPicker?oc(N,t.props.locale,t.props.calendarStartDay):t.props.preSelection},v=function(N){return t.props.showWeekPicker?oc(N,t.props.locale,t.props.calendarStartDay):t.props.selected},b=t.props.selected?v(t.props.selected):void 0,x=t.props.preSelection?p(t.props.preSelection):void 0;r.push(J.createElement(J6,on({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:d,month:Fs(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:b,preSelection:x,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,d=zy(d,1);var E=s&&o>=X6,C=!s&&!t.isWeekInMonth(d);if(E||C)if(t.props.peekNextMonth)c=!0;else break}return r},t.onMonthClick=function(r,s){var o=t.isMonthDisabledForLabelDate(s),c=o.isDisabled,d=o.labelDate;c||t.handleDayClick(nu(d),r)},t.onMonthMouseEnter=function(r){var s=t.isMonthDisabledForLabelDate(r),o=s.isDisabled,c=s.labelDate;o||t.handleDayMouseEnter(nu(c))},t.handleMonthNavigation=function(r,s){var o,c,d,p;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(d=t.MONTH_REFS[r])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(r,s,o){var c,d=t.props,p=d.selected,v=d.preSelection,b=d.setPreSelection,x=d.minDate,E=d.maxDate,C=d.showFourColumnMonthYearPicker,N=d.showTwoColumnMonthYearPicker;if(v){var A=qk(C,N),I=t.getVerticalOffset(A),L=(c=H0[A])===null||c===void 0?void 0:c.grid,G=function(H,Y,re){var ve,_e,ke=Y,Re=re;switch(H){case tt.ArrowRight:ke=eo(Y,ly),Re=re===11?0:re+ly;break;case tt.ArrowLeft:ke=Wd(Y,ly),Re=re===0?11:re-ly;break;case tt.ArrowUp:ke=Wd(Y,I),Re=!((ve=L?.[0])===null||ve===void 0)&&ve.includes(re)?re+12-I:re-I;break;case tt.ArrowDown:ke=eo(Y,I),Re=!((_e=L?.[L.length-1])===null||_e===void 0)&&_e.includes(re)?re-12+I:re+I;break}return{newCalculatedDate:ke,newCalculatedMonth:Re}},W=function(H,Y,re){for(var ve=40,_e=H,ke=!1,Re=0,Ee=G(_e,Y,re),he=Ee.newCalculatedDate,ge=Ee.newCalculatedMonth;!ke;){if(Re>=ve){he=Y,ge=re;break}if(x&&he<x){_e=tt.ArrowRight;var me=G(_e,he,ge);he=me.newCalculatedDate,ge=me.newCalculatedMonth}if(E&&he>E){_e=tt.ArrowLeft;var me=G(_e,he,ge);he=me.newCalculatedDate,ge=me.newCalculatedMonth}if(L6(he,t.props)){var me=G(_e,he,ge);he=me.newCalculatedDate,ge=me.newCalculatedMonth}else ke=!0;Re++}return{newCalculatedDate:he,newCalculatedMonth:ge}};if(s===tt.Enter){t.isMonthDisabled(o)||(t.onMonthClick(r,o),b?.(p));return}var Q=W(s,v,o),z=Q.newCalculatedDate,K=Q.newCalculatedMonth;switch(s){case tt.ArrowRight:case tt.ArrowLeft:case tt.ArrowUp:case tt.ArrowDown:t.handleMonthNavigation(K,z);break}}},t.getVerticalOffset=function(r){var s,o;return(o=(s=H0[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(r,s){var o=t.props,c=o.disabledKeyboardNavigation,d=o.handleOnMonthKeyDown,p=r.key;p!==tt.Tab&&r.preventDefault(),c||t.handleKeyboardNavigation(r,p,s),d&&d(r)},t.onQuarterClick=function(r,s){var o=jf(t.props.day,s);iy(o,t.props)||t.handleDayClick(Tk(o),r)},t.onQuarterMouseEnter=function(r){var s=jf(t.props.day,r);iy(s,t.props)||t.handleDayMouseEnter(Tk(s))},t.handleQuarterNavigation=function(r,s){var o,c,d,p;t.isDisabled(s)||t.isExcluded(s)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(d=t.QUARTER_REFS[r-1])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(r,s){var o,c,d=r.key;if(!t.props.disabledKeyboardNavigation)switch(d){case tt.Enter:t.onQuarterClick(r,s),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case tt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,b_(t.props.preSelection,1));break;case tt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,VC(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var s,o=t.props,c=o.day,d=o.minDate,p=o.maxDate,v=o.excludeDates,b=o.includeDates,x=Ii(c,r);return{isDisabled:(s=(d||p||v||b)&&uO(x,t.props))!==null&&s!==void 0?s:!1,labelDate:x}},t.isMonthDisabled=function(r){var s=t.isMonthDisabledForLabelDate(r).isDisabled;return s},t.getMonthClassNames=function(r){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,p=s.preSelection,v=s.monthClassName,b=v?v(Ii(o,r)):void 0,x=t.getSelection();return os("react-datepicker__month-text","react-datepicker__month-".concat(r),b,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":x?t.isSelectMonthInList(o,r,x):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,r,p)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":c&&d?sy(c,d,r,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(o,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=Fs(t.props.preSelection),o=t.isMonthDisabledForLabelDate(s).isDisabled,c=r===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=Bd(t.props.preSelection),o=iy(t.props.day,t.props),c=r===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(r){var s=t.props,o=s.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,d=s.disabledDayAriaLabelPrefix,p=d===void 0?"Not available":d,v=s.day,b=s.locale,x=Ii(v,r),E=t.isDisabled(x)||t.isExcluded(x)?p:c;return"".concat(E," ").concat(Fn(x,"MMMM yyyy",b))},t.getQuarterClassNames=function(r){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,p=s.selected,v=s.minDate,b=s.maxDate,x=s.excludeDates,E=s.includeDates,C=s.filterDate,N=s.preSelection,A=s.disabledKeyboardNavigation,I=(v||b||x||E||C)&&iy(jf(o,r),t.props);return os("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":p?t.isSelectedQuarter(o,r,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!A&&N&&t.isSelectedQuarter(o,r,N)&&!I,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":c&&d?oy(c,d,r,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var s=t.props,o=s.showFullMonthYearPicker,c=s.renderMonthContent,d=s.locale,p=s.day,v=lO(r,d),b=T_(r,d);return c?c(r,v,b,p):o?b:v},t.getQuarterContent=function(r){var s,o=t.props,c=o.renderQuarterContent,d=o.locale,p=$6(r,d);return(s=c?.(r,p))!==null&&s!==void 0?s:p},t.renderMonths=function(){var r,s=t.props,o=s.showTwoColumnMonthYearPicker,c=s.showFourColumnMonthYearPicker,d=s.day,p=s.selected,v=(r=H0[qk(c,o)])===null||r===void 0?void 0:r.grid;return v?.map(function(b,x){return J.createElement("div",{className:"react-datepicker__month-wrapper",key:x},b.map(function(E,C){return J.createElement("div",{ref:t.MONTH_REFS[E],key:C,onClick:function(N){t.onMonthClick(N,E)},onKeyDown:function(N){hO(N)&&(N.preventDefault(),N.key=tt.Enter),t.onMonthKeyDown(N,E)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(E)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(E)}:void 0,tabIndex:Number(t.getTabIndex(E)),className:t.getMonthClassNames(E),"aria-disabled":t.isMonthDisabled(E),role:"option","aria-label":t.getAriaLabel(E),"aria-current":t.isCurrentMonth(d,E)?"date":void 0,"aria-selected":p?t.isSelectedMonth(d,E,p):void 0},t.getMonthContent(E))}))})},t.renderQuarters=function(){var r=t.props,s=r.day,o=r.selected,c=[1,2,3,4];return J.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(d,p){return J.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(v){t.onQuarterClick(v,d)},onKeyDown:function(v){t.onQuarterKeyDown(v,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(d)}:void 0,className:t.getQuarterClassNames(d),"aria-selected":o?t.isSelectedQuarter(s,d,o):void 0,tabIndex:Number(t.getQuarterTabIndex(d)),"aria-current":t.isCurrentQuarter(s,d)?"date":void 0},t.getQuarterContent(d))}))},t.getClassNames=function(){var r=t.props,s=r.selectingDate,o=r.selectsStart,c=r.selectsEnd,d=r.showMonthYearPicker,p=r.showQuarterYearPicker,v=r.showWeekPicker;return os("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||c)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":v})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,s=t.selectedDates,o=t.selectsMultiple;if(o)return s;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,s=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,d=c===void 0?"Month ":c,p=d?d.trim()+" ":"";return J.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(Fn(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},e})(X.Component),e8=(function(n){Kr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,s){return J.createElement("div",{className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?J.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return J.createElement(Tb,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(X.Component),t8=(function(n){Kr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(s,o){return J.createElement("option",{key:s,value:o},s)})},t.renderSelectMode=function(r){return J.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,s){return J.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(r){return J.createElement(e8,on({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var s=t.state.dropdownVisible,o=[t.renderReadView(!s,r)];return s&&o.unshift(t.renderDropdown(r)),o},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return lO(o,t.props.locale)}:function(o){return T_(o,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return J.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(X.Component);function n8(n,e){for(var t=[],r=nu(n),s=nu(e);!yc(r,s);)t.push(bn(r)),r=eo(r,1);return t}var r8=(function(n){Kr(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var o=Pw(s),c=Io(r.props.date,s)&&Ls(r.props.date,s);return J.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":c?"true":void 0},c?J.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Fn(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:n8(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=os({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return J.createElement(Tb,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(X.Component),s8=(function(n){Kr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=nu(t.props.minDate),s=nu(t.props.maxDate),o=[];!yc(r,s);){var c=Pw(r);o.push(J.createElement("option",{key:c,value:c},Fn(r,t.props.dateFormat,t.props.locale))),r=eo(r,1)}return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:Pw(nu(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var s=Fn(t.props.date,t.props.dateFormat,t.props.locale);return J.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return J.createElement(r8,on({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown();var s=bn(r);Io(t.props.date,s)&&Ls(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(X.Component),i8=(function(n){Kr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(r){var s,o;(t.props.minTime||t.props.maxTime)&&Ik(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Rk(r,t.props)||(o=(s=t.props).onChange)===null||o===void 0||o.call(s,r)},t.isSelectedTime=function(r){return t.props.selected&&Y6(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&Ik(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Rk(r,t.props)},t.liClasses=function(r){var s,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Wo(r)*3600+Ho(r)*60+tu(r))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(r,s){var o,c;r.key===tt.Space&&(r.preventDefault(),r.key=tt.Enter),(r.key===tt.ArrowUp||r.key===tt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===tt.ArrowDown||r.key===tt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===tt.Enter&&t.handleClick(s),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,r)},t.renderTimes=function(){for(var r,s=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,d=t.props.selected||t.props.openToDate||bn(),p=Ty(d),v=t.props.injectTimes&&t.props.injectTimes.sort(function(I,L){return I.getTime()-L.getTime()}),b=60*K6(d),x=b/c,E=0;E<x;E++){var C=Ew(p,E*c);if(s.push(C),v){var N=z6(p,C,E,c,v);s=s.concat(N)}}var A=s.reduce(function(I,L){return L.getTime()<=d.getTime()?L:I},s[0]);return s.map(function(I){return J.createElement("li",{key:I.valueOf(),onClick:t.handleClick.bind(t,I),className:t.liClasses(I),ref:function(L){I===A&&(t.centerLi=L)},onKeyDown:function(L){t.handleOnKeyDown(L,I)},tabIndex:I===A?0:-1,role:"option","aria-selected":t.isSelectedTime(I)?"true":void 0,"aria-disabled":t.isDisabledTime(I)?"true":void 0},Fn(I,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?J.createElement(J.Fragment,null):J.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},J.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,s=this.state.height;return J.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),J.createElement("div",{className:"react-datepicker__time"},J.createElement("div",{className:"react-datepicker__time-box"},J.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e})(X.Component),zk=3,a8=(function(n){Kr(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=Fo([],Array(r.props.yearItemNumber),!0).map(function(){return X.createRef()}),r.isDisabled=function(s){return ha(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return D_(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var o=function(){var c,d;(d=(c=r.YEAR_REFS[s])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(s,o){r.props.onDayClick&&r.props.onDayClick(s,o)},r.handleYearNavigation=function(s,o){var c,d,p,v,b=r.props,x=b.date,E=b.yearItemNumber;if(!(x===void 0||E===void 0)){var C=rc(x,E).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,o),s-C<0?r.updateFocusOnPaginate(E-(C-s)):s-C>=E?r.updateFocusOnPaginate(Math.abs(E-(s-C))):(v=(p=r.YEAR_REFS[s-C])===null||p===void 0?void 0:p.current)===null||v===void 0||v.focus())}},r.isSameDay=function(s,o){return nn(s,o)},r.isCurrentYear=function(s){return s===Wt(bn())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&Io(Ao(bn(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&Io(Ao(bn(),s),r.props.endDate)},r.isInRange=function(s){return ay(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var o=r.props,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,v=o.startDate,b=o.endDate;return!(c||d||p)||!r.selectingDate()?!1:c&&b?ay(s,r.selectingDate(),b):d&&v||p&&v&&!b?ay(s,v,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var o;if(!r.isInSelectingRange(s))return!1;var c=r.props,d=c.startDate,p=c.selectsStart,v=Ao(bn(),s);return p?Io(v,(o=r.selectingDate())!==null&&o!==void 0?o:null):Io(v,d??null)},r.isSelectingRangeEnd=function(s){var o;if(!r.isInSelectingRange(s))return!1;var c=r.props,d=c.endDate,p=c.selectsEnd,v=c.selectsRange,b=Ao(bn(),s);return p||v?Io(b,(o=r.selectingDate())!==null&&o!==void 0?o:null):Io(b,d??null)},r.isKeyboardSelected=function(s){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,c=o.minDate,d=o.maxDate,p=o.excludeDates,v=o.includeDates,b=o.filterDate,x=Vg(Ao(r.props.date,s)),E=(c||d||p||v||b)&&Dy(s,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!nn(x,Vg(r.props.selected))&&nn(x,Vg(r.props.preSelection))&&!E}},r.onYearClick=function(s,o){var c=r.props.date;c!==void 0&&r.handleYearClick(Vg(Ao(c,o)),s)},r.onYearKeyDown=function(s,o){var c,d,p=s.key,v=r.props,b=v.date,x=v.yearItemNumber,E=v.handleOnKeyDown;if(p!==tt.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(p){case tt.Enter:if(r.props.selected==null)break;r.onYearClick(s,o),(d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,r.props.selected);break;case tt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Zl(r.props.preSelection,1));break;case tt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,vp(r.props.preSelection,1));break;case tt.ArrowUp:{if(b===void 0||x===void 0||r.props.preSelection==null)break;var C=rc(b,x).startPeriod,N=zk,A=o-N;if(A<C){var I=x%N;o>=C&&o<C+I?N=I:N+=I,A=o-N}r.handleYearNavigation(A,vp(r.props.preSelection,N));break}case tt.ArrowDown:{if(b===void 0||x===void 0||r.props.preSelection==null)break;var L=rc(b,x).endPeriod,N=zk,A=o+N;if(A>L){var I=x%N;o<=L&&o>L-I?N=I:N+=I,A=o+N}r.handleYearNavigation(A,Zl(r.props.preSelection,N));break}}E&&E(s)},r.getYearClassNames=function(s){var o=r.props,c=o.date,d=o.minDate,p=o.maxDate,v=o.selected,b=o.excludeDates,x=o.includeDates,E=o.filterDate,C=o.yearClassName;return os("react-datepicker__year-text","react-datepicker__year-".concat(s),c?C?.(Ao(c,s)):void 0,{"react-datepicker__year-text--selected":v?s===Wt(v):void 0,"react-datepicker__year-text--disabled":(d||p||b||x||E)&&Dy(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=Wt(r.props.preSelection),c=Dy(s,r.props);return s===o&&!c?"0":"-1"},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return e.prototype.render=function(){var t=this,r=[],s=this.props,o=s.date,c=s.yearItemNumber,d=s.onYearMouseEnter,p=s.onYearMouseLeave;if(o===void 0)return null;for(var v=rc(o,c),b=v.startPeriod,x=v.endPeriod,E=function(A){r.push(J.createElement("div",{ref:C.YEAR_REFS[A-b],onClick:function(I){t.onYearClick(I,A)},onKeyDown:function(I){hO(I)&&(I.preventDefault(),I.key=tt.Enter),t.onYearKeyDown(I,A)},tabIndex:Number(C.getYearTabIndex(A)),className:C.getYearClassNames(A),onMouseEnter:C.props.usePointerEvent?void 0:function(I){return d(I,A)},onPointerEnter:C.props.usePointerEvent?function(I){return d(I,A)}:void 0,onMouseLeave:C.props.usePointerEvent?void 0:function(I){return p(I,A)},onPointerLeave:C.props.usePointerEvent?function(I){return p(I,A)}:void 0,key:A,"aria-current":C.isCurrentYear(A)?"date":void 0},C.getYearContent(A)))},C=this,N=b;N<=x;N++)E(N);return J.createElement("div",{className:"react-datepicker__year"},J.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e})(X.Component);function o8(n,e,t,r){for(var s=[],o=0;o<2*e+1;o++){var c=n+e-o,d=!0;t&&(d=Wt(t)<=c),r&&d&&(d=Wt(r)>=c),d&&s.push(c)}return s}var l8=(function(n){Kr(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var d=r.props.year,p=r.state.yearsList.map(function(x){return J.createElement("div",{className:d===x?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:x,onClick:r.onChange.bind(r,x),"aria-selected":d===x?"true":void 0},d===x?J.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",x)}),v=r.props.minDate?Wt(r.props.minDate):null,b=r.props.maxDate?Wt(r.props.maxDate):null;return(!b||!r.state.yearsList.find(function(x){return x===b}))&&p.unshift(J.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!v||!r.state.yearsList.find(function(x){return x===v}))&&p.push(J.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},r.onChange=function(d){r.props.onChange(d)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(d){var p=r.state.yearsList.map(function(v){return v+d});r.setState({yearsList:p})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=s||(o?10:5);return r.state={yearsList:o8(r.props.year,c,r.props.minDate,r.props.maxDate)},r.dropdownRef=X.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,s=r?r.find(function(o){return o.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=os({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return J.createElement(Tb,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(X.Component),u8=(function(n){Kr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Wt(t.props.minDate):1900,s=t.props.maxDate?Wt(t.props.maxDate):2100,o=[],c=r;c<=s;c++)o.push(J.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return J.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return t.toggleDropdown(s)}},J.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return J.createElement(l8,on({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,s){var o;(o=t.onSelect)===null||o===void 0||o.call(t,r,s),t.setOpen()},t.onSelect=function(r,s){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,r,s)},t.setOpen=function(){var r,s;(s=(r=t.props).setOpen)===null||s===void 0||s.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(X.Component),c8=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],d8=function(n){var e=(n.className||"").split(/\s+/);return c8.some(function(t){return e.indexOf(t)>=0})},h8=(function(n){Kr(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var o,c;d8(s.target)&&((c=(o=r.props).onDropdownFocus)===null||c===void 0||c.call(o,s))},r.getDateInView=function(){var s=r.props,o=s.preSelection,c=s.selected,d=s.openToDate,p=cO(r.props),v=dO(r.props),b=bn(),x=d||c||o;return x||(p&&Xd(b,p)?p:v&&yc(b,v)?v:b)},r.increaseMonth=function(){r.setState(function(s){var o=s.date;return{date:eo(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var o=s.date;return{date:Wd(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,o,c){r.props.onSelect(s,o,c),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,o){r.setState({selectingDate:Ao(bn(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,o)},r.handleYearMouseLeave=function(s,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,o)},r.handleYearChange=function(s){var o,c,d,p;(c=(o=r.props).onYearChange)===null||c===void 0||c.call(o,s),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(s),(p=(d=r.props).setOpen)===null||p===void 0||p.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.getEnabledPreSelectionDateForMonth=function(s){if(!ha(s,r.props))return s;for(var o=nu(s),c=R6(s),d=Y4(c,o),p=null,v=0;v<=d;v++){var b=Za(o,v);if(!ha(b,r.props)){p=b;break}}return p},r.handleMonthChange=function(s){var o,c,d,p=(o=r.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;r.handleCustomMonthChange(p),r.props.adjustDateOnChange&&(r.props.onSelect(p),(d=(c=r.props).setOpen)===null||d===void 0||d.call(c,!0)),r.props.setPreSelection&&r.props.setPreSelection(p)},r.handleCustomMonthChange=function(s){var o,c;(c=(o=r.props).onMonthChange)===null||c===void 0||c.call(o,s),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(o){var c=o.date;return{date:Ao(c,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(o){var c=o.date;return{date:Ii(c,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(o){var c=o.date;return{date:Ao(Ii(c,Fs(s)),Wt(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var o=oc(s,r.props.locale,r.props.calendarStartDay),c=[];return r.props.showWeekNumbers&&c.push(J.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),c.concat([0,1,2,3,4,5,6].map(function(d){var p=Za(o,d),v=r.formatWeekday(p,r.props.locale),b=r.props.weekDayClassName?r.props.weekDayClassName(p):void 0;return J.createElement("div",{key:d,"aria-label":Fn(p,"EEEE",r.props.locale),className:os("react-datepicker__day-name",b)},v)}))},r.formatWeekday=function(s,o){return r.props.formatWeekDay?I6(s,r.props.formatWeekDay,o):r.props.useWeekdaysShort?j6(s,o):M6(s,o)},r.decreaseYear=function(){r.setState(function(s){var o,c=s.date;return{date:vp(c,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s,o,c;if(!r.props.renderCustomHeader){var d=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=r.props.showPreviousMonths?d-1:0,v=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:p,b=Wd(r.state.date,v),x;switch(!0){case r.props.showMonthYearPicker:x=$k(r.state.date,r.props);break;case r.props.showYearPicker:x=B6(r.state.date,r.props);break;case r.props.showQuarterYearPicker:x=U6(r.state.date,r.props);break;default:x=Mk(b,r.props);break}if(!(!((c=r.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&x||r.props.showTimeSelectOnly)){var E=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],C=["react-datepicker__navigation","react-datepicker__navigation--previous"],N=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(N=r.decreaseYear),x&&r.props.showDisabledMonthNavigation&&(C.push("react-datepicker__navigation--previous--disabled"),N=void 0);var A=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,I=r.props,L=I.previousMonthButtonLabel,G=L===void 0?e.defaultProps.previousMonthButtonLabel:L,W=I.previousYearButtonLabel,Q=W===void 0?e.defaultProps.previousYearButtonLabel:W,z=r.props,K=z.previousMonthAriaLabel,H=K===void 0?typeof G=="string"?G:"Previous Month":K,Y=z.previousYearAriaLabel,re=Y===void 0?typeof Q=="string"?Q:"Previous Year":Y;return J.createElement("button",{type:"button",className:C.join(" "),onClick:N,onKeyDown:r.props.handleOnKeyDown,"aria-label":A?re:H},J.createElement("span",{className:E.join(" ")},A?Q:G))}}},r.increaseYear=function(){r.setState(function(s){var o,c=s.date;return{date:Zl(c,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Lk(r.state.date,r.props);break;case r.props.showYearPicker:o=W6(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=F6(r.state.date,r.props);break;default:o=jk(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var p=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(p=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),p=void 0);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,b=r.props,x=b.nextMonthButtonLabel,E=x===void 0?e.defaultProps.nextMonthButtonLabel:x,C=b.nextYearButtonLabel,N=C===void 0?e.defaultProps.nextYearButtonLabel:C,A=r.props,I=A.nextMonthAriaLabel,L=I===void 0?typeof E=="string"?E:"Next Month":I,G=A.nextYearAriaLabel,W=G===void 0?typeof N=="string"?N:"Next Year":G;return J.createElement("button",{type:"button",className:c.join(" "),onClick:p,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?W:L},J.createElement("span",{className:d.join(" ")},v?N:E))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),J.createElement("h2",{className:o.join(" ")},Fn(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return J.createElement(u8,on({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Wt(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return J.createElement(t8,on({},e.defaultProps,r.props,{month:Fs(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return J.createElement(s8,on({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(Dk(),s),r.props.setPreSelection&&r.props.setPreSelection(Dk())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return J.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(s){var o=s.monthDate,c=s.i;return J.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),J.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(c!==0),r.renderMonthYearDropdown(c!==0),r.renderYearDropdown(c!==0)),J.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(s){var o,c,d=s.monthDate,p=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var v=Mk(r.state.date,r.props),b=jk(r.state.date,r.props),x=$k(r.state.date,r.props),E=Lk(r.state.date,r.props),C=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return J.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(c=(o=r.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,on(on({},r.state),{customHeaderCount:p,monthDate:d,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:v,nextMonthButtonDisabled:b,prevYearButtonDisabled:x,nextYearButtonDisabled:E})),C&&J.createElement("div",{className:"react-datepicker__day-names"},r.header(d)))},r.renderYearHeader=function(s){var o=s.monthDate,c=r.props,d=c.showYearPicker,p=c.yearItemNumber,v=p===void 0?e.defaultProps.yearItemNumber:p,b=rc(o,v),x=b.startPeriod,E=b.endPeriod;return J.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(x," - ").concat(E):Wt(o))},r.renderHeader=function(s){var o=s.monthDate,c=s.i,d=c===void 0?0:c,p={monthDate:o,i:d};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(p);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(p);default:return r.renderDefaultHeader(p)}},r.renderMonths=function(){var s,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var c=[],d=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,p=r.props.showPreviousMonths?d-1:0,v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Zl(r.state.date,p):Wd(r.state.date,p),b=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:p,x=0;x<d;++x){var E=x-b+p,C=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Zl(v,E):eo(v,E),N="month-".concat(x),A=x<d-1,I=x>0;c.push(J.createElement("div",{key:N,ref:function(L){r.monthContainer=L??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:C,i:x}),J.createElement(Z6,on({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:C,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:x,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:A,monthShowsDuplicateDaysStart:I}))))}return c}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return J.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),J.createElement(a8,on({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return J.createElement(i8,on({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,o=s&&Yl(s)&&!!r.props.selected,c=o?"".concat(Fk(s.getHours()),":").concat(Fk(s.getMinutes())):"";if(r.props.showTimeInput)return J.createElement(G6,on({},e.defaultProps,r.props,{date:s,timeString:c,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,o=rc(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),c=o.startPeriod,d=o.endPeriod,p;return r.props.showYearPicker?p="".concat(c," - ").concat(d):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?p=Wt(r.state.date):p="".concat(T_(Fs(r.state.date),r.props.locale)," ").concat(Wt(r.state.date)),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&p)},r.renderChildren=function(){if(r.props.children)return J.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=X.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:zm}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!nn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!Ls(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!nn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||E6;return J.createElement(Tb,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},J.createElement(t,{className:os("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e})(X.Component),f8=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,s=n.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?J.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:s}):J.isValidElement(e)?J.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(r),onClick:function(c){typeof e.props.onClick=="function"&&e.props.onClick(c),typeof s=="function"&&s(c)}}):J.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},J.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},fO=(function(n){Kr(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return ID.createPortal(this.props.children,this.el)},e})(X.Component),p8="[tabindex], a, button, input, select, textarea",g8=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},pO=(function(n){Kr(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(p8),1,-1).filter(g8)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=X.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?J.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},J.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,J.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(X.Component);function m8(n){var e=function(t){var r,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=X.useRef(null),c=k6(on({open:!s,whileElementsMounted:n6,placement:t.popperPlacement,middleware:Fo([d6({padding:15}),c6(10),h6({element:o})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),d=on(on({},t),{hidePopper:s,popperProps:on(on({},c),{arrowRef:o})});return J.createElement(n,on({},d))};return e}var v8=(function(n){Kr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,s=t.wrapperClassName,o=t.hidePopper,c=o===void 0?e.defaultProps.hidePopper:o,d=t.popperComponent,p=t.targetComponent,v=t.enableTabLoop,b=t.popperOnKeyDown,x=t.portalId,E=t.portalHost,C=t.popperProps,N=t.showArrow,A=void 0;if(!c){var I=os("react-datepicker-popper",r);A=J.createElement(pO,{enableTabLoop:v},J.createElement("div",{ref:C.refs.setFloating,style:C.floatingStyles,className:I,"data-placement":C.placement,onKeyDown:b},d,N&&J.createElement(v6,{ref:C.arrowRef,context:C.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(A=X.createElement(this.props.popperContainer,{},A)),x&&!c&&(A=J.createElement(fO,{portalId:x,portalHost:E},A));var L=os("react-datepicker-wrapper",s);return J.createElement(J.Fragment,null,J.createElement("div",{ref:C.refs.setReference,className:L},p),A)},e})(X.Component),y8=m8(v8),Kk="react-datepicker-ignore-onclickoutside";function b8(n,e){return n&&e?Fs(n)!==Fs(e)||Wt(n)!==Wt(e):n!==e}var q0="Date input not valid.",w8=(function(n){Kr(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:bn()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,c){var d=new Date(c.date);return Yl(d)?Fo(Fo([],o,!0),[on(on({},c),{date:d})],!1):o},[])},r.calcInitialState=function(){var s,o=r.getPreSelection(),c=cO(r.props),d=dO(r.props),p=c&&Xd(o,Ty(c))?c:d&&yc(o,Nk(d))?d:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:p,highlightDates:Uk(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(on(on({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(on(on({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var s,o;(o=(s=r.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var s,o;(o=(s=r.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(s,o){o===void 0&&(o=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:z0},function(){s||r.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return eu(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var o,c,d=r.state.wasHidden,p=d?r.state.open:!0;d&&r.resetHiddenStatus(),!r.state.preventFocus&&p&&((c=(o=r.props).onFocus)===null||c===void 0||c.call(o,s),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(s){var o,c;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((c=(o=r.props).onBlur)===null||c===void 0||c.call(o,s)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var o,c;r.props.inline||r.setOpen(!1),(c=(o=r.props).onClickOutside)===null||c===void 0||c.call(o,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s,o,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var p=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){r.setState({inputValue:p?.target instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:_8});var v=r.props,b=v.dateFormat,x=b===void 0?e.defaultProps.dateFormat:b,E=v.strictParsing,C=E===void 0?e.defaultProps.strictParsing:E,N=v.selectsRange,A=v.startDate,I=v.endDate,L=p?.target instanceof HTMLInputElement?p.target.value:"";if(N){var G=L.split("-",2).map(function(ve){return ve.trim()}),W=G[0],Q=G[1],z=B0(W??"",x,r.props.locale,C),K=B0(Q??"",x,r.props.locale,C),H=A?.getTime()!==z?.getTime(),Y=I?.getTime()!==K?.getTime();if(!H&&!Y||z&&ha(z,r.props)||K&&ha(K,r.props))return;(o=(s=r.props).onChange)===null||o===void 0||o.call(s,[z,K],p)}else{var re=B0(L,x,r.props.locale,C,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&re&&!nn(re,r.props.selected)&&(re=i5(r.props.selected,{hours:Wo(re),minutes:Ho(re),seconds:tu(re)})),(re||!L)&&r.setSelected(re,p,!0)}}},r.handleSelect=function(s,o,c){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(s,o,!1,c),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(s);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var d=r.props,p=d.startDate,v=d.endDate;p&&!v&&(r.props.swapRange||!Hk(s,p))&&r.setOpen(!1)}},r.setSelected=function(s,o,c,d){var p,v,b=s;if(r.props.showYearPicker){if(b!==null&&Dy(Wt(b),r.props))return}else if(r.props.showMonthYearPicker){if(b!==null&&uO(b,r.props))return}else if(b!==null&&ha(b,r.props))return;var x=r.props,E=x.onChange,C=x.selectsRange,N=x.startDate,A=x.endDate,I=x.selectsMultiple,L=x.selectedDates,G=x.minTime,W=x.swapRange;if(!Ud(r.props.selected,b)||r.props.allowSameDay||C||I)if(b!==null&&(r.props.selected&&(!c||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(b=W0(b,{hour:Wo(r.props.selected),minute:Ho(r.props.selected),second:tu(r.props.selected)})),!c&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&G&&(b=W0(b,{hour:G.getHours(),minute:G.getMinutes(),second:G.getSeconds()})),r.props.inline||r.setState({preSelection:b}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:d})),C){var Q=!N&&!A,z=N&&!A,K=N&&A;Q?E?.([b,null],o):z&&(b===null?E?.([null,null],o):Hk(b,N)?E?.(W?[b,N]:[b,null],o):E?.([N,b],o)),K&&E?.([b,null],o)}else if(I){if(b!==null)if(!L?.length)E?.([b],o);else{var H=L.some(function(re){return nn(re,b)});if(H){var Y=L.filter(function(re){return!nn(re,b)});E?.(Y,o)}else E?.(Fo(Fo([],L,!0),[b],!1),o)}}else E?.(b,o);c||((v=(p=r.props).onSelect)===null||v===void 0||v.call(p,b,o),r.setState({inputValue:null}))},r.setPreSelection=function(s){var o=eu(r.props.minDate),c=eu(r.props.maxDate),d=!0;if(s){var p=Ty(s);if(o&&c)d=Qg(s,r.props.minDate,r.props.maxDate);else if(o){var v=Ty(r.props.minDate);d=yc(s,v)||Ud(p,v)}else if(c){var b=Nk(r.props.maxDate);d=Xd(s,b)||Ud(p,b)}}d&&r.setState({preSelection:s})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){var o,c;if(!(r.props.selectsRange||r.props.selectsMultiple)){var d=r.props.selected?r.props.selected:r.getPreSelection(),p=r.props.selected?s:W0(d,{hour:Wo(s),minute:Ho(s)});r.setState({preSelection:p}),(c=(o=r.props).onChange)===null||c===void 0||c.call(o,p),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(s=r.props).onInputClick)===null||o===void 0||o.call(s)},r.onInputKeyDown=function(s){var o,c,d,p,v,b;(c=(o=r.props).onKeyDown)===null||c===void 0||c.call(o,s);var x=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(x===tt.ArrowDown||x===tt.ArrowUp||x===tt.Enter)&&((d=r.onInputClick)===null||d===void 0||d.call(r));return}if(r.state.open){if(x===tt.ArrowDown||x===tt.ArrowUp){s.preventDefault();var E=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',C=((p=r.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(E);C instanceof HTMLElement&&C.focus({preventScroll:!0});return}var N=bn(r.state.preSelection);x===tt.Enter?(s.preventDefault(),s.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===z0?(r.handleSelect(N,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(N)):r.setOpen(!1)):x===tt.Escape?(s.preventDefault(),s.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):x===tt.Tab&&r.setOpen(!1),r.inputOk()||(b=(v=r.props).onInputError)===null||b===void 0||b.call(v,{code:1,msg:q0})}},r.onPortalKeyDown=function(s){var o=s.key;o===tt.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var o,c,d,p,v,b,x=r.props,E=x.minDate,C=x.maxDate,N=x.disabledKeyboardNavigation,A=x.showWeekPicker,I=x.shouldCloseOnSelect,L=x.locale,G=x.calendarStartDay,W=x.adjustDateOnChange,Q=x.inline;if((c=(o=r.props).onKeyDown)===null||c===void 0||c.call(o,s),!N){var z=s.key,K=s.shiftKey,H=bn(r.state.preSelection),Y=function(he,ge){var me=ge;switch(he){case tt.ArrowRight:me=A?zy(ge,1):Za(ge,1);break;case tt.ArrowLeft:me=A?vk(ge):WH(ge);break;case tt.ArrowUp:me=vk(ge);break;case tt.ArrowDown:me=zy(ge,1);break;case tt.PageUp:me=K?vp(ge,1):Wd(ge,1);break;case tt.PageDown:me=K?Zl(ge,1):eo(ge,1);break;case tt.Home:me=oc(ge,L,G);break;case tt.End:me=A6(ge);break}return me},re=function(he,ge){for(var me=40,V=he,Ne=!1,De=0,ie=Y(he,ge);!Ne;){if(De>=me){ie=ge;break}E&&ie<E&&(V=tt.ArrowRight,ie=ha(E,r.props)?Y(V,ie):E),C&&ie>C&&(V=tt.ArrowLeft,ie=ha(C,r.props)?Y(V,ie):C),ha(ie,r.props)?((V===tt.PageUp||V===tt.Home)&&(V=tt.ArrowRight),(V===tt.PageDown||V===tt.End)&&(V=tt.ArrowLeft),ie=Y(V,ie)):Ne=!0,De++}return ie};if(z===tt.Enter){s.preventDefault(),r.handleSelect(H,s),!I&&r.setPreSelection(H);return}else if(z===tt.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(p=(d=r.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:q0});return}var ve=null;switch(z){case tt.ArrowLeft:case tt.ArrowRight:case tt.ArrowUp:case tt.ArrowDown:case tt.PageUp:case tt.PageDown:case tt.Home:case tt.End:ve=re(z,H);break}if(!ve){(b=(v=r.props).onInputError)===null||b===void 0||b.call(v,{code:1,msg:q0});return}if(s.preventDefault(),r.setState({lastPreSelectChange:z0}),W&&r.setSelected(ve),r.setPreSelection(ve),Q){var _e=Fs(H),ke=Fs(ve),Re=Wt(H),Ee=Wt(ve);_e!==ke||Re!==Ee?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var o=s.key;o===tt.Escape&&(s.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var o=r.props,c=o.selectsRange,d=o.onChange;d?.(c?[null,null]:null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,o;return!r.props.inline&&!r.isCalendarOpen()?null:J.createElement(h8,on({showMonthYearDropdown:void 0,ref:function(c){r.calendar=c}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:q6(r.modifyHolidays()),outsideClickIgnoreClass:Kk,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s=r.props,o=s.dateFormat,c=o===void 0?e.defaultProps.dateFormat:o,d=s.locale,p=r.props.showTimeInput||r.props.showTimeSelect,v=p?"PPPPp":"PPPP",b;return r.props.selectsRange?b="Selected start date: ".concat(da(r.props.startDate,{dateFormat:v,locale:d}),". ").concat(r.props.endDate?"End date: "+da(r.props.endDate,{dateFormat:v,locale:d}):""):r.props.showTimeSelectOnly?b="Selected time: ".concat(da(r.props.selected,{dateFormat:c,locale:d})):r.props.showYearPicker?b="Selected year: ".concat(da(r.props.selected,{dateFormat:"yyyy",locale:d})):r.props.showMonthYearPicker?b="Selected month: ".concat(da(r.props.selected,{dateFormat:"MMMM yyyy",locale:d})):r.props.showQuarterYearPicker?b="Selected quarter: ".concat(da(r.props.selected,{dateFormat:"yyyy, QQQ",locale:d})):b="Selected date: ".concat(da(r.props.selected,{dateFormat:v,locale:d})),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},b)},r.renderDateInput=function(){var s,o,c,d=os(r.props.className,(s={},s[Kk]=r.state.open,s)),p=r.props.customInput||J.createElement("input",{type:"text"}),v=r.props.customInputRef||"ref",b=r.props,x=b.dateFormat,E=x===void 0?e.defaultProps.dateFormat:x,C=b.locale,N=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?P6(r.props.startDate,r.props.endDate,{dateFormat:E,locale:C}):r.props.selectsMultiple?T6((c=r.props.selectedDates)!==null&&c!==void 0?c:[],{dateFormat:E,locale:C}):da(r.props.selected,{dateFormat:E,locale:C});return X.cloneElement(p,(o={},o[v]=function(A){r.input=A},o.value=N,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=os(p.props.className,d),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var s=r.props,o=s.isClearable,c=s.disabled,d=s.selected,p=s.startDate,v=s.endDate,b=s.clearButtonTitle,x=s.clearButtonClassName,E=x===void 0?"":x,C=s.ariaLabelClose,N=C===void 0?"Close":C,A=s.selectedDates;return o&&(d!=null||p!=null||v!=null||A?.length)?J.createElement("button",{type:"button",className:os("react-datepicker__close-icon",E,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":N,onClick:r.onClearClick,title:b,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:zm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var s,o,c,d;t.inline&&b8(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Uk(this.props.highlightDates)}),!r.focused&&!Ud(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),r.open===!0&&this.state.open===!1&&((d=(c=this.props).onCalendarClose)===null||d===void 0||d.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,s=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,d=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),J.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&J.createElement(f8,on({icon:s,className:os(c,!c&&o,p&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?J.createElement(pO,{enableTabLoop:this.props.enableTabLoop},J.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=J.createElement(fO,on({portalId:this.props.portalId},this.props),r)),J.createElement("div",null,this.renderInputContainer(),r)}return J.createElement(y8,on({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(X.Component),_8="input",z0="navigate";const gO=({userDetails:n})=>{const{modal:e,form:t}=U4();return n?(console.log("gaga-------------------------------------UserSettingsComponent",n),M.jsxs("div",{"data-testid":"UserSettings",children:[M.jsx(wn,{circular:!0,inverted:!0,onClick:e.handleOpen,className:"cursor-pointer !text-xl !mt-[-3px]",name:"setting"}),M.jsx(gi,{className:xn({}),active:e.active,children:M.jsxs("div",{className:"flex flex-col p-4 h-full relative",children:[M.jsxs("div",{className:"flex flex-row items-start justify-between h-12",children:[M.jsx("span",{className:"dark:text-white text-2xl",children:"Settings"}),M.jsx(wn,{circular:!0,inverted:!0,onClick:e.handleCLose,className:"cursor-pointer !text-xl !mt-[-3px]",name:"close"})]}),M.jsx("hr",{}),M.jsxs(Hs,{className:"flex flex-col p-3 w-[360px]",onSubmit:t.submit,children:[M.jsx("input",{hidden:!0,name:"data.email",defaultValue:n._id},n._id),M.jsx("div",{className:"text-xl mb-3 text-left",children:n.data.build}),M.jsxs("div",{className:"form-values flex-1",children:[M.jsxs("div",{className:"flex flex-col items-start mb-5 ",children:[M.jsx("span",{className:"text-md mb-2",children:"Change Date Created"}),M.jsxs("div",{className:"flex flex-row relative",children:[M.jsx(Yn,{inverted:!0,name:"createdAt",color:"green",size:"small",circular:!0,type:"button",active:!!t.formFieldState.get("createdAt"),onClick:()=>{t.patchValues("createdAt",t.formFieldState.get("createdAt")??mt().subtract(1,"h").toDate())},onMouseLeave:r=>r.target.blur(),children:"Yes"}),!!t.formFieldState.get("createdAt")&&M.jsx(w8,{className:"opacity-0 absolute",popperClassName:"relative !left-[-30px]",autoFocus:!0,selected:new Date,onFocus:r=>{t.patchValues("createdAt",r)},onChange:r=>{t.patchValues("createdAt",r)}})]})]}),M.jsxs("div",{className:"flex flex-col items-start mb-5",children:[M.jsx("span",{className:"text-md mb-2",children:"Change Time"}),M.jsx(Yn,{inverted:!0,name:"updatedAt",color:"green",size:"small",circular:!0,type:"button",active:!!t.formFieldState.get("updatedAt"),onClick:()=>{t.patchValues("updatedAt",t.formFieldState.get("updatedAt")??mt().subtract(4,"d").toDate())},onMouseLeave:r=>r.target.blur(),children:"Yes"})]}),M.jsxs("div",{className:"flex flex-col items-start mb-5",children:[M.jsx("span",{className:"text-md mb-2",children:"Set Auto Login"}),M.jsxs("div",{className:"flex flex-row",children:[M.jsx(Yn,{name:"data.settings.electronAutoLogin",inverted:!0,color:"green",size:"small",circular:!0,type:"button",active:t.formFieldState.get("data.settings.electronAutoLogin")===!0,onClick:()=>t.patchValues("data.settings.electronAutoLogin",!0),onMouseLeave:r=>r.target.blur(),children:"True"}),M.jsx(Yn,{name:"data.settings.electronAutoLogin",inverted:!0,color:"red",size:"small",circular:!0,type:"button",active:t.formFieldState.get("data.settings.electronAutoLogin")===!1,onClick:()=>t.patchValues("data.settings.electronAutoLogin",!1),onMouseLeave:r=>r.target.blur(),children:"False"})]})]}),M.jsxs("div",{className:"flex flex-col items-start mb-5",children:[M.jsx("span",{className:"text-md mb-2",children:"Set Done"}),M.jsxs("div",{className:"flex flex-row",children:[M.jsx(Yn,{name:"data.weeklyStatus.done",inverted:!0,color:"green",size:"small",circular:!0,type:"button",active:t.formFieldState.get("data.weeklyStatus.done")===!0,onClick:()=>t.patchValues("data.weeklyStatus.done",!0),onMouseLeave:r=>r.target.blur(),children:"True"}),M.jsx(Yn,{name:"data.weeklyStatus.done",inverted:!0,color:"red",size:"small",circular:!0,type:"button",active:t.formFieldState.get("data.weeklyStatus.done")===!1,onClick:()=>t.patchValues("data.weeklyStatus.done",!1),onMouseLeave:r=>r.target.blur(),children:"False"})]})]}),M.jsxs("div",{className:"flex flex-col items-start mb-5",children:[M.jsx("span",{className:"text-md mb-2",children:"Set Two Factor Auth"}),M.jsxs("div",{className:"w-full",children:[M.jsx("div",{className:"mt-1 mb-2",children:n.data.userSession?.TWO_FACTOR_AUTH}),M.jsx(dc,{className:"w-full",placeholder:"Two factor auth",children:M.jsx("input",{name:"data.userSession.TWO_FACTOR_AUTH",defaultValue:n.data.userSession?.TWO_FACTOR_AUTH},n.data.userSession?.TWO_FACTOR_AUTH)})]})]})]}),M.jsx("hr",{className:"mt-2 mb-6"}),M.jsx(dc,{className:"w-full mb-2",placeholder:"Password",children:M.jsx("input",{name:"password"})}),M.jsx(Yn,{loading:t.loading,className:"w-full !bg-violet-500 !text-white",type:"submit",children:"Update"})]}),M.jsx("div",{className:"flex items-center h-[110px]",children:M.jsxs(Ja,{hidden:!t.error,className:"text-left w-full",negative:!0,children:[M.jsx(su,{children:"Error"}),M.jsx("p",{children:t.error})]})})]})})]})):null};gO.displayName="UserSettings";const S8=n=>{const e=new Date(n);e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-t.getTime())/864e5+1)/7)},x8=n=>{const e=[],t=new Date(Date.UTC(n,0,1)),r=new Date(t),s=r.getUTCDay(),o=s===0?6:s-1;r.setUTCDate(r.getUTCDate()+(s===0?1:-o)),console.log("gaga-------------------------------firstMonday------",r);for(let c=new Date(r);c.getUTCFullYear()<=n;c.setUTCDate(c.getUTCDate()+7)){console.log("gaga------------------------------firstDayOfYear-------",c.getUTCFullYear());const d=new Date(c);d.setUTCHours(0,0,0,0);const p=new Date(c);if(p.setUTCDate(p.getUTCDate()+6),p.setUTCHours(23,59,59,999),p.getUTCFullYear()!==n){console.log("gaga-------------------1111------------------");break}e.push({mondayISO:d.toISOString(),sundayISO:p.toISOString(),mondayDate:d,sundayDate:p,weekNumber:S8(d)})}return e},k8=()=>{const{pathname:n}=th(),[e,t]=X.useState([]),[r,s]=X.useState(!1),[o,c]=X.useState(!1),[d,p]=X.useState([]),[v,b]=X.useState(0),[x,E]=X.useState(0),[C,N]=X.useState([]);return X.useEffect(()=>{const A=n.split("/").pop()?.split(",")??[];s(!0);const I=eC([hi.getWeeklySummary(A).pipe(Mi(L=>L.data||[])),hi.getBonuses(A).pipe(Mi(L=>L.data||[])),hi.getWithdrawals(A).pipe(Mi(L=>L.data||[])),hi.getUsers(A).pipe(Mi(L=>L.data||[]))]).subscribe({next:([L,G,W,Q])=>{s(!1);const z=E8(G),K=C8(W),H=O8({weeklySummaryList:L,userBonusList:z,emailArr:A,userWithdrawalList:K}),Y=On.groupBy(H,"mon"),re=Object.keys(Y).map(ke=>({title:ke.split("-")[1],data:Y[ke]})),ve=On.sumBy(re,ke=>On.sumBy(ke.data,"winnings")),_e=On.sumBy(W,"data.Amount");E(_e),b(ve),t(re),p(Q),N(A)},error:()=>c(!0)});return()=>{I.unsubscribe()}},[n]),{list:e,loading:r,error:o,userDetails:d,emails:C,totalWinnings:v,totalWithdrawals:x}},E8=n=>n?.filter(e=>e.data.TransactionStatus==="Approved"&&e.data.TransactionType==="Bonus"&&["IMMEDIATE BONUS","Bonus"].includes(e.data.PaymentMethodInfo)&&e.data.Amount>=10)??[],C8=n=>n?.filter(e=>["Approved","Pending","Sending to Processor","In Process"].includes(e.data.TransactionStatus))??[],O8=({weeklySummaryList:n,userBonusList:e,emailArr:t,userWithdrawalList:r})=>{const s=mt(Date.now()).year();return x8(s).map(({mondayDate:c,sundayDate:d,weekNumber:p})=>{const v=mt(c),b=v.format("MMM"),x=v.format("M"),E=v.format("YYYY"),C=P8(n,c,d,E),{byWeekSummary:N,bonus:A,totalStaked:I,totalEarnings:L}=C;let{approxWinnings:G}=C;const W=T8(e,c,d,t);let Q=On.sumBy(W,H=>H?.data.Amount??0);W?.length!==t?.length?Q=A:G=0;let z=0;W?.length&&N?.length&&(z=Q+On.sumBy(N,H=>H.data.totalEarnings??0));const K=D8(r,c,d);return{_id:`${b}-${p}`,mon:x+"-"+b+" "+E,year:E,startDate:c.toISOString(),endDate:d.toISOString(),bonus:Q||A||0,bonusDateTime:W?.[0]?.data.TransactionDateTime,totalStaked:I,totalEarnings:L,winnings:z,approxWinnings:G,loading:!1,fetch:0,title:`${b}`,emails:t,withdrawal:K}})},P8=(n,e,t,r)=>{const s=n?.filter(v=>v.data.weekStart===mt(e).utc().startOf("day").toISOString()&&v.data.weekEnd===mt(t).utc().endOf("day").toISOString()&&v.data.year.toString()===r.toString())??[],o=On.sumBy(s,v=>v.data.potentialBonus??0),c=On.sumBy(s,v=>v.data.totalStaked??0),d=On.sumBy(s,v=>v.data.totalEarnings??0),p=On.sumBy(s,v=>v.data.winnings??0);return{byWeekSummary:s,bonus:o,totalStaked:c,totalEarnings:d,approxWinnings:p}},T8=(n,e,t,r)=>r?.map(s=>n?.reverse().find(o=>{const c=mt(o.data.TransactionDateTime).startOf("day").subtract(7,"days");return c.isAfter(e)&&c.isBefore(t)&&o.data.email===s})).filter(Boolean),D8=(n,e,t)=>n?.find(r=>{const s=new Date(r.data.TransactionDateTime.split("T")[0]);s.setUTCHours(0,0,0,0);const o=mt(s);return o.isSameOrAfter(e)&&o.isSameOrBefore(t)}),mO=()=>{const{list:n,loading:e,userDetails:t,totalWinnings:r,totalWithdrawals:s,emails:o}=k8();return M.jsxs("div",{"data-testid":"UserDetails",className:"w-full m-4 bg-neutral-800 rounded-lg relative",children:[M.jsxs("div",{className:"flex flex-col p-4 h-full min-w-[370px]",children:[M.jsxs("div",{className:"flex flex-row justify-between items-start h-12",children:[M.jsxs("div",{className:"flex flex-row",children:[M.jsx("span",{className:"dark:text-white text-2xl",children:o.length===1?o[0]:"Multi User View"}),o.length===1&&M.jsx(L4,{userDetails:t,totalWinnings:r,totalWithdrawals:s})]}),o.length===1&&M.jsx(gO,{userDetails:t[0]})]}),M.jsx("hr",{}),M.jsx("div",{className:"flex-1 overflow-auto mt-4",children:n.map(c=>{const d=On.sumBy(c.data,"winnings");return M.jsxs("div",{className:"mon-wrap",children:[M.jsxs("div",{className:"title-wrap flex justify-between items-center dark:text-white pt-2 pb-2 ",children:[M.jsx("span",{children:c.title}),M.jsx("span",{className:xn({"text-md":!0,"text-green-dark":d>0,"text-red-dark":d<0}),children:rn(d)})]}),M.jsx("hr",{}),M.jsx("div",{className:"week-wrap flex flex-row flex-wrap",children:c.data.map(p=>M.jsxs("div",{className:"relative",children:[M.jsx($4,{earnings:p}),M.jsx(I4,{earnings:p})]},p._id))})]},c.title)})})]}),M.jsx(gi,{active:e,children:M.jsx(Yo,{})})]})};mO.displayName="UserDetails";const vO=()=>M.jsx(mO,{});vO.displayName="UserDetails";const N8=Object.freeze(Object.defineProperty({__proto__:null,default:vO},Symbol.toStringTag,{value:"Module"})),yO=()=>M.jsx(m_,{children:M.jsxs("div",{"data-testid":"Users",className:"w-full flex flex-row overflow-auto",children:[M.jsx(NC,{}),M.jsx(ON,{})]})});yO.displayName="Users";const A8=Object.freeze(Object.defineProperty({__proto__:null,default:yO},Symbol.toStringTag,{value:"Module"}));function Yk(n){let e={path:"rootOfTheTree",children:[]};return n.sort((t,r)=>t.path?.localeCompare(r.path??"")??0).forEach(t=>{const r=t.path?.replace(/^\//,"").split("/")??[];e=Ny(e,r,t)}),e}function Ny(n,e,t){if(!e.length)return n;if(n.path===e[0])return Ny(n,e.slice(1),t);{const r=n.children?.find(s=>s.path===e[0]);if(r)return{...n,children:[...n.children?.filter(s=>s.path!==r.path)??[],Ny(r,e.slice(1),t)]};if(e.length>1){const s={path:e[0]};return{...n,children:[...n.children??[],Ny(s,e.slice(1),t)]}}else{const s={path:e[0],element:t.element,id:t.id};return{...n,children:[...n.children??[],s]}}}}const Aw=()=>M.jsx("div",{"data-testid":"NotFound",children:"NotFound Component"});Aw.displayName="NotFound";const R8=()=>{const n=Object.assign({"../../pages/apks/index.tsx":h4,"../../pages/index.tsx":f4,"../../pages/users/$userDetails/index.tsx":N8,"../../pages/users/index.tsx":A8}),e=Object.keys(n),t=Object.values(n).map((r,s)=>{const o=e[s].replace("../../pages/","").replace("/index.tsx","").replace("$",":").replace("index.tsx",""),c=r.default;return{path:o,element:M.jsx(c,{}),index:s}});return console.log("gaga-------------------------------------pages",[...Yk(t).children??[],{path:"*",element:M.jsx(Aw,{})}]),fN([...Yk(t).children??[],{path:"*",element:M.jsx(Aw,{})}])},I8=()=>{const[n,e]=X.useState(!1);return X.useEffect(()=>{const t=hi.login("talpaklogen@gmail.com").pipe(KU(500)).subscribe(()=>{e(!0)});return()=>{t.unsubscribe()}},[]),M.jsxs(M.Fragment,{children:[n&&M.jsx(MN,{children:M.jsx(FN,{fallback:M.jsx(M.Fragment,{children:"Error"}),children:M.jsx(R8,{})})}),M.jsx(gi,{active:!n,children:M.jsx(Yo,{})})]})};mt.extend(Vk);mt.extend(lD);mt.extend(hD);mt.extend(mD);mt.extend(wD);mt.extend(kD);mt.extend(Qk);mt.extend(Rw);mt.extend(Jk);XT.createRoot(document.getElementById("root")).render(M.jsx(I8,{}))});export default M8();
