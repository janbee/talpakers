var MT=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports);var a8=MT((zl,ql)=>{function RT(r,n){for(var t=0;t<n.length;t++){const e=n[t];if(typeof e!="string"&&!Array.isArray(e)){for(const s in e)if(s!=="default"&&!(s in r)){const o=Object.getOwnPropertyDescriptor(e,s);o&&Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:()=>e[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function jT(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var n=r.default;if(typeof n=="function"){var t=function e(){return this instanceof e?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(e){var s=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,s.get?s:{enumerable:!0,get:function(){return r[e]}})}),t}var n0={exports:{}},Ig={},r0={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function $T(){if(B_)return Ut;B_=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.iterator;function k(se){return se===null||typeof se!="object"?null:(se=S&&se[S]||se["@@iterator"],typeof se=="function"?se:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function M(se,Ee,Le){this.props=se,this.context=Ee,this.refs=N,this.updater=Le||C}M.prototype.isReactComponent={},M.prototype.setState=function(se,Ee){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,Ee,"setState")},M.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function L(){}L.prototype=M.prototype;function G(se,Ee,Le){this.props=se,this.context=Ee,this.refs=N,this.updater=Le||C}var W=G.prototype=new L;W.constructor=G,A(W,M.prototype),W.isPureReactComponent=!0;var V=Array.isArray,z=Object.prototype.hasOwnProperty,Y={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function K(se,Ee,Le){var Ve,st={},bt=null,Tt=null;if(Ee!=null)for(Ve in Ee.ref!==void 0&&(Tt=Ee.ref),Ee.key!==void 0&&(bt=""+Ee.key),Ee)z.call(Ee,Ve)&&!B.hasOwnProperty(Ve)&&(st[Ve]=Ee[Ve]);var _t=arguments.length-2;if(_t===1)st.children=Le;else if(1<_t){for(var Pt=Array(_t),zt=0;zt<_t;zt++)Pt[zt]=arguments[zt+2];st.children=Pt}if(se&&se.defaultProps)for(Ve in _t=se.defaultProps,_t)st[Ve]===void 0&&(st[Ve]=_t[Ve]);return{$$typeof:r,type:se,key:bt,ref:Tt,props:st,_owner:Y.current}}function Z(se,Ee){return{$$typeof:r,type:se.type,key:Ee,ref:se.ref,props:se.props,_owner:se._owner}}function ce(se){return typeof se=="object"&&se!==null&&se.$$typeof===r}function me(se){var Ee={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(Le){return Ee[Le]})}var we=/\/+/g;function Re(se,Ee){return typeof se=="object"&&se!==null&&se.key!=null?me(""+se.key):Ee.toString(36)}function Ce(se,Ee,Le,Ve,st){var bt=typeof se;(bt==="undefined"||bt==="boolean")&&(se=null);var Tt=!1;if(se===null)Tt=!0;else switch(bt){case"string":case"number":Tt=!0;break;case"object":switch(se.$$typeof){case r:case n:Tt=!0}}if(Tt)return Tt=se,st=st(Tt),se=Ve===""?"."+Re(Tt,0):Ve,V(st)?(Le="",se!=null&&(Le=se.replace(we,"$&/")+"/"),Ce(st,Ee,Le,"",function(zt){return zt})):st!=null&&(ce(st)&&(st=Z(st,Le+(!st.key||Tt&&Tt.key===st.key?"":(""+st.key).replace(we,"$&/")+"/")+se)),Ee.push(st)),1;if(Tt=0,Ve=Ve===""?".":Ve+":",V(se))for(var _t=0;_t<se.length;_t++){bt=se[_t];var Pt=Ve+Re(bt,_t);Tt+=Ce(bt,Ee,Le,Pt,st)}else if(Pt=k(se),typeof Pt=="function")for(se=Pt.call(se),_t=0;!(bt=se.next()).done;)bt=bt.value,Pt=Ve+Re(bt,_t++),Tt+=Ce(bt,Ee,Le,Pt,st);else if(bt==="object")throw Ee=String(se),Error("Objects are not valid as a React child (found: "+(Ee==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":Ee)+"). If you meant to render a collection of children, use an array instead.");return Tt}function _e(se,Ee,Le){if(se==null)return se;var Ve=[],st=0;return Ce(se,Ve,"","",function(bt){return Ee.call(Le,bt,st++)}),Ve}function ye(se){if(se._status===-1){var Ee=se._result;Ee=Ee(),Ee.then(function(Le){(se._status===0||se._status===-1)&&(se._status=1,se._result=Le)},function(Le){(se._status===0||se._status===-1)&&(se._status=2,se._result=Le)}),se._status===-1&&(se._status=0,se._result=Ee)}if(se._status===1)return se._result.default;throw se._result}var be={current:null},Q={transition:null},Ae={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Q,ReactCurrentOwner:Y};function Te(){throw Error("act(...) is not supported in production builds of React.")}return Ut.Children={map:_e,forEach:function(se,Ee,Le){_e(se,function(){Ee.apply(this,arguments)},Le)},count:function(se){var Ee=0;return _e(se,function(){Ee++}),Ee},toArray:function(se){return _e(se,function(Ee){return Ee})||[]},only:function(se){if(!ce(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Ut.Component=M,Ut.Fragment=t,Ut.Profiler=s,Ut.PureComponent=G,Ut.StrictMode=e,Ut.Suspense=p,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ae,Ut.act=Te,Ut.cloneElement=function(se,Ee,Le){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var Ve=A({},se.props),st=se.key,bt=se.ref,Tt=se._owner;if(Ee!=null){if(Ee.ref!==void 0&&(bt=Ee.ref,Tt=Y.current),Ee.key!==void 0&&(st=""+Ee.key),se.type&&se.type.defaultProps)var _t=se.type.defaultProps;for(Pt in Ee)z.call(Ee,Pt)&&!B.hasOwnProperty(Pt)&&(Ve[Pt]=Ee[Pt]===void 0&&_t!==void 0?_t[Pt]:Ee[Pt])}var Pt=arguments.length-2;if(Pt===1)Ve.children=Le;else if(1<Pt){_t=Array(Pt);for(var zt=0;zt<Pt;zt++)_t[zt]=arguments[zt+2];Ve.children=_t}return{$$typeof:r,type:se.type,key:st,ref:bt,props:Ve,_owner:Tt}},Ut.createContext=function(se){return se={$$typeof:c,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:o,_context:se},se.Consumer=se},Ut.createElement=K,Ut.createFactory=function(se){var Ee=K.bind(null,se);return Ee.type=se,Ee},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(se){return{$$typeof:d,render:se}},Ut.isValidElement=ce,Ut.lazy=function(se){return{$$typeof:y,_payload:{_status:-1,_result:se},_init:ye}},Ut.memo=function(se,Ee){return{$$typeof:v,type:se,compare:Ee===void 0?null:Ee}},Ut.startTransition=function(se){var Ee=Q.transition;Q.transition={};try{se()}finally{Q.transition=Ee}},Ut.unstable_act=Te,Ut.useCallback=function(se,Ee){return be.current.useCallback(se,Ee)},Ut.useContext=function(se){return be.current.useContext(se)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(se){return be.current.useDeferredValue(se)},Ut.useEffect=function(se,Ee){return be.current.useEffect(se,Ee)},Ut.useId=function(){return be.current.useId()},Ut.useImperativeHandle=function(se,Ee,Le){return be.current.useImperativeHandle(se,Ee,Le)},Ut.useInsertionEffect=function(se,Ee){return be.current.useInsertionEffect(se,Ee)},Ut.useLayoutEffect=function(se,Ee){return be.current.useLayoutEffect(se,Ee)},Ut.useMemo=function(se,Ee){return be.current.useMemo(se,Ee)},Ut.useReducer=function(se,Ee,Le){return be.current.useReducer(se,Ee,Le)},Ut.useRef=function(se){return be.current.useRef(se)},Ut.useState=function(se){return be.current.useState(se)},Ut.useSyncExternalStore=function(se,Ee,Le){return be.current.useSyncExternalStore(se,Ee,Le)},Ut.useTransition=function(){return be.current.useTransition()},Ut.version="18.3.1",Ut}var W_;function Xy(){return W_||(W_=1,r0.exports=$T()),r0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function LT(){if(H_)return Ig;H_=1;var r=Xy(),n=Symbol.for("react.element"),t=Symbol.for("react.fragment"),e=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,v){var y,S={},k=null,C=null;v!==void 0&&(k=""+v),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(C=p.ref);for(y in p)e.call(p,y)&&!o.hasOwnProperty(y)&&(S[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)S[y]===void 0&&(S[y]=p[y]);return{$$typeof:n,type:d,key:k,ref:C,props:S,_owner:s.current}}return Ig.Fragment=t,Ig.jsx=c,Ig.jsxs=c,Ig}var z_;function FT(){return z_||(z_=1,n0.exports=LT()),n0.exports}var R=FT(),Lv={},s0={exports:{}},ii={},i0={exports:{}},a0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function UT(){return q_||(q_=1,function(r){function n(Q,Ae){var Te=Q.length;Q.push(Ae);e:for(;0<Te;){var se=Te-1>>>1,Ee=Q[se];if(0<s(Ee,Ae))Q[se]=Ae,Q[Te]=Ee,Te=se;else break e}}function t(Q){return Q.length===0?null:Q[0]}function e(Q){if(Q.length===0)return null;var Ae=Q[0],Te=Q.pop();if(Te!==Ae){Q[0]=Te;e:for(var se=0,Ee=Q.length,Le=Ee>>>1;se<Le;){var Ve=2*(se+1)-1,st=Q[Ve],bt=Ve+1,Tt=Q[bt];if(0>s(st,Te))bt<Ee&&0>s(Tt,st)?(Q[se]=Tt,Q[bt]=Te,se=bt):(Q[se]=st,Q[Ve]=Te,se=Ve);else if(bt<Ee&&0>s(Tt,Te))Q[se]=Tt,Q[bt]=Te,se=bt;else break e}}return Ae}function s(Q,Ae){var Te=Q.sortIndex-Ae.sortIndex;return Te!==0?Te:Q.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],v=[],y=1,S=null,k=3,C=!1,A=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(Q){for(var Ae=t(v);Ae!==null;){if(Ae.callback===null)e(v);else if(Ae.startTime<=Q)e(v),Ae.sortIndex=Ae.expirationTime,n(p,Ae);else break;Ae=t(v)}}function V(Q){if(N=!1,W(Q),!A)if(t(p)!==null)A=!0,ye(z);else{var Ae=t(v);Ae!==null&&be(V,Ae.startTime-Q)}}function z(Q,Ae){A=!1,N&&(N=!1,L(K),K=-1),C=!0;var Te=k;try{for(W(Ae),S=t(p);S!==null&&(!(S.expirationTime>Ae)||Q&&!me());){var se=S.callback;if(typeof se=="function"){S.callback=null,k=S.priorityLevel;var Ee=se(S.expirationTime<=Ae);Ae=r.unstable_now(),typeof Ee=="function"?S.callback=Ee:S===t(p)&&e(p),W(Ae)}else e(p);S=t(p)}if(S!==null)var Le=!0;else{var Ve=t(v);Ve!==null&&be(V,Ve.startTime-Ae),Le=!1}return Le}finally{S=null,k=Te,C=!1}}var Y=!1,B=null,K=-1,Z=5,ce=-1;function me(){return!(r.unstable_now()-ce<Z)}function we(){if(B!==null){var Q=r.unstable_now();ce=Q;var Ae=!0;try{Ae=B(!0,Q)}finally{Ae?Re():(Y=!1,B=null)}}else Y=!1}var Re;if(typeof G=="function")Re=function(){G(we)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,_e=Ce.port2;Ce.port1.onmessage=we,Re=function(){_e.postMessage(null)}}else Re=function(){M(we,0)};function ye(Q){B=Q,Y||(Y=!0,Re())}function be(Q,Ae){K=M(function(){Q(r.unstable_now())},Ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_continueExecution=function(){A||C||(A=!0,ye(z))},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(Q){switch(k){case 1:case 2:case 3:var Ae=3;break;default:Ae=k}var Te=k;k=Ae;try{return Q()}finally{k=Te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Q,Ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Te=k;k=Q;try{return Ae()}finally{k=Te}},r.unstable_scheduleCallback=function(Q,Ae,Te){var se=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?se+Te:se):Te=se,Q){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=Te+Ee,Q={id:y++,callback:Ae,priorityLevel:Q,startTime:Te,expirationTime:Ee,sortIndex:-1},Te>se?(Q.sortIndex=Te,n(v,Q),t(p)===null&&Q===t(v)&&(N?(L(K),K=-1):N=!0,be(V,Te-se))):(Q.sortIndex=Ee,n(p,Q),A||C||(A=!0,ye(z))),Q},r.unstable_shouldYield=me,r.unstable_wrapCallback=function(Q){var Ae=k;return function(){var Te=k;k=Ae;try{return Q.apply(this,arguments)}finally{k=Te}}}}(a0)),a0}var Y_;function BT(){return Y_||(Y_=1,i0.exports=UT()),i0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function WT(){if(K_)return ii;K_=1;var r=Xy(),n=BT();function t(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e=new Set,s={};function o(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(s[a]=l,a=0;a<l.length;a++)e.add(l[a])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},S={};function k(a){return p.call(S,a)?!0:p.call(y,a)?!1:v.test(a)?S[a]=!0:(y[a]=!0,!1)}function C(a,l,g,b){if(g!==null&&g.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return b?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function A(a,l,g,b){if(l===null||typeof l>"u"||C(a,l,g,b))return!0;if(b)return!1;if(g!==null)switch(g.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function N(a,l,g,b,E,T,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=b,this.attributeNamespace=E,this.mustUseProperty=g,this.propertyName=a,this.type=l,this.sanitizeURL=T,this.removeEmptyString=$}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){M[a]=new N(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];M[l]=new N(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){M[a]=new N(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){M[a]=new N(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){M[a]=new N(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){M[a]=new N(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){M[a]=new N(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){M[a]=new N(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){M[a]=new N(a,5,!1,a.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function G(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(L,G);M[l]=new N(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(L,G);M[l]=new N(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(L,G);M[l]=new N(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){M[a]=new N(a,1,!1,a.toLowerCase(),null,!1,!1)}),M.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){M[a]=new N(a,1,!1,a.toLowerCase(),null,!0,!0)});function W(a,l,g,b){var E=M.hasOwnProperty(l)?M[l]:null;(E!==null?E.type!==0:b||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(A(l,g,E,b)&&(g=null),b||E===null?k(l)&&(g===null?a.removeAttribute(l):a.setAttribute(l,""+g)):E.mustUseProperty?a[E.propertyName]=g===null?E.type===3?!1:"":g:(l=E.attributeName,b=E.attributeNamespace,g===null?a.removeAttribute(l):(E=E.type,g=E===3||E===4&&g===!0?"":""+g,b?a.setAttributeNS(b,l,g):a.setAttribute(l,g))))}var V=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),Y=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),me=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),Q=Symbol.iterator;function Ae(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var Te=Object.assign,se;function Ee(a){if(se===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);se=l&&l[1]||""}return`
`+se+a}var Le=!1;function Ve(a,l){if(!a||Le)return"";Le=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Oe){var b=Oe}Reflect.construct(a,[],l)}else{try{l.call()}catch(Oe){b=Oe}a.call(l.prototype)}else{try{throw Error()}catch(Oe){b=Oe}a()}}catch(Oe){if(Oe&&b&&typeof Oe.stack=="string"){for(var E=Oe.stack.split(`
`),T=b.stack.split(`
`),$=E.length-1,ee=T.length-1;1<=$&&0<=ee&&E[$]!==T[ee];)ee--;for(;1<=$&&0<=ee;$--,ee--)if(E[$]!==T[ee]){if($!==1||ee!==1)do if($--,ee--,0>ee||E[$]!==T[ee]){var le=`
`+E[$].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=$&&0<=ee);break}}}finally{Le=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?Ee(a):""}function st(a){switch(a.tag){case 5:return Ee(a.type);case 16:return Ee("Lazy");case 13:return Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 2:case 15:return a=Ve(a.type,!1),a;case 11:return a=Ve(a.type.render,!1),a;case 1:return a=Ve(a.type,!0),a;default:return""}}function bt(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case B:return"Fragment";case Y:return"Portal";case Z:return"Profiler";case K:return"StrictMode";case Re:return"Suspense";case Ce:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case me:return(a.displayName||"Context")+".Consumer";case ce:return(a._context.displayName||"Context")+".Provider";case we:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _e:return l=a.displayName||null,l!==null?l:bt(a.type)||"Memo";case ye:l=a._payload,a=a._init;try{return bt(a(l))}catch{}}return null}function Tt(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bt(l);case 8:return l===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function _t(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Pt(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function zt(a){var l=Pt(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),b=""+a[l];if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,T=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return E.call(this)},set:function($){b=""+$,T.call(this,$)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function($){b=""+$},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function On(a){a._valueTracker||(a._valueTracker=zt(a))}function sr(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var g=l.getValue(),b="";return a&&(b=Pt(a)?a.checked?"true":"false":a.value),a=b,a!==g?(l.setValue(a),!0):!1}function Kt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Kn(a,l){var g=l.checked;return Te({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function fi(a,l){var g=l.defaultValue==null?"":l.defaultValue,b=l.checked!=null?l.checked:l.defaultChecked;g=_t(l.value!=null?l.value:g),a._wrapperState={initialChecked:b,initialValue:g,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Qo(a,l){l=l.checked,l!=null&&W(a,"checked",l,!1)}function Dr(a,l){Qo(a,l);var g=_t(l.value),b=l.type;if(g!=null)b==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(b==="submit"||b==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?pa(a,l.type,g):l.hasOwnProperty("defaultValue")&&pa(a,l.type,_t(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Jo(a,l,g){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var b=l.type;if(!(b!=="submit"&&b!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,g||l===a.value||(a.value=l),a.defaultValue=l}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function pa(a,l,g){(l!=="number"||Kt(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var Bn=Array.isArray;function gn(a,l,g,b){if(a=a.options,l){l={};for(var E=0;E<g.length;E++)l["$"+g[E]]=!0;for(g=0;g<a.length;g++)E=l.hasOwnProperty("$"+a[g].value),a[g].selected!==E&&(a[g].selected=E),E&&b&&(a[g].defaultSelected=!0)}else{for(g=""+_t(g),l=null,E=0;E<a.length;E++){if(a[E].value===g){a[E].selected=!0,b&&(a[E].defaultSelected=!0);return}l!==null||a[E].disabled||(l=a[E])}l!==null&&(l.selected=!0)}}function Us(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return Te({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ri(a,l){var g=l.value;if(g==null){if(g=l.children,l=l.defaultValue,g!=null){if(l!=null)throw Error(t(92));if(Bn(g)){if(1<g.length)throw Error(t(93));g=g[0]}l=g}l==null&&(l=""),g=l}a._wrapperState={initialValue:_t(g)}}function Ga(a,l){var g=_t(l.value),b=_t(l.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),l.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),b!=null&&(a.defaultValue=""+b)}function pi(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function on(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qr(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?on(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ss,Yr=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,g,b,E){MSApp.execUnsafeLocalFunction(function(){return a(l,g,b,E)})}:a}(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ss.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function gt(a,l){if(l){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=l;return}}a.textContent=l}var Ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xo=["Webkit","ms","Moz","O"];Object.keys(Ft).forEach(function(a){Xo.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Ft[l]=Ft[a]})});function Zo(a,l,g){return l==null||typeof l=="boolean"||l===""?"":g||typeof l!="number"||l===0||Ft.hasOwnProperty(a)&&Ft[a]?(""+l).trim():l+"px"}function el(a,l){a=a.style;for(var g in l)if(l.hasOwnProperty(g)){var b=g.indexOf("--")===0,E=Zo(g,l[g],b);g==="float"&&(g="cssFloat"),b?a.setProperty(g,E):a[g]=E}}var wc=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(a,l){if(l){if(wc[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function nl(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=null;function _c(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Sc=null,ga=null,ji=null;function Nr(a){if(a=Mr(a)){if(typeof Sc!="function")throw Error(t(280));var l=a.stateNode;l&&(l=kh(l),Sc(a.stateNode,a.type,l))}}function xc(a){ga?ji?ji.push(a):ji=[a]:ga=a}function kc(){if(ga){var a=ga,l=ji;if(ji=ga=null,Nr(a),l)for(a=0;a<l.length;a++)Nr(l[a])}}function Gn(a,l){return a(l)}function Va(){}var Qa=!1;function Ec(a,l,g){if(Qa)return a(l,g);Qa=!0;try{return Gn(a,l,g)}finally{Qa=!1,(ga!==null||ji!==null)&&(Va(),kc())}}function rl(a,l){var g=a.stateNode;if(g===null)return null;var b=kh(g);if(b===null)return null;g=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(a=a.type,b=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!b;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(t(231,l,typeof g));return g}var sl=!1;if(d)try{var il={};Object.defineProperty(il,"passive",{get:function(){sl=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{sl=!1}function Bs(a,l,g,b,E,T,$,ee,le){var Oe=Array.prototype.slice.call(arguments,3);try{l.apply(g,Oe)}catch(Be){this.onError(Be)}}var ma=!1,Kr=null,Ja=!1,al=null,Cc={onError:function(a){ma=!0,Kr=a}};function uu(a,l,g,b,E,T,$,ee,le){ma=!1,Kr=null,Bs.apply(Cc,arguments)}function Xa(a,l,g,b,E,T,$,ee,le){if(uu.apply(this,arguments),ma){if(ma){var Oe=Kr;ma=!1,Kr=null}else throw Error(t(198));Ja||(Ja=!0,al=Oe)}}function _s(a){var l=a,g=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(g=l.return),a=l.return;while(a)}return l.tag===3?g:null}function va(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Pc(a){if(_s(a)!==a)throw Error(t(188))}function sh(a){var l=a.alternate;if(!l){if(l=_s(a),l===null)throw Error(t(188));return l!==a?null:a}for(var g=a,b=l;;){var E=g.return;if(E===null)break;var T=E.alternate;if(T===null){if(b=E.return,b!==null){g=b;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===g)return Pc(E),a;if(T===b)return Pc(E),l;T=T.sibling}throw Error(t(188))}if(g.return!==b.return)g=E,b=T;else{for(var $=!1,ee=E.child;ee;){if(ee===g){$=!0,g=E,b=T;break}if(ee===b){$=!0,b=E,g=T;break}ee=ee.sibling}if(!$){for(ee=T.child;ee;){if(ee===g){$=!0,g=T,b=E;break}if(ee===b){$=!0,b=T,g=E;break}ee=ee.sibling}if(!$)throw Error(t(189))}}if(g.alternate!==b)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?a:l}function Oc(a){return a=sh(a),a!==null?ih(a):null}function ih(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=ih(a);if(l!==null)return l;a=a.sibling}return null}var Ws=n.unstable_scheduleCallback,gi=n.unstable_cancelCallback,mi=n.unstable_shouldYield,Vn=n.unstable_requestPaint,nn=n.unstable_now,Ep=n.unstable_getCurrentPriorityLevel,ol=n.unstable_ImmediatePriority,cu=n.unstable_UserBlockingPriority,Za=n.unstable_NormalPriority,Gr=n.unstable_LowPriority,is=n.unstable_IdlePriority,Ss=null,xs=null;function ah(a){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(Ss,a,void 0,(a.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:eo,Tc=Math.log,du=Math.LN2;function eo(a){return a>>>=0,a===0?32:31-(Tc(a)/du|0)|0}var ks=64,un=4194304;function os(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ls(a,l){var g=a.pendingLanes;if(g===0)return 0;var b=0,E=a.suspendedLanes,T=a.pingedLanes,$=g&268435455;if($!==0){var ee=$&~E;ee!==0?b=os(ee):(T&=$,T!==0&&(b=os(T)))}else $=g&~E,$!==0?b=os($):T!==0&&(b=os(T));if(b===0)return 0;if(l!==0&&l!==b&&(l&E)===0&&(E=b&-b,T=l&-l,E>=T||E===16&&(T&4194240)!==0))return l;if((b&4)!==0&&(b|=g&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=b;0<l;)g=31-as(l),E=1<<g,b|=a[g],l&=~E;return b}function Mn(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ya(a,l){for(var g=a.suspendedLanes,b=a.pingedLanes,E=a.expirationTimes,T=a.pendingLanes;0<T;){var $=31-as(T),ee=1<<$,le=E[$];le===-1?((ee&g)===0||(ee&b)!==0)&&(E[$]=Mn(ee,l)):le<=l&&(a.expiredLanes|=ee),T&=~ee}}function vi(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function _r(){var a=ks;return ks<<=1,(ks&4194240)===0&&(ks=64),a}function ll(a){for(var l=[],g=0;31>g;g++)l.push(a);return l}function ul(a,l,g){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-as(l),a[l]=g}function oh(a,l){var g=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var b=a.eventTimes;for(a=a.expirationTimes;0<g;){var E=31-as(g),T=1<<E;l[E]=0,b[E]=-1,a[E]=-1,g&=~T}}function cl(a,l){var g=a.entangledLanes|=l;for(a=a.entanglements;g;){var b=31-as(g),E=1<<b;E&l|a[b]&l&&(a[b]|=l),g&=~E}}var Gt=0;function ba(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var $i,us,Dc,hu,Nc,Hs=!1,dl=[],Es=null,Li=null,Fi=null,Ui=new Map,hl=new Map,Bi=[],Cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lh(a,l){switch(a){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Ui.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(l.pointerId)}}function wa(a,l,g,b,E,T){return a===null||a.nativeEvent!==T?(a={blockedOn:l,domEventName:g,eventSystemFlags:b,nativeEvent:T,targetContainers:[E]},l!==null&&(l=Mr(l),l!==null&&us(l)),a):(a.eventSystemFlags|=b,l=a.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),a)}function Ac(a,l,g,b,E){switch(l){case"focusin":return Es=wa(Es,a,l,g,b,E),!0;case"dragenter":return Li=wa(Li,a,l,g,b,E),!0;case"mouseover":return Fi=wa(Fi,a,l,g,b,E),!0;case"pointerover":var T=E.pointerId;return Ui.set(T,wa(Ui.get(T)||null,a,l,g,b,E)),!0;case"gotpointercapture":return T=E.pointerId,hl.set(T,wa(hl.get(T)||null,a,l,g,b,E)),!0}return!1}function fl(a){var l=Yi(a.target);if(l!==null){var g=_s(l);if(g!==null){if(l=g.tag,l===13){if(l=va(g),l!==null){a.blockedOn=l,Nc(a.priority,function(){Dc(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function to(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var g=_a(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var b=new g.constructor(g.type,g);lu=b,g.target.dispatchEvent(b),lu=null}else return l=Mr(g),l!==null&&us(l),a.blockedOn=g,!1;l.shift()}return!0}function uh(a,l,g){to(a)&&g.delete(l)}function Pp(){Hs=!1,Es!==null&&to(Es)&&(Es=null),Li!==null&&to(Li)&&(Li=null),Fi!==null&&to(Fi)&&(Fi=null),Ui.forEach(uh),hl.forEach(uh)}function rn(a,l){a.blockedOn===l&&(a.blockedOn=null,Hs||(Hs=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Pp)))}function Jt(a){function l(E){return rn(E,a)}if(0<dl.length){rn(dl[0],a);for(var g=1;g<dl.length;g++){var b=dl[g];b.blockedOn===a&&(b.blockedOn=null)}}for(Es!==null&&rn(Es,a),Li!==null&&rn(Li,a),Fi!==null&&rn(Fi,a),Ui.forEach(l),hl.forEach(l),g=0;g<Bi.length;g++)b=Bi[g],b.blockedOn===a&&(b.blockedOn=null);for(;0<Bi.length&&(g=Bi[0],g.blockedOn===null);)fl(g),g.blockedOn===null&&Bi.shift()}var no=V.ReactCurrentBatchConfig,fu=!0;function Op(a,l,g,b){var E=Gt,T=no.transition;no.transition=null;try{Gt=1,pl(a,l,g,b)}finally{Gt=E,no.transition=T}}function Tp(a,l,g,b){var E=Gt,T=no.transition;no.transition=null;try{Gt=4,pl(a,l,g,b)}finally{Gt=E,no.transition=T}}function pl(a,l,g,b){if(fu){var E=_a(a,l,g,b);if(E===null)jp(a,l,b,pu,g),lh(a,b);else if(Ac(E,a,l,g,b))b.stopPropagation();else if(lh(a,b),l&4&&-1<Cp.indexOf(a)){for(;E!==null;){var T=Mr(E);if(T!==null&&$i(T),T=_a(a,l,g,b),T===null&&jp(a,l,b,pu,g),T===E)break;E=T}E!==null&&b.stopPropagation()}else jp(a,l,b,null,g)}}var pu=null;function _a(a,l,g,b){if(pu=null,a=_c(b),a=Yi(a),a!==null)if(l=_s(a),l===null)a=null;else if(g=l.tag,g===13){if(a=va(l),a!==null)return a;a=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return pu=a,null}function ch(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ep()){case ol:return 1;case cu:return 4;case Za:case Gr:return 16;case is:return 536870912;default:return 16}default:return 16}}var wn=null,gl=null,zs=null;function Ic(){if(zs)return zs;var a,l=gl,g=l.length,b,E="value"in wn?wn.value:wn.textContent,T=E.length;for(a=0;a<g&&l[a]===E[a];a++);var $=g-a;for(b=1;b<=$&&l[g-b]===E[T-b];b++);return zs=E.slice(a,1<b?1-b:void 0)}function ro(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Sr(){return!0}function Mc(){return!1}function Ar(a){function l(g,b,E,T,$){this._reactName=g,this._targetInst=E,this.type=b,this.nativeEvent=T,this.target=$,this.currentTarget=null;for(var ee in a)a.hasOwnProperty(ee)&&(g=a[ee],this[ee]=g?g(T):T[ee]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Sr:Mc,this.isPropagationStopped=Mc,this}return Te(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),l}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Ar(Sa),so=Te({},Sa,{view:0,detail:0}),dh=Ar(so),xr,Rc,fr,gu=Te({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fr&&(fr&&a.type==="mousemove"?(xr=a.screenX-fr.screenX,Rc=a.screenY-fr.screenY):Rc=xr=0,fr=a),xr)},movementY:function(a){return"movementY"in a?a.movementY:Rc}}),jc=Ar(gu),Wi=Te({},gu,{dataTransfer:0}),ml=Ar(Wi),$c=Te({},so,{relatedTarget:0}),cn=Ar($c),Hi=Te({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Lc=Ar(Hi),Dp=Te({},Sa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),mu=Ar(Dp),Np=Te({},Sa,{data:0}),hh=Ar(Np),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pr(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=vu[a])?!!l[a]:!1}function Fc(){return pr}var io=Te({},so,{key:function(a){if(a.key){var l=Ap[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ro(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?fh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(a){return a.type==="keypress"?ro(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ro(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),P=Ar(io),i=Te({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h=Ar(i),m=Te({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),_=Ar(m),x=Te({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=Ar(x),I=Te({},gu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ar(I),q=[9,13,27,32],ie=d&&"CompositionEvent"in window,re=null;d&&"documentMode"in document&&(re=document.documentMode);var ne=d&&"TextEvent"in window&&!re,ge=d&&(!ie||re&&8<re&&11>=re),ae=" ",oe=!1;function pe(a,l){switch(a){case"keyup":return q.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function De(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var nt=!1;function mt(a,l){switch(a){case"compositionend":return De(l);case"keypress":return l.which!==32?null:(oe=!0,ae);case"textInput":return a=l.data,a===ae&&oe?null:a;default:return null}}function Nt(a,l){if(nt)return a==="compositionend"||!ie&&pe(a,l)?(a=Ic(),zs=gl=wn=null,nt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ge&&l.locale!=="ko"?null:l.data;default:return null}}var Ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Je(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Ge[a.type]:l==="textarea"}function Pe(a,l,g,b){xc(b),l=wh(l,"onChange"),0<l.length&&(g=new xa("onChange","change",null,g,b),a.push({event:g,listeners:l}))}var Fe=null,Qe=null;function Rt(a){qm(a,0)}function Et(a){var l=At(a);if(sr(l))return a}function Dt(a,l){if(a==="change")return l}var Rn=!1;if(d){var Me;if(d){var Ke="oninput"in document;if(!Ke){var He=document.createElement("div");He.setAttribute("oninput","return;"),Ke=typeof He.oninput=="function"}Me=Ke}else Me=!1;Rn=Me&&(!document.documentMode||9<document.documentMode)}function qe(){Fe&&(Fe.detachEvent("onpropertychange",Vr),Qe=Fe=null)}function Vr(a){if(a.propertyName==="value"&&Et(Qe)){var l=[];Pe(l,Qe,a,_c(a)),Ec(Rt,l)}}function Qr(a,l,g){a==="focusin"?(qe(),Fe=l,Qe=g,Fe.attachEvent("onpropertychange",Vr)):a==="focusout"&&qe()}function Cs(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Et(Qe)}function Ps(a,l){if(a==="click")return Et(l)}function fe(a,l){if(a==="input"||a==="change")return Et(l)}function Ne(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var xe=typeof Object.is=="function"?Object.is:Ne;function Ze(a,l){if(xe(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var g=Object.keys(a),b=Object.keys(l);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var E=g[b];if(!p.call(l,E)||!xe(a[E],l[E]))return!1}return!0}function Ot(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Xt(a,l){var g=Ot(a);a=0;for(var b;g;){if(g.nodeType===3){if(b=a+g.textContent.length,a<=l&&b>=l)return{node:g,offset:l-a};a=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Ot(g)}}function Qn(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Qn(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function dn(){for(var a=window,l=Kt();l instanceof a.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)a=l.contentWindow;else break;l=Kt(a.document)}return l}function Uc(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function Sb(a){var l=dn(),g=a.focusedElem,b=a.selectionRange;if(l!==g&&g&&g.ownerDocument&&Qn(g.ownerDocument.documentElement,g)){if(b!==null&&Uc(g)){if(l=b.start,a=b.end,a===void 0&&(a=l),"selectionStart"in g)g.selectionStart=l,g.selectionEnd=Math.min(a,g.value.length);else if(a=(l=g.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var E=g.textContent.length,T=Math.min(b.start,E);b=b.end===void 0?T:Math.min(b.end,E),!a.extend&&T>b&&(E=b,b=T,T=E),E=Xt(g,T);var $=Xt(g,b);E&&$&&(a.rangeCount!==1||a.anchorNode!==E.node||a.anchorOffset!==E.offset||a.focusNode!==$.node||a.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(E.node,E.offset),a.removeAllRanges(),T>b?(a.addRange(l),a.extend($.node,$.offset)):(l.setEnd($.node,$.offset),a.addRange(l)))}}for(l=[],a=g;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<l.length;g++)a=l[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var qs=d&&"documentMode"in document&&11>=document.documentMode,ka=null,Ip=null,zi=null,yu=!1;function Bc(a,l,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;yu||ka==null||ka!==Kt(b)||(b=ka,"selectionStart"in b&&Uc(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),zi&&Ze(zi,b)||(zi=b,b=wh(Ip,"onSelect"),0<b.length&&(l=new xa("onSelect","select",null,l,g),a.push({event:l,listeners:b}),l.target=ka)))}function Zt(a,l){var g={};return g[a.toLowerCase()]=l.toLowerCase(),g["Webkit"+a]="webkit"+l,g["Moz"+a]="moz"+l,g}var bu={animationend:Zt("Animation","AnimationEnd"),animationiteration:Zt("Animation","AnimationIteration"),animationstart:Zt("Animation","AnimationStart"),transitionend:Zt("Transition","TransitionEnd")},ph={},Wc={};d&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function gh(a){if(ph[a])return ph[a];if(!bu[a])return a;var l=bu[a],g;for(g in l)if(l.hasOwnProperty(g)&&g in Wc)return ph[a]=l[g];return a}var Wm=gh("animationend"),Hm=gh("animationiteration"),Hc=gh("animationstart"),Ea=gh("transitionend"),zc=new Map,Mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(a,l){zc.set(a,l),o(l,[a])}for(var mh=0;mh<Mp.length;mh++){var vh=Mp[mh],yh=vh.toLowerCase(),zm=vh[0].toUpperCase()+vh.slice(1);yi(yh,"on"+zm)}yi(Wm,"onAnimationEnd"),yi(Hm,"onAnimationIteration"),yi(Hc,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function qc(a,l,g){var b=a.type||"unknown-event";a.currentTarget=g,Xa(b,l,void 0,a),a.currentTarget=null}function qm(a,l){l=(l&4)!==0;for(var g=0;g<a.length;g++){var b=a[g],E=b.event;b=b.listeners;e:{var T=void 0;if(l)for(var $=b.length-1;0<=$;$--){var ee=b[$],le=ee.instance,Oe=ee.currentTarget;if(ee=ee.listener,le!==T&&E.isPropagationStopped())break e;qc(E,ee,Oe),T=le}else for($=0;$<b.length;$++){if(ee=b[$],le=ee.instance,Oe=ee.currentTarget,ee=ee.listener,le!==T&&E.isPropagationStopped())break e;qc(E,ee,Oe),T=le}}}if(Ja)throw a=al,Ja=!1,al=null,a}function xn(a,l){var g=l[xh];g===void 0&&(g=l[xh]=new Set);var b=a+"__bubble";g.has(b)||(bh(l,a,2,!1),g.add(b))}function Rp(a,l,g){var b=0;l&&(b|=4),bh(g,a,b,l)}var yl="_reactListening"+Math.random().toString(36).slice(2);function ao(a){if(!a[yl]){a[yl]=!0,e.forEach(function(g){g!=="selectionchange"&&(vl.has(g)||Rp(g,!1,a),Rp(g,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[yl]||(l[yl]=!0,Rp("selectionchange",!1,l))}}function bh(a,l,g,b){switch(ch(l)){case 1:var E=Op;break;case 4:E=Tp;break;default:E=pl}g=E.bind(null,l,g,a),E=void 0,!sl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),b?E!==void 0?a.addEventListener(l,g,{capture:!0,passive:E}):a.addEventListener(l,g,!0):E!==void 0?a.addEventListener(l,g,{passive:E}):a.addEventListener(l,g,!1)}function jp(a,l,g,b,E){var T=b;if((l&1)===0&&(l&2)===0&&b!==null)e:for(;;){if(b===null)return;var $=b.tag;if($===3||$===4){var ee=b.stateNode.containerInfo;if(ee===E||ee.nodeType===8&&ee.parentNode===E)break;if($===4)for($=b.return;$!==null;){var le=$.tag;if((le===3||le===4)&&(le=$.stateNode.containerInfo,le===E||le.nodeType===8&&le.parentNode===E))return;$=$.return}for(;ee!==null;){if($=Yi(ee),$===null)return;if(le=$.tag,le===5||le===6){b=T=$;continue e}ee=ee.parentNode}}b=b.return}Ec(function(){var Oe=T,Be=_c(g),ze=[];e:{var Ue=zc.get(a);if(Ue!==void 0){var et=xa,ot=a;switch(a){case"keypress":if(ro(g)===0)break e;case"keydown":case"keyup":et=P;break;case"focusin":ot="focus",et=cn;break;case"focusout":ot="blur",et=cn;break;case"beforeblur":case"afterblur":et=cn;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=_;break;case Wm:case Hm:case Hc:et=Lc;break;case Ea:et=O;break;case"scroll":et=dh;break;case"wheel":et=F;break;case"copy":case"cut":case"paste":et=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=h}var lt=(l&4)!==0,Hn=!lt&&a==="scroll",Se=lt?Ue!==null?Ue+"Capture":null:Ue;lt=[];for(var he=Oe,ke;he!==null;){ke=he;var Ye=ke.stateNode;if(ke.tag===5&&Ye!==null&&(ke=Ye,Se!==null&&(Ye=rl(he,Se),Ye!=null&&lt.push(wu(he,Ye,ke)))),Hn)break;he=he.return}0<lt.length&&(Ue=new et(Ue,ot,null,g,Be),ze.push({event:Ue,listeners:lt}))}}if((l&7)===0){e:{if(Ue=a==="mouseover"||a==="pointerover",et=a==="mouseout"||a==="pointerout",Ue&&g!==lu&&(ot=g.relatedTarget||g.fromElement)&&(Yi(ot)||ot[Os]))break e;if((et||Ue)&&(Ue=Be.window===Be?Be:(Ue=Be.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,et?(ot=g.relatedTarget||g.toElement,et=Oe,ot=ot?Yi(ot):null,ot!==null&&(Hn=_s(ot),ot!==Hn||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(et=null,ot=Oe),et!==ot)){if(lt=jc,Ye="onMouseLeave",Se="onMouseEnter",he="mouse",(a==="pointerout"||a==="pointerover")&&(lt=h,Ye="onPointerLeave",Se="onPointerEnter",he="pointer"),Hn=et==null?Ue:At(et),ke=ot==null?Ue:At(ot),Ue=new lt(Ye,he+"leave",et,g,Be),Ue.target=Hn,Ue.relatedTarget=ke,Ye=null,Yi(Be)===Oe&&(lt=new lt(Se,he+"enter",ot,g,Be),lt.target=ke,lt.relatedTarget=Hn,Ye=lt),Hn=Ye,et&&ot)t:{for(lt=et,Se=ot,he=0,ke=lt;ke;ke=_u(ke))he++;for(ke=0,Ye=Se;Ye;Ye=_u(Ye))ke++;for(;0<he-ke;)lt=_u(lt),he--;for(;0<ke-he;)Se=_u(Se),ke--;for(;he--;){if(lt===Se||Se!==null&&lt===Se.alternate)break t;lt=_u(lt),Se=_u(Se)}lt=null}else lt=null;et!==null&&Jn(ze,Ue,et,lt,!1),ot!==null&&Hn!==null&&Jn(ze,Hn,ot,lt,!0)}}e:{if(Ue=Oe?At(Oe):window,et=Ue.nodeName&&Ue.nodeName.toLowerCase(),et==="select"||et==="input"&&Ue.type==="file")var dt=Dt;else if(Je(Ue))if(Rn)dt=fe;else{dt=Cs;var yt=Qr}else(et=Ue.nodeName)&&et.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(dt=Ps);if(dt&&(dt=dt(a,Oe))){Pe(ze,dt,g,Be);break e}yt&&yt(a,Ue,Oe),a==="focusout"&&(yt=Ue._wrapperState)&&yt.controlled&&Ue.type==="number"&&pa(Ue,"number",Ue.value)}switch(yt=Oe?At(Oe):window,a){case"focusin":(Je(yt)||yt.contentEditable==="true")&&(ka=yt,Ip=Oe,zi=null);break;case"focusout":zi=Ip=ka=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,Bc(ze,g,Be);break;case"selectionchange":if(qs)break;case"keydown":case"keyup":Bc(ze,g,Be)}var vt;if(ie)e:{switch(a){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else nt?pe(a,g)&&(St="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(St="onCompositionStart");St&&(ge&&g.locale!=="ko"&&(nt||St!=="onCompositionStart"?St==="onCompositionEnd"&&nt&&(vt=Ic()):(wn=Be,gl="value"in wn?wn.value:wn.textContent,nt=!0)),yt=wh(Oe,St),0<yt.length&&(St=new hh(St,a,null,g,Be),ze.push({event:St,listeners:yt}),vt?St.data=vt:(vt=De(g),vt!==null&&(St.data=vt)))),(vt=ne?mt(a,g):Nt(a,g))&&(Oe=wh(Oe,"onBeforeInput"),0<Oe.length&&(Be=new hh("onBeforeInput","beforeinput",null,g,Be),ze.push({event:Be,listeners:Oe}),Be.data=vt))}qm(ze,l)})}function wu(a,l,g){return{instance:a,listener:l,currentTarget:g}}function wh(a,l){for(var g=l+"Capture",b=[];a!==null;){var E=a,T=E.stateNode;E.tag===5&&T!==null&&(E=T,T=rl(a,g),T!=null&&b.unshift(wu(a,T,E)),T=rl(a,l),T!=null&&b.push(wu(a,T,E))),a=a.return}return b}function _u(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Jn(a,l,g,b,E){for(var T=l._reactName,$=[];g!==null&&g!==b;){var ee=g,le=ee.alternate,Oe=ee.stateNode;if(le!==null&&le===b)break;ee.tag===5&&Oe!==null&&(ee=Oe,E?(le=rl(g,T),le!=null&&$.unshift(wu(g,le,ee))):E||(le=rl(g,T),le!=null&&$.push(wu(g,le,ee)))),g=g.return}$.length!==0&&a.push({event:l,listeners:$})}var Ir=/\r\n?/g,xb=/\u0000|\uFFFD/g;function Ym(a){return(typeof a=="string"?a:""+a).replace(Ir,`
`).replace(xb,"")}function Yc(a,l,g){if(l=Ym(l),Ym(a)!==l&&g)throw Error(t(425))}function _h(){}var Kc=null,bl=null;function Gc(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var oo=typeof setTimeout=="function"?setTimeout:void 0,Vc=typeof clearTimeout=="function"?clearTimeout:void 0,Su=typeof Promise=="function"?Promise:void 0,Sh=typeof queueMicrotask=="function"?queueMicrotask:typeof Su<"u"?function(a){return Su.resolve(null).then(a).catch(xu)}:oo;function xu(a){setTimeout(function(){throw a})}function $p(a,l){var g=l,b=0;do{var E=g.nextSibling;if(a.removeChild(g),E&&E.nodeType===8)if(g=E.data,g==="/$"){if(b===0){a.removeChild(E),Jt(l);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=E}while(g);Jt(l)}function lo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function Km(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(l===0)return a;l--}else g==="/$"&&l++}a=a.previousSibling}return null}var ku=Math.random().toString(36).slice(2),qi="__reactFiber$"+ku,uo="__reactProps$"+ku,Os="__reactContainer$"+ku,xh="__reactEvents$"+ku,U="__reactListeners$"+ku,Eu="__reactHandles$"+ku;function Yi(a){var l=a[qi];if(l)return l;for(var g=a.parentNode;g;){if(l=g[Os]||g[qi]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(a=Km(a);a!==null;){if(g=a[qi])return g;a=Km(a)}return l}a=g,g=a.parentNode}return null}function Mr(a){return a=a[qi]||a[Os],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function At(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function kh(a){return a[uo]||null}var Lp=[],Cu=-1;function cs(a){return{current:a}}function kn(a){0>Cu||(a.current=Lp[Cu],Lp[Cu]=null,Cu--)}function _n(a,l){Cu++,Lp[Cu]=a.current,a.current=l}var co={},Rr=cs(co),ds=cs(!1),Jr=co;function Pu(a,l){var g=a.type.contextTypes;if(!g)return co;var b=a.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===l)return b.__reactInternalMemoizedMaskedChildContext;var E={},T;for(T in g)E[T]=l[T];return b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=E),E}function hs(a){return a=a.childContextTypes,a!=null}function Eh(){kn(ds),kn(Rr)}function Gm(a,l,g){if(Rr.current!==co)throw Error(t(168));_n(Rr,l),_n(ds,g)}function Vm(a,l,g){var b=a.stateNode;if(l=l.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var E in b)if(!(E in l))throw Error(t(108,Tt(a)||"Unknown",E));return Te({},g,b)}function Ys(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||co,Jr=Rr.current,_n(Rr,a),_n(ds,ds.current),!0}function Qm(a,l,g){var b=a.stateNode;if(!b)throw Error(t(169));g?(a=Vm(a,l,Jr),b.__reactInternalMemoizedMergedChildContext=a,kn(ds),kn(Rr),_n(Rr,a)):kn(ds),_n(ds,g)}var Pa=null,Ch=!1,Fp=!1;function Jm(a){Pa===null?Pa=[a]:Pa.push(a)}function wl(a){Ch=!0,Jm(a)}function ho(){if(!Fp&&Pa!==null){Fp=!0;var a=0,l=Gt;try{var g=Pa;for(Gt=1;a<g.length;a++){var b=g[a];do b=b(!0);while(b!==null)}Pa=null,Ch=!1}catch(E){throw Pa!==null&&(Pa=Pa.slice(a+1)),Ws(ol,ho),E}finally{Gt=l,Fp=!1}}return null}var Ou=[],jr=0,Ph=null,Oh=0,Ks=[],Gs=0,_l=null,Ki=1,Gi="";function Sl(a,l){Ou[jr++]=Oh,Ou[jr++]=Ph,Ph=a,Oh=l}function Xm(a,l,g){Ks[Gs++]=Ki,Ks[Gs++]=Gi,Ks[Gs++]=_l,_l=a;var b=Ki;a=Gi;var E=32-as(b)-1;b&=~(1<<E),g+=1;var T=32-as(l)+E;if(30<T){var $=E-E%5;T=(b&(1<<$)-1).toString(32),b>>=$,E-=$,Ki=1<<32-as(l)+E|g<<E|b,Gi=T+a}else Ki=1<<T|g<<E|b,Gi=a}function Qc(a){a.return!==null&&(Sl(a,1),Xm(a,1,0))}function xl(a){for(;a===Ph;)Ph=Ou[--jr],Ou[jr]=null,Oh=Ou[--jr],Ou[jr]=null;for(;a===_l;)_l=Ks[--Gs],Ks[Gs]=null,Gi=Ks[--Gs],Ks[Gs]=null,Ki=Ks[--Gs],Ks[Gs]=null}var $r=null,Ts=null,En=!1,bi=null;function Vi(a,l){var g=ti(5,null,null,0);g.elementType="DELETED",g.stateNode=l,g.return=a,l=a.deletions,l===null?(a.deletions=[g],a.flags|=16):l.push(g)}function Th(a,l){switch(a.tag){case 5:var g=a.type;return l=l.nodeType!==1||g.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,$r=a,Ts=lo(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,$r=a,Ts=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(g=_l!==null?{id:Ki,overflow:Gi}:null,a.memoizedState={dehydrated:l,treeContext:g,retryLane:1073741824},g=ti(18,null,null,0),g.stateNode=l,g.return=a,a.child=g,$r=a,Ts=null,!0):!1;default:return!1}}function Oa(a){return(a.mode&1)!==0&&(a.flags&128)===0}function fs(a){if(En){var l=Ts;if(l){var g=l;if(!Th(a,l)){if(Oa(a))throw Error(t(418));l=lo(g.nextSibling);var b=$r;l&&Th(a,l)?Vi(b,g):(a.flags=a.flags&-4097|2,En=!1,$r=a)}}else{if(Oa(a))throw Error(t(418));a.flags=a.flags&-4097|2,En=!1,$r=a}}}function Zm(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;$r=a}function Jc(a){if(a!==$r)return!1;if(!En)return Zm(a),En=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Gc(a.type,a.memoizedProps)),l&&(l=Ts)){if(Oa(a))throw Up(),Error(t(418));for(;l;)Vi(a,l),l=lo(l.nextSibling)}if(Zm(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(l===0){Ts=lo(a.nextSibling);break e}l--}else g!=="$"&&g!=="$!"&&g!=="$?"||l++}a=a.nextSibling}Ts=null}}else Ts=$r?lo(a.stateNode.nextSibling):null;return!0}function Up(){for(var a=Ts;a;)a=lo(a.nextSibling)}function Qi(){Ts=$r=null,En=!1}function Ji(a){bi===null?bi=[a]:bi.push(a)}var ev=V.ReactCurrentBatchConfig;function Xc(a,l,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var b=g.stateNode}if(!b)throw Error(t(147,a));var E=b,T=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function($){var ee=E.refs;$===null?delete ee[T]:ee[T]=$},l._stringRef=T,l)}if(typeof a!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,a))}return a}function kl(a,l){throw a=Object.prototype.toString.call(l),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function tv(a){var l=a._init;return l(a._payload)}function Bp(a){function l(Se,he){if(a){var ke=Se.deletions;ke===null?(Se.deletions=[he],Se.flags|=16):ke.push(he)}}function g(Se,he){if(!a)return null;for(;he!==null;)l(Se,he),he=he.sibling;return null}function b(Se,he){for(Se=new Map;he!==null;)he.key!==null?Se.set(he.key,he):Se.set(he.index,he),he=he.sibling;return Se}function E(Se,he){return Se=Ci(Se,he),Se.index=0,Se.sibling=null,Se}function T(Se,he,ke){return Se.index=ke,a?(ke=Se.alternate,ke!==null?(ke=ke.index,ke<he?(Se.flags|=2,he):ke):(Se.flags|=2,he)):(Se.flags|=1048576,he)}function $(Se){return a&&Se.alternate===null&&(Se.flags|=2),Se}function ee(Se,he,ke,Ye){return he===null||he.tag!==6?(he=Pg(ke,Se.mode,Ye),he.return=Se,he):(he=E(he,ke),he.return=Se,he)}function le(Se,he,ke,Ye){var dt=ke.type;return dt===B?Be(Se,he,ke.props.children,Ye,ke.key):he!==null&&(he.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===ye&&tv(dt)===he.type)?(Ye=E(he,ke.props),Ye.ref=Xc(Se,he,ke),Ye.return=Se,Ye):(Ye=df(ke.type,ke.key,ke.props,null,Se.mode,Ye),Ye.ref=Xc(Se,he,ke),Ye.return=Se,Ye)}function Oe(Se,he,ke,Ye){return he===null||he.tag!==4||he.stateNode.containerInfo!==ke.containerInfo||he.stateNode.implementation!==ke.implementation?(he=Og(ke,Se.mode,Ye),he.return=Se,he):(he=E(he,ke.children||[]),he.return=Se,he)}function Be(Se,he,ke,Ye,dt){return he===null||he.tag!==7?(he=Rl(ke,Se.mode,Ye,dt),he.return=Se,he):(he=E(he,ke),he.return=Se,he)}function ze(Se,he,ke){if(typeof he=="string"&&he!==""||typeof he=="number")return he=Pg(""+he,Se.mode,ke),he.return=Se,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case z:return ke=df(he.type,he.key,he.props,null,Se.mode,ke),ke.ref=Xc(Se,null,he),ke.return=Se,ke;case Y:return he=Og(he,Se.mode,ke),he.return=Se,he;case ye:var Ye=he._init;return ze(Se,Ye(he._payload),ke)}if(Bn(he)||Ae(he))return he=Rl(he,Se.mode,ke,null),he.return=Se,he;kl(Se,he)}return null}function Ue(Se,he,ke,Ye){var dt=he!==null?he.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return dt!==null?null:ee(Se,he,""+ke,Ye);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case z:return ke.key===dt?le(Se,he,ke,Ye):null;case Y:return ke.key===dt?Oe(Se,he,ke,Ye):null;case ye:return dt=ke._init,Ue(Se,he,dt(ke._payload),Ye)}if(Bn(ke)||Ae(ke))return dt!==null?null:Be(Se,he,ke,Ye,null);kl(Se,ke)}return null}function et(Se,he,ke,Ye,dt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return Se=Se.get(ke)||null,ee(he,Se,""+Ye,dt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case z:return Se=Se.get(Ye.key===null?ke:Ye.key)||null,le(he,Se,Ye,dt);case Y:return Se=Se.get(Ye.key===null?ke:Ye.key)||null,Oe(he,Se,Ye,dt);case ye:var yt=Ye._init;return et(Se,he,ke,yt(Ye._payload),dt)}if(Bn(Ye)||Ae(Ye))return Se=Se.get(ke)||null,Be(he,Se,Ye,dt,null);kl(he,Ye)}return null}function ot(Se,he,ke,Ye){for(var dt=null,yt=null,vt=he,St=he=0,vr=null;vt!==null&&St<ke.length;St++){vt.index>St?(vr=vt,vt=null):vr=vt.sibling;var en=Ue(Se,vt,ke[St],Ye);if(en===null){vt===null&&(vt=vr);break}a&&vt&&en.alternate===null&&l(Se,vt),he=T(en,he,St),yt===null?dt=en:yt.sibling=en,yt=en,vt=vr}if(St===ke.length)return g(Se,vt),En&&Sl(Se,St),dt;if(vt===null){for(;St<ke.length;St++)vt=ze(Se,ke[St],Ye),vt!==null&&(he=T(vt,he,St),yt===null?dt=vt:yt.sibling=vt,yt=vt);return En&&Sl(Se,St),dt}for(vt=b(Se,vt);St<ke.length;St++)vr=et(vt,Se,St,ke[St],Ye),vr!==null&&(a&&vr.alternate!==null&&vt.delete(vr.key===null?St:vr.key),he=T(vr,he,St),yt===null?dt=vr:yt.sibling=vr,yt=vr);return a&&vt.forEach(function(ko){return l(Se,ko)}),En&&Sl(Se,St),dt}function lt(Se,he,ke,Ye){var dt=Ae(ke);if(typeof dt!="function")throw Error(t(150));if(ke=dt.call(ke),ke==null)throw Error(t(151));for(var yt=dt=null,vt=he,St=he=0,vr=null,en=ke.next();vt!==null&&!en.done;St++,en=ke.next()){vt.index>St?(vr=vt,vt=null):vr=vt.sibling;var ko=Ue(Se,vt,en.value,Ye);if(ko===null){vt===null&&(vt=vr);break}a&&vt&&ko.alternate===null&&l(Se,vt),he=T(ko,he,St),yt===null?dt=ko:yt.sibling=ko,yt=ko,vt=vr}if(en.done)return g(Se,vt),En&&Sl(Se,St),dt;if(vt===null){for(;!en.done;St++,en=ke.next())en=ze(Se,en.value,Ye),en!==null&&(he=T(en,he,St),yt===null?dt=en:yt.sibling=en,yt=en);return En&&Sl(Se,St),dt}for(vt=b(Se,vt);!en.done;St++,en=ke.next())en=et(vt,Se,St,en.value,Ye),en!==null&&(a&&en.alternate!==null&&vt.delete(en.key===null?St:en.key),he=T(en,he,St),yt===null?dt=en:yt.sibling=en,yt=en);return a&&vt.forEach(function(zb){return l(Se,zb)}),En&&Sl(Se,St),dt}function Hn(Se,he,ke,Ye){if(typeof ke=="object"&&ke!==null&&ke.type===B&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case z:e:{for(var dt=ke.key,yt=he;yt!==null;){if(yt.key===dt){if(dt=ke.type,dt===B){if(yt.tag===7){g(Se,yt.sibling),he=E(yt,ke.props.children),he.return=Se,Se=he;break e}}else if(yt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===ye&&tv(dt)===yt.type){g(Se,yt.sibling),he=E(yt,ke.props),he.ref=Xc(Se,yt,ke),he.return=Se,Se=he;break e}g(Se,yt);break}else l(Se,yt);yt=yt.sibling}ke.type===B?(he=Rl(ke.props.children,Se.mode,Ye,ke.key),he.return=Se,Se=he):(Ye=df(ke.type,ke.key,ke.props,null,Se.mode,Ye),Ye.ref=Xc(Se,he,ke),Ye.return=Se,Se=Ye)}return $(Se);case Y:e:{for(yt=ke.key;he!==null;){if(he.key===yt)if(he.tag===4&&he.stateNode.containerInfo===ke.containerInfo&&he.stateNode.implementation===ke.implementation){g(Se,he.sibling),he=E(he,ke.children||[]),he.return=Se,Se=he;break e}else{g(Se,he);break}else l(Se,he);he=he.sibling}he=Og(ke,Se.mode,Ye),he.return=Se,Se=he}return $(Se);case ye:return yt=ke._init,Hn(Se,he,yt(ke._payload),Ye)}if(Bn(ke))return ot(Se,he,ke,Ye);if(Ae(ke))return lt(Se,he,ke,Ye);kl(Se,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,he!==null&&he.tag===6?(g(Se,he.sibling),he=E(he,ke),he.return=Se,Se=he):(g(Se,he),he=Pg(ke,Se.mode,Ye),he.return=Se,Se=he),$(Se)):g(Se,he)}return Hn}var Un=Bp(!0),Dh=Bp(!1),Zc=cs(null),Ds=null,fo=null,Tu=null;function Ta(){Tu=fo=Ds=null}function Nh(a){var l=Zc.current;kn(Zc),a._currentValue=l}function kr(a,l,g){for(;a!==null;){var b=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),a===g)break;a=a.return}}function po(a,l){Ds=a,Tu=fo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Zr=!0),a.firstContext=null)}function Vs(a){var l=a._currentValue;if(Tu!==a)if(a={context:a,memoizedValue:l,next:null},fo===null){if(Ds===null)throw Error(t(308));fo=a,Ds.dependencies={lanes:0,firstContext:a}}else fo=fo.next=a;return l}var El=null;function Wp(a){El===null?El=[a]:El.push(a)}function Ah(a,l,g,b){var E=l.interleaved;return E===null?(g.next=g,Wp(l)):(g.next=E.next,E.next=g),l.interleaved=g,Da(a,b)}function Da(a,l){a.lanes|=l;var g=a.alternate;for(g!==null&&(g.lanes|=l),g=a,a=a.return;a!==null;)a.childLanes|=l,g=a.alternate,g!==null&&(g.childLanes|=l),g=a,a=a.return;return g.tag===3?g.stateNode:null}var Qs=!1;function Ih(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nv(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Na(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Js(a,l,g){var b=a.updateQueue;if(b===null)return null;if(b=b.shared,(Vt&2)!==0){var E=b.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),b.pending=l,Da(a,g)}return E=b.interleaved,E===null?(l.next=l,Wp(b)):(l.next=E.next,E.next=l),b.interleaved=l,Da(a,g)}function Mh(a,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194240)!==0)){var b=l.lanes;b&=a.pendingLanes,g|=b,l.lanes=g,cl(a,g)}}function rv(a,l){var g=a.updateQueue,b=a.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var E=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var $={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};T===null?E=T=$:T=T.next=$,g=g.next}while(g!==null);T===null?E=T=l:T=T.next=l}else E=T=l;g={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:b.shared,effects:b.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=l:a.next=l,g.lastBaseUpdate=l}function Du(a,l,g,b){var E=a.updateQueue;Qs=!1;var T=E.firstBaseUpdate,$=E.lastBaseUpdate,ee=E.shared.pending;if(ee!==null){E.shared.pending=null;var le=ee,Oe=le.next;le.next=null,$===null?T=Oe:$.next=Oe,$=le;var Be=a.alternate;Be!==null&&(Be=Be.updateQueue,ee=Be.lastBaseUpdate,ee!==$&&(ee===null?Be.firstBaseUpdate=Oe:ee.next=Oe,Be.lastBaseUpdate=le))}if(T!==null){var ze=E.baseState;$=0,Be=Oe=le=null,ee=T;do{var Ue=ee.lane,et=ee.eventTime;if((b&Ue)===Ue){Be!==null&&(Be=Be.next={eventTime:et,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var ot=a,lt=ee;switch(Ue=l,et=g,lt.tag){case 1:if(ot=lt.payload,typeof ot=="function"){ze=ot.call(et,ze,Ue);break e}ze=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=lt.payload,Ue=typeof ot=="function"?ot.call(et,ze,Ue):ot,Ue==null)break e;ze=Te({},ze,Ue);break e;case 2:Qs=!0}}ee.callback!==null&&ee.lane!==0&&(a.flags|=64,Ue=E.effects,Ue===null?E.effects=[ee]:Ue.push(ee))}else et={eventTime:et,lane:Ue,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Be===null?(Oe=Be=et,le=ze):Be=Be.next=et,$|=Ue;if(ee=ee.next,ee===null){if(ee=E.shared.pending,ee===null)break;Ue=ee,ee=Ue.next,Ue.next=null,E.lastBaseUpdate=Ue,E.shared.pending=null}}while(!0);if(Be===null&&(le=ze),E.baseState=le,E.firstBaseUpdate=Oe,E.lastBaseUpdate=Be,l=E.shared.interleaved,l!==null){E=l;do $|=E.lane,E=E.next;while(E!==l)}else T===null&&(E.shared.lanes=0);bo|=$,a.lanes=$,a.memoizedState=ze}}function Hp(a,l,g){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var b=a[l],E=b.callback;if(E!==null){if(b.callback=null,b=g,typeof E!="function")throw Error(t(191,E));E.call(b)}}}var ed={},Xi=cs(ed),td=cs(ed),Nu=cs(ed);function Aa(a){if(a===ed)throw Error(t(174));return a}function zp(a,l){switch(_n(Nu,l),_n(td,a),_n(Xi,ed),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:qr(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=qr(l,a)}kn(Xi),_n(Xi,l)}function go(){kn(Xi),kn(td),kn(Nu)}function qp(a){Aa(Nu.current);var l=Aa(Xi.current),g=qr(l,a.type);l!==g&&(_n(td,a),_n(Xi,g))}function Rh(a){td.current===a&&(kn(Xi),kn(td))}var Tn=cs(0);function Cl(a){for(var l=a;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Yp=[];function jh(){for(var a=0;a<Yp.length;a++)Yp[a]._workInProgressVersionPrimary=null;Yp.length=0}var nd=V.ReactCurrentDispatcher,Kp=V.ReactCurrentBatchConfig,mo=0,jn=null,Wn=null,ir=null,Au=!1,rd=!1,Pl=0,jt=0;function Lr(){throw Error(t(321))}function Gp(a,l){if(l===null)return!1;for(var g=0;g<l.length&&g<a.length;g++)if(!xe(a[g],l[g]))return!1;return!0}function Ol(a,l,g,b,E,T){if(mo=T,jn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,nd.current=a===null||a.memoizedState===null?Eb:Hh,a=g(b,E),rd){T=0;do{if(rd=!1,Pl=0,25<=T)throw Error(t(301));T+=1,ir=Wn=null,l.updateQueue=null,nd.current=ju,a=g(b,E)}while(rd)}if(nd.current=Wh,l=Wn!==null&&Wn.next!==null,mo=0,ir=Wn=jn=null,Au=!1,l)throw Error(t(300));return a}function $h(){var a=Pl!==0;return Pl=0,a}function Zi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?jn.memoizedState=ir=a:ir=ir.next=a,ir}function Xs(){if(Wn===null){var a=jn.alternate;a=a!==null?a.memoizedState:null}else a=Wn.next;var l=ir===null?jn.memoizedState:ir.next;if(l!==null)ir=l,Wn=a;else{if(a===null)throw Error(t(310));Wn=a,a={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},ir===null?jn.memoizedState=ir=a:ir=ir.next=a}return ir}function Fr(a,l){return typeof l=="function"?l(a):l}function Vp(a){var l=Xs(),g=l.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var b=Wn,E=b.baseQueue,T=g.pending;if(T!==null){if(E!==null){var $=E.next;E.next=T.next,T.next=$}b.baseQueue=E=T,g.pending=null}if(E!==null){T=E.next,b=b.baseState;var ee=$=null,le=null,Oe=T;do{var Be=Oe.lane;if((mo&Be)===Be)le!==null&&(le=le.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),b=Oe.hasEagerState?Oe.eagerState:a(b,Oe.action);else{var ze={lane:Be,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};le===null?(ee=le=ze,$=b):le=le.next=ze,jn.lanes|=Be,bo|=Be}Oe=Oe.next}while(Oe!==null&&Oe!==T);le===null?$=b:le.next=ee,xe(b,l.memoizedState)||(Zr=!0),l.memoizedState=b,l.baseState=$,l.baseQueue=le,g.lastRenderedState=b}if(a=g.interleaved,a!==null){E=a;do T=E.lane,jn.lanes|=T,bo|=T,E=E.next;while(E!==a)}else E===null&&(g.lanes=0);return[l.memoizedState,g.dispatch]}function Iu(a){var l=Xs(),g=l.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var b=g.dispatch,E=g.pending,T=l.memoizedState;if(E!==null){g.pending=null;var $=E=E.next;do T=a(T,$.action),$=$.next;while($!==E);xe(T,l.memoizedState)||(Zr=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),g.lastRenderedState=T}return[T,b]}function Lh(){}function Qp(a,l){var g=jn,b=Xs(),E=l(),T=!xe(b.memoizedState,E);if(T&&(b.memoizedState=E,Zr=!0),b=b.queue,ea(Ia.bind(null,g,b,a),[a]),b.getSnapshot!==l||T||ir!==null&&ir.memoizedState.tag&1){if(g.flags|=2048,Mu(9,ps.bind(null,g,b,E,l),void 0,null),mr===null)throw Error(t(349));(mo&30)!==0||Jp(g,l,E)}return E}function Jp(a,l,g){a.flags|=16384,a={getSnapshot:l,value:g},l=jn.updateQueue,l===null?(l={lastEffect:null,stores:null},jn.updateQueue=l,l.stores=[a]):(g=l.stores,g===null?l.stores=[a]:g.push(a))}function ps(a,l,g,b){l.value=g,l.getSnapshot=b,Fh(l)&&Xp(a)}function Ia(a,l,g){return g(function(){Fh(l)&&Xp(a)})}function Fh(a){var l=a.getSnapshot;a=a.value;try{var g=l();return!xe(a,g)}catch{return!0}}function Xp(a){var l=Da(a,1);l!==null&&Ei(l,a,1,-1)}function sd(a){var l=Zi();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:a},l.queue=a,a=a.dispatch=uv.bind(null,jn,a),[l.memoizedState,a]}function Mu(a,l,g,b){return a={tag:a,create:l,destroy:g,deps:b,next:null},l=jn.updateQueue,l===null?(l={lastEffect:null,stores:null},jn.updateQueue=l,l.lastEffect=a.next=a):(g=l.lastEffect,g===null?l.lastEffect=a.next=a:(b=g.next,g.next=a,a.next=b,l.lastEffect=a)),a}function Uh(){return Xs().memoizedState}function id(a,l,g,b){var E=Zi();jn.flags|=a,E.memoizedState=Mu(1|l,g,void 0,b===void 0?null:b)}function Ru(a,l,g,b){var E=Xs();b=b===void 0?null:b;var T=void 0;if(Wn!==null){var $=Wn.memoizedState;if(T=$.destroy,b!==null&&Gp(b,$.deps)){E.memoizedState=Mu(l,g,T,b);return}}jn.flags|=a,E.memoizedState=Mu(1|l,g,T,b)}function Bh(a,l){return id(8390656,8,a,l)}function ea(a,l){return Ru(2048,8,a,l)}function sv(a,l){return Ru(4,2,a,l)}function Ma(a,l){return Ru(4,4,a,l)}function Zp(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function eg(a,l,g){return g=g!=null?g.concat([a]):null,Ru(4,4,Zp.bind(null,l,a),g)}function ad(){}function iv(a,l){var g=Xs();l=l===void 0?null:l;var b=g.memoizedState;return b!==null&&l!==null&&Gp(l,b[1])?b[0]:(g.memoizedState=[a,l],a)}function av(a,l){var g=Xs();l=l===void 0?null:l;var b=g.memoizedState;return b!==null&&l!==null&&Gp(l,b[1])?b[0]:(a=a(),g.memoizedState=[a,l],a)}function ov(a,l,g){return(mo&21)===0?(a.baseState&&(a.baseState=!1,Zr=!0),a.memoizedState=g):(xe(g,l)||(g=_r(),jn.lanes|=g,bo|=g,a.baseState=!0),l)}function lv(a,l){var g=Gt;Gt=g!==0&&4>g?g:4,a(!0);var b=Kp.transition;Kp.transition={};try{a(!1),l()}finally{Gt=g,Kp.transition=b}}function tg(){return Xs().memoizedState}function kb(a,l,g){var b=So(a);if(g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},ng(a))Xr(l,g);else if(g=Ah(a,l,g,b),g!==null){var E=ns();Ei(g,a,b,E),wi(g,l,b)}}function uv(a,l,g){var b=So(a),E={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(ng(a))Xr(l,E);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var $=l.lastRenderedState,ee=T($,g);if(E.hasEagerState=!0,E.eagerState=ee,xe(ee,$)){var le=l.interleaved;le===null?(E.next=E,Wp(l)):(E.next=le.next,le.next=E),l.interleaved=E;return}}catch{}finally{}g=Ah(a,l,E,b),g!==null&&(E=ns(),Ei(g,a,b,E),wi(g,l,b))}}function ng(a){var l=a.alternate;return a===jn||l!==null&&l===jn}function Xr(a,l){rd=Au=!0;var g=a.pending;g===null?l.next=l:(l.next=g.next,g.next=l),a.pending=l}function wi(a,l,g){if((g&4194240)!==0){var b=l.lanes;b&=a.pendingLanes,g|=b,l.lanes=g,cl(a,g)}}var Wh={readContext:Vs,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},Eb={readContext:Vs,useCallback:function(a,l){return Zi().memoizedState=[a,l===void 0?null:l],a},useContext:Vs,useEffect:Bh,useImperativeHandle:function(a,l,g){return g=g!=null?g.concat([a]):null,id(4194308,4,Zp.bind(null,l,a),g)},useLayoutEffect:function(a,l){return id(4194308,4,a,l)},useInsertionEffect:function(a,l){return id(4,2,a,l)},useMemo:function(a,l){var g=Zi();return l=l===void 0?null:l,a=a(),g.memoizedState=[a,l],a},useReducer:function(a,l,g){var b=Zi();return l=g!==void 0?g(l):l,b.memoizedState=b.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},b.queue=a,a=a.dispatch=kb.bind(null,jn,a),[b.memoizedState,a]},useRef:function(a){var l=Zi();return a={current:a},l.memoizedState=a},useState:sd,useDebugValue:ad,useDeferredValue:function(a){return Zi().memoizedState=a},useTransition:function(){var a=sd(!1),l=a[0];return a=lv.bind(null,a[1]),Zi().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,g){var b=jn,E=Zi();if(En){if(g===void 0)throw Error(t(407));g=g()}else{if(g=l(),mr===null)throw Error(t(349));(mo&30)!==0||Jp(b,l,g)}E.memoizedState=g;var T={value:g,getSnapshot:l};return E.queue=T,Bh(Ia.bind(null,b,T,a),[a]),b.flags|=2048,Mu(9,ps.bind(null,b,T,g,l),void 0,null),g},useId:function(){var a=Zi(),l=mr.identifierPrefix;if(En){var g=Gi,b=Ki;g=(b&~(1<<32-as(b)-1)).toString(32)+g,l=":"+l+"R"+g,g=Pl++,0<g&&(l+="H"+g.toString(32)),l+=":"}else g=jt++,l=":"+l+"r"+g.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},Hh={readContext:Vs,useCallback:iv,useContext:Vs,useEffect:ea,useImperativeHandle:eg,useInsertionEffect:sv,useLayoutEffect:Ma,useMemo:av,useReducer:Vp,useRef:Uh,useState:function(){return Vp(Fr)},useDebugValue:ad,useDeferredValue:function(a){var l=Xs();return ov(l,Wn.memoizedState,a)},useTransition:function(){var a=Vp(Fr)[0],l=Xs().memoizedState;return[a,l]},useMutableSource:Lh,useSyncExternalStore:Qp,useId:tg,unstable_isNewReconciler:!1},ju={readContext:Vs,useCallback:iv,useContext:Vs,useEffect:ea,useImperativeHandle:eg,useInsertionEffect:sv,useLayoutEffect:Ma,useMemo:av,useReducer:Iu,useRef:Uh,useState:function(){return Iu(Fr)},useDebugValue:ad,useDeferredValue:function(a){var l=Xs();return Wn===null?l.memoizedState=a:ov(l,Wn.memoizedState,a)},useTransition:function(){var a=Iu(Fr)[0],l=Xs().memoizedState;return[a,l]},useMutableSource:Lh,useSyncExternalStore:Qp,useId:tg,unstable_isNewReconciler:!1};function Zs(a,l){if(a&&a.defaultProps){l=Te({},l),a=a.defaultProps;for(var g in a)l[g]===void 0&&(l[g]=a[g]);return l}return l}function zh(a,l,g,b){l=a.memoizedState,g=g(b,l),g=g==null?l:Te({},l,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var qh={isMounted:function(a){return(a=a._reactInternals)?_s(a)===a:!1},enqueueSetState:function(a,l,g){a=a._reactInternals;var b=ns(),E=So(a),T=Na(b,E);T.payload=l,g!=null&&(T.callback=g),l=Js(a,T,E),l!==null&&(Ei(l,a,E,b),Mh(l,a,E))},enqueueReplaceState:function(a,l,g){a=a._reactInternals;var b=ns(),E=So(a),T=Na(b,E);T.tag=1,T.payload=l,g!=null&&(T.callback=g),l=Js(a,T,E),l!==null&&(Ei(l,a,E,b),Mh(l,a,E))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var g=ns(),b=So(a),E=Na(g,b);E.tag=2,l!=null&&(E.callback=l),l=Js(a,E,b),l!==null&&(Ei(l,a,b,g),Mh(l,a,b))}};function rg(a,l,g,b,E,T,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(b,T,$):l.prototype&&l.prototype.isPureReactComponent?!Ze(g,b)||!Ze(E,T):!0}function Tl(a,l,g){var b=!1,E=co,T=l.contextType;return typeof T=="object"&&T!==null?T=Vs(T):(E=hs(l)?Jr:Rr.current,b=l.contextTypes,T=(b=b!=null)?Pu(a,E):co),l=new l(g,T),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=qh,a.stateNode=l,l._reactInternals=a,b&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=E,a.__reactInternalMemoizedMaskedChildContext=T),l}function $u(a,l,g,b){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,b),l.state!==a&&qh.enqueueReplaceState(l,l.state,null)}function sg(a,l,g,b){var E=a.stateNode;E.props=g,E.state=a.memoizedState,E.refs={},Ih(a);var T=l.contextType;typeof T=="object"&&T!==null?E.context=Vs(T):(T=hs(l)?Jr:Rr.current,E.context=Pu(a,T)),E.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(zh(a,l,T,g),E.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(l=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),l!==E.state&&qh.enqueueReplaceState(E,E.state,null),Du(a,g,E,b),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308)}function Dl(a,l){try{var g="",b=l;do g+=st(b),b=b.return;while(b);var E=g}catch(T){E=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:l,stack:E,digest:null}}function Yh(a,l,g){return{value:a,source:null,stack:g??null,digest:l??null}}function Lu(a,l){try{console.error(l.value)}catch(g){setTimeout(function(){throw g})}}var cv=typeof WeakMap=="function"?WeakMap:Map;function od(a,l,g){g=Na(-1,g),g.tag=3,g.payload={element:null};var b=l.value;return g.callback=function(){rf||(rf=!0,wg=b),Lu(a,l)},g}function Kh(a,l,g){g=Na(-1,g),g.tag=3;var b=a.type.getDerivedStateFromError;if(typeof b=="function"){var E=l.value;g.payload=function(){return b(E)},g.callback=function(){Lu(a,l)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(g.callback=function(){Lu(a,l),typeof b!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),g}function ld(a,l,g){var b=a.pingCache;if(b===null){b=a.pingCache=new cv;var E=new Set;b.set(l,E)}else E=b.get(l),E===void 0&&(E=new Set,b.set(l,E));E.has(g)||(E.add(g),a=Ib.bind(null,a,l,g),l.then(a,a))}function dv(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function ig(a,l,g,b,E){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(l=Na(-1,1),l.tag=2,Js(g,l,1))),g.lanes|=1),a):(a.flags|=65536,a.lanes=E,a)}var Gh=V.ReactCurrentOwner,Zr=!1;function Er(a,l,g,b){l.child=a===null?Dh(l,null,g,b):Un(l,a.child,g,b)}function hv(a,l,g,b,E){g=g.render;var T=l.ref;return po(l,E),b=Ol(a,l,g,b,T,E),g=$h(),a!==null&&!Zr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~E,_i(a,l,E)):(En&&g&&Qc(l),l.flags|=1,Er(a,l,b,E),l.child)}function ag(a,l,g,b,E){if(a===null){var T=g.type;return typeof T=="function"&&!cf(T)&&T.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(l.tag=15,l.type=T,ta(a,l,T,b,E)):(a=df(g.type,null,b,l,l.mode,E),a.ref=l.ref,a.return=l,l.child=a)}if(T=a.child,(a.lanes&E)===0){var $=T.memoizedProps;if(g=g.compare,g=g!==null?g:Ze,g($,b)&&a.ref===l.ref)return _i(a,l,E)}return l.flags|=1,a=Ci(T,b),a.ref=l.ref,a.return=l,l.child=a}function ta(a,l,g,b,E){if(a!==null){var T=a.memoizedProps;if(Ze(T,b)&&a.ref===l.ref)if(Zr=!1,l.pendingProps=b=T,(a.lanes&E)!==0)(a.flags&131072)!==0&&(Zr=!0);else return l.lanes=a.lanes,_i(a,l,E)}return ug(a,l,g,b,E)}function og(a,l,g){var b=l.pendingProps,E=b.children,T=a!==null?a.memoizedState:null;if(b.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(Wu,As),As|=g;else{if((g&1073741824)===0)return a=T!==null?T.baseLanes|g:g,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,_n(Wu,As),As|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=T!==null?T.baseLanes:g,_n(Wu,As),As|=b}else T!==null?(b=T.baseLanes|g,l.memoizedState=null):b=g,_n(Wu,As),As|=b;return Er(a,l,E,g),l.child}function lg(a,l){var g=l.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(l.flags|=512,l.flags|=2097152)}function ug(a,l,g,b,E){var T=hs(g)?Jr:Rr.current;return T=Pu(l,T),po(l,E),g=Ol(a,l,g,b,T,E),b=$h(),a!==null&&!Zr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~E,_i(a,l,E)):(En&&b&&Qc(l),l.flags|=1,Er(a,l,g,E),l.child)}function cg(a,l,g,b,E){if(hs(g)){var T=!0;Ys(l)}else T=!1;if(po(l,E),l.stateNode===null)Qh(a,l),Tl(l,g,b),sg(l,g,b,E),b=!0;else if(a===null){var $=l.stateNode,ee=l.memoizedProps;$.props=ee;var le=$.context,Oe=g.contextType;typeof Oe=="object"&&Oe!==null?Oe=Vs(Oe):(Oe=hs(g)?Jr:Rr.current,Oe=Pu(l,Oe));var Be=g.getDerivedStateFromProps,ze=typeof Be=="function"||typeof $.getSnapshotBeforeUpdate=="function";ze||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ee!==b||le!==Oe)&&$u(l,$,b,Oe),Qs=!1;var Ue=l.memoizedState;$.state=Ue,Du(l,b,$,E),le=l.memoizedState,ee!==b||Ue!==le||ds.current||Qs?(typeof Be=="function"&&(zh(l,g,Be,b),le=l.memoizedState),(ee=Qs||rg(l,g,ee,b,Ue,le,Oe))?(ze||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=le),$.props=b,$.state=le,$.context=Oe,b=ee):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{$=l.stateNode,nv(a,l),ee=l.memoizedProps,Oe=l.type===l.elementType?ee:Zs(l.type,ee),$.props=Oe,ze=l.pendingProps,Ue=$.context,le=g.contextType,typeof le=="object"&&le!==null?le=Vs(le):(le=hs(g)?Jr:Rr.current,le=Pu(l,le));var et=g.getDerivedStateFromProps;(Be=typeof et=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ee!==ze||Ue!==le)&&$u(l,$,b,le),Qs=!1,Ue=l.memoizedState,$.state=Ue,Du(l,b,$,E);var ot=l.memoizedState;ee!==ze||Ue!==ot||ds.current||Qs?(typeof et=="function"&&(zh(l,g,et,b),ot=l.memoizedState),(Oe=Qs||rg(l,g,Oe,b,Ue,ot,le)||!1)?(Be||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(b,ot,le),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(b,ot,le)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||ee===a.memoizedProps&&Ue===a.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===a.memoizedProps&&Ue===a.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=ot),$.props=b,$.state=ot,$.context=le,b=Oe):(typeof $.componentDidUpdate!="function"||ee===a.memoizedProps&&Ue===a.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===a.memoizedProps&&Ue===a.memoizedState||(l.flags|=1024),b=!1)}return dg(a,l,g,b,T,E)}function dg(a,l,g,b,E,T){lg(a,l);var $=(l.flags&128)!==0;if(!b&&!$)return E&&Qm(l,g,!1),_i(a,l,T);b=l.stateNode,Gh.current=l;var ee=$&&typeof g.getDerivedStateFromError!="function"?null:b.render();return l.flags|=1,a!==null&&$?(l.child=Un(l,a.child,null,T),l.child=Un(l,null,ee,T)):Er(a,l,ee,T),l.memoizedState=b.state,E&&Qm(l,g,!0),l.child}function fv(a){var l=a.stateNode;l.pendingContext?Gm(a,l.pendingContext,l.pendingContext!==l.context):l.context&&Gm(a,l.context,!1),zp(a,l.containerInfo)}function na(a,l,g,b,E){return Qi(),Ji(E),l.flags|=256,Er(a,l,g,b),l.child}var ud={dehydrated:null,treeContext:null,retryLane:0};function cd(a){return{baseLanes:a,cachePool:null,transitions:null}}function Vh(a,l,g){var b=l.pendingProps,E=Tn.current,T=!1,$=(l.flags&128)!==0,ee;if((ee=$)||(ee=a!==null&&a.memoizedState===null?!1:(E&2)!==0),ee?(T=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(E|=1),_n(Tn,E&1),a===null)return fs(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=b.children,a=b.fallback,T?(b=l.mode,T=l.child,$={mode:"hidden",children:$},(b&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=$):T=hf($,b,0,null),a=Rl(a,b,g,null),T.return=l,a.return=l,T.sibling=a,l.child=T,l.child.memoizedState=cd(g),l.memoizedState=ud,a):Fu(l,$));if(E=a.memoizedState,E!==null&&(ee=E.dehydrated,ee!==null))return wt(a,l,$,b,ee,E,g);if(T){T=b.fallback,$=l.mode,E=a.child,ee=E.sibling;var le={mode:"hidden",children:b.children};return($&1)===0&&l.child!==E?(b=l.child,b.childLanes=0,b.pendingProps=le,l.deletions=null):(b=Ci(E,le),b.subtreeFlags=E.subtreeFlags&14680064),ee!==null?T=Ci(ee,T):(T=Rl(T,$,g,null),T.flags|=2),T.return=l,b.return=l,b.sibling=T,l.child=b,b=T,T=l.child,$=a.child.memoizedState,$=$===null?cd(g):{baseLanes:$.baseLanes|g,cachePool:null,transitions:$.transitions},T.memoizedState=$,T.childLanes=a.childLanes&~g,l.memoizedState=ud,b}return T=a.child,a=T.sibling,b=Ci(T,{mode:"visible",children:b.children}),(l.mode&1)===0&&(b.lanes=g),b.return=l,b.sibling=null,a!==null&&(g=l.deletions,g===null?(l.deletions=[a],l.flags|=16):g.push(a)),l.child=b,l.memoizedState=null,b}function Fu(a,l){return l=hf({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Ra(a,l,g,b){return b!==null&&Ji(b),Un(l,a.child,null,g),a=Fu(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function wt(a,l,g,b,E,T,$){if(g)return l.flags&256?(l.flags&=-257,b=Yh(Error(t(422))),Ra(a,l,$,b)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(T=b.fallback,E=l.mode,b=hf({mode:"visible",children:b.children},E,0,null),T=Rl(T,E,$,null),T.flags|=2,b.return=l,T.return=l,b.sibling=T,l.child=b,(l.mode&1)!==0&&Un(l,a.child,null,$),l.child.memoizedState=cd($),l.memoizedState=ud,T);if((l.mode&1)===0)return Ra(a,l,$,null);if(E.data==="$!"){if(b=E.nextSibling&&E.nextSibling.dataset,b)var ee=b.dgst;return b=ee,T=Error(t(419)),b=Yh(T,b,void 0),Ra(a,l,$,b)}if(ee=($&a.childLanes)!==0,Zr||ee){if(b=mr,b!==null){switch($&-$){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(b.suspendedLanes|$))!==0?0:E,E!==0&&E!==T.retryLane&&(T.retryLane=E,Da(a,E),Ei(b,a,E,-1))}return Cg(),b=Yh(Error(t(421))),Ra(a,l,$,b)}return E.data==="$?"?(l.flags|=128,l.child=a.child,l=Mb.bind(null,a),E._reactRetry=l,null):(a=T.treeContext,Ts=lo(E.nextSibling),$r=l,En=!0,bi=null,a!==null&&(Ks[Gs++]=Ki,Ks[Gs++]=Gi,Ks[Gs++]=_l,Ki=a.id,Gi=a.overflow,_l=l),l=Fu(l,b.children),l.flags|=4096,l)}function dd(a,l,g){a.lanes|=l;var b=a.alternate;b!==null&&(b.lanes|=l),kr(a.return,l,g)}function hd(a,l,g,b,E){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:E}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=g,T.tailMode=E)}function vo(a,l,g){var b=l.pendingProps,E=b.revealOrder,T=b.tail;if(Er(a,l,b.children,g),b=Tn.current,(b&2)!==0)b=b&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&dd(a,g,l);else if(a.tag===19)dd(a,g,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}b&=1}if(_n(Tn,b),(l.mode&1)===0)l.memoizedState=null;else switch(E){case"forwards":for(g=l.child,E=null;g!==null;)a=g.alternate,a!==null&&Cl(a)===null&&(E=g),g=g.sibling;g=E,g===null?(E=l.child,l.child=null):(E=g.sibling,g.sibling=null),hd(l,!1,E,g,T);break;case"backwards":for(g=null,E=l.child,l.child=null;E!==null;){if(a=E.alternate,a!==null&&Cl(a)===null){l.child=E;break}a=E.sibling,E.sibling=g,g=E,E=a}hd(l,!0,g,null,T);break;case"together":hd(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Qh(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function _i(a,l,g){if(a!==null&&(l.dependencies=a.dependencies),bo|=l.lanes,(g&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(t(153));if(l.child!==null){for(a=l.child,g=Ci(a,a.pendingProps),l.child=g,g.return=l;a.sibling!==null;)a=a.sibling,g=g.sibling=Ci(a,a.pendingProps),g.return=l;g.sibling=null}return l.child}function pv(a,l,g){switch(l.tag){case 3:fv(l),Qi();break;case 5:qp(l);break;case 1:hs(l.type)&&Ys(l);break;case 4:zp(l,l.stateNode.containerInfo);break;case 10:var b=l.type._context,E=l.memoizedProps.value;_n(Zc,b._currentValue),b._currentValue=E;break;case 13:if(b=l.memoizedState,b!==null)return b.dehydrated!==null?(_n(Tn,Tn.current&1),l.flags|=128,null):(g&l.child.childLanes)!==0?Vh(a,l,g):(_n(Tn,Tn.current&1),a=_i(a,l,g),a!==null?a.sibling:null);_n(Tn,Tn.current&1);break;case 19:if(b=(g&l.childLanes)!==0,(a.flags&128)!==0){if(b)return vo(a,l,g);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),_n(Tn,Tn.current),b)break;return null;case 22:case 23:return l.lanes=0,og(a,l,g)}return _i(a,l,g)}var Cr,hg,gv,fg;Cr=function(a,l){for(var g=l.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break;for(;g.sibling===null;){if(g.return===null||g.return===l)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},hg=function(){},gv=function(a,l,g,b){var E=a.memoizedProps;if(E!==b){a=l.stateNode,Aa(Xi.current);var T=null;switch(g){case"input":E=Kn(a,E),b=Kn(a,b),T=[];break;case"select":E=Te({},E,{value:void 0}),b=Te({},b,{value:void 0}),T=[];break;case"textarea":E=Us(a,E),b=Us(a,b),T=[];break;default:typeof E.onClick!="function"&&typeof b.onClick=="function"&&(a.onclick=_h)}tl(g,b);var $;g=null;for(Oe in E)if(!b.hasOwnProperty(Oe)&&E.hasOwnProperty(Oe)&&E[Oe]!=null)if(Oe==="style"){var ee=E[Oe];for($ in ee)ee.hasOwnProperty($)&&(g||(g={}),g[$]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(s.hasOwnProperty(Oe)?T||(T=[]):(T=T||[]).push(Oe,null));for(Oe in b){var le=b[Oe];if(ee=E?.[Oe],b.hasOwnProperty(Oe)&&le!==ee&&(le!=null||ee!=null))if(Oe==="style")if(ee){for($ in ee)!ee.hasOwnProperty($)||le&&le.hasOwnProperty($)||(g||(g={}),g[$]="");for($ in le)le.hasOwnProperty($)&&ee[$]!==le[$]&&(g||(g={}),g[$]=le[$])}else g||(T||(T=[]),T.push(Oe,g)),g=le;else Oe==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,ee=ee?ee.__html:void 0,le!=null&&ee!==le&&(T=T||[]).push(Oe,le)):Oe==="children"?typeof le!="string"&&typeof le!="number"||(T=T||[]).push(Oe,""+le):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(s.hasOwnProperty(Oe)?(le!=null&&Oe==="onScroll"&&xn("scroll",a),T||ee===le||(T=[])):(T=T||[]).push(Oe,le))}g&&(T=T||[]).push("style",g);var Oe=T;(l.updateQueue=Oe)&&(l.flags|=4)}},fg=function(a,l,g,b){g!==b&&(l.flags|=4)};function fd(a,l){if(!En)switch(a.tailMode){case"hidden":l=a.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:b.sibling=null}}function Pr(a){var l=a.alternate!==null&&a.alternate.child===a.child,g=0,b=0;if(l)for(var E=a.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags&14680064,b|=E.flags&14680064,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=b,a.childLanes=g,l}function Cb(a,l,g){var b=l.pendingProps;switch(xl(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(l),null;case 1:return hs(l.type)&&Eh(),Pr(l),null;case 3:return b=l.stateNode,go(),kn(ds),kn(Rr),jh(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(a===null||a.child===null)&&(Jc(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,bi!==null&&(xg(bi),bi=null))),hg(a,l),Pr(l),null;case 5:Rh(l);var E=Aa(Nu.current);if(g=l.type,a!==null&&l.stateNode!=null)gv(a,l,g,b,E),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!b){if(l.stateNode===null)throw Error(t(166));return Pr(l),null}if(a=Aa(Xi.current),Jc(l)){b=l.stateNode,g=l.type;var T=l.memoizedProps;switch(b[qi]=l,b[uo]=T,a=(l.mode&1)!==0,g){case"dialog":xn("cancel",b),xn("close",b);break;case"iframe":case"object":case"embed":xn("load",b);break;case"video":case"audio":for(E=0;E<Ca.length;E++)xn(Ca[E],b);break;case"source":xn("error",b);break;case"img":case"image":case"link":xn("error",b),xn("load",b);break;case"details":xn("toggle",b);break;case"input":fi(b,T),xn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!T.multiple},xn("invalid",b);break;case"textarea":Ri(b,T),xn("invalid",b)}tl(g,T),E=null;for(var $ in T)if(T.hasOwnProperty($)){var ee=T[$];$==="children"?typeof ee=="string"?b.textContent!==ee&&(T.suppressHydrationWarning!==!0&&Yc(b.textContent,ee,a),E=["children",ee]):typeof ee=="number"&&b.textContent!==""+ee&&(T.suppressHydrationWarning!==!0&&Yc(b.textContent,ee,a),E=["children",""+ee]):s.hasOwnProperty($)&&ee!=null&&$==="onScroll"&&xn("scroll",b)}switch(g){case"input":On(b),Jo(b,T,!0);break;case"textarea":On(b),pi(b);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(b.onclick=_h)}b=E,l.updateQueue=b,b!==null&&(l.flags|=4)}else{$=E.nodeType===9?E:E.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=on(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=$.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof b.is=="string"?a=$.createElement(g,{is:b.is}):(a=$.createElement(g),g==="select"&&($=a,b.multiple?$.multiple=!0:b.size&&($.size=b.size))):a=$.createElementNS(a,g),a[qi]=l,a[uo]=b,Cr(a,l,!1,!1),l.stateNode=a;e:{switch($=nl(g,b),g){case"dialog":xn("cancel",a),xn("close",a),E=b;break;case"iframe":case"object":case"embed":xn("load",a),E=b;break;case"video":case"audio":for(E=0;E<Ca.length;E++)xn(Ca[E],a);E=b;break;case"source":xn("error",a),E=b;break;case"img":case"image":case"link":xn("error",a),xn("load",a),E=b;break;case"details":xn("toggle",a),E=b;break;case"input":fi(a,b),E=Kn(a,b),xn("invalid",a);break;case"option":E=b;break;case"select":a._wrapperState={wasMultiple:!!b.multiple},E=Te({},b,{value:void 0}),xn("invalid",a);break;case"textarea":Ri(a,b),E=Us(a,b),xn("invalid",a);break;default:E=b}tl(g,E),ee=E;for(T in ee)if(ee.hasOwnProperty(T)){var le=ee[T];T==="style"?el(a,le):T==="dangerouslySetInnerHTML"?(le=le?le.__html:void 0,le!=null&&Yr(a,le)):T==="children"?typeof le=="string"?(g!=="textarea"||le!=="")&&gt(a,le):typeof le=="number"&&gt(a,""+le):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(s.hasOwnProperty(T)?le!=null&&T==="onScroll"&&xn("scroll",a):le!=null&&W(a,T,le,$))}switch(g){case"input":On(a),Jo(a,b,!1);break;case"textarea":On(a),pi(a);break;case"option":b.value!=null&&a.setAttribute("value",""+_t(b.value));break;case"select":a.multiple=!!b.multiple,T=b.value,T!=null?gn(a,!!b.multiple,T,!1):b.defaultValue!=null&&gn(a,!!b.multiple,b.defaultValue,!0);break;default:typeof E.onClick=="function"&&(a.onclick=_h)}switch(g){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Pr(l),null;case 6:if(a&&l.stateNode!=null)fg(a,l,a.memoizedProps,b);else{if(typeof b!="string"&&l.stateNode===null)throw Error(t(166));if(g=Aa(Nu.current),Aa(Xi.current),Jc(l)){if(b=l.stateNode,g=l.memoizedProps,b[qi]=l,(T=b.nodeValue!==g)&&(a=$r,a!==null))switch(a.tag){case 3:Yc(b.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Yc(b.nodeValue,g,(a.mode&1)!==0)}T&&(l.flags|=4)}else b=(g.nodeType===9?g:g.ownerDocument).createTextNode(b),b[qi]=l,l.stateNode=b}return Pr(l),null;case 13:if(kn(Tn),b=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(En&&Ts!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Up(),Qi(),l.flags|=98560,T=!1;else if(T=Jc(l),b!==null&&b.dehydrated!==null){if(a===null){if(!T)throw Error(t(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[qi]=l}else Qi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pr(l),T=!1}else bi!==null&&(xg(bi),bi=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=g,l):(b=b!==null,b!==(a!==null&&a.memoizedState!==null)&&b&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Tn.current&1)!==0?ar===0&&(ar=3):Cg())),l.updateQueue!==null&&(l.flags|=4),Pr(l),null);case 4:return go(),hg(a,l),a===null&&ao(l.stateNode.containerInfo),Pr(l),null;case 10:return Nh(l.type._context),Pr(l),null;case 17:return hs(l.type)&&Eh(),Pr(l),null;case 19:if(kn(Tn),T=l.memoizedState,T===null)return Pr(l),null;if(b=(l.flags&128)!==0,$=T.rendering,$===null)if(b)fd(T,!1);else{if(ar!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if($=Cl(a),$!==null){for(l.flags|=128,fd(T,!1),b=$.updateQueue,b!==null&&(l.updateQueue=b,l.flags|=4),l.subtreeFlags=0,b=g,g=l.child;g!==null;)T=g,a=b,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=a,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,a=$.dependencies,T.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return _n(Tn,Tn.current&1|2),l.child}a=a.sibling}T.tail!==null&&nn()>Nl&&(l.flags|=128,b=!0,fd(T,!1),l.lanes=4194304)}else{if(!b)if(a=Cl($),a!==null){if(l.flags|=128,b=!0,g=a.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),fd(T,!0),T.tail===null&&T.tailMode==="hidden"&&!$.alternate&&!En)return Pr(l),null}else 2*nn()-T.renderingStartTime>Nl&&g!==1073741824&&(l.flags|=128,b=!0,fd(T,!1),l.lanes=4194304);T.isBackwards?($.sibling=l.child,l.child=$):(g=T.last,g!==null?g.sibling=$:l.child=$,T.last=$)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=nn(),l.sibling=null,g=Tn.current,_n(Tn,b?g&1|2:g&1),l):(Pr(l),null);case 22:case 23:return Eg(),b=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==b&&(l.flags|=8192),b&&(l.mode&1)!==0?(As&1073741824)!==0&&(Pr(l),l.subtreeFlags&6&&(l.flags|=8192)):Pr(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function Pb(a,l){switch(xl(l),l.tag){case 1:return hs(l.type)&&Eh(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return go(),kn(ds),kn(Rr),jh(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Rh(l),null;case 13:if(kn(Tn),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Qi()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return kn(Tn),null;case 4:return go(),null;case 10:return Nh(l.type._context),null;case 22:case 23:return Eg(),null;case 24:return null;default:return null}}var Jh=!1,Dn=!1,es=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Uu(a,l){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){$n(a,l,b)}else g.current=null}function pd(a,l,g){try{g()}catch(b){$n(a,l,b)}}var mv=!1;function Ob(a,l){if(Kc=fu,a=dn(),Uc(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var E=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{g.nodeType,T.nodeType}catch{g=null;break e}var $=0,ee=-1,le=-1,Oe=0,Be=0,ze=a,Ue=null;t:for(;;){for(var et;ze!==g||E!==0&&ze.nodeType!==3||(ee=$+E),ze!==T||b!==0&&ze.nodeType!==3||(le=$+b),ze.nodeType===3&&($+=ze.nodeValue.length),(et=ze.firstChild)!==null;)Ue=ze,ze=et;for(;;){if(ze===a)break t;if(Ue===g&&++Oe===E&&(ee=$),Ue===T&&++Be===b&&(le=$),(et=ze.nextSibling)!==null)break;ze=Ue,Ue=ze.parentNode}ze=et}g=ee===-1||le===-1?null:{start:ee,end:le}}else g=null}g=g||{start:0,end:0}}else g=null;for(bl={focusedElem:a,selectionRange:g},fu=!1,rt=l;rt!==null;)if(l=rt,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,rt=a;else for(;rt!==null;){l=rt;try{var ot=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var lt=ot.memoizedProps,Hn=ot.memoizedState,Se=l.stateNode,he=Se.getSnapshotBeforeUpdate(l.elementType===l.type?lt:Zs(l.type,lt),Hn);Se.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var ke=l.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ye){$n(l,l.return,Ye)}if(a=l.sibling,a!==null){a.return=l.return,rt=a;break}rt=l.return}return ot=mv,mv=!1,ot}function ja(a,l,g){var b=l.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var E=b=b.next;do{if((E.tag&a)===a){var T=E.destroy;E.destroy=void 0,T!==void 0&&pd(l,g,T)}E=E.next}while(E!==b)}}function gd(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&a)===a){var b=g.create;g.destroy=b()}g=g.next}while(g!==l)}}function Xh(a){var l=a.ref;if(l!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof l=="function"?l(a):l.current=a}}function vv(a){var l=a.alternate;l!==null&&(a.alternate=null,vv(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[qi],delete l[uo],delete l[xh],delete l[U],delete l[Eu])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function yv(a){return a.tag===5||a.tag===3||a.tag===4}function bv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||yv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function pg(a,l,g){var b=a.tag;if(b===5||b===6)a=a.stateNode,l?g.nodeType===8?g.parentNode.insertBefore(a,l):g.insertBefore(a,l):(g.nodeType===8?(l=g.parentNode,l.insertBefore(a,g)):(l=g,l.appendChild(a)),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=_h));else if(b!==4&&(a=a.child,a!==null))for(pg(a,l,g),a=a.sibling;a!==null;)pg(a,l,g),a=a.sibling}function Zh(a,l,g){var b=a.tag;if(b===5||b===6)a=a.stateNode,l?g.insertBefore(a,l):g.appendChild(a);else if(b!==4&&(a=a.child,a!==null))for(Zh(a,l,g),a=a.sibling;a!==null;)Zh(a,l,g),a=a.sibling}var gr=null,Si=!1;function ra(a,l,g){for(g=g.child;g!==null;)gg(a,l,g),g=g.sibling}function gg(a,l,g){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(Ss,g)}catch{}switch(g.tag){case 5:Dn||Uu(g,l);case 6:var b=gr,E=Si;gr=null,ra(a,l,g),gr=b,Si=E,gr!==null&&(Si?(a=gr,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):gr.removeChild(g.stateNode));break;case 18:gr!==null&&(Si?(a=gr,g=g.stateNode,a.nodeType===8?$p(a.parentNode,g):a.nodeType===1&&$p(a,g),Jt(a)):$p(gr,g.stateNode));break;case 4:b=gr,E=Si,gr=g.stateNode.containerInfo,Si=!0,ra(a,l,g),gr=b,Si=E;break;case 0:case 11:case 14:case 15:if(!Dn&&(b=g.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){E=b=b.next;do{var T=E,$=T.destroy;T=T.tag,$!==void 0&&((T&2)!==0||(T&4)!==0)&&pd(g,l,$),E=E.next}while(E!==b)}ra(a,l,g);break;case 1:if(!Dn&&(Uu(g,l),b=g.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch(ee){$n(g,l,ee)}ra(a,l,g);break;case 21:ra(a,l,g);break;case 22:g.mode&1?(Dn=(b=Dn)||g.memoizedState!==null,ra(a,l,g),Dn=b):ra(a,l,g);break;default:ra(a,l,g)}}function Bu(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new es),l.forEach(function(b){var E=Rb.bind(null,a,b);g.has(b)||(g.add(b),b.then(E,E))})}}function Ns(a,l){var g=l.deletions;if(g!==null)for(var b=0;b<g.length;b++){var E=g[b];try{var T=a,$=l,ee=$;e:for(;ee!==null;){switch(ee.tag){case 5:gr=ee.stateNode,Si=!1;break e;case 3:gr=ee.stateNode.containerInfo,Si=!0;break e;case 4:gr=ee.stateNode.containerInfo,Si=!0;break e}ee=ee.return}if(gr===null)throw Error(t(160));gg(T,$,E),gr=null,Si=!1;var le=E.alternate;le!==null&&(le.return=null),E.return=null}catch(Oe){$n(E,l,Oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)mg(l,a),l=l.sibling}function mg(a,l){var g=a.alternate,b=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ns(l,a),xi(a),b&4){try{ja(3,a,a.return),gd(3,a)}catch(lt){$n(a,a.return,lt)}try{ja(5,a,a.return)}catch(lt){$n(a,a.return,lt)}}break;case 1:Ns(l,a),xi(a),b&512&&g!==null&&Uu(g,g.return);break;case 5:if(Ns(l,a),xi(a),b&512&&g!==null&&Uu(g,g.return),a.flags&32){var E=a.stateNode;try{gt(E,"")}catch(lt){$n(a,a.return,lt)}}if(b&4&&(E=a.stateNode,E!=null)){var T=a.memoizedProps,$=g!==null?g.memoizedProps:T,ee=a.type,le=a.updateQueue;if(a.updateQueue=null,le!==null)try{ee==="input"&&T.type==="radio"&&T.name!=null&&Qo(E,T),nl(ee,$);var Oe=nl(ee,T);for($=0;$<le.length;$+=2){var Be=le[$],ze=le[$+1];Be==="style"?el(E,ze):Be==="dangerouslySetInnerHTML"?Yr(E,ze):Be==="children"?gt(E,ze):W(E,Be,ze,Oe)}switch(ee){case"input":Dr(E,T);break;case"textarea":Ga(E,T);break;case"select":var Ue=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!T.multiple;var et=T.value;et!=null?gn(E,!!T.multiple,et,!1):Ue!==!!T.multiple&&(T.defaultValue!=null?gn(E,!!T.multiple,T.defaultValue,!0):gn(E,!!T.multiple,T.multiple?[]:"",!1))}E[uo]=T}catch(lt){$n(a,a.return,lt)}}break;case 6:if(Ns(l,a),xi(a),b&4){if(a.stateNode===null)throw Error(t(162));E=a.stateNode,T=a.memoizedProps;try{E.nodeValue=T}catch(lt){$n(a,a.return,lt)}}break;case 3:if(Ns(l,a),xi(a),b&4&&g!==null&&g.memoizedState.isDehydrated)try{Jt(l.containerInfo)}catch(lt){$n(a,a.return,lt)}break;case 4:Ns(l,a),xi(a);break;case 13:Ns(l,a),xi(a),E=a.child,E.flags&8192&&(T=E.memoizedState!==null,E.stateNode.isHidden=T,!T||E.alternate!==null&&E.alternate.memoizedState!==null||(bg=nn())),b&4&&Bu(a);break;case 22:if(Be=g!==null&&g.memoizedState!==null,a.mode&1?(Dn=(Oe=Dn)||Be,Ns(l,a),Dn=Oe):Ns(l,a),xi(a),b&8192){if(Oe=a.memoizedState!==null,(a.stateNode.isHidden=Oe)&&!Be&&(a.mode&1)!==0)for(rt=a,Be=a.child;Be!==null;){for(ze=rt=Be;rt!==null;){switch(Ue=rt,et=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:ja(4,Ue,Ue.return);break;case 1:Uu(Ue,Ue.return);var ot=Ue.stateNode;if(typeof ot.componentWillUnmount=="function"){b=Ue,g=Ue.return;try{l=b,ot.props=l.memoizedProps,ot.state=l.memoizedState,ot.componentWillUnmount()}catch(lt){$n(b,g,lt)}}break;case 5:Uu(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){yo(ze);continue}}et!==null?(et.return=Ue,rt=et):yo(ze)}Be=Be.sibling}e:for(Be=null,ze=a;;){if(ze.tag===5){if(Be===null){Be=ze;try{E=ze.stateNode,Oe?(T=E.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(ee=ze.stateNode,le=ze.memoizedProps.style,$=le!=null&&le.hasOwnProperty("display")?le.display:null,ee.style.display=Zo("display",$))}catch(lt){$n(a,a.return,lt)}}}else if(ze.tag===6){if(Be===null)try{ze.stateNode.nodeValue=Oe?"":ze.memoizedProps}catch(lt){$n(a,a.return,lt)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===a)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===a)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===a)break e;Be===ze&&(Be=null),ze=ze.return}Be===ze&&(Be=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:Ns(l,a),xi(a),b&4&&Bu(a);break;case 21:break;default:Ns(l,a),xi(a)}}function xi(a){var l=a.flags;if(l&2){try{e:{for(var g=a.return;g!==null;){if(yv(g)){var b=g;break e}g=g.return}throw Error(t(160))}switch(b.tag){case 5:var E=b.stateNode;b.flags&32&&(gt(E,""),b.flags&=-33);var T=bv(a);Zh(a,T,E);break;case 3:case 4:var $=b.stateNode.containerInfo,ee=bv(a);pg(a,ee,$);break;default:throw Error(t(161))}}catch(le){$n(a,a.return,le)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function ef(a,l,g){rt=a,vg(a)}function vg(a,l,g){for(var b=(a.mode&1)!==0;rt!==null;){var E=rt,T=E.child;if(E.tag===22&&b){var $=E.memoizedState!==null||Jh;if(!$){var ee=E.alternate,le=ee!==null&&ee.memoizedState!==null||Dn;ee=Jh;var Oe=Dn;if(Jh=$,(Dn=le)&&!Oe)for(rt=E;rt!==null;)$=rt,le=$.child,$.tag===22&&$.memoizedState!==null?wv(E):le!==null?(le.return=$,rt=le):wv(E);for(;T!==null;)rt=T,vg(T),T=T.sibling;rt=E,Jh=ee,Dn=Oe}ki(a)}else(E.subtreeFlags&8772)!==0&&T!==null?(T.return=E,rt=T):ki(a)}}function ki(a){for(;rt!==null;){var l=rt;if((l.flags&8772)!==0){var g=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Dn||gd(5,l);break;case 1:var b=l.stateNode;if(l.flags&4&&!Dn)if(g===null)b.componentDidMount();else{var E=l.elementType===l.type?g.memoizedProps:Zs(l.type,g.memoizedProps);b.componentDidUpdate(E,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&Hp(l,T,b);break;case 3:var $=l.updateQueue;if($!==null){if(g=null,l.child!==null)switch(l.child.tag){case 5:g=l.child.stateNode;break;case 1:g=l.child.stateNode}Hp(l,$,g)}break;case 5:var ee=l.stateNode;if(g===null&&l.flags&4){g=ee;var le=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":le.autoFocus&&g.focus();break;case"img":le.src&&(g.src=le.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Oe=l.alternate;if(Oe!==null){var Be=Oe.memoizedState;if(Be!==null){var ze=Be.dehydrated;ze!==null&&Jt(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Dn||l.flags&512&&Xh(l)}catch(Ue){$n(l,l.return,Ue)}}if(l===a){rt=null;break}if(g=l.sibling,g!==null){g.return=l.return,rt=g;break}rt=l.return}}function yo(a){for(;rt!==null;){var l=rt;if(l===a){rt=null;break}var g=l.sibling;if(g!==null){g.return=l.return,rt=g;break}rt=l.return}}function wv(a){for(;rt!==null;){var l=rt;try{switch(l.tag){case 0:case 11:case 15:var g=l.return;try{gd(4,l)}catch(le){$n(l,g,le)}break;case 1:var b=l.stateNode;if(typeof b.componentDidMount=="function"){var E=l.return;try{b.componentDidMount()}catch(le){$n(l,E,le)}}var T=l.return;try{Xh(l)}catch(le){$n(l,T,le)}break;case 5:var $=l.return;try{Xh(l)}catch(le){$n(l,$,le)}}}catch(le){$n(l,l.return,le)}if(l===a){rt=null;break}var ee=l.sibling;if(ee!==null){ee.return=l.return,rt=ee;break}rt=l.return}}var _v=Math.ceil,tf=V.ReactCurrentDispatcher,yg=V.ReactCurrentOwner,ei=V.ReactCurrentBatchConfig,Vt=0,mr=null,Xn=null,Or=0,As=0,Wu=cs(0),ar=0,md=null,bo=0,vd=0,nf=0,yd=null,gs=null,bg=0,Nl=1/0,$a=null,rf=!1,wg=null,wo=null,sf=!1,_o=null,ts=0,bd=0,_g=null,af=-1,wd=0;function ns(){return(Vt&6)!==0?nn():af!==-1?af:af=nn()}function So(a){return(a.mode&1)===0?1:(Vt&2)!==0&&Or!==0?Or&-Or:ev.transition!==null?(wd===0&&(wd=_r()),wd):(a=Gt,a!==0||(a=window.event,a=a===void 0?16:ch(a.type)),a)}function Ei(a,l,g,b){if(50<bd)throw bd=0,_g=null,Error(t(185));ul(a,g,b),((Vt&2)===0||a!==mr)&&(a===mr&&((Vt&2)===0&&(vd|=g),ar===4&&xo(a,Or)),ms(a,b),g===1&&Vt===0&&(l.mode&1)===0&&(Nl=nn()+500,Ch&&ho()))}function ms(a,l){var g=a.callbackNode;ya(a,l);var b=ls(a,a===mr?Or:0);if(b===0)g!==null&&gi(g),a.callbackNode=null,a.callbackPriority=0;else if(l=b&-b,a.callbackPriority!==l){if(g!=null&&gi(g),l===1)a.tag===0?wl(Sv.bind(null,a)):Jm(Sv.bind(null,a)),Sh(function(){(Vt&6)===0&&ho()}),g=null;else{switch(ba(b)){case 1:g=ol;break;case 4:g=cu;break;case 16:g=Za;break;case 536870912:g=is;break;default:g=Za}g=Tv(g,of.bind(null,a))}a.callbackPriority=l,a.callbackNode=g}}function of(a,l){if(af=-1,wd=0,(Vt&6)!==0)throw Error(t(327));var g=a.callbackNode;if(Hu()&&a.callbackNode!==g)return null;var b=ls(a,a===mr?Or:0);if(b===0)return null;if((b&30)!==0||(b&a.expiredLanes)!==0||l)l=lf(a,b);else{l=b;var E=Vt;Vt|=2;var T=kv();(mr!==a||Or!==l)&&($a=null,Nl=nn()+500,Il(a,l));do try{Nb();break}catch(ee){xv(a,ee)}while(!0);Ta(),tf.current=T,Vt=E,Xn!==null?l=0:(mr=null,Or=0,l=ar)}if(l!==0){if(l===2&&(E=vi(a),E!==0&&(b=E,l=Sg(a,E))),l===1)throw g=md,Il(a,0),xo(a,b),ms(a,nn()),g;if(l===6)xo(a,b);else{if(E=a.current.alternate,(b&30)===0&&!Tb(E)&&(l=lf(a,b),l===2&&(T=vi(a),T!==0&&(b=T,l=Sg(a,T))),l===1))throw g=md,Il(a,0),xo(a,b),ms(a,nn()),g;switch(a.finishedWork=E,a.finishedLanes=b,l){case 0:case 1:throw Error(t(345));case 2:Ml(a,gs,$a);break;case 3:if(xo(a,b),(b&130023424)===b&&(l=bg+500-nn(),10<l)){if(ls(a,0)!==0)break;if(E=a.suspendedLanes,(E&b)!==b){ns(),a.pingedLanes|=a.suspendedLanes&E;break}a.timeoutHandle=oo(Ml.bind(null,a,gs,$a),l);break}Ml(a,gs,$a);break;case 4:if(xo(a,b),(b&4194240)===b)break;for(l=a.eventTimes,E=-1;0<b;){var $=31-as(b);T=1<<$,$=l[$],$>E&&(E=$),b&=~T}if(b=E,b=nn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*_v(b/1960))-b,10<b){a.timeoutHandle=oo(Ml.bind(null,a,gs,$a),b);break}Ml(a,gs,$a);break;case 5:Ml(a,gs,$a);break;default:throw Error(t(329))}}}return ms(a,nn()),a.callbackNode===g?of.bind(null,a):null}function Sg(a,l){var g=yd;return a.current.memoizedState.isDehydrated&&(Il(a,l).flags|=256),a=lf(a,l),a!==2&&(l=gs,gs=g,l!==null&&xg(l)),a}function xg(a){gs===null?gs=a:gs.push.apply(gs,a)}function Tb(a){for(var l=a;;){if(l.flags&16384){var g=l.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var b=0;b<g.length;b++){var E=g[b],T=E.getSnapshot;E=E.value;try{if(!xe(T(),E))return!1}catch{return!1}}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xo(a,l){for(l&=~nf,l&=~vd,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var g=31-as(l),b=1<<g;a[g]=-1,l&=~b}}function Sv(a){if((Vt&6)!==0)throw Error(t(327));Hu();var l=ls(a,0);if((l&1)===0)return ms(a,nn()),null;var g=lf(a,l);if(a.tag!==0&&g===2){var b=vi(a);b!==0&&(l=b,g=Sg(a,b))}if(g===1)throw g=md,Il(a,0),xo(a,l),ms(a,nn()),g;if(g===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Ml(a,gs,$a),ms(a,nn()),null}function kg(a,l){var g=Vt;Vt|=1;try{return a(l)}finally{Vt=g,Vt===0&&(Nl=nn()+500,Ch&&ho())}}function Al(a){_o!==null&&_o.tag===0&&(Vt&6)===0&&Hu();var l=Vt;Vt|=1;var g=ei.transition,b=Gt;try{if(ei.transition=null,Gt=1,a)return a()}finally{Gt=b,ei.transition=g,Vt=l,(Vt&6)===0&&ho()}}function Eg(){As=Wu.current,kn(Wu)}function Il(a,l){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,Vc(g)),Xn!==null)for(g=Xn.return;g!==null;){var b=g;switch(xl(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Eh();break;case 3:go(),kn(ds),kn(Rr),jh();break;case 5:Rh(b);break;case 4:go();break;case 13:kn(Tn);break;case 19:kn(Tn);break;case 10:Nh(b.type._context);break;case 22:case 23:Eg()}g=g.return}if(mr=a,Xn=a=Ci(a.current,null),Or=As=l,ar=0,md=null,nf=vd=bo=0,gs=yd=null,El!==null){for(l=0;l<El.length;l++)if(g=El[l],b=g.interleaved,b!==null){g.interleaved=null;var E=b.next,T=g.pending;if(T!==null){var $=T.next;T.next=E,b.next=$}g.pending=b}El=null}return a}function xv(a,l){do{var g=Xn;try{if(Ta(),nd.current=Wh,Au){for(var b=jn.memoizedState;b!==null;){var E=b.queue;E!==null&&(E.pending=null),b=b.next}Au=!1}if(mo=0,ir=Wn=jn=null,rd=!1,Pl=0,yg.current=null,g===null||g.return===null){ar=1,md=l,Xn=null;break}e:{var T=a,$=g.return,ee=g,le=l;if(l=Or,ee.flags|=32768,le!==null&&typeof le=="object"&&typeof le.then=="function"){var Oe=le,Be=ee,ze=Be.tag;if((Be.mode&1)===0&&(ze===0||ze===11||ze===15)){var Ue=Be.alternate;Ue?(Be.updateQueue=Ue.updateQueue,Be.memoizedState=Ue.memoizedState,Be.lanes=Ue.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var et=dv($);if(et!==null){et.flags&=-257,ig(et,$,ee,T,l),et.mode&1&&ld(T,Oe,l),l=et,le=Oe;var ot=l.updateQueue;if(ot===null){var lt=new Set;lt.add(le),l.updateQueue=lt}else ot.add(le);break e}else{if((l&1)===0){ld(T,Oe,l),Cg();break e}le=Error(t(426))}}else if(En&&ee.mode&1){var Hn=dv($);if(Hn!==null){(Hn.flags&65536)===0&&(Hn.flags|=256),ig(Hn,$,ee,T,l),Ji(Dl(le,ee));break e}}T=le=Dl(le,ee),ar!==4&&(ar=2),yd===null?yd=[T]:yd.push(T),T=$;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var Se=od(T,le,l);rv(T,Se);break e;case 1:ee=le;var he=T.type,ke=T.stateNode;if((T.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(wo===null||!wo.has(ke)))){T.flags|=65536,l&=-l,T.lanes|=l;var Ye=Kh(T,ee,l);rv(T,Ye);break e}}T=T.return}while(T!==null)}Cv(g)}catch(dt){l=dt,Xn===g&&g!==null&&(Xn=g=g.return);continue}break}while(!0)}function kv(){var a=tf.current;return tf.current=Wh,a===null?Wh:a}function Cg(){(ar===0||ar===3||ar===2)&&(ar=4),mr===null||(bo&268435455)===0&&(vd&268435455)===0||xo(mr,Or)}function lf(a,l){var g=Vt;Vt|=2;var b=kv();(mr!==a||Or!==l)&&($a=null,Il(a,l));do try{Db();break}catch(E){xv(a,E)}while(!0);if(Ta(),Vt=g,tf.current=b,Xn!==null)throw Error(t(261));return mr=null,Or=0,ar}function Db(){for(;Xn!==null;)Ev(Xn)}function Nb(){for(;Xn!==null&&!mi();)Ev(Xn)}function Ev(a){var l=Ov(a.alternate,a,As);a.memoizedProps=a.pendingProps,l===null?Cv(a):Xn=l,yg.current=null}function Cv(a){var l=a;do{var g=l.alternate;if(a=l.return,(l.flags&32768)===0){if(g=Cb(g,l,As),g!==null){Xn=g;return}}else{if(g=Pb(g,l),g!==null){g.flags&=32767,Xn=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ar=6,Xn=null;return}}if(l=l.sibling,l!==null){Xn=l;return}Xn=l=a}while(l!==null);ar===0&&(ar=5)}function Ml(a,l,g){var b=Gt,E=ei.transition;try{ei.transition=null,Gt=1,Ab(a,l,g,b)}finally{ei.transition=E,Gt=b}return null}function Ab(a,l,g,b){do Hu();while(_o!==null);if((Vt&6)!==0)throw Error(t(327));g=a.finishedWork;var E=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var T=g.lanes|g.childLanes;if(oh(a,T),a===mr&&(Xn=mr=null,Or=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||sf||(sf=!0,Tv(Za,function(){return Hu(),null})),T=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||T){T=ei.transition,ei.transition=null;var $=Gt;Gt=1;var ee=Vt;Vt|=4,yg.current=null,Ob(a,g),mg(g,a),Sb(bl),fu=!!Kc,bl=Kc=null,a.current=g,ef(g),Vn(),Vt=ee,Gt=$,ei.transition=T}else a.current=g;if(sf&&(sf=!1,_o=a,ts=E),T=a.pendingLanes,T===0&&(wo=null),ah(g.stateNode),ms(a,nn()),l!==null)for(b=a.onRecoverableError,g=0;g<l.length;g++)E=l[g],b(E.value,{componentStack:E.stack,digest:E.digest});if(rf)throw rf=!1,a=wg,wg=null,a;return(ts&1)!==0&&a.tag!==0&&Hu(),T=a.pendingLanes,(T&1)!==0?a===_g?bd++:(bd=0,_g=a):bd=0,ho(),null}function Hu(){if(_o!==null){var a=ba(ts),l=ei.transition,g=Gt;try{if(ei.transition=null,Gt=16>a?16:a,_o===null)var b=!1;else{if(a=_o,_o=null,ts=0,(Vt&6)!==0)throw Error(t(331));var E=Vt;for(Vt|=4,rt=a.current;rt!==null;){var T=rt,$=T.child;if((rt.flags&16)!==0){var ee=T.deletions;if(ee!==null){for(var le=0;le<ee.length;le++){var Oe=ee[le];for(rt=Oe;rt!==null;){var Be=rt;switch(Be.tag){case 0:case 11:case 15:ja(8,Be,T)}var ze=Be.child;if(ze!==null)ze.return=Be,rt=ze;else for(;rt!==null;){Be=rt;var Ue=Be.sibling,et=Be.return;if(vv(Be),Be===Oe){rt=null;break}if(Ue!==null){Ue.return=et,rt=Ue;break}rt=et}}}var ot=T.alternate;if(ot!==null){var lt=ot.child;if(lt!==null){ot.child=null;do{var Hn=lt.sibling;lt.sibling=null,lt=Hn}while(lt!==null)}}rt=T}}if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,rt=$;else e:for(;rt!==null;){if(T=rt,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:ja(9,T,T.return)}var Se=T.sibling;if(Se!==null){Se.return=T.return,rt=Se;break e}rt=T.return}}var he=a.current;for(rt=he;rt!==null;){$=rt;var ke=$.child;if(($.subtreeFlags&2064)!==0&&ke!==null)ke.return=$,rt=ke;else e:for($=he;rt!==null;){if(ee=rt,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:gd(9,ee)}}catch(dt){$n(ee,ee.return,dt)}if(ee===$){rt=null;break e}var Ye=ee.sibling;if(Ye!==null){Ye.return=ee.return,rt=Ye;break e}rt=ee.return}}if(Vt=E,ho(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(Ss,a)}catch{}b=!0}return b}finally{Gt=g,ei.transition=l}}return!1}function uf(a,l,g){l=Dl(g,l),l=od(a,l,1),a=Js(a,l,1),l=ns(),a!==null&&(ul(a,1,l),ms(a,l))}function $n(a,l,g){if(a.tag===3)uf(a,a,g);else for(;l!==null;){if(l.tag===3){uf(l,a,g);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(wo===null||!wo.has(b))){a=Dl(g,a),a=Kh(l,a,1),l=Js(l,a,1),a=ns(),l!==null&&(ul(l,1,a),ms(l,a));break}}l=l.return}}function Ib(a,l,g){var b=a.pingCache;b!==null&&b.delete(l),l=ns(),a.pingedLanes|=a.suspendedLanes&g,mr===a&&(Or&g)===g&&(ar===4||ar===3&&(Or&130023424)===Or&&500>nn()-bg?Il(a,0):nf|=g),ms(a,l)}function Pv(a,l){l===0&&((a.mode&1)===0?l=1:(l=un,un<<=1,(un&130023424)===0&&(un=4194304)));var g=ns();a=Da(a,l),a!==null&&(ul(a,l,g),ms(a,g))}function Mb(a){var l=a.memoizedState,g=0;l!==null&&(g=l.retryLane),Pv(a,g)}function Rb(a,l){var g=0;switch(a.tag){case 13:var b=a.stateNode,E=a.memoizedState;E!==null&&(g=E.retryLane);break;case 19:b=a.stateNode;break;default:throw Error(t(314))}b!==null&&b.delete(l),Pv(a,g)}var Ov;Ov=function(a,l,g){if(a!==null)if(a.memoizedProps!==l.pendingProps||ds.current)Zr=!0;else{if((a.lanes&g)===0&&(l.flags&128)===0)return Zr=!1,pv(a,l,g);Zr=(a.flags&131072)!==0}else Zr=!1,En&&(l.flags&1048576)!==0&&Xm(l,Oh,l.index);switch(l.lanes=0,l.tag){case 2:var b=l.type;Qh(a,l),a=l.pendingProps;var E=Pu(l,Rr.current);po(l,g),E=Ol(null,l,b,a,E,g);var T=$h();return l.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,hs(b)?(T=!0,Ys(l)):T=!1,l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Ih(l),E.updater=qh,l.stateNode=E,E._reactInternals=l,sg(l,b,a,g),l=dg(null,l,b,!0,T,g)):(l.tag=0,En&&T&&Qc(l),Er(null,l,E,g),l=l.child),l;case 16:b=l.elementType;e:{switch(Qh(a,l),a=l.pendingProps,E=b._init,b=E(b._payload),l.type=b,E=l.tag=$b(b),a=Zs(b,a),E){case 0:l=ug(null,l,b,a,g);break e;case 1:l=cg(null,l,b,a,g);break e;case 11:l=hv(null,l,b,a,g);break e;case 14:l=ag(null,l,b,Zs(b.type,a),g);break e}throw Error(t(306,b,""))}return l;case 0:return b=l.type,E=l.pendingProps,E=l.elementType===b?E:Zs(b,E),ug(a,l,b,E,g);case 1:return b=l.type,E=l.pendingProps,E=l.elementType===b?E:Zs(b,E),cg(a,l,b,E,g);case 3:e:{if(fv(l),a===null)throw Error(t(387));b=l.pendingProps,T=l.memoizedState,E=T.element,nv(a,l),Du(l,b,null,g);var $=l.memoizedState;if(b=$.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){E=Dl(Error(t(423)),l),l=na(a,l,b,g,E);break e}else if(b!==E){E=Dl(Error(t(424)),l),l=na(a,l,b,g,E);break e}else for(Ts=lo(l.stateNode.containerInfo.firstChild),$r=l,En=!0,bi=null,g=Dh(l,null,b,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Qi(),b===E){l=_i(a,l,g);break e}Er(a,l,b,g)}l=l.child}return l;case 5:return qp(l),a===null&&fs(l),b=l.type,E=l.pendingProps,T=a!==null?a.memoizedProps:null,$=E.children,Gc(b,E)?$=null:T!==null&&Gc(b,T)&&(l.flags|=32),lg(a,l),Er(a,l,$,g),l.child;case 6:return a===null&&fs(l),null;case 13:return Vh(a,l,g);case 4:return zp(l,l.stateNode.containerInfo),b=l.pendingProps,a===null?l.child=Un(l,null,b,g):Er(a,l,b,g),l.child;case 11:return b=l.type,E=l.pendingProps,E=l.elementType===b?E:Zs(b,E),hv(a,l,b,E,g);case 7:return Er(a,l,l.pendingProps,g),l.child;case 8:return Er(a,l,l.pendingProps.children,g),l.child;case 12:return Er(a,l,l.pendingProps.children,g),l.child;case 10:e:{if(b=l.type._context,E=l.pendingProps,T=l.memoizedProps,$=E.value,_n(Zc,b._currentValue),b._currentValue=$,T!==null)if(xe(T.value,$)){if(T.children===E.children&&!ds.current){l=_i(a,l,g);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var ee=T.dependencies;if(ee!==null){$=T.child;for(var le=ee.firstContext;le!==null;){if(le.context===b){if(T.tag===1){le=Na(-1,g&-g),le.tag=2;var Oe=T.updateQueue;if(Oe!==null){Oe=Oe.shared;var Be=Oe.pending;Be===null?le.next=le:(le.next=Be.next,Be.next=le),Oe.pending=le}}T.lanes|=g,le=T.alternate,le!==null&&(le.lanes|=g),kr(T.return,g,l),ee.lanes|=g;break}le=le.next}}else if(T.tag===10)$=T.type===l.type?null:T.child;else if(T.tag===18){if($=T.return,$===null)throw Error(t(341));$.lanes|=g,ee=$.alternate,ee!==null&&(ee.lanes|=g),kr($,g,l),$=T.sibling}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===l){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}Er(a,l,E.children,g),l=l.child}return l;case 9:return E=l.type,b=l.pendingProps.children,po(l,g),E=Vs(E),b=b(E),l.flags|=1,Er(a,l,b,g),l.child;case 14:return b=l.type,E=Zs(b,l.pendingProps),E=Zs(b.type,E),ag(a,l,b,E,g);case 15:return ta(a,l,l.type,l.pendingProps,g);case 17:return b=l.type,E=l.pendingProps,E=l.elementType===b?E:Zs(b,E),Qh(a,l),l.tag=1,hs(b)?(a=!0,Ys(l)):a=!1,po(l,g),Tl(l,b,E),sg(l,b,E,g),dg(null,l,b,!0,a,g);case 19:return vo(a,l,g);case 22:return og(a,l,g)}throw Error(t(156,l.tag))};function Tv(a,l){return Ws(a,l)}function jb(a,l,g,b){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(a,l,g,b){return new jb(a,l,g,b)}function cf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $b(a){if(typeof a=="function")return cf(a)?1:0;if(a!=null){if(a=a.$$typeof,a===we)return 11;if(a===_e)return 14}return 2}function Ci(a,l){var g=a.alternate;return g===null?(g=ti(a.tag,l,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=l,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,l=a.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function df(a,l,g,b,E,T){var $=2;if(b=a,typeof a=="function")cf(a)&&($=1);else if(typeof a=="string")$=5;else e:switch(a){case B:return Rl(g.children,E,T,l);case K:$=8,E|=8;break;case Z:return a=ti(12,g,l,E|2),a.elementType=Z,a.lanes=T,a;case Re:return a=ti(13,g,l,E),a.elementType=Re,a.lanes=T,a;case Ce:return a=ti(19,g,l,E),a.elementType=Ce,a.lanes=T,a;case be:return hf(g,E,T,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case ce:$=10;break e;case me:$=9;break e;case we:$=11;break e;case _e:$=14;break e;case ye:$=16,b=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return l=ti($,g,l,E),l.elementType=a,l.type=b,l.lanes=T,l}function Rl(a,l,g,b){return a=ti(7,a,b,l),a.lanes=g,a}function hf(a,l,g,b){return a=ti(22,a,b,l),a.elementType=be,a.lanes=g,a.stateNode={isHidden:!1},a}function Pg(a,l,g){return a=ti(6,a,null,l),a.lanes=g,a}function Og(a,l,g){return l=ti(4,a.children!==null?a.children:[],a.key,l),l.lanes=g,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function Lb(a,l,g,b,E){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=b,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Tg(a,l,g,b,E,T,$,ee,le){return a=new Lb(a,l,g,ee,le),l===1?(l=1,T===!0&&(l|=8)):l=0,T=ti(3,null,null,l),a.current=T,T.stateNode=a,T.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(T),a}function Fb(a,l,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:b==null?null:""+b,children:a,containerInfo:l,implementation:g}}function Dv(a){if(!a)return co;a=a._reactInternals;e:{if(_s(a)!==a||a.tag!==1)throw Error(t(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(hs(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(a.tag===1){var g=a.type;if(hs(g))return Vm(a,g,l)}return l}function Nv(a,l,g,b,E,T,$,ee,le){return a=Tg(g,b,!0,a,E,T,$,ee,le),a.context=Dv(null),g=a.current,b=ns(),E=So(g),T=Na(b,E),T.callback=l??null,Js(g,T,E),a.current.lanes=E,ul(a,E,b),ms(a,b),a}function ff(a,l,g,b){var E=l.current,T=ns(),$=So(E);return g=Dv(g),l.context===null?l.context=g:l.pendingContext=g,l=Na(T,$),l.payload={element:a},b=b===void 0?null:b,b!==null&&(l.callback=b),a=Js(E,l,$),a!==null&&(Ei(a,E,$,T),Mh(a,E,$)),$}function pf(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Av(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<l?g:l}}function Dg(a,l){Av(a,l),(a=a.alternate)&&Av(a,l)}function Ub(){return null}var Iv=typeof reportError=="function"?reportError:function(a){console.error(a)};function gf(a){this._internalRoot=a}_d.prototype.render=gf.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(t(409));ff(a,l,null,null)},_d.prototype.unmount=gf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Al(function(){ff(null,a,null,null)}),l[Os]=null}};function _d(a){this._internalRoot=a}_d.prototype.unstable_scheduleHydration=function(a){if(a){var l=hu();a={blockedOn:null,target:a,priority:l};for(var g=0;g<Bi.length&&l!==0&&l<Bi[g].priority;g++);Bi.splice(g,0,a),g===0&&fl(a)}};function Ng(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function mf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Mv(){}function Bb(a,l,g,b,E){if(E){if(typeof b=="function"){var T=b;b=function(){var Oe=pf($);T.call(Oe)}}var $=Nv(l,b,a,0,null,!1,!1,"",Mv);return a._reactRootContainer=$,a[Os]=$.current,ao(a.nodeType===8?a.parentNode:a),Al(),$}for(;E=a.lastChild;)a.removeChild(E);if(typeof b=="function"){var ee=b;b=function(){var Oe=pf(le);ee.call(Oe)}}var le=Tg(a,0,!1,null,null,!1,!1,"",Mv);return a._reactRootContainer=le,a[Os]=le.current,ao(a.nodeType===8?a.parentNode:a),Al(function(){ff(l,le,g,b)}),le}function jl(a,l,g,b,E){var T=g._reactRootContainer;if(T){var $=T;if(typeof E=="function"){var ee=E;E=function(){var le=pf($);ee.call(le)}}ff(l,$,a,E)}else $=Bb(g,l,a,E,b);return pf($)}$i=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var g=os(l.pendingLanes);g!==0&&(cl(l,g|1),ms(l,nn()),(Vt&6)===0&&(Nl=nn()+500,ho()))}break;case 13:Al(function(){var b=Da(a,1);if(b!==null){var E=ns();Ei(b,a,1,E)}}),Dg(a,1)}},us=function(a){if(a.tag===13){var l=Da(a,134217728);if(l!==null){var g=ns();Ei(l,a,134217728,g)}Dg(a,134217728)}},Dc=function(a){if(a.tag===13){var l=So(a),g=Da(a,l);if(g!==null){var b=ns();Ei(g,a,l,b)}Dg(a,l)}},hu=function(){return Gt},Nc=function(a,l){var g=Gt;try{return Gt=a,l()}finally{Gt=g}},Sc=function(a,l,g){switch(l){case"input":if(Dr(a,g),l=g.name,g.type==="radio"&&l!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<g.length;l++){var b=g[l];if(b!==a&&b.form===a.form){var E=kh(b);if(!E)throw Error(t(90));sr(b),Dr(b,E)}}}break;case"textarea":Ga(a,g);break;case"select":l=g.value,l!=null&&gn(a,!!g.multiple,l,!1)}},Gn=kg,Va=Al;var Wb={usingClientEntryPoint:!1,Events:[Mr,At,kh,xc,kc,kg]},Sd={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hb={bundleType:Sd.bundleType,version:Sd.version,rendererPackageName:Sd.rendererPackageName,rendererConfig:Sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Oc(a),a===null?null:a.stateNode},findFiberByHostInstance:Sd.findFiberByHostInstance||Ub,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{Ss=vf.inject(Hb),xs=vf}catch{}}return ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wb,ii.createPortal=function(a,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ng(l))throw Error(t(200));return Fb(a,l,null,g)},ii.createRoot=function(a,l){if(!Ng(a))throw Error(t(299));var g=!1,b="",E=Iv;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),l=Tg(a,1,!1,null,null,g,!1,b,E),a[Os]=l.current,ao(a.nodeType===8?a.parentNode:a),new gf(l)},ii.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Oc(l),a=a===null?null:a.stateNode,a},ii.flushSync=function(a){return Al(a)},ii.hydrate=function(a,l,g){if(!mf(l))throw Error(t(200));return jl(null,a,l,!0,g)},ii.hydrateRoot=function(a,l,g){if(!Ng(a))throw Error(t(405));var b=g!=null&&g.hydratedSources||null,E=!1,T="",$=Iv;if(g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onRecoverableError!==void 0&&($=g.onRecoverableError)),l=Nv(l,null,a,1,g??null,E,!1,T,$),a[Os]=l.current,ao(a),b)for(a=0;a<b.length;a++)g=b[a],E=g._getVersion,E=E(g._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[g,E]:l.mutableSourceEagerHydrationData.push(g,E);return new _d(l)},ii.render=function(a,l,g){if(!mf(l))throw Error(t(200));return jl(null,a,l,!1,g)},ii.unmountComponentAtNode=function(a){if(!mf(a))throw Error(t(40));return a._reactRootContainer?(Al(function(){jl(null,null,a,!1,function(){a._reactRootContainer=null,a[Os]=null})}),!0):!1},ii.unstable_batchedUpdates=kg,ii.unstable_renderSubtreeIntoContainer=function(a,l,g,b){if(!mf(g))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return jl(a,l,g,!1,b)},ii.version="18.3.1-next-f1338f8080-20240426",ii}var G_;function F1(){if(G_)return s0.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),s0.exports=WT(),s0.exports}var V_;function HT(){if(V_)return Lv;V_=1;var r=F1();return Lv.createRoot=r.createRoot,Lv.hydrateRoot=r.hydrateRoot,Lv}var zT=HT();const qT=rr(zT);var sy={exports:{}},YT=sy.exports,Q_;function KT(){return Q_||(Q_=1,function(r,n){(function(t,e){r.exports=e()})(YT,function(){var t=1e3,e=6e4,s=36e5,o="millisecond",c="second",d="minute",p="hour",v="day",y="week",S="month",k="quarter",C="year",A="date",N="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,G={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ce){var _e=["th","st","nd","rd"],ye=Ce%100;return"["+Ce+(_e[(ye-20)%10]||_e[ye]||_e[0])+"]"}},W=function(Ce,_e,ye){var be=String(Ce);return!be||be.length>=_e?Ce:""+Array(_e+1-be.length).join(ye)+Ce},V={s:W,z:function(Ce){var _e=-Ce.utcOffset(),ye=Math.abs(_e),be=Math.floor(ye/60),Q=ye%60;return(_e<=0?"+":"-")+W(be,2,"0")+":"+W(Q,2,"0")},m:function Ce(_e,ye){if(_e.date()<ye.date())return-Ce(ye,_e);var be=12*(ye.year()-_e.year())+(ye.month()-_e.month()),Q=_e.clone().add(be,S),Ae=ye-Q<0,Te=_e.clone().add(be+(Ae?-1:1),S);return+(-(be+(ye-Q)/(Ae?Q-Te:Te-Q))||0)},a:function(Ce){return Ce<0?Math.ceil(Ce)||0:Math.floor(Ce)},p:function(Ce){return{M:S,y:C,w:y,d:v,D:A,h:p,m:d,s:c,ms:o,Q:k}[Ce]||String(Ce||"").toLowerCase().replace(/s$/,"")},u:function(Ce){return Ce===void 0}},z="en",Y={};Y[z]=G;var B="$isDayjsObject",K=function(Ce){return Ce instanceof we||!(!Ce||!Ce[B])},Z=function Ce(_e,ye,be){var Q;if(!_e)return z;if(typeof _e=="string"){var Ae=_e.toLowerCase();Y[Ae]&&(Q=Ae),ye&&(Y[Ae]=ye,Q=Ae);var Te=_e.split("-");if(!Q&&Te.length>1)return Ce(Te[0])}else{var se=_e.name;Y[se]=_e,Q=se}return!be&&Q&&(z=Q),Q||!be&&z},ce=function(Ce,_e){if(K(Ce))return Ce.clone();var ye=typeof _e=="object"?_e:{};return ye.date=Ce,ye.args=arguments,new we(ye)},me=V;me.l=Z,me.i=K,me.w=function(Ce,_e){return ce(Ce,{locale:_e.$L,utc:_e.$u,x:_e.$x,$offset:_e.$offset})};var we=function(){function Ce(ye){this.$L=Z(ye.locale,null,!0),this.parse(ye),this.$x=this.$x||ye.x||{},this[B]=!0}var _e=Ce.prototype;return _e.parse=function(ye){this.$d=function(be){var Q=be.date,Ae=be.utc;if(Q===null)return new Date(NaN);if(me.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if(typeof Q=="string"&&!/Z$/i.test(Q)){var Te=Q.match(M);if(Te){var se=Te[2]-1||0,Ee=(Te[7]||"0").substring(0,3);return Ae?new Date(Date.UTC(Te[1],se,Te[3]||1,Te[4]||0,Te[5]||0,Te[6]||0,Ee)):new Date(Te[1],se,Te[3]||1,Te[4]||0,Te[5]||0,Te[6]||0,Ee)}}return new Date(Q)}(ye),this.init()},_e.init=function(){var ye=this.$d;this.$y=ye.getFullYear(),this.$M=ye.getMonth(),this.$D=ye.getDate(),this.$W=ye.getDay(),this.$H=ye.getHours(),this.$m=ye.getMinutes(),this.$s=ye.getSeconds(),this.$ms=ye.getMilliseconds()},_e.$utils=function(){return me},_e.isValid=function(){return this.$d.toString()!==N},_e.isSame=function(ye,be){var Q=ce(ye);return this.startOf(be)<=Q&&Q<=this.endOf(be)},_e.isAfter=function(ye,be){return ce(ye)<this.startOf(be)},_e.isBefore=function(ye,be){return this.endOf(be)<ce(ye)},_e.$g=function(ye,be,Q){return me.u(ye)?this[be]:this.set(Q,ye)},_e.unix=function(){return Math.floor(this.valueOf()/1e3)},_e.valueOf=function(){return this.$d.getTime()},_e.startOf=function(ye,be){var Q=this,Ae=!!me.u(be)||be,Te=me.p(ye),se=function(Pt,zt){var On=me.w(Q.$u?Date.UTC(Q.$y,zt,Pt):new Date(Q.$y,zt,Pt),Q);return Ae?On:On.endOf(v)},Ee=function(Pt,zt){return me.w(Q.toDate()[Pt].apply(Q.toDate("s"),(Ae?[0,0,0,0]:[23,59,59,999]).slice(zt)),Q)},Le=this.$W,Ve=this.$M,st=this.$D,bt="set"+(this.$u?"UTC":"");switch(Te){case C:return Ae?se(1,0):se(31,11);case S:return Ae?se(1,Ve):se(0,Ve+1);case y:var Tt=this.$locale().weekStart||0,_t=(Le<Tt?Le+7:Le)-Tt;return se(Ae?st-_t:st+(6-_t),Ve);case v:case A:return Ee(bt+"Hours",0);case p:return Ee(bt+"Minutes",1);case d:return Ee(bt+"Seconds",2);case c:return Ee(bt+"Milliseconds",3);default:return this.clone()}},_e.endOf=function(ye){return this.startOf(ye,!1)},_e.$set=function(ye,be){var Q,Ae=me.p(ye),Te="set"+(this.$u?"UTC":""),se=(Q={},Q[v]=Te+"Date",Q[A]=Te+"Date",Q[S]=Te+"Month",Q[C]=Te+"FullYear",Q[p]=Te+"Hours",Q[d]=Te+"Minutes",Q[c]=Te+"Seconds",Q[o]=Te+"Milliseconds",Q)[Ae],Ee=Ae===v?this.$D+(be-this.$W):be;if(Ae===S||Ae===C){var Le=this.clone().set(A,1);Le.$d[se](Ee),Le.init(),this.$d=Le.set(A,Math.min(this.$D,Le.daysInMonth())).$d}else se&&this.$d[se](Ee);return this.init(),this},_e.set=function(ye,be){return this.clone().$set(ye,be)},_e.get=function(ye){return this[me.p(ye)]()},_e.add=function(ye,be){var Q,Ae=this;ye=Number(ye);var Te=me.p(be),se=function(Ve){var st=ce(Ae);return me.w(st.date(st.date()+Math.round(Ve*ye)),Ae)};if(Te===S)return this.set(S,this.$M+ye);if(Te===C)return this.set(C,this.$y+ye);if(Te===v)return se(1);if(Te===y)return se(7);var Ee=(Q={},Q[d]=e,Q[p]=s,Q[c]=t,Q)[Te]||1,Le=this.$d.getTime()+ye*Ee;return me.w(Le,this)},_e.subtract=function(ye,be){return this.add(-1*ye,be)},_e.format=function(ye){var be=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||N;var Ae=ye||"YYYY-MM-DDTHH:mm:ssZ",Te=me.z(this),se=this.$H,Ee=this.$m,Le=this.$M,Ve=Q.weekdays,st=Q.months,bt=Q.meridiem,Tt=function(zt,On,sr,Kt){return zt&&(zt[On]||zt(be,Ae))||sr[On].slice(0,Kt)},_t=function(zt){return me.s(se%12||12,zt,"0")},Pt=bt||function(zt,On,sr){var Kt=zt<12?"AM":"PM";return sr?Kt.toLowerCase():Kt};return Ae.replace(L,function(zt,On){return On||function(sr){switch(sr){case"YY":return String(be.$y).slice(-2);case"YYYY":return me.s(be.$y,4,"0");case"M":return Le+1;case"MM":return me.s(Le+1,2,"0");case"MMM":return Tt(Q.monthsShort,Le,st,3);case"MMMM":return Tt(st,Le);case"D":return be.$D;case"DD":return me.s(be.$D,2,"0");case"d":return String(be.$W);case"dd":return Tt(Q.weekdaysMin,be.$W,Ve,2);case"ddd":return Tt(Q.weekdaysShort,be.$W,Ve,3);case"dddd":return Ve[be.$W];case"H":return String(se);case"HH":return me.s(se,2,"0");case"h":return _t(1);case"hh":return _t(2);case"a":return Pt(se,Ee,!0);case"A":return Pt(se,Ee,!1);case"m":return String(Ee);case"mm":return me.s(Ee,2,"0");case"s":return String(be.$s);case"ss":return me.s(be.$s,2,"0");case"SSS":return me.s(be.$ms,3,"0");case"Z":return Te}return null}(zt)||Te.replace(":","")})},_e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_e.diff=function(ye,be,Q){var Ae,Te=this,se=me.p(be),Ee=ce(ye),Le=(Ee.utcOffset()-this.utcOffset())*e,Ve=this-Ee,st=function(){return me.m(Te,Ee)};switch(se){case C:Ae=st()/12;break;case S:Ae=st();break;case k:Ae=st()/3;break;case y:Ae=(Ve-Le)/6048e5;break;case v:Ae=(Ve-Le)/864e5;break;case p:Ae=Ve/s;break;case d:Ae=Ve/e;break;case c:Ae=Ve/t;break;default:Ae=Ve}return Q?Ae:me.a(Ae)},_e.daysInMonth=function(){return this.endOf(S).$D},_e.$locale=function(){return Y[this.$L]},_e.locale=function(ye,be){if(!ye)return this.$L;var Q=this.clone(),Ae=Z(ye,be,!0);return Ae&&(Q.$L=Ae),Q},_e.clone=function(){return me.w(this.$d,this)},_e.toDate=function(){return new Date(this.valueOf())},_e.toJSON=function(){return this.isValid()?this.toISOString():null},_e.toISOString=function(){return this.$d.toISOString()},_e.toString=function(){return this.$d.toUTCString()},Ce}(),Re=we.prototype;return ce.prototype=Re,[["$ms",o],["$s",c],["$m",d],["$H",p],["$W",v],["$M",S],["$y",C],["$D",A]].forEach(function(Ce){Re[Ce[1]]=function(_e){return this.$g(_e,Ce[0],Ce[1])}}),ce.extend=function(Ce,_e){return Ce.$i||(Ce(_e,we,ce),Ce.$i=!0),ce},ce.locale=Z,ce.isDayjs=K,ce.unix=function(Ce){return ce(1e3*Ce)},ce.en=Y[z],ce.Ls=Y,ce.p={},ce})}(sy)),sy.exports}var GT=KT();const ft=rr(GT);var iy={exports:{}},VT=iy.exports,J_;function QT(){return J_||(J_=1,function(r,n){(function(t,e){r.exports=e()})(VT,function(){return function(t,e,s){t=t||{};var o=e.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(v,y,S,k){return o.fromToBase(v,y,S,k)}s.en.relativeTime=c,o.fromToBase=function(v,y,S,k,C){for(var A,N,M,L=S.$locale().relativeTime||c,G=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],W=G.length,V=0;V<W;V+=1){var z=G[V];z.d&&(A=k?s(v).diff(S,z.d,!0):S.diff(v,z.d,!0));var Y=(t.rounding||Math.round)(Math.abs(A));if(M=A>0,Y<=z.r||!z.r){Y<=1&&V>0&&(z=G[V-1]);var B=L[z.l];C&&(Y=C(""+Y)),N=typeof B=="string"?B.replace("%d",Y):B(Y,y,z.l,M);break}}if(y)return N;var K=M?L.future:L.past;return typeof K=="function"?K(N):K.replace("%s",N)},o.to=function(v,y){return d(v,y,this,!0)},o.from=function(v,y){return d(v,y,this)};var p=function(v){return v.$u?s.utc():s()};o.toNow=function(v){return this.to(p(this),v)},o.fromNow=function(v){return this.from(p(this),v)}}})}(iy)),iy.exports}var JT=QT();const U1=rr(JT);var ay={exports:{}},XT=ay.exports,X_;function ZT(){return X_||(X_=1,function(r,n){(function(t,e){r.exports=e()})(XT,function(){var t="day";return function(e,s,o){var c=function(v){return v.add(4-v.isoWeekday(),t)},d=s.prototype;d.isoWeekYear=function(){return c(this).year()},d.isoWeek=function(v){if(!this.$utils().u(v))return this.add(7*(v-this.isoWeek()),t);var y,S,k,C,A=c(this),N=(y=this.isoWeekYear(),S=this.$u,k=(S?o.utc:o)().year(y).startOf("year"),C=4-k.isoWeekday(),k.isoWeekday()>4&&(C+=7),k.add(C,t));return A.diff(N,"week")+1},d.isoWeekday=function(v){return this.$utils().u(v)?this.day()||7:this.day(this.day()%7?v:v-7)};var p=d.startOf;d.startOf=function(v,y){var S=this.$utils(),k=!!S.u(y)||y;return S.p(v)==="isoweek"?k?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):p.bind(this)(v,y)}}})}(ay)),ay.exports}var eD=ZT();const tD=rr(eD);var oy={exports:{}},nD=oy.exports,Z_;function rD(){return Z_||(Z_=1,function(r,n){(function(t,e){r.exports=e()})(nD,function(){return function(t,e){e.prototype.isoWeeksInYear=function(){var s=this.isLeapYear(),o=this.endOf("y").day();return o===4||s&&o===5?53:52}}})}(oy)),oy.exports}var sD=rD();const iD=rr(sD);var ly={exports:{}},aD=ly.exports,eS;function oD(){return eS||(eS=1,function(r,n){(function(t,e){r.exports=e()})(aD,function(){return function(t,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})}(ly)),ly.exports}var lD=oD();const uD=rr(lD);var uy={exports:{}},cD=uy.exports,tS;function dD(){return tS||(tS=1,function(r,n){(function(t,e){r.exports=e()})(cD,function(){return function(t,e){e.prototype.isSameOrAfter=function(s,o){return this.isSame(s,o)||this.isAfter(s,o)}}})}(uy)),uy.exports}var hD=dD();const fD=rr(hD);var cy={exports:{}},pD=cy.exports,nS;function gD(){return nS||(nS=1,function(r,n){(function(t,e){r.exports=e()})(pD,function(){return function(t,e){e.prototype.isSameOrBefore=function(s,o){return this.isSame(s,o)||this.isBefore(s,o)}}})}(cy)),cy.exports}var mD=gD();const vD=rr(mD);var dy={exports:{}},yD=dy.exports,rS;function bD(){return rS||(rS=1,function(r,n){(function(t,e){r.exports=e()})(yD,function(){var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(o,c,d){var p=c.prototype;d.utc=function(N){var M={date:N,utc:!0,args:arguments};return new c(M)},p.utc=function(N){var M=d(this.toDate(),{locale:this.$L,utc:!0});return N?M.add(this.utcOffset(),t):M},p.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var v=p.parse;p.parse=function(N){N.utc&&(this.$u=!0),this.$utils().u(N.$offset)||(this.$offset=N.$offset),v.call(this,N)};var y=p.init;p.init=function(){if(this.$u){var N=this.$d;this.$y=N.getUTCFullYear(),this.$M=N.getUTCMonth(),this.$D=N.getUTCDate(),this.$W=N.getUTCDay(),this.$H=N.getUTCHours(),this.$m=N.getUTCMinutes(),this.$s=N.getUTCSeconds(),this.$ms=N.getUTCMilliseconds()}else y.call(this)};var S=p.utcOffset;p.utcOffset=function(N,M){var L=this.$utils().u;if(L(N))return this.$u?0:L(this.$offset)?S.call(this):this.$offset;if(typeof N=="string"&&(N=function(z){z===void 0&&(z="");var Y=z.match(e);if(!Y)return null;var B=(""+Y[0]).match(s)||["-",0,0],K=B[0],Z=60*+B[1]+ +B[2];return Z===0?0:K==="+"?Z:-Z}(N),N===null))return this;var G=Math.abs(N)<=16?60*N:N,W=this;if(M)return W.$offset=G,W.$u=N===0,W;if(N!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(W=this.local().add(G+V,t)).$offset=G,W.$x.$localOffset=V}else W=this.utc();return W};var k=p.format;p.format=function(N){var M=N||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return k.call(this,M)},p.valueOf=function(){var N=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*N},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var C=p.toDate;p.toDate=function(N){return N==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():C.call(this)};var A=p.diff;p.diff=function(N,M,L){if(N&&this.$u===N.$u)return A.call(this,N,M,L);var G=this.local(),W=d(N).local();return A.call(G,W,M,L)}}})}(dy)),dy.exports}var wD=bD();const B1=rr(wD);var hy={exports:{}},_D=hy.exports,sS;function SD(){return sS||(sS=1,function(r,n){(function(t,e){r.exports=e()})(_D,function(){var t,e,s=1e3,o=6e4,c=36e5,d=864e5,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v=31536e6,y=2628e6,S=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,k={years:v,months:y,days:d,hours:c,minutes:o,seconds:s,milliseconds:1,weeks:6048e5},C=function(Y){return Y instanceof V},A=function(Y,B,K){return new V(Y,K,B.$l)},N=function(Y){return e.p(Y)+"s"},M=function(Y){return Y<0},L=function(Y){return M(Y)?Math.ceil(Y):Math.floor(Y)},G=function(Y){return Math.abs(Y)},W=function(Y,B){return Y?M(Y)?{negative:!0,format:""+G(Y)+B}:{negative:!1,format:""+Y+B}:{negative:!1,format:""}},V=function(){function Y(K,Z,ce){var me=this;if(this.$d={},this.$l=ce,K===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Z)return A(K*k[N(Z)],this);if(typeof K=="number")return this.$ms=K,this.parseFromMilliseconds(),this;if(typeof K=="object")return Object.keys(K).forEach(function(Ce){me.$d[N(Ce)]=K[Ce]}),this.calMilliseconds(),this;if(typeof K=="string"){var we=K.match(S);if(we){var Re=we.slice(2).map(function(Ce){return Ce!=null?Number(Ce):0});return this.$d.years=Re[0],this.$d.months=Re[1],this.$d.weeks=Re[2],this.$d.days=Re[3],this.$d.hours=Re[4],this.$d.minutes=Re[5],this.$d.seconds=Re[6],this.calMilliseconds(),this}}return this}var B=Y.prototype;return B.calMilliseconds=function(){var K=this;this.$ms=Object.keys(this.$d).reduce(function(Z,ce){return Z+(K.$d[ce]||0)*k[ce]},0)},B.parseFromMilliseconds=function(){var K=this.$ms;this.$d.years=L(K/v),K%=v,this.$d.months=L(K/y),K%=y,this.$d.days=L(K/d),K%=d,this.$d.hours=L(K/c),K%=c,this.$d.minutes=L(K/o),K%=o,this.$d.seconds=L(K/s),K%=s,this.$d.milliseconds=K},B.toISOString=function(){var K=W(this.$d.years,"Y"),Z=W(this.$d.months,"M"),ce=+this.$d.days||0;this.$d.weeks&&(ce+=7*this.$d.weeks);var me=W(ce,"D"),we=W(this.$d.hours,"H"),Re=W(this.$d.minutes,"M"),Ce=this.$d.seconds||0;this.$d.milliseconds&&(Ce+=this.$d.milliseconds/1e3,Ce=Math.round(1e3*Ce)/1e3);var _e=W(Ce,"S"),ye=K.negative||Z.negative||me.negative||we.negative||Re.negative||_e.negative,be=we.format||Re.format||_e.format?"T":"",Q=(ye?"-":"")+"P"+K.format+Z.format+me.format+be+we.format+Re.format+_e.format;return Q==="P"||Q==="-P"?"P0D":Q},B.toJSON=function(){return this.toISOString()},B.format=function(K){var Z=K||"YYYY-MM-DDTHH:mm:ss",ce={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return Z.replace(p,function(me,we){return we||String(ce[me])})},B.as=function(K){return this.$ms/k[N(K)]},B.get=function(K){var Z=this.$ms,ce=N(K);return ce==="milliseconds"?Z%=1e3:Z=ce==="weeks"?L(Z/k[ce]):this.$d[ce],Z||0},B.add=function(K,Z,ce){var me;return me=Z?K*k[N(Z)]:C(K)?K.$ms:A(K,this).$ms,A(this.$ms+me*(ce?-1:1),this)},B.subtract=function(K,Z){return this.add(K,Z,!0)},B.locale=function(K){var Z=this.clone();return Z.$l=K,Z},B.clone=function(){return A(this.$ms,this)},B.humanize=function(K){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!K)},B.valueOf=function(){return this.asMilliseconds()},B.milliseconds=function(){return this.get("milliseconds")},B.asMilliseconds=function(){return this.as("milliseconds")},B.seconds=function(){return this.get("seconds")},B.asSeconds=function(){return this.as("seconds")},B.minutes=function(){return this.get("minutes")},B.asMinutes=function(){return this.as("minutes")},B.hours=function(){return this.get("hours")},B.asHours=function(){return this.as("hours")},B.days=function(){return this.get("days")},B.asDays=function(){return this.as("days")},B.weeks=function(){return this.get("weeks")},B.asWeeks=function(){return this.as("weeks")},B.months=function(){return this.get("months")},B.asMonths=function(){return this.as("months")},B.years=function(){return this.get("years")},B.asYears=function(){return this.as("years")},Y}(),z=function(Y,B,K){return Y.add(B.years()*K,"y").add(B.months()*K,"M").add(B.days()*K,"d").add(B.hours()*K,"h").add(B.minutes()*K,"m").add(B.seconds()*K,"s").add(B.milliseconds()*K,"ms")};return function(Y,B,K){t=K,e=K().$utils(),K.duration=function(me,we){var Re=K.locale();return A(me,{$l:Re},we)},K.isDuration=C;var Z=B.prototype.add,ce=B.prototype.subtract;B.prototype.add=function(me,we){return C(me)?z(this,me,1):Z.bind(this)(me,we)},B.prototype.subtract=function(me,we){return C(me)?z(this,me,-1):ce.bind(this)(me,we)}}})}(hy)),hy.exports}var xD=SD();const kw=rr(xD);var fy={exports:{}},kD=fy.exports,iS;function ED(){return iS||(iS=1,function(r,n){(function(t,e){r.exports=e()})(kD,function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(s,o,c){var d,p=function(k,C,A){A===void 0&&(A={});var N=new Date(k),M=function(L,G){G===void 0&&(G={});var W=G.timeZoneName||"short",V=L+"|"+W,z=e[V];return z||(z=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:L,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:W}),e[V]=z),z}(C,A);return M.formatToParts(N)},v=function(k,C){for(var A=p(k,C),N=[],M=0;M<A.length;M+=1){var L=A[M],G=L.type,W=L.value,V=t[G];V>=0&&(N[V]=parseInt(W,10))}var z=N[3],Y=z===24?0:z,B=N[0]+"-"+N[1]+"-"+N[2]+" "+Y+":"+N[4]+":"+N[5]+":000",K=+k;return(c.utc(B).valueOf()-(K-=K%1e3))/6e4},y=o.prototype;y.tz=function(k,C){k===void 0&&(k=d);var A,N=this.utcOffset(),M=this.toDate(),L=M.toLocaleString("en-US",{timeZone:k}),G=Math.round((M-new Date(L))/1e3/60),W=15*-Math.round(M.getTimezoneOffset()/15)-G;if(!Number(W))A=this.utcOffset(0,C);else if(A=c(L,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(W,!0),C){var V=A.utcOffset();A=A.add(N-V,"minute")}return A.$x.$timezone=k,A},y.offsetName=function(k){var C=this.$x.$timezone||c.tz.guess(),A=p(this.valueOf(),C,{timeZoneName:k}).find(function(N){return N.type.toLowerCase()==="timezonename"});return A&&A.value};var S=y.startOf;y.startOf=function(k,C){if(!this.$x||!this.$x.$timezone)return S.call(this,k,C);var A=c(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return S.call(A,k,C).tz(this.$x.$timezone,!0)},c.tz=function(k,C,A){var N=A&&C,M=A||C||d,L=v(+c(),M);if(typeof k!="string")return c(k).tz(M);var G=function(Y,B,K){var Z=Y-60*B*1e3,ce=v(Z,K);if(B===ce)return[Z,B];var me=v(Z-=60*(ce-B)*1e3,K);return ce===me?[Z,ce]:[Y-60*Math.min(ce,me)*1e3,Math.max(ce,me)]}(c.utc(k,N).valueOf(),L,M),W=G[0],V=G[1],z=c(W).utcOffset(V);return z.$x.$timezone=M,z},c.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},c.tz.setDefault=function(k){d=k}}})}(fy)),fy.exports}var CD=ED();const W1=rr(CD);var X=Xy();const J=rr(X),Ew=RT({__proto__:null,default:J},[X]);var Wf=F1();const PD=rr(Wf);/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},im.apply(this,arguments)}var Nd;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Nd||(Nd={}));const aS="popstate";function OD(r){r===void 0&&(r={});function n(s,o){let{pathname:c="/",search:d="",hash:p=""}=yp(s.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),$0("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=s.location.href,v=p.indexOf("#");d=v===-1?p:p.slice(0,v)}return d+"#"+(typeof o=="string"?o:Py(o))}function e(s,o){Cw(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return DD(n,t,e,r)}function ys(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Cw(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function TD(){return Math.random().toString(36).substr(2,8)}function oS(r,n){return{usr:r.state,key:r.key,idx:n}}function $0(r,n,t,e){return t===void 0&&(t=null),im({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof n=="string"?yp(n):n,{state:t,key:n&&n.key||e||TD()})}function Py(r){let{pathname:n="/",search:t="",hash:e=""}=r;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function yp(r){let n={};if(r){let t=r.indexOf("#");t>=0&&(n.hash=r.substr(t),r=r.substr(0,t));let e=r.indexOf("?");e>=0&&(n.search=r.substr(e),r=r.substr(0,e)),r&&(n.pathname=r)}return n}function DD(r,n,t,e){e===void 0&&(e={});let{window:s=document.defaultView,v5Compat:o=!1}=e,c=s.history,d=Nd.Pop,p=null,v=y();v==null&&(v=0,c.replaceState(im({},c.state,{idx:v}),""));function y(){return(c.state||{idx:null}).idx}function S(){d=Nd.Pop;let M=y(),L=M==null?null:M-v;v=M,p&&p({action:d,location:N.location,delta:L})}function k(M,L){d=Nd.Push;let G=$0(N.location,M,L);t&&t(G,M),v=y()+1;let W=oS(G,v),V=N.createHref(G);try{c.pushState(W,"",V)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(V)}o&&p&&p({action:d,location:N.location,delta:1})}function C(M,L){d=Nd.Replace;let G=$0(N.location,M,L);t&&t(G,M),v=y();let W=oS(G,v),V=N.createHref(G);c.replaceState(W,"",V),o&&p&&p({action:d,location:N.location,delta:0})}function A(M){let L=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof M=="string"?M:Py(M);return G=G.replace(/ $/,"%20"),ys(L,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,L)}let N={get action(){return d},get location(){return r(s,c)},listen(M){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(aS,S),p=M,()=>{s.removeEventListener(aS,S),p=null}},createHref(M){return n(s,M)},createURL:A,encodeLocation(M){let L=A(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:k,replace:C,go(M){return c.go(M)}};return N}var lS;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(lS||(lS={}));function ND(r,n,t){return t===void 0&&(t="/"),AD(r,n,t)}function AD(r,n,t,e){let s=typeof n=="string"?yp(n):n,o=Pw(s.pathname||"/",t);if(o==null)return null;let c=H1(r);ID(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let v=qD(o);d=WD(c[p],v)}return d}function H1(r,n,t,e){n===void 0&&(n=[]),t===void 0&&(t=[]),e===void 0&&(e="");let s=(o,c,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&(ys(p.relativePath.startsWith(e),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+e+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(e.length));let v=Xu([e,p.relativePath]),y=t.concat(p);o.children&&o.children.length>0&&(ys(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),H1(o.children,n,y,v)),!(o.path==null&&!o.index)&&n.push({path:v,score:UD(v,o.index),routesMeta:y})};return r.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,c);else for(let p of z1(o.path))s(o,c,p)}),n}function z1(r){let n=r.split("/");if(n.length===0)return[];let[t,...e]=n,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(e.length===0)return s?[o,""]:[o];let c=z1(e.join("/")),d=[];return d.push(...c.map(p=>p===""?o:[o,p].join("/"))),s&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function ID(r){r.sort((n,t)=>n.score!==t.score?t.score-n.score:BD(n.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}const MD=/^:[\w-]+$/,RD=3,jD=2,$D=1,LD=10,FD=-2,uS=r=>r==="*";function UD(r,n){let t=r.split("/"),e=t.length;return t.some(uS)&&(e+=FD),n&&(e+=jD),t.filter(s=>!uS(s)).reduce((s,o)=>s+(MD.test(o)?RD:o===""?$D:LD),e)}function BD(r,n){return r.length===n.length&&r.slice(0,-1).every((e,s)=>e===n[s])?r[r.length-1]-n[n.length-1]:0}function WD(r,n,t){let{routesMeta:e}=r,s={},o="/",c=[];for(let d=0;d<e.length;++d){let p=e[d],v=d===e.length-1,y=o==="/"?n:n.slice(o.length)||"/",S=HD({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},y),k=p.route;if(!S)return null;Object.assign(s,S.params),c.push({params:s,pathname:Xu([o,S.pathname]),pathnameBase:VD(Xu([o,S.pathnameBase])),route:k}),S.pathnameBase!=="/"&&(o=Xu([o,S.pathnameBase]))}return c}function HD(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,e]=zD(r.path,r.caseSensitive,r.end),s=n.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:e.reduce((v,y,S)=>{let{paramName:k,isOptional:C}=y;if(k==="*"){let N=d[S]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const A=d[S];return C&&!A?v[k]=void 0:v[k]=(A||"").replace(/%2F/g,"/"),v},{}),pathname:o,pathnameBase:c,pattern:r}}function zD(r,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),Cw(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let e=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(e.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(e.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),e]}function qD(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Cw(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),r}}function Pw(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,e=r.charAt(t);return e&&e!=="/"?null:r.slice(t)||"/"}function YD(r,n){n===void 0&&(n="/");let{pathname:t,search:e="",hash:s=""}=typeof r=="string"?yp(r):r;return{pathname:t?t.startsWith("/")?t:KD(t,n):n,search:QD(e),hash:JD(s)}}function KD(r,n){let t=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function o0(r,n,t,e){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(e)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GD(r){return r.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function q1(r,n){let t=GD(r);return n?t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase):t.map(e=>e.pathnameBase)}function Y1(r,n,t,e){e===void 0&&(e=!1);let s;typeof r=="string"?s=yp(r):(s=im({},r),ys(!s.pathname||!s.pathname.includes("?"),o0("?","pathname","search",s)),ys(!s.pathname||!s.pathname.includes("#"),o0("#","pathname","hash",s)),ys(!s.search||!s.search.includes("#"),o0("#","search","hash",s)));let o=r===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=t;else{let S=n.length-1;if(!e&&c.startsWith("..")){let k=c.split("/");for(;k[0]==="..";)k.shift(),S-=1;s.pathname=k.join("/")}d=S>=0?n[S]:"/"}let p=YD(s,d),v=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||y)&&(p.pathname+="/"),p}const Xu=r=>r.join("/").replace(/\/\/+/g,"/"),VD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,JD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function XD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const K1=["post","put","patch","delete"];new Set(K1);const ZD=["get",...K1];new Set(ZD);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oy(){return Oy=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},Oy.apply(this,arguments)}const Ow=X.createContext(null),eN=X.createContext(null),Gd=X.createContext(null),Tw=X.createContext(null),pc=X.createContext({outlet:null,matches:[],isDataRoute:!1}),G1=X.createContext(null);function tN(r,n){let{relative:t}=n===void 0?{}:n;Pm()||ys(!1);let{basename:e,navigator:s}=X.useContext(Gd),{hash:o,pathname:c,search:d}=J1(r,{relative:t}),p=c;return e!=="/"&&(p=c==="/"?e:Xu([e,c])),s.createHref({pathname:p,search:d,hash:o})}function Pm(){return X.useContext(Tw)!=null}function Vd(){return Pm()||ys(!1),X.useContext(Tw).location}function V1(r){X.useContext(Gd).static||X.useLayoutEffect(r)}function Q1(){let{isDataRoute:r}=X.useContext(pc);return r?mN():nN()}function nN(){Pm()||ys(!1);let r=X.useContext(Ow),{basename:n,future:t,navigator:e}=X.useContext(Gd),{matches:s}=X.useContext(pc),{pathname:o}=Vd(),c=JSON.stringify(q1(s,t.v7_relativeSplatPath)),d=X.useRef(!1);return V1(()=>{d.current=!0}),X.useCallback(function(v,y){if(y===void 0&&(y={}),!d.current)return;if(typeof v=="number"){e.go(v);return}let S=Y1(v,JSON.parse(c),o,y.relative==="path");r==null&&n!=="/"&&(S.pathname=S.pathname==="/"?n:Xu([n,S.pathname])),(y.replace?e.replace:e.push)(S,y.state,y)},[n,e,c,o,r])}const rN=X.createContext(null);function sN(r){let n=X.useContext(pc).outlet;return n&&X.createElement(rN.Provider,{value:r},n)}function J1(r,n){let{relative:t}=n===void 0?{}:n,{future:e}=X.useContext(Gd),{matches:s}=X.useContext(pc),{pathname:o}=Vd(),c=JSON.stringify(q1(s,e.v7_relativeSplatPath));return X.useMemo(()=>Y1(r,JSON.parse(c),o,t==="path"),[r,c,o,t])}function iN(r,n){return aN(r)}function aN(r,n,t,e){Pm()||ys(!1);let{navigator:s,static:o}=X.useContext(Gd),{matches:c}=X.useContext(pc),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let y=Vd(),S;S=y;let k=S.pathname||"/",C=k;if(v!=="/"){let M=v.replace(/^\//,"").split("/");C="/"+k.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=ND(r,{pathname:C});return dN(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:Xu([v,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:Xu([v,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,t,e)}function oN(){let r=gN(),n=XD(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},n),t?X.createElement("pre",{style:s},t):null,null)}const lN=X.createElement(oN,null);class uN extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?X.createElement(pc.Provider,{value:this.props.routeContext},X.createElement(G1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cN(r){let{routeContext:n,match:t,children:e}=r,s=X.useContext(Ow);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(pc.Provider,{value:n},e)}function dN(r,n,t,e){var s;if(n===void 0&&(n=[]),t===void 0&&(t=null),e===void 0&&(e=null),r==null){var o;if(!t)return null;if(t.errors)r=t.matches;else if((o=e)!=null&&o.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let c=r,d=(s=t)==null?void 0:s.errors;if(d!=null){let y=c.findIndex(S=>S.route.id&&d?.[S.route.id]!==void 0);y>=0||ys(!1),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,v=-1;if(t&&e&&e.v7_partialHydration)for(let y=0;y<c.length;y++){let S=c[y];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(v=y),S.route.id){let{loaderData:k,errors:C}=t,A=S.route.loader&&k[S.route.id]===void 0&&(!C||C[S.route.id]===void 0);if(S.route.lazy||A){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((y,S,k)=>{let C,A=!1,N=null,M=null;t&&(C=d&&S.route.id?d[S.route.id]:void 0,N=S.route.errorElement||lN,p&&(v<0&&k===0?(vN("route-fallback"),A=!0,M=null):v===k&&(A=!0,M=S.route.hydrateFallbackElement||null)));let L=n.concat(c.slice(0,k+1)),G=()=>{let W;return C?W=N:A?W=M:S.route.Component?W=X.createElement(S.route.Component,null):S.route.element?W=S.route.element:W=y,X.createElement(cN,{match:S,routeContext:{outlet:y,matches:L,isDataRoute:t!=null},children:W})};return t&&(S.route.ErrorBoundary||S.route.errorElement||k===0)?X.createElement(uN,{location:t.location,revalidation:t.revalidation,component:N,error:C,children:G(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):G()},null)}var X1=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(X1||{}),Z1=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Z1||{});function hN(r){let n=X.useContext(Ow);return n||ys(!1),n}function fN(r){let n=X.useContext(eN);return n||ys(!1),n}function pN(r){let n=X.useContext(pc);return n||ys(!1),n}function ek(r){let n=pN(),t=n.matches[n.matches.length-1];return t.route.id||ys(!1),t.route.id}function gN(){var r;let n=X.useContext(G1),t=fN(),e=ek();return n!==void 0?n:(r=t.errors)==null?void 0:r[e]}function mN(){let{router:r}=hN(X1.UseNavigateStable),n=ek(Z1.UseNavigateStable),t=X.useRef(!1);return V1(()=>{t.current=!0}),X.useCallback(function(s,o){o===void 0&&(o={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,Oy({fromRouteId:n},o)))},[r,n])}const cS={};function vN(r,n,t){cS[r]||(cS[r]=!0)}function yN(r,n){r?.v7_startTransition,r?.v7_relativeSplatPath}function bN(r){return sN(r.context)}function wN(r){let{basename:n="/",children:t=null,location:e,navigationType:s=Nd.Pop,navigator:o,static:c=!1,future:d}=r;Pm()&&ys(!1);let p=n.replace(/^\/*/,"/"),v=X.useMemo(()=>({basename:p,navigator:o,static:c,future:Oy({v7_relativeSplatPath:!1},d)}),[p,d,o,c]);typeof e=="string"&&(e=yp(e));let{pathname:y="/",search:S="",hash:k="",state:C=null,key:A="default"}=e,N=X.useMemo(()=>{let M=Pw(y,p);return M==null?null:{location:{pathname:M,search:S,hash:k,state:C,key:A},navigationType:s}},[p,y,S,k,C,A,s]);return N==null?null:X.createElement(Gd.Provider,{value:v},X.createElement(Tw.Provider,{children:t,value:N}))}new Promise(()=>{});/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L0(){return L0=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},L0.apply(this,arguments)}function _N(r,n){if(r==null)return{};var t={},e=Object.keys(r),s,o;for(o=0;o<e.length;o++)s=e[o],!(n.indexOf(s)>=0)&&(t[s]=r[s]);return t}function SN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xN(r,n){return r.button===0&&(!n||n==="_self")&&!SN(r)}const kN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EN="6";try{window.__reactRouterVersion=EN}catch{}const CN="startTransition",dS=Ew[CN];function PN(r){let{basename:n,children:t,future:e,window:s}=r,o=X.useRef();o.current==null&&(o.current=OD({window:s,v5Compat:!0}));let c=o.current,[d,p]=X.useState({action:c.action,location:c.location}),{v7_startTransition:v}=e||{},y=X.useCallback(S=>{v&&dS?dS(()=>p(S)):p(S)},[p,v]);return X.useLayoutEffect(()=>c.listen(y),[c,y]),X.useEffect(()=>yN(e),[e]),X.createElement(wN,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:c,future:e})}const ON=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ty=X.forwardRef(function(n,t){let{onClick:e,relative:s,reloadDocument:o,replace:c,state:d,target:p,to:v,preventScrollReset:y,viewTransition:S}=n,k=_N(n,kN),{basename:C}=X.useContext(Gd),A,N=!1;if(typeof v=="string"&&TN.test(v)&&(A=v,ON))try{let W=new URL(window.location.href),V=v.startsWith("//")?new URL(W.protocol+v):new URL(v),z=Pw(V.pathname,C);V.origin===W.origin&&z!=null?v=z+V.search+V.hash:N=!0}catch{}let M=tN(v,{relative:s}),L=DN(v,{replace:c,state:d,target:p,preventScrollReset:y,relative:s,viewTransition:S});function G(W){e&&e(W),W.defaultPrevented||L(W)}return X.createElement("a",L0({},k,{href:A||M,onClick:N||o?e:G,ref:t,target:p}))});var hS;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(hS||(hS={}));var fS;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(fS||(fS={}));function DN(r,n){let{target:t,replace:e,state:s,preventScrollReset:o,relative:c,viewTransition:d}=n===void 0?{}:n,p=Q1(),v=Vd(),y=J1(r,{relative:c});return X.useCallback(S=>{if(xN(S,t)){S.preventDefault();let k=e!==void 0?e:Py(v)===Py(y);p(r,{replace:k,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[v,p,y,e,s,t,r,o,c,d])}const NN=X.createContext(null),l0={didCatch:!1,error:null};class AN extends X.Component{constructor(n){super(n),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=l0}static getDerivedStateFromError(n){return{didCatch:!0,error:n}}resetErrorBoundary(){const{error:n}=this.state;if(n!==null){for(var t,e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];(t=(e=this.props).onReset)===null||t===void 0||t.call(e,{args:o,reason:"imperative-api"}),this.setState(l0)}}componentDidCatch(n,t){var e,s;(e=(s=this.props).onError)===null||e===void 0||e.call(s,n,t)}componentDidUpdate(n,t){const{didCatch:e}=this.state,{resetKeys:s}=this.props;if(e&&t.error!==null&&IN(n.resetKeys,s)){var o,c;(o=(c=this.props).onReset)===null||o===void 0||o.call(c,{next:s,prev:n.resetKeys,reason:"keys"}),this.setState(l0)}}render(){const{children:n,fallbackRender:t,FallbackComponent:e,fallback:s}=this.props,{didCatch:o,error:c}=this.state;let d=n;if(o){const p={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")d=t(p);else if(e)d=X.createElement(e,p);else if(s!==void 0)d=s;else throw c}return X.createElement(NN.Provider,{value:{didCatch:o,error:c,resetErrorBoundary:this.resetErrorBoundary}},d)}}function IN(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return r.length!==n.length||r.some((t,e)=>!Object.is(t,n[e]))}function MN(r,n){if(r==null)return{};var t={};for(var e in r)if({}.hasOwnProperty.call(r,e)){if(n.indexOf(e)!==-1)continue;t[e]=r[e]}return t}var u0={exports:{}},fn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function RN(){if(pS)return fn;pS=1;var r=typeof Symbol=="function"&&Symbol.for,n=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,e=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,v=r?Symbol.for("react.concurrent_mode"):60111,y=r?Symbol.for("react.forward_ref"):60112,S=r?Symbol.for("react.suspense"):60113,k=r?Symbol.for("react.suspense_list"):60120,C=r?Symbol.for("react.memo"):60115,A=r?Symbol.for("react.lazy"):60116,N=r?Symbol.for("react.block"):60121,M=r?Symbol.for("react.fundamental"):60117,L=r?Symbol.for("react.responder"):60118,G=r?Symbol.for("react.scope"):60119;function W(z){if(typeof z=="object"&&z!==null){var Y=z.$$typeof;switch(Y){case n:switch(z=z.type,z){case p:case v:case e:case o:case s:case S:return z;default:switch(z=z&&z.$$typeof,z){case d:case y:case A:case C:case c:return z;default:return Y}}case t:return Y}}}function V(z){return W(z)===v}return fn.AsyncMode=p,fn.ConcurrentMode=v,fn.ContextConsumer=d,fn.ContextProvider=c,fn.Element=n,fn.ForwardRef=y,fn.Fragment=e,fn.Lazy=A,fn.Memo=C,fn.Portal=t,fn.Profiler=o,fn.StrictMode=s,fn.Suspense=S,fn.isAsyncMode=function(z){return V(z)||W(z)===p},fn.isConcurrentMode=V,fn.isContextConsumer=function(z){return W(z)===d},fn.isContextProvider=function(z){return W(z)===c},fn.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===n},fn.isForwardRef=function(z){return W(z)===y},fn.isFragment=function(z){return W(z)===e},fn.isLazy=function(z){return W(z)===A},fn.isMemo=function(z){return W(z)===C},fn.isPortal=function(z){return W(z)===t},fn.isProfiler=function(z){return W(z)===o},fn.isStrictMode=function(z){return W(z)===s},fn.isSuspense=function(z){return W(z)===S},fn.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===e||z===v||z===o||z===s||z===S||z===k||typeof z=="object"&&z!==null&&(z.$$typeof===A||z.$$typeof===C||z.$$typeof===c||z.$$typeof===d||z.$$typeof===y||z.$$typeof===M||z.$$typeof===L||z.$$typeof===G||z.$$typeof===N)},fn.typeOf=W,fn}var gS;function jN(){return gS||(gS=1,u0.exports=RN()),u0.exports}var $N=jN();function F0(r,n){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F0(r,n)}function In(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,F0(r,n)}var Io=function(n,t){if(typeof n=="function"){n(t);return}n!==null&&typeof n=="object"&&(n.current=t)},LN=function(n){return n!==null&&typeof n=="object"&&n.hasOwnProperty("current")},FN=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.prevNode=void 0,e}var t=n.prototype;return t.componentDidMount=function(){var s=Wf.findDOMNode(this);this.prevNode=s,Io(this.props.innerRef,s)},t.componentDidUpdate=function(s){var o=Wf.findDOMNode(this);this.prevNode!==o&&(this.prevNode=o,Io(this.props.innerRef,o)),s.innerRef!==this.props.innerRef&&Io(this.props.innerRef,o)},t.componentWillUnmount=function(){Io(this.props.innerRef,null),delete this.prevNode},t.render=function(){var s=this.props.children;return s},n}(X.Component),UN=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.currentNode=void 0,e.handleRefOverride=function(d){var p=e.props,v=p.children,y=p.innerRef;Io(v.ref,d),Io(y,d),e.currentNode=d},e}var t=n.prototype;return t.componentDidUpdate=function(s){s.innerRef!==this.props.innerRef&&Io(this.props.innerRef,this.currentNode)},t.componentWillUnmount=function(){delete this.currentNode},t.render=function(){var s=this.props.children;return X.cloneElement(s,{ref:this.handleRefOverride})},n}(X.Component),BN=["children","innerRef"],Uo=function(n){var t=n.children,e=n.innerRef,s=MN(n,BN),o=X.Children.only(t),c=$N.isForwardRef(o)?UN:FN,d=o&&s&&Object.keys(s).length>0?X.cloneElement(o,s):o;return X.createElement(c,{innerRef:e},d)};function Ie(){return Ie=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)({}).hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},Ie.apply(null,arguments)}var br=Array.isArray,tk=typeof global=="object"&&global&&global.Object===Object&&global,WN=typeof self=="object"&&self&&self.Object===Object&&self,Yo=tk||WN||Function("return this")(),Bo=Yo.Symbol,nk=Object.prototype,HN=nk.hasOwnProperty,zN=nk.toString,Mg=Bo?Bo.toStringTag:void 0;function qN(r){var n=HN.call(r,Mg),t=r[Mg];try{r[Mg]=void 0;var e=!0}catch{}var s=zN.call(r);return e&&(n?r[Mg]=t:delete r[Mg]),s}var YN=Object.prototype,KN=YN.toString;function GN(r){return KN.call(r)}var VN="[object Null]",QN="[object Undefined]",mS=Bo?Bo.toStringTag:void 0;function Ko(r){return r==null?r===void 0?QN:VN:mS&&mS in Object(r)?qN(r):GN(r)}function ua(r){return r!=null&&typeof r=="object"}var JN="[object Symbol]";function Zy(r){return typeof r=="symbol"||ua(r)&&Ko(r)==JN}var XN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZN=/^\w*$/;function Dw(r,n){if(br(r))return!1;var t=typeof r;return t=="number"||t=="symbol"||t=="boolean"||r==null||Zy(r)?!0:ZN.test(r)||!XN.test(r)||n!=null&&r in Object(n)}function Fd(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}var eA="[object AsyncFunction]",tA="[object Function]",nA="[object GeneratorFunction]",rA="[object Proxy]";function Hf(r){if(!Fd(r))return!1;var n=Ko(r);return n==tA||n==nA||n==eA||n==rA}var c0=Yo["__core-js_shared__"],vS=function(){var r=/[^.]+$/.exec(c0&&c0.keys&&c0.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function sA(r){return!!vS&&vS in r}var iA=Function.prototype,aA=iA.toString;function Qd(r){if(r!=null){try{return aA.call(r)}catch{}try{return r+""}catch{}}return""}var oA=/[\\^$.*+?()[\]{}|]/g,lA=/^\[object .+?Constructor\]$/,uA=Function.prototype,cA=Object.prototype,dA=uA.toString,hA=cA.hasOwnProperty,fA=RegExp("^"+dA.call(hA).replace(oA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pA(r){if(!Fd(r)||sA(r))return!1;var n=Hf(r)?fA:lA;return n.test(Qd(r))}function gA(r,n){return r?.[n]}function Jd(r,n){var t=gA(r,n);return pA(t)?t:void 0}var am=Jd(Object,"create");function mA(){this.__data__=am?am(null):{},this.size=0}function vA(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}var yA="__lodash_hash_undefined__",bA=Object.prototype,wA=bA.hasOwnProperty;function _A(r){var n=this.__data__;if(am){var t=n[r];return t===yA?void 0:t}return wA.call(n,r)?n[r]:void 0}var SA=Object.prototype,xA=SA.hasOwnProperty;function kA(r){var n=this.__data__;return am?n[r]!==void 0:xA.call(n,r)}var EA="__lodash_hash_undefined__";function CA(r,n){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=am&&n===void 0?EA:n,this}function Ud(r){var n=-1,t=r==null?0:r.length;for(this.clear();++n<t;){var e=r[n];this.set(e[0],e[1])}}Ud.prototype.clear=mA;Ud.prototype.delete=vA;Ud.prototype.get=_A;Ud.prototype.has=kA;Ud.prototype.set=CA;function PA(){this.__data__=[],this.size=0}function Nw(r,n){return r===n||r!==r&&n!==n}function eb(r,n){for(var t=r.length;t--;)if(Nw(r[t][0],n))return t;return-1}var OA=Array.prototype,TA=OA.splice;function DA(r){var n=this.__data__,t=eb(n,r);if(t<0)return!1;var e=n.length-1;return t==e?n.pop():TA.call(n,t,1),--this.size,!0}function NA(r){var n=this.__data__,t=eb(n,r);return t<0?void 0:n[t][1]}function AA(r){return eb(this.__data__,r)>-1}function IA(r,n){var t=this.__data__,e=eb(t,r);return e<0?(++this.size,t.push([r,n])):t[e][1]=n,this}function iu(r){var n=-1,t=r==null?0:r.length;for(this.clear();++n<t;){var e=r[n];this.set(e[0],e[1])}}iu.prototype.clear=PA;iu.prototype.delete=DA;iu.prototype.get=NA;iu.prototype.has=AA;iu.prototype.set=IA;var om=Jd(Yo,"Map");function MA(){this.size=0,this.__data__={hash:new Ud,map:new(om||iu),string:new Ud}}function RA(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}function tb(r,n){var t=r.__data__;return RA(n)?t[typeof n=="string"?"string":"hash"]:t.map}function jA(r){var n=tb(this,r).delete(r);return this.size-=n?1:0,n}function $A(r){return tb(this,r).get(r)}function LA(r){return tb(this,r).has(r)}function FA(r,n){var t=tb(this,r),e=t.size;return t.set(r,n),this.size+=t.size==e?0:1,this}function au(r){var n=-1,t=r==null?0:r.length;for(this.clear();++n<t;){var e=r[n];this.set(e[0],e[1])}}au.prototype.clear=MA;au.prototype.delete=jA;au.prototype.get=$A;au.prototype.has=LA;au.prototype.set=FA;var UA="Expected a function";function nb(r,n){if(typeof r!="function"||n!=null&&typeof n!="function")throw new TypeError(UA);var t=function(){var e=arguments,s=n?n.apply(this,e):e[0],o=t.cache;if(o.has(s))return o.get(s);var c=r.apply(this,e);return t.cache=o.set(s,c)||o,c};return t.cache=new(nb.Cache||au),t}nb.Cache=au;var BA=500;function WA(r){var n=nb(r,function(e){return t.size===BA&&t.clear(),e}),t=n.cache;return n}var HA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zA=/\\(\\)?/g,qA=WA(function(r){var n=[];return r.charCodeAt(0)===46&&n.push(""),r.replace(HA,function(t,e,s,o){n.push(s?o.replace(zA,"$1"):e||t)}),n});function Aw(r,n){for(var t=-1,e=r==null?0:r.length,s=Array(e);++t<e;)s[t]=n(r[t],t,r);return s}var yS=Bo?Bo.prototype:void 0,bS=yS?yS.toString:void 0;function rk(r){if(typeof r=="string")return r;if(br(r))return Aw(r,rk)+"";if(Zy(r))return bS?bS.call(r):"";var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}function Bd(r){return r==null?"":rk(r)}function Om(r,n){return br(r)?r:Dw(r,n)?[r]:qA(Bd(r))}var YA="[object Arguments]";function wS(r){return ua(r)&&Ko(r)==YA}var sk=Object.prototype,KA=sk.hasOwnProperty,GA=sk.propertyIsEnumerable,rb=wS(function(){return arguments}())?wS:function(r){return ua(r)&&KA.call(r,"callee")&&!GA.call(r,"callee")},VA=9007199254740991,QA=/^(?:0|[1-9]\d*)$/;function Iw(r,n){var t=typeof r;return n=n??VA,!!n&&(t=="number"||t!="symbol"&&QA.test(r))&&r>-1&&r%1==0&&r<n}var JA=9007199254740991;function Mw(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=JA}function bp(r){if(typeof r=="string"||Zy(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}function XA(r,n,t){n=Om(n,r);for(var e=-1,s=n.length,o=!1;++e<s;){var c=bp(n[e]);if(!(o=r!=null&&t(r,c)))break;r=r[c]}return o||++e!=s?o:(s=r==null?0:r.length,!!s&&Mw(s)&&Iw(c,s)&&(br(r)||rb(r)))}function ik(r,n,t){switch(t.length){case 0:return r.call(n);case 1:return r.call(n,t[0]);case 2:return r.call(n,t[0],t[1]);case 3:return r.call(n,t[0],t[1],t[2])}return r.apply(n,t)}function ZA(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}function sb(r,n){n=Om(n,r);for(var t=0,e=n.length;r!=null&&t<e;)r=r[bp(n[t++])];return t&&t==e?r:void 0}function Rw(r,n,t){var e=-1,s=r.length;n<0&&(n=-n>s?0:s+n),t=t>s?s:t,t<0&&(t+=s),s=n>t?0:t-n>>>0,n>>>=0;for(var o=Array(s);++e<s;)o[e]=r[e+n];return o}function eI(r,n){return n.length<2?r:sb(r,Rw(n,0,-1))}function tI(r,n,t){n=Om(n,r),r=eI(r,n);var e=r==null?r:r[bp(ZA(n))];return e==null?void 0:ik(e,r,t)}function Tm(r){return r}var _S=Math.max;function ak(r,n,t){return n=_S(n===void 0?r.length-1:n,0),function(){for(var e=arguments,s=-1,o=_S(e.length-n,0),c=Array(o);++s<o;)c[s]=e[n+s];s=-1;for(var d=Array(n+1);++s<n;)d[s]=e[s];return d[n]=t(c),ik(r,this,d)}}function ok(r){return function(){return r}}var Dy=function(){try{var r=Jd(Object,"defineProperty");return r({},"",{}),r}catch{}}(),nI=Dy?function(r,n){return Dy(r,"toString",{configurable:!0,enumerable:!1,value:ok(n),writable:!0})}:Tm,rI=800,sI=16,iI=Date.now;function aI(r){var n=0,t=0;return function(){var e=iI(),s=sI-(e-t);if(t=e,s>0){if(++n>=rI)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}var lk=aI(nI);function ib(r,n){return lk(ak(r,n,Tm),r+"")}var it=ib(tI);function oI(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ua(r){return r===void 0}function lI(r,n,t){return r===r&&(t!==void 0&&(r=r<=t?r:t),n!==void 0&&(r=r>=n?r:n)),r}var uI=/\s/;function cI(r){for(var n=r.length;n--&&uI.test(r.charAt(n)););return n}var dI=/^\s+/;function hI(r){return r&&r.slice(0,cI(r)+1).replace(dI,"")}var SS=NaN,fI=/^[-+]0x[0-9a-f]+$/i,pI=/^0b[01]+$/i,gI=/^0o[0-7]+$/i,mI=parseInt;function $f(r){if(typeof r=="number")return r;if(Zy(r))return SS;if(Fd(r)){var n=typeof r.valueOf=="function"?r.valueOf():r;r=Fd(n)?n+"":n}if(typeof r!="string")return r===0?r:+r;r=hI(r);var t=pI.test(r);return t||gI.test(r)?mI(r.slice(2),t?2:8):fI.test(r)?SS:+r}var vI=1/0,yI=17976931348623157e292;function U0(r){if(!r)return r===0?r:0;if(r=$f(r),r===vI||r===-1/0){var n=r<0?-1:1;return n*yI}return r===r?r:0}function ab(r){var n=U0(r),t=n%1;return n===n?t?n-t:n:0}function uk(r,n){for(var t=-1,e=r==null?0:r.length,s=0,o=[];++t<e;){var c=r[t];n(c,t,r)&&(o[s++]=c)}return o}function bI(r){return function(n,t,e){for(var s=-1,o=Object(n),c=e(n),d=c.length;d--;){var p=c[++s];if(t(o[p],p,o)===!1)break}return n}}var wI=bI();function _I(r,n){for(var t=-1,e=Array(r);++t<r;)e[t]=n(t);return e}function SI(){return!1}var ck=typeof zl=="object"&&zl&&!zl.nodeType&&zl,xS=ck&&typeof ql=="object"&&ql&&!ql.nodeType&&ql,xI=xS&&xS.exports===ck,kS=xI?Yo.Buffer:void 0,kI=kS?kS.isBuffer:void 0,Ny=kI||SI,EI="[object Arguments]",CI="[object Array]",PI="[object Boolean]",OI="[object Date]",TI="[object Error]",DI="[object Function]",NI="[object Map]",AI="[object Number]",II="[object Object]",MI="[object RegExp]",RI="[object Set]",jI="[object String]",$I="[object WeakMap]",LI="[object ArrayBuffer]",FI="[object DataView]",UI="[object Float32Array]",BI="[object Float64Array]",WI="[object Int8Array]",HI="[object Int16Array]",zI="[object Int32Array]",qI="[object Uint8Array]",YI="[object Uint8ClampedArray]",KI="[object Uint16Array]",GI="[object Uint32Array]",Ln={};Ln[UI]=Ln[BI]=Ln[WI]=Ln[HI]=Ln[zI]=Ln[qI]=Ln[YI]=Ln[KI]=Ln[GI]=!0;Ln[EI]=Ln[CI]=Ln[LI]=Ln[PI]=Ln[FI]=Ln[OI]=Ln[TI]=Ln[DI]=Ln[NI]=Ln[AI]=Ln[II]=Ln[MI]=Ln[RI]=Ln[jI]=Ln[$I]=!1;function VI(r){return ua(r)&&Mw(r.length)&&!!Ln[Ko(r)]}function QI(r){return function(n){return r(n)}}var dk=typeof zl=="object"&&zl&&!zl.nodeType&&zl,Qg=dk&&typeof ql=="object"&&ql&&!ql.nodeType&&ql,JI=Qg&&Qg.exports===dk,d0=JI&&tk.process,ES=function(){try{var r=Qg&&Qg.require&&Qg.require("util").types;return r||d0&&d0.binding&&d0.binding("util")}catch{}}(),CS=ES&&ES.isTypedArray,jw=CS?QI(CS):VI,XI=Object.prototype,ZI=XI.hasOwnProperty;function eM(r,n){var t=br(r),e=!t&&rb(r),s=!t&&!e&&Ny(r),o=!t&&!e&&!s&&jw(r),c=t||e||s||o,d=c?_I(r.length,String):[],p=d.length;for(var v in r)ZI.call(r,v)&&!(c&&(v=="length"||s&&(v=="offset"||v=="parent")||o&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Iw(v,p)))&&d.push(v);return d}var tM=Object.prototype;function hk(r){var n=r&&r.constructor,t=typeof n=="function"&&n.prototype||tM;return r===t}function fk(r,n){return function(t){return r(n(t))}}var nM=fk(Object.keys,Object),rM=Object.prototype,sM=rM.hasOwnProperty;function $w(r){if(!hk(r))return nM(r);var n=[];for(var t in Object(r))sM.call(r,t)&&t!="constructor"&&n.push(t);return n}function gc(r){return r!=null&&Mw(r.length)&&!Hf(r)}function wp(r){return gc(r)?eM(r):$w(r)}function pk(r,n){return r&&wI(r,n,wp)}function iM(r,n){return function(t,e){if(t==null)return t;if(!gc(t))return r(t,e);for(var s=t.length,o=-1,c=Object(t);++o<s&&e(c[o],o,c)!==!1;);return t}}var _p=iM(pk);function aM(r,n){var t=[];return _p(r,function(e,s,o){n(e,s,o)&&t.push(e)}),t}function oM(){this.__data__=new iu,this.size=0}function lM(r){var n=this.__data__,t=n.delete(r);return this.size=n.size,t}function uM(r){return this.__data__.get(r)}function cM(r){return this.__data__.has(r)}var dM=200;function hM(r,n){var t=this.__data__;if(t instanceof iu){var e=t.__data__;if(!om||e.length<dM-1)return e.push([r,n]),this.size=++t.size,this;t=this.__data__=new au(e)}return t.set(r,n),this.size=t.size,this}function Yl(r){var n=this.__data__=new iu(r);this.size=n.size}Yl.prototype.clear=oM;Yl.prototype.delete=lM;Yl.prototype.get=uM;Yl.prototype.has=cM;Yl.prototype.set=hM;var fM="__lodash_hash_undefined__";function pM(r){return this.__data__.set(r,fM),this}function gM(r){return this.__data__.has(r)}function zf(r){var n=-1,t=r==null?0:r.length;for(this.__data__=new au;++n<t;)this.add(r[n])}zf.prototype.add=zf.prototype.push=pM;zf.prototype.has=gM;function gk(r,n){for(var t=-1,e=r==null?0:r.length;++t<e;)if(n(r[t],t,r))return!0;return!1}function Lw(r,n){return r.has(n)}var mM=1,vM=2;function mk(r,n,t,e,s,o){var c=t&mM,d=r.length,p=n.length;if(d!=p&&!(c&&p>d))return!1;var v=o.get(r),y=o.get(n);if(v&&y)return v==n&&y==r;var S=-1,k=!0,C=t&vM?new zf:void 0;for(o.set(r,n),o.set(n,r);++S<d;){var A=r[S],N=n[S];if(e)var M=c?e(N,A,S,n,r,o):e(A,N,S,r,n,o);if(M!==void 0){if(M)continue;k=!1;break}if(C){if(!gk(n,function(L,G){if(!Lw(C,G)&&(A===L||s(A,L,t,e,o)))return C.push(G)})){k=!1;break}}else if(!(A===N||s(A,N,t,e,o))){k=!1;break}}return o.delete(r),o.delete(n),k}var PS=Yo.Uint8Array;function yM(r){var n=-1,t=Array(r.size);return r.forEach(function(e,s){t[++n]=[s,e]}),t}function Fw(r){var n=-1,t=Array(r.size);return r.forEach(function(e){t[++n]=e}),t}var bM=1,wM=2,_M="[object Boolean]",SM="[object Date]",xM="[object Error]",kM="[object Map]",EM="[object Number]",CM="[object RegExp]",PM="[object Set]",OM="[object String]",TM="[object Symbol]",DM="[object ArrayBuffer]",NM="[object DataView]",OS=Bo?Bo.prototype:void 0,h0=OS?OS.valueOf:void 0;function AM(r,n,t,e,s,o,c){switch(t){case NM:if(r.byteLength!=n.byteLength||r.byteOffset!=n.byteOffset)return!1;r=r.buffer,n=n.buffer;case DM:return!(r.byteLength!=n.byteLength||!o(new PS(r),new PS(n)));case _M:case SM:case EM:return Nw(+r,+n);case xM:return r.name==n.name&&r.message==n.message;case CM:case OM:return r==n+"";case kM:var d=yM;case PM:var p=e&bM;if(d||(d=Fw),r.size!=n.size&&!p)return!1;var v=c.get(r);if(v)return v==n;e|=wM,c.set(r,n);var y=mk(d(r),d(n),e,s,o,c);return c.delete(r),y;case TM:if(h0)return h0.call(r)==h0.call(n)}return!1}function vk(r,n){for(var t=-1,e=n.length,s=r.length;++t<e;)r[s+t]=n[t];return r}function IM(r,n,t){var e=n(r);return br(r)?e:vk(e,t(r))}function MM(){return[]}var RM=Object.prototype,jM=RM.propertyIsEnumerable,TS=Object.getOwnPropertySymbols,$M=TS?function(r){return r==null?[]:(r=Object(r),uk(TS(r),function(n){return jM.call(r,n)}))}:MM;function DS(r){return IM(r,wp,$M)}var LM=1,FM=Object.prototype,UM=FM.hasOwnProperty;function BM(r,n,t,e,s,o){var c=t&LM,d=DS(r),p=d.length,v=DS(n),y=v.length;if(p!=y&&!c)return!1;for(var S=p;S--;){var k=d[S];if(!(c?k in n:UM.call(n,k)))return!1}var C=o.get(r),A=o.get(n);if(C&&A)return C==n&&A==r;var N=!0;o.set(r,n),o.set(n,r);for(var M=c;++S<p;){k=d[S];var L=r[k],G=n[k];if(e)var W=c?e(G,L,k,n,r,o):e(L,G,k,r,n,o);if(!(W===void 0?L===G||s(L,G,t,e,o):W)){N=!1;break}M||(M=k=="constructor")}if(N&&!M){var V=r.constructor,z=n.constructor;V!=z&&"constructor"in r&&"constructor"in n&&!(typeof V=="function"&&V instanceof V&&typeof z=="function"&&z instanceof z)&&(N=!1)}return o.delete(r),o.delete(n),N}var B0=Jd(Yo,"DataView"),W0=Jd(Yo,"Promise"),Lf=Jd(Yo,"Set"),H0=Jd(Yo,"WeakMap"),NS="[object Map]",WM="[object Object]",AS="[object Promise]",IS="[object Set]",MS="[object WeakMap]",RS="[object DataView]",HM=Qd(B0),zM=Qd(om),qM=Qd(W0),YM=Qd(Lf),KM=Qd(H0),Oo=Ko;(B0&&Oo(new B0(new ArrayBuffer(1)))!=RS||om&&Oo(new om)!=NS||W0&&Oo(W0.resolve())!=AS||Lf&&Oo(new Lf)!=IS||H0&&Oo(new H0)!=MS)&&(Oo=function(r){var n=Ko(r),t=n==WM?r.constructor:void 0,e=t?Qd(t):"";if(e)switch(e){case HM:return RS;case zM:return NS;case qM:return AS;case YM:return IS;case KM:return MS}return n});var GM=1,jS="[object Arguments]",$S="[object Array]",Fv="[object Object]",VM=Object.prototype,LS=VM.hasOwnProperty;function QM(r,n,t,e,s,o){var c=br(r),d=br(n),p=c?$S:Oo(r),v=d?$S:Oo(n);p=p==jS?Fv:p,v=v==jS?Fv:v;var y=p==Fv,S=v==Fv,k=p==v;if(k&&Ny(r)){if(!Ny(n))return!1;c=!0,y=!1}if(k&&!y)return o||(o=new Yl),c||jw(r)?mk(r,n,t,e,s,o):AM(r,n,p,t,e,s,o);if(!(t&GM)){var C=y&&LS.call(r,"__wrapped__"),A=S&&LS.call(n,"__wrapped__");if(C||A){var N=C?r.value():r,M=A?n.value():n;return o||(o=new Yl),s(N,M,t,e,o)}}return k?(o||(o=new Yl),BM(r,n,t,e,s,o)):!1}function ob(r,n,t,e,s){return r===n?!0:r==null||n==null||!ua(r)&&!ua(n)?r!==r&&n!==n:QM(r,n,t,e,ob,s)}var JM=1,XM=2;function ZM(r,n,t,e){var s=t.length,o=s;if(r==null)return!o;for(r=Object(r);s--;){var c=t[s];if(c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++s<o;){c=t[s];var d=c[0],p=r[d],v=c[1];if(c[2]){if(p===void 0&&!(d in r))return!1}else{var y=new Yl,S;if(!(S===void 0?ob(v,p,JM|XM,e,y):S))return!1}}return!0}function yk(r){return r===r&&!Fd(r)}function eR(r){for(var n=wp(r),t=n.length;t--;){var e=n[t],s=r[e];n[t]=[e,s,yk(s)]}return n}function bk(r,n){return function(t){return t==null?!1:t[r]===n&&(n!==void 0||r in Object(t))}}function tR(r){var n=eR(r);return n.length==1&&n[0][2]?bk(n[0][0],n[0][1]):function(t){return t===r||ZM(t,r,n)}}function Mo(r,n,t){var e=r==null?void 0:sb(r,n);return e===void 0?t:e}function nR(r,n){return r!=null&&n in Object(r)}function wk(r,n){return r!=null&&XA(r,n,nR)}var rR=1,sR=2;function iR(r,n){return Dw(r)&&yk(n)?bk(bp(r),n):function(t){var e=Mo(t,r);return e===void 0&&e===n?wk(t,r):ob(n,e,rR|sR)}}function _k(r){return function(n){return n?.[r]}}function aR(r){return function(n){return sb(n,r)}}function oR(r){return Dw(r)?_k(bp(r)):aR(r)}function Xd(r){return typeof r=="function"?r:r==null?Tm:typeof r=="object"?br(r)?iR(r[0],r[1]):tR(r):oR(r)}function FS(r,n){var t=br(r)?uk:aM;return t(r,Xd(n))}var lR="[object Map]",uR="[object Set]",cR=Object.prototype,dR=cR.hasOwnProperty;function Uv(r){if(r==null)return!0;if(gc(r)&&(br(r)||typeof r=="string"||typeof r.splice=="function"||Ny(r)||jw(r)||rb(r)))return!r.length;var n=Oo(r);if(n==lR||n==uR)return!r.size;if(hk(r))return!$w(r).length;for(var t in r)if(dR.call(r,t))return!1;return!0}function Sk(r,n,t,e){for(var s=r.length,o=t+-1;++o<s;)if(n(r[o],o,r))return o;return-1}function hR(r){return r!==r}function fR(r,n,t){for(var e=t-1,s=r.length;++e<s;)if(r[e]===n)return e;return-1}function xk(r,n,t){return n===n?fR(r,n,t):Sk(r,hR,t)}function kk(r,n){var t=r==null?0:r.length;return!!t&&xk(r,n,0)>-1}function Ay(r){return ua(r)&&gc(r)}function pR(r,n){for(var t=-1,e=r==null?0:r.length;++t<e&&n(r[t],t,r)!==!1;);return r}function gR(r){return typeof r=="function"?r:Tm}function mR(r,n){var t=br(r)?pR:_p;return t(r,gR(n))}var vR=function(n){return"default"+(n[0].toUpperCase()+n.slice(1))},yR=function(n,t,e,s){var o=t[n];if(o!==void 0)return o;{var c=t[vR(n)];if(c!==void 0)return c;if(e){var d=e[n];if(d!==void 0)return d}}if(n==="checked")return!1;if(n==="value")return t.multiple?[]:""},Dm=function(r){In(n,r);function n(){for(var t,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];t=r.call.apply(r,[this].concat(s))||this;var c=t.constructor,d=c.autoControlledProps,p=c.getAutoControlledStateFromProps,v=it(oI(t),"getInitialAutoControlledState",t.props)||{},y=d.reduce(function(S,k){return S[k]=yR(k,t.props,v),S},{});return t.state=Ie({},v,y,{autoControlledProps:d,getAutoControlledStateFromProps:p}),t}return n.getDerivedStateFromProps=function(e,s){var o=s.autoControlledProps,c=s.getAutoControlledStateFromProps,d=o.reduce(function(v,y){var S=!Ua(e[y]);return S&&(v[y]=e[y]),v},{});if(c){var p=c(e,Ie({},s,d),s);return Ie({},d,p)}return d},n.getAutoControlledStateFromProps=function(){return null},n}(J.Component);function bR(r){return function(n,t,e){var s=Object(n);if(!gc(n)){var o=Xd(t);n=wp(n),t=function(d){return o(s[d],d,s)}}var c=r(n,t,e);return c>-1?s[o?n[c]:c]:void 0}}var wR=Math.max;function z0(r,n,t){var e=r==null?0:r.length;if(!e)return-1;var s=t==null?0:ab(t);return s<0&&(s=wR(e+s,0)),Sk(r,Xd(n),s)}var Ek=bR(z0);function _R(r,n){var t;return _p(r,function(e,s,o){return t=n(e,s,o),!t}),!!t}function Jg(r,n,t){var e=br(r)?gk:_R;return e(r,Xd(n))}var SR=function(n,t){return Jg(X.Children.toArray(n),{type:t})},Ct=function(n){return n==null||Array.isArray(n)&&n.length===0},xR={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function US(r){var n=typeof r;return n==="string"||n==="number"?xR[r]||r:""}var de=function(n,t){return n&&t},Ls=function(n,t){return n&&n!==!0&&n+" "+t},er=function(n,t){return n&&(n===!0?t:n+" "+t)},lb=function(n){return n==="justified"?"justified":Ls(n,"aligned")},Nm=function(n){return Ls(n,"aligned")},Zd=function(n,t,e){if(t===void 0&&(t=""),e===void 0&&(e=!1),e&&n==="equal")return"equal width";var s=typeof n;return(s==="string"||s==="number")&&t?US(n)+" "+t:US(n)},kR=200;function Ck(r,n,t,e){var s=-1,o=kk,c=!0,d=r.length,p=[],v=n.length;if(!d)return p;n.length>=kR&&(o=Lw,c=!1,n=new zf(n));e:for(;++s<d;){var y=r[s],S=y;if(y=y!==0?y:0,c&&S===S){for(var k=v;k--;)if(n[k]===S)continue e;p.push(y)}else o(n,S,e)||p.push(y)}return p}var BS=Bo?Bo.isConcatSpreadable:void 0;function ER(r){return br(r)||rb(r)||!!(BS&&r&&r[BS])}function Uw(r,n,t,e,s){var o=-1,c=r.length;for(t||(t=ER),s||(s=[]);++o<c;){var d=r[o];t(d)?vk(s,d):e||(s[s.length]=d)}return s}var WS=ib(function(r,n){return Ay(r)?Ck(r,Uw(n,1,Ay,!0)):[]});function CR(r,n,t){var e=r.length;return t=t===void 0?e:t,Rw(r,n,t)}function PR(r){return r.split("")}var OR="\\ud800-\\udfff",TR="\\u0300-\\u036f",DR="\\ufe20-\\ufe2f",NR="\\u20d0-\\u20ff",AR=TR+DR+NR,IR="\\ufe0e\\ufe0f",MR="\\u200d",RR=RegExp("["+MR+OR+AR+IR+"]");function Bw(r){return RR.test(r)}var Pk="\\ud800-\\udfff",jR="\\u0300-\\u036f",$R="\\ufe20-\\ufe2f",LR="\\u20d0-\\u20ff",FR=jR+$R+LR,UR="\\ufe0e\\ufe0f",BR="["+Pk+"]",q0="["+FR+"]",Y0="\\ud83c[\\udffb-\\udfff]",WR="(?:"+q0+"|"+Y0+")",Ok="[^"+Pk+"]",Tk="(?:\\ud83c[\\udde6-\\uddff]){2}",Dk="[\\ud800-\\udbff][\\udc00-\\udfff]",HR="\\u200d",Nk=WR+"?",Ak="["+UR+"]?",zR="(?:"+HR+"(?:"+[Ok,Tk,Dk].join("|")+")"+Ak+Nk+")*",qR=Ak+Nk+zR,YR="(?:"+[Ok+q0+"?",q0,Tk,Dk,BR].join("|")+")",KR=RegExp(Y0+"(?="+Y0+")|"+YR+qR,"g");function GR(r){return r.match(KR)||[]}function VR(r){return Bw(r)?GR(r):PR(r)}function QR(r,n,t){n=="__proto__"&&Dy?Dy(r,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[n]=t}var JR=Object.prototype,XR=JR.hasOwnProperty;function ZR(r,n,t){var e=r[n];(!(XR.call(r,n)&&Nw(e,t))||t===void 0&&!(n in r))&&QR(r,n,t)}function Ik(r,n,t,e){if(!Fd(r))return r;n=Om(n,r);for(var s=-1,o=n.length,c=o-1,d=r;d!=null&&++s<o;){var p=bp(n[s]),v=t;if(p==="__proto__"||p==="constructor"||p==="prototype")return r;if(s!=c){var y=d[p];v=void 0,v===void 0&&(v=Fd(y)?y:Iw(n[s+1])?[]:{})}ZR(d,p,v),d=d[p]}return r}function ej(r,n,t){for(var e=-1,s=n.length,o={};++e<s;){var c=n[e],d=sb(r,c);t(d,c)&&Ik(o,Om(c,r),d)}return o}function tj(r,n){return ej(r,n,function(t,e){return wk(r,e)})}function nj(r){var n=r==null?0:r.length;return n?Uw(r):[]}function rj(r){return lk(ak(r,void 0,nj),r+"")}var Mk=rj(function(r,n){return r==null?{}:tj(r,n)}),sj=fk(Object.getPrototypeOf,Object),ij="[object Object]",aj=Function.prototype,oj=Object.prototype,Rk=aj.toString,lj=oj.hasOwnProperty,uj=Rk.call(Object);function jk(r){if(!ua(r)||Ko(r)!=ij)return!1;var n=sj(r);if(n===null)return!0;var t=lj.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Rk.call(t)==uj}function Yt(r){return r==null}function cj(r,n){var t=-1,e=gc(r)?Array(r.length):[];return _p(r,function(s,o,c){e[++t]=n(s,o,c)}),e}function qa(r,n){var t=br(r)?Aw:cj;return t(r,Xd(n))}var Bv={exports:{}},Rg={},f0={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var HS;function dj(){return HS||(HS=1,function(r){(function(){var n=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:n,canUseWorkers:typeof Worker<"u",canUseEventListeners:n&&!!(window.addEventListener||window.attachEvent),canUseViewport:n&&!!window.screen};r.exports?r.exports=t:window.ExecutionEnvironment=t})()}(f0)),f0.exports}var zS;function hj(){if(zS)return Rg;zS=1,Object.defineProperty(Rg,"__esModule",{value:!0});var r=dj(),n=Xy();function t(Y){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(Y)}function e(Y,B){if(!(Y instanceof B))throw new TypeError("Cannot call a class as a function")}function s(Y,B){for(var K=0;K<B.length;K++){var Z=B[K];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(Y,Z.key,Z)}}function o(Y,B,K){return B&&s(Y.prototype,B),Y}function c(Y,B,K){return B in Y?Object.defineProperty(Y,B,{value:K,enumerable:!0,configurable:!0,writable:!0}):Y[B]=K,Y}function d(Y,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(B&&B.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),B&&v(Y,B)}function p(Y){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(Y)}function v(Y,B){return(v=Object.setPrototypeOf||function(K,Z){return K.__proto__=Z,K})(Y,B)}function y(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function S(Y,B){return!B||typeof B!="object"&&typeof B!="function"?y(Y):B}var k=function(){function Y(B){e(this,Y),c(this,"handlers",void 0),this.handlers=B.slice(0)}return o(Y,[{key:"addHandlers",value:function(B){for(var K=this.handlers.slice(0),Z=B.length,ce=0;ce<Z;ce+=1)K.push(B[ce]);return new Y(K)}},{key:"dispatchEvent",value:function(B,K){var Z=this.handlers.length-1;if(K){for(var ce=Z;ce>=0;ce-=1)this.handlers[ce].called||(this.handlers[ce].called=!0,this.handlers[ce](B));for(var me=Z;me>=0;me-=1)this.handlers[me].called=!1}else(0,this.handlers[Z])(B)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(B){for(var K=[],Z=this.handlers.length,ce=0;ce<Z;ce+=1){var me=this.handlers[ce];B.indexOf(me)===-1&&K.push(me)}return new Y(K)}}]),Y}();function C(Y){var B=new Map;return Y.forEach(function(K,Z){B.set(Z,K)}),B}function A(Y){return Array.isArray(Y)?Y:[Y]}var N=function(Y){return Y!==null&&t(Y)==="object"&&Y.hasOwnProperty("current")};function M(Y){return Y==="document"?document:Y==="window"?window:N(Y)?Y.current||document:Y||document}var L=function(){function Y(B,K){e(this,Y),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=K,this.poolName=B}return o(Y,[{key:"addHandlers",value:function(B,K){var Z=C(this.handlerSets);if(Z.has(B)){var ce=Z.get(B);Z.set(B,ce.addHandlers(K))}else Z.set(B,new k(K));return new Y(this.poolName,Z)}},{key:"dispatchEvent",value:function(B,K){var Z=this.handlerSets.get(B),ce=this.poolName==="default";Z&&Z.dispatchEvent(K,ce)}},{key:"hasHandlers",value:function(B){if(!B)return this.handlerSets.size>0;var K=this.handlerSets.get(B);return!!K&&K.hasHandlers()}},{key:"removeHandlers",value:function(B,K){var Z=C(this.handlerSets);if(!Z.has(B))return new Y(this.poolName,Z);var ce=Z.get(B).removeHandlers(K);return ce.hasHandlers()?Z.set(B,ce):Z.delete(B),new Y(this.poolName,Z)}}]),Y}();c(L,"createByType",function(Y,B,K){var Z=new Map;return Z.set(B,new k(K)),new L(Y,Z)});var G=function(){function Y(B){var K=this;e(this,Y),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",function(Z){return function(ce){K.pools.forEach(function(me){me.dispatchEvent(Z,ce)})}}),this.target=B}return o(Y,[{key:"addHandlers",value:function(B,K,Z){if(this.pools.has(B)){var ce=this.pools.get(B);this.pools.set(B,ce.addHandlers(K,Z))}else this.pools.set(B,L.createByType(B,K,Z));this.handlers.has(K)||this.addTargetHandler(K)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(B,K,Z){if(this.pools.has(B)){var ce=this.pools.get(B).removeHandlers(K,Z);ce.hasHandlers()?this.pools.set(B,ce):this.pools.delete(B);var me=!1;this.pools.forEach(function(we){return me=me||we.hasHandlers(K)}),me||this.removeTargetHandler(K)}}},{key:"addTargetHandler",value:function(B){var K=this.createEmitter(B);this.handlers.set(B,K),this.target.addEventListener(B,K,!0)}},{key:"removeTargetHandler",value:function(B){this.handlers.has(B)&&(this.target.removeEventListener(B,this.handlers.get(B),!0),this.handlers.delete(B))}}]),Y}(),W=function(){function Y(){var B=this;e(this,Y),c(this,"targets",new Map),c(this,"getTarget",function(K){var Z=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ce=M(K);if(B.targets.has(ce))return B.targets.get(ce);if(!Z)return null;var me=new G(ce);return B.targets.set(ce,me),me}),c(this,"removeTarget",function(K){B.targets.delete(M(K))})}return o(Y,[{key:"sub",value:function(B,K){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r.canUseDOM){var ce=Z.target,me=ce===void 0?document:ce,we=Z.pool,Re=we===void 0?"default":we;this.getTarget(me).addHandlers(Re,B,A(K))}}},{key:"unsub",value:function(B,K){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r.canUseDOM){var ce=Z.target,me=ce===void 0?document:ce,we=Z.pool,Re=we===void 0?"default":we,Ce=this.getTarget(me,!1);Ce&&(Ce.removeHandlers(Re,B,A(K)),Ce.hasHandlers()||this.removeTarget(me))}}}]),Y}(),V=new W,z=function(Y){function B(){return e(this,B),S(this,p(B).apply(this,arguments))}return d(B,n.PureComponent),o(B,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(K){this.unsubscribe(K),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(K){var Z=K.name,ce=K.on,me=K.pool,we=K.target;V.sub(Z,ce,{pool:me,target:we})}},{key:"unsubscribe",value:function(K){var Z=K.name,ce=K.on,me=K.pool,we=K.target;V.unsub(Z,ce,{pool:me,target:we})}},{key:"render",value:function(){return null}}]),B}();return c(z,"defaultProps",{pool:"default",target:"document"}),z.propTypes={},Rg.instance=V,Rg.default=z,Rg}var qS;function fj(){if(qS)return Bv.exports;qS=1;var r;return r=hj(),Bv.exports=r.default,Bv.exports.instance=r.instance,Bv.exports}var $k=fj();const Hl=rr($k),pj=$k.instance;function Lk(){}var gj=1/0,mj=Lf&&1/Fw(new Lf([,-0]))[1]==gj?function(r){return new Lf(r)}:Lk,vj=200;function Fk(r,n,t){var e=-1,s=kk,o=r.length,c=!0,d=[],p=d;if(o>=vj){var v=mj(r);if(v)return Fw(v);c=!1,s=Lw,p=new zf}else p=d;e:for(;++e<o;){var y=r[e],S=y;if(y=y!==0?y:0,c&&S===S){for(var k=p.length;k--;)if(p[k]===S)continue e;d.push(y)}else s(p,S,t)||(p!==d&&p.push(S),d.push(y))}return d}function yj(r){return r&&r.length?Fk(r):[]}var bj="[object Number]";function wj(r){return typeof r=="number"||ua(r)&&Ko(r)==bj}var _j="[object String]";function Ww(r){return typeof r=="string"||!br(r)&&ua(r)&&Ko(r)==_j}var Sj="[object Boolean]";function xj(r){return r===!0||r===!1||ua(r)&&Ko(r)==Sj}function Uk(r){var n,t,e="";if(typeof r=="string"||typeof r=="number")e+=r;else if(typeof r=="object")if(Array.isArray(r))for(n=0;n<r.length;n++)r[n]&&(t=Uk(r[n]))&&(e&&(e+=" "),e+=t);else for(n in r)r[n]&&(e&&(e+=" "),e+=n);return e}function ct(){for(var r,n,t=0,e="";t<arguments.length;)(r=arguments[t++])&&(n=Uk(r))&&(e&&(e+=" "),e+=n);return e}function K0(r,n,t,e){if(e===void 0&&(e={}),typeof r!="function"&&typeof r!="string")throw new Error("createShorthand() Component must be a string or function.");if(Yt(t)||xj(t))return null;var s=Ww(t),o=wj(t),c=Hf(t),d=X.isValidElement(t),p=jk(t),v=s||o||br(t);if(!c&&!d&&!p&&!v)return null;var y=e,S=y.defaultProps,k=S===void 0?{}:S,C=d&&t.props||p&&t||v&&n(t),A=e,N=A.overrideProps,M=N===void 0?{}:N;M=Hf(M)?M(Ie({},k,C)):M;var L=Ie({},k,C,M);if(k.className||M.className||C.className){var G=ct(k.className,M.className,C.className);L.className=yj(G.split(" ")).join(" ")}if((k.style||M.style||C.style)&&(L.style=Ie({},k.style,C.style,M.style)),Yt(L.key)){var W=L.childKey,V=e,z=V.autoGenerateKey,Y=z===void 0?!0:z;Yt(W)?Y&&(s||o)&&(L.key=t):(L.key=typeof W=="function"?W(L):W,delete L.childKey)}if(d)return X.cloneElement(t,L);if(typeof L.children=="function")return L.children(r,Ie({},L,{children:void 0}));if(v||p)return X.createElement(r,L);if(c)return t(r,L,L.children)}function pn(r,n){if(typeof r!="function"&&typeof r!="string")throw new Error("createShorthandFactory() Component must be a string or function.");return function(t,e){return K0(r,n,t,e)}}var Bk=pn("div",function(r){return{children:r}}),kj=pn("input",function(r){return{type:r}}),G0=pn("label",function(r){return{children:r}}),Ej=pn("p",function(r){return{children:r}}),ut=function(n,t){var e=n.handledProps,s=e===void 0?[]:e;return Object.keys(t).reduce(function(o,c){return c==="childKey"||s.indexOf(c)===-1&&(o[c]=t[c]),o},{})};function pt(r,n,t){var e=r.defaultProps,s=e===void 0?{}:e;if(n.as&&n.as!==s.as)return n.as;if(t){var o=t();if(o)return o}return n.href?"a":s.as||"div"}function Cj(r,n){return Aw(n,function(t){return r[t]})}function Pj(r){return r==null?[]:Cj(r,wp(r))}var Oj=Math.max;function Ha(r,n,t,e){r=gc(r)?r:Pj(r),t=t?ab(t):0;var s=r.length;return t<0&&(t=Oj(s+t,0)),Ww(r)?t<=s&&r.indexOf(n,t)>-1:!!s&&xk(r,n,t)>-1}var Wk=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],Tj=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Dj=[].concat(Wk,Tj),Nj=["alt","height","src","srcSet","width","loading"],Hw=function(n,t){t===void 0&&(t={});var e=t,s=e.htmlProps,o=s===void 0?Dj:s,c=e.includeAria,d=c===void 0?!0:c,p={},v={};return mR(n,function(y,S){var k=d&&(/^aria-.*$/.test(S)||S==="role"),C=Ha(o,S)||k?p:v;C[S]=y}),[p,v]},Aj=typeof document=="object"&&document!==null,Ij=typeof window=="object"&&window!==null&&window.self===window,V0=function r(){return Yt(r.override)?Aj&&Ij:r.override},Mj=Math.max,Rj=Math.min;function jj(r,n,t){return r>=Rj(n,t)&&r<Mj(n,t)}function YS(r,n,t){return n=U0(n),t===void 0?(t=n,n=0):t=U0(t),r=$f(r),jj(r,n,t)}function $j(r){return r&&r.length?r[0]:void 0}var Xg=function(n,t){if(Jg([t,n],Yt))return!1;if(t.target&&(it(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return it(t.target,"removeAttribute","data-suir-click-target"),n.contains(t.target);var e=t.clientX,s=t.clientY;if(Jg([e,s],Yt))return!1;var o=n.getClientRects();if(!n.offsetWidth||!n.offsetHeight||!o||!o.length)return!1;var c=$j(o),d=c.top,p=c.bottom,v=c.left,y=c.right;return Jg([d,p,v,y],Yt)?!1:YS(s,d,p+.001)&&YS(e,v,y+.001)};function Lj(r,n){return ob(r,n)}var Hk=ib(function(r,n){return Ay(r)?Ck(r,n):[]});function qf(r){var n=r.children,t=r.className,e=r.content,s=r.size,o=ct(s,"icons",t),c=ut(qf,r),d=pt(qf,r);return J.createElement(d,Ie({},c,{className:o}),Ct(n)?e:n)}qf.handledProps=["as","children","className","content","size"];qf.propTypes={};qf.defaultProps={as:"i"};var bn=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleClick=function(d){var p=e.props.disabled;if(p){d.preventDefault();return}it(e.props,"onClick",d,e.props)},e}var t=n.prototype;return t.getIconAriaOptions=function(){var s={},o=this.props,c=o["aria-label"],d=o["aria-hidden"];return Yt(c)?s["aria-hidden"]="true":s["aria-label"]=c,Yt(d)||(s["aria-hidden"]=d),s},t.render=function(){var s=this.props,o=s.bordered,c=s.circular,d=s.className,p=s.color,v=s.corner,y=s.disabled,S=s.fitted,k=s.flipped,C=s.inverted,A=s.link,N=s.loading,M=s.name,L=s.rotated,G=s.size,W=ct(p,M,G,de(o,"bordered"),de(c,"circular"),de(y,"disabled"),de(S,"fitted"),de(C,"inverted"),de(A,"link"),de(N,"loading"),er(v,"corner"),Ls(k,"flipped"),Ls(L,"rotated"),"icon",d),V=ut(n,this.props),z=pt(n,this.props),Y=this.getIconAriaOptions();return J.createElement(z,Ie({},V,Y,{className:W,onClick:this.handleClick}))},n}(X.PureComponent);bn.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"];bn.propTypes={};bn.defaultProps={as:"i"};bn.Group=qf;bn.create=pn(bn,function(r){return{name:r}});var p0,KS;function Fj(){if(KS)return p0;KS=1;for(var r=function(d){return d!==null&&!Array.isArray(d)&&typeof d=="object"},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},t=0;t<24;t+=1)n[112+t]="F"+(t+1);for(var e=0;e<26;e+=1){var s=e+65;n[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var o={codes:n,getCode:function(d){return r(d)?d.keyCode||d.which||this[d.key]:this[d]},getKey:function(d){var p=r(d);if(p&&d.key)return d.key;var v=n[p?d.keyCode||d.which:d];return Array.isArray(v)&&(p?v=v[d.shiftKey?1:0]:v=v[0]),v},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};return o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],p0=o,p0}var Uj=Fj();const Hr=rr(Uj);var ub=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleRef=function(d){Io(e.props.innerRef,d)},e}var t=n.prototype;return t.componentDidMount=function(){it(this.props,"onMount",null,this.props)},t.componentWillUnmount=function(){it(this.props,"onUnmount",null,this.props)},t.render=function(){if(!V0())return null;var s=this.props,o=s.children,c=s.mountNode,d=c===void 0?document.body:c;return Wf.createPortal(J.createElement(Uo,{innerRef:this.handleRef},o),d)},n}(X.Component);ub.handledProps=["children","innerRef","mountNode","onMount","onUnmount"];ub.propTypes={};var Kl=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.contentRef=J.createRef(),e.triggerRef=J.createRef(),e.latestDocumentMouseDownEvent=null,e.handleDocumentMouseDown=function(d){e.latestDocumentMouseDownEvent=d},e.handleDocumentClick=function(d){var p=e.props.closeOnDocumentClick,v=e.latestDocumentMouseDownEvent;e.latestDocumentMouseDownEvent=null,!(!e.contentRef.current||Xg(e.triggerRef.current,d)||v&&Xg(e.contentRef.current,v)||Xg(e.contentRef.current,d))&&p&&e.close(d)},e.handleEscape=function(d){e.props.closeOnEscape&&Hr.getCode(d)===Hr.Escape&&e.close(d)},e.handlePortalMouseLeave=function(d){var p=e.props,v=p.closeOnPortalMouseLeave,y=p.mouseLeaveDelay;v&&d.target===e.contentRef.current&&(e.mouseLeaveTimer=e.closeWithTimeout(d,y))},e.handlePortalMouseEnter=function(){var d=e.props.closeOnPortalMouseLeave;d&&clearTimeout(e.mouseLeaveTimer)},e.handleTriggerBlur=function(d){for(var p=e.props,v=p.trigger,y=p.closeOnTriggerBlur,S=arguments.length,k=new Array(S>1?S-1:0),C=1;C<S;C++)k[C-1]=arguments[C];it.apply(void 0,[v,"props.onBlur",d].concat(k));var A=d.relatedTarget||document.activeElement,N=it(e.contentRef.current,"contains",A);!y||N||e.close(d)},e.handleTriggerClick=function(d){for(var p=e.props,v=p.trigger,y=p.closeOnTriggerClick,S=p.openOnTriggerClick,k=e.state.open,C=arguments.length,A=new Array(C>1?C-1:0),N=1;N<C;N++)A[N-1]=arguments[N];it.apply(void 0,[v,"props.onClick",d].concat(A)),k&&y?e.close(d):!k&&S&&e.open(d)},e.handleTriggerFocus=function(d){for(var p=e.props,v=p.trigger,y=p.openOnTriggerFocus,S=arguments.length,k=new Array(S>1?S-1:0),C=1;C<S;C++)k[C-1]=arguments[C];it.apply(void 0,[v,"props.onFocus",d].concat(k)),y&&e.open(d)},e.handleTriggerMouseLeave=function(d){clearTimeout(e.mouseEnterTimer);for(var p=e.props,v=p.trigger,y=p.closeOnTriggerMouseLeave,S=p.mouseLeaveDelay,k=arguments.length,C=new Array(k>1?k-1:0),A=1;A<k;A++)C[A-1]=arguments[A];it.apply(void 0,[v,"props.onMouseLeave",d].concat(C)),y&&(e.mouseLeaveTimer=e.closeWithTimeout(d,S))},e.handleTriggerMouseEnter=function(d){clearTimeout(e.mouseLeaveTimer);for(var p=e.props,v=p.trigger,y=p.mouseEnterDelay,S=p.openOnTriggerMouseEnter,k=arguments.length,C=new Array(k>1?k-1:0),A=1;A<k;A++)C[A-1]=arguments[A];it.apply(void 0,[v,"props.onMouseEnter",d].concat(C)),S&&(e.mouseEnterTimer=e.openWithTimeout(d,y))},e.open=function(d){it(e.props,"onOpen",d,Ie({},e.props,{open:!0})),e.setState({open:!0})},e.openWithTimeout=function(d,p){var v=Ie({},d);return setTimeout(function(){return e.open(v)},p||0)},e.close=function(d){e.setState({open:!1}),it(e.props,"onClose",d,Ie({},e.props,{open:!1}))},e.closeWithTimeout=function(d,p){var v=Ie({},d);return setTimeout(function(){return e.close(v)},p||0)},e.handleMount=function(){it(e.props,"onMount",null,e.props)},e.handleUnmount=function(){it(e.props,"onUnmount",null,e.props)},e.handleTriggerRef=function(d){e.triggerRef.current=d,Io(e.props.triggerRef,d)},e}var t=n.prototype;return t.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},t.render=function(){var s=this.props,o=s.children,c=s.eventPool,d=s.mountNode,p=s.trigger,v=this.state.open;return J.createElement(J.Fragment,null,v&&J.createElement(J.Fragment,null,J.createElement(ub,{innerRef:this.contentRef,mountNode:d,onMount:this.handleMount,onUnmount:this.handleUnmount},o),J.createElement(Hl,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:c,target:this.contentRef}),J.createElement(Hl,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:c,target:this.contentRef}),J.createElement(Hl,{name:"mousedown",on:this.handleDocumentMouseDown,pool:c}),J.createElement(Hl,{name:"click",on:this.handleDocumentClick,pool:c}),J.createElement(Hl,{name:"keydown",on:this.handleEscape,pool:c})),p&&J.createElement(Uo,{innerRef:this.handleTriggerRef},J.cloneElement(p,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},n}(Dm);Kl.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"];Kl.propTypes={};Kl.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0};Kl.autoControlledProps=["open"];Kl.Inner=ub;function lm(r){var n=r.blurring,t=r.className,e=r.children,s=r.content,o=r.dimmed,c=ct(de(n,"blurring"),de(o,"dimmed"),"dimmable",t),d=ut(lm,r),p=pt(lm,r);return J.createElement(p,Ie({},d,{className:c}),Ct(e)?s:e)}lm.handledProps=["as","blurring","children","className","content","dimmed"];lm.propTypes={};var um=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.containerRef=X.createRef(),e.contentRef=X.createRef(),e.handleClick=function(d){var p=e.contentRef.current;it(e.props,"onClick",d,e.props),!(p&&p!==d.target&&Xg(p,d))&&it(e.props,"onClickOutside",d,e.props)},e}var t=n.prototype;return t.componentDidMount=function(){var s=this.props.active;this.toggleStyles(s)},t.componentDidUpdate=function(s){var o=this.props.active,c=s.active;c!==o&&this.toggleStyles(o)},t.toggleStyles=function(s){var o=this.containerRef.current;!o||!o.style||(s?o.style.setProperty("display","flex","important"):o.style.removeProperty("display"))},t.render=function(){var s=this.props,o=s.active,c=s.children,d=s.className,p=s.content,v=s.disabled,y=s.inverted,S=s.page,k=s.simple,C=s.verticalAlign,A=ct("ui",de(o,"active transition visible"),de(v,"disabled"),de(y,"inverted"),de(S,"page"),de(k,"simple"),Nm(C),"dimmer",d),N=ut(n,this.props),M=pt(n,this.props),L=Ct(c)?p:c;return J.createElement(Uo,{innerRef:this.containerRef},J.createElement(M,Ie({},N,{className:A,onClick:this.handleClick}),L&&J.createElement("div",{className:"content",ref:this.contentRef},L)))},n}(X.Component);um.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"];um.propTypes={};var hi=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handlePortalMount=function(){V0()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},e.handlePortalUnmount=function(){V0()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.page,d=ut(n,this.props);return c?J.createElement(Kl,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:o,openOnTriggerClick:!1},J.createElement(um,Ie({},d,{active:o,page:c}))):J.createElement(um,Ie({},d,{active:o,page:c}))},n}(X.Component);hi.handledProps=["active","page"];hi.propTypes={};hi.Dimmable=lm;hi.Inner=um;hi.create=pn(hi,function(r){return{content:r}});function cm(r){var n=r.children,t=r.className,e=r.content,s=r.size,o=ct("ui",s,t,"images"),c=ut(cm,r),d=pt(cm,r);return J.createElement(d,Ie({},c,{className:o}),Ct(n)?e:n)}cm.handledProps=["as","children","className","content","size"];cm.propTypes={};function ca(r){var n=r.avatar,t=r.bordered,e=r.centered,s=r.children,o=r.circular,c=r.className,d=r.content,p=r.dimmer,v=r.disabled,y=r.floated,S=r.fluid,k=r.hidden,C=r.href,A=r.inline,N=r.label,M=r.rounded,L=r.size,G=r.spaced,W=r.verticalAlign,V=r.wrapped,z=r.ui,Y=ct(de(z,"ui"),L,de(n,"avatar"),de(t,"bordered"),de(o,"circular"),de(e,"centered"),de(v,"disabled"),de(S,"fluid"),de(k,"hidden"),de(A,"inline"),de(M,"rounded"),er(G,"spaced"),Ls(y,"floated"),Nm(W),"image",c),B=ut(ca,r),K=Hw(B,{htmlProps:Nj}),Z=K[0],ce=K[1],me=pt(ca,r,function(){if(!Yt(p)||!Yt(N)||!Yt(V)||!Ct(s))return"div"});return Ct(s)?Ct(d)?me==="img"?J.createElement(me,Ie({},ce,Z,{className:Y})):J.createElement(me,Ie({},ce,{className:Y,href:C}),hi.create(p,{autoGenerateKey:!1}),vs.create(N,{autoGenerateKey:!1}),J.createElement("img",Z)):J.createElement(me,Ie({},B,{className:Y}),d):J.createElement(me,Ie({},B,{className:Y}),s)}ca.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"];ca.Group=cm;ca.propTypes={};ca.defaultProps={as:"img",ui:!0};ca.create=pn(ca,function(r){return{src:r}});function nc(r){var n=r.children,t=r.className,e=r.content,s=ct("detail",t),o=ut(nc,r),c=pt(nc,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?e:n)}nc.handledProps=["as","children","className","content"];nc.propTypes={};nc.create=pn(nc,function(r){return{content:r}});function dm(r){var n=r.children,t=r.circular,e=r.className,s=r.color,o=r.content,c=r.size,d=r.tag,p=ct("ui",s,c,de(t,"circular"),de(d,"tag"),"labels",e),v=ut(dm,r),y=pt(dm,r);return J.createElement(y,Ie({},v,{className:p}),Ct(n)?o:n)}dm.handledProps=["as","children","circular","className","color","content","size","tag"];dm.propTypes={};var vs=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleClick=function(d){var p=e.props.onClick;p&&p(d,e.props)},e.handleIconOverrides=function(d){return{onClick:function(v){it(d,"onClick",v),it(e.props,"onRemove",v,e.props)}}},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.attached,d=s.basic,p=s.children,v=s.circular,y=s.className,S=s.color,k=s.content,C=s.corner,A=s.detail,N=s.empty,M=s.floating,L=s.horizontal,G=s.icon,W=s.image,V=s.onRemove,z=s.pointing,Y=s.prompt,B=s.removeIcon,K=s.ribbon,Z=s.size,ce=s.tag,me=z===!0&&"pointing"||(z==="left"||z==="right")&&z+" pointing"||(z==="above"||z==="below")&&"pointing "+z,we=ct("ui",S,me,Z,de(o,"active"),de(d,"basic"),de(v,"circular"),de(N,"empty"),de(M,"floating"),de(L,"horizontal"),de(W===!0,"image"),de(Y,"prompt"),de(ce,"tag"),er(C,"corner"),er(K,"ribbon"),Ls(c,"attached"),"label",y),Re=ut(n,this.props),Ce=pt(n,this.props);if(!Ct(p))return J.createElement(Ce,Ie({},Re,{className:we,onClick:this.handleClick}),p);var _e=Ua(B)?"delete":B;return J.createElement(Ce,Ie({className:we,onClick:this.handleClick},Re),bn.create(G,{autoGenerateKey:!1}),typeof W!="boolean"&&ca.create(W,{autoGenerateKey:!1}),k,nc.create(A,{autoGenerateKey:!1}),V&&bn.create(_e,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},n}(X.Component);vs.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"];vs.propTypes={};vs.Detail=nc;vs.Group=dm;vs.create=pn(vs,function(r){return{content:r}});function hm(r){var n=r.children,t=r.className,e=r.content,s=r.hidden,o=r.visible,c=ct(de(o,"visible"),de(s,"hidden"),"content",t),d=ut(hm,r),p=pt(hm,r);return J.createElement(p,Ie({},d,{className:c}),Ct(n)?e:n)}hm.handledProps=["as","children","className","content","hidden","visible"];hm.propTypes={};function fm(r){var n=r.attached,t=r.basic,e=r.buttons,s=r.children,o=r.className,c=r.color,d=r.compact,p=r.content,v=r.floated,y=r.fluid,S=r.icon,k=r.inverted,C=r.labeled,A=r.negative,N=r.positive,M=r.primary,L=r.secondary,G=r.size,W=r.toggle,V=r.vertical,z=r.widths,Y=ct("ui",c,G,de(t,"basic"),de(d,"compact"),de(y,"fluid"),de(S,"icon"),de(k,"inverted"),de(C,"labeled"),de(A,"negative"),de(N,"positive"),de(M,"primary"),de(L,"secondary"),de(W,"toggle"),de(V,"vertical"),er(n,"attached"),Ls(v,"floated"),Zd(z),"buttons",o),B=ut(fm,r),K=pt(fm,r);return Yt(e)?J.createElement(K,Ie({},B,{className:Y}),Ct(s)?p:s):J.createElement(K,Ie({},B,{className:Y}),qa(e,function(Z){return qn.create(Z)}))}fm.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"];fm.propTypes={};function pm(r){var n=r.className,t=r.text,e=ct("or",n),s=ut(pm,r),o=pt(pm,r);return J.createElement(o,Ie({},s,{className:e,"data-text":t}))}pm.handledProps=["as","className","text"];pm.propTypes={};var qn=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.ref=X.createRef(),e.computeElementType=function(){var d=e.props,p=d.attached,v=d.label;if(!Yt(p)||!Yt(v))return"div"},e.computeTabIndex=function(d){var p=e.props,v=p.disabled,y=p.tabIndex;if(!Yt(y))return y;if(v)return-1;if(d==="div")return 0},e.focus=function(d){return it(e.ref.current,"focus",d)},e.handleClick=function(d){var p=e.props.disabled;if(p){d.preventDefault();return}it(e.props,"onClick",d,e.props)},e.hasIconClass=function(){var d=e.props,p=d.labelPosition,v=d.children,y=d.content,S=d.icon;return S===!0?!0:S&&(p||Ct(v)&&Yt(y))},e}var t=n.prototype;return t.computeButtonAriaRole=function(s){var o=this.props.role;if(!Yt(o))return o;if(s!=="button")return"button"},t.render=function(){var s=this.props,o=s.active,c=s.animated,d=s.attached,p=s.basic,v=s.children,y=s.circular,S=s.className,k=s.color,C=s.compact,A=s.content,N=s.disabled,M=s.floated,L=s.fluid,G=s.icon,W=s.inverted,V=s.label,z=s.labelPosition,Y=s.loading,B=s.negative,K=s.positive,Z=s.primary,ce=s.secondary,me=s.size,we=s.toggle,Re=s.type,Ce=ct(k,me,de(o,"active"),de(p,"basic"),de(y,"circular"),de(C,"compact"),de(L,"fluid"),de(this.hasIconClass(),"icon"),de(W,"inverted"),de(Y,"loading"),de(B,"negative"),de(K,"positive"),de(Z,"primary"),de(ce,"secondary"),de(we,"toggle"),er(c,"animated"),er(d,"attached")),_e=ct(er(z||!!V,"labeled")),ye=ct(de(N,"disabled"),Ls(M,"floated")),be=ut(n,this.props),Q=pt(n,this.props,this.computeElementType),Ae=this.computeTabIndex(Q);if(!Yt(V)){var Te=ct("ui",Ce,"button",S),se=ct("ui",_e,"button",S,ye),Ee=vs.create(V,{defaultProps:{basic:!0,pointing:z==="left"?"right":"left"},autoGenerateKey:!1});return J.createElement(Q,Ie({},be,{className:se,onClick:this.handleClick}),z==="left"&&Ee,J.createElement(Uo,{innerRef:this.ref},J.createElement("button",{className:Te,"aria-pressed":we?!!o:void 0,disabled:N,type:Re,tabIndex:Ae},bn.create(G,{autoGenerateKey:!1})," ",A)),(z==="right"||!z)&&Ee)}var Le=ct("ui",Ce,ye,_e,"button",S),Ve=!Ct(v),st=this.computeButtonAriaRole(Q);return J.createElement(Uo,{innerRef:this.ref},J.createElement(Q,Ie({},be,{className:Le,"aria-pressed":we?!!o:void 0,disabled:N&&Q==="button"||void 0,onClick:this.handleClick,role:st,type:Re,tabIndex:Ae}),Ve&&v,!Ve&&bn.create(G,{autoGenerateKey:!1}),!Ve&&A))},n}(X.Component);qn.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"];qn.propTypes={};qn.defaultProps={as:"button"};qn.Content=hm;qn.Group=fm;qn.Or=pm;qn.create=pn(qn,function(r){return{content:r}});function zk(r,n,t,e){var s=-1,o=r==null?0:r.length;for(e&&o&&(t=r[++s]);++s<o;)t=n(t,r[s],s,r);return t}function Bj(r,n,t,e,s){return s(r,function(o,c,d){t=e?(e=!1,o):n(t,o,c,d)}),t}function qk(r,n,t){var e=br(r)?zk:Bj,s=arguments.length<3;return e(r,Xd(n),t,s,_p)}var g0,GS;function Wj(){return GS||(GS=1,g0=function(n,t,e,s){var o=e?e.call(s,n,t):void 0;if(o!==void 0)return!!o;if(n===t)return!0;if(typeof n!="object"||!n||typeof t!="object"||!t)return!1;var c=Object.keys(n),d=Object.keys(t);if(c.length!==d.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(t),v=0;v<c.length;v++){var y=c[v];if(!p(y))return!1;var S=n[y],k=t[y];if(o=e?e.call(s,S,k,y):void 0,o===!1||o===void 0&&S!==k)return!1}return!0}),g0}var Hj=Wj();const py=rr(Hj);function gm(r){var n=r.children,t=r.className,e=r.content,s=ct("header",t),o=ut(gm,r),c=pt(gm,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?e:n)}gm.handledProps=["as","children","className","content"];gm.propTypes={};function zj(r){return function(n){return r?.[n]}}var qj={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Yj=zj(qj),Kj=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gj="\\u0300-\\u036f",Vj="\\ufe20-\\ufe2f",Qj="\\u20d0-\\u20ff",Jj=Gj+Vj+Qj,Xj="["+Jj+"]",Zj=RegExp(Xj,"g");function Q0(r){return r=Bd(r),r&&r.replace(Kj,Yj).replace(Zj,"")}var e2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function t2(r){return r.match(e2)||[]}var n2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function r2(r){return n2.test(r)}var Yk="\\ud800-\\udfff",s2="\\u0300-\\u036f",i2="\\ufe20-\\ufe2f",a2="\\u20d0-\\u20ff",o2=s2+i2+a2,Kk="\\u2700-\\u27bf",Gk="a-z\\xdf-\\xf6\\xf8-\\xff",l2="\\xac\\xb1\\xd7\\xf7",u2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",c2="\\u2000-\\u206f",d2=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vk="A-Z\\xc0-\\xd6\\xd8-\\xde",h2="\\ufe0e\\ufe0f",Qk=l2+u2+c2+d2,Jk="[']",VS="["+Qk+"]",f2="["+o2+"]",Xk="\\d+",p2="["+Kk+"]",Zk="["+Gk+"]",eE="[^"+Yk+Qk+Xk+Kk+Gk+Vk+"]",g2="\\ud83c[\\udffb-\\udfff]",m2="(?:"+f2+"|"+g2+")",v2="[^"+Yk+"]",tE="(?:\\ud83c[\\udde6-\\uddff]){2}",nE="[\\ud800-\\udbff][\\udc00-\\udfff]",Nf="["+Vk+"]",y2="\\u200d",QS="(?:"+Zk+"|"+eE+")",b2="(?:"+Nf+"|"+eE+")",JS="(?:"+Jk+"(?:d|ll|m|re|s|t|ve))?",XS="(?:"+Jk+"(?:D|LL|M|RE|S|T|VE))?",rE=m2+"?",sE="["+h2+"]?",w2="(?:"+y2+"(?:"+[v2,tE,nE].join("|")+")"+sE+rE+")*",_2="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",S2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",x2=sE+rE+w2,k2="(?:"+[p2,tE,nE].join("|")+")"+x2,E2=RegExp([Nf+"?"+Zk+"+"+JS+"(?="+[VS,Nf,"$"].join("|")+")",b2+"+"+XS+"(?="+[VS,Nf+QS,"$"].join("|")+")",Nf+"?"+QS+"+"+JS,Nf+"+"+XS,S2,_2,Xk,k2].join("|"),"g");function C2(r){return r.match(E2)||[]}function P2(r,n,t){return r=Bd(r),n=n,n===void 0?r2(r)?C2(r):t2(r):r.match(n)||[]}var O2="[']",T2=RegExp(O2,"g");function D2(r){return function(n){return zk(P2(Q0(n).replace(T2,"")),r,"")}}function N2(r){return function(n){n=Bd(n);var t=Bw(n)?VR(n):void 0,e=t?t[0]:n.charAt(0),s=t?CR(t,1).join(""):n.slice(1);return e[r]()+s}}var A2=N2("toUpperCase"),I2=D2(function(r,n,t){return r+(t?" ":"")+A2(n)}),Yf=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleClick=function(d){var p=e.props.disabled;p||it(e.props,"onClick",d,e.props)},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.children,d=s.className,p=s.color,v=s.content,y=s.disabled,S=s.fitted,k=s.header,C=s.icon,A=s.link,N=s.name,M=s.onClick,L=s.position,G=ct(p,L,de(o,"active"),de(y,"disabled"),de(C===!0||C&&!(N||v),"icon"),de(k,"header"),de(A,"link"),er(S,"fitted"),"item",d),W=pt(n,this.props,function(){if(M)return"a"}),V=ut(n,this.props);return Ct(c)?J.createElement(W,Ie({},V,{className:G,onClick:this.handleClick}),bn.create(C,{autoGenerateKey:!1}),Ct(v)?I2(N):v):J.createElement(W,Ie({},V,{className:G,onClick:this.handleClick}),c)},n}(X.Component);Yf.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"];Yf.propTypes={};Yf.create=pn(Yf,function(r){return{content:r,name:r}});function mm(r){var n=r.children,t=r.className,e=r.content,s=r.position,o=ct(s,"menu",t),c=ut(mm,r),d=pt(mm,r);return J.createElement(d,Ie({},c,{className:o}),Ct(n)?e:n)}mm.handledProps=["as","children","className","content","position"];mm.propTypes={};var li=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleItemOverrides=function(d){return{onClick:function(v,y){var S=y.index;e.setState({activeIndex:S}),it(d,"onClick",v,y),it(e.props,"onItemClick",v,y)}}},e}var t=n.prototype;return t.renderItems=function(){var s=this,o=this.props.items,c=this.state.activeIndex;return qa(o,function(d,p){return Yf.create(d,{defaultProps:{active:parseInt(c,10)===p,index:p},overrideProps:s.handleItemOverrides})})},t.render=function(){var s=this.props,o=s.attached,c=s.borderless,d=s.children,p=s.className,v=s.color,y=s.compact,S=s.fixed,k=s.floated,C=s.fluid,A=s.icon,N=s.inverted,M=s.pagination,L=s.pointing,G=s.secondary,W=s.size,V=s.stackable,z=s.tabular,Y=s.text,B=s.vertical,K=s.widths,Z=ct("ui",v,W,de(c,"borderless"),de(y,"compact"),de(C,"fluid"),de(N,"inverted"),de(M,"pagination"),de(L,"pointing"),de(G,"secondary"),de(V,"stackable"),de(Y,"text"),de(B,"vertical"),er(o,"attached"),er(k,"floated"),er(A,"icon"),er(z,"tabular"),Ls(S,"fixed"),Zd(K,"item"),p,"menu"),ce=ut(n,this.props),me=pt(n,this.props);return J.createElement(me,Ie({},ce,{className:Z}),Ct(d)?this.renderItems():d)},n}(Dm);li.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"];li.propTypes={};li.autoControlledProps=["activeIndex"];li.Header=gm;li.Item=Yf;li.Menu=mm;li.create=pn(li,function(r){return{items:r}});function M2(r,n,t){return r==null?r:Ik(r,n,t)}var mc=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.inputRef=X.createRef(),e.labelRef=X.createRef(),e.canToggle=function(){var d=e.props,p=d.disabled,v=d.radio,y=d.readOnly,S=e.state.checked;return!p&&!y&&!(v&&S)},e.computeTabIndex=function(){var d=e.props,p=d.disabled,v=d.tabIndex;return Yt(v)?p?-1:0:v},e.handleClick=function(d){var p=e.props.id,v=e.state,y=v.checked,S=v.indeterminate,k=it(e.inputRef.current,"contains",d.target),C=it(e.labelRef.current,"contains",d.target),A=!C&&!k,N=!Yt(p),M=C&&N;M||it(e.props,"onClick",d,Ie({},e.props,{checked:!y,indeterminate:!!S})),e.isClickFromMouse&&(e.isClickFromMouse=!1,C&&!N&&e.handleChange(d),A&&e.handleChange(d),C&&N&&d.stopPropagation())},e.handleChange=function(d){var p=e.state.checked;e.canToggle()&&(it(e.props,"onChange",d,Ie({},e.props,{checked:!p,indeterminate:!1})),e.setState({checked:!p,indeterminate:!1}))},e.handleMouseDown=function(d){var p=e.state,v=p.checked,y=p.indeterminate;it(e.props,"onMouseDown",d,Ie({},e.props,{checked:!!v,indeterminate:!!y})),d.defaultPrevented||it(e.inputRef.current,"focus"),d.preventDefault()},e.handleMouseUp=function(d){var p=e.state,v=p.checked,y=p.indeterminate;e.isClickFromMouse=!0,it(e.props,"onMouseUp",d,Ie({},e.props,{checked:!!v,indeterminate:!!y}))},e.setIndeterminate=function(){var d=e.state.indeterminate;M2(e.inputRef,"current.indeterminate",!!d)},e}var t=n.prototype;return t.componentDidMount=function(){this.setIndeterminate()},t.componentDidUpdate=function(){this.setIndeterminate()},t.render=function(){var s=this.props,o=s.className,c=s.disabled,d=s.label,p=s.id,v=s.name,y=s.radio,S=s.readOnly,k=s.slider,C=s.toggle,A=s.type,N=s.value,M=this.state,L=M.checked,G=M.indeterminate,W=ct("ui",de(L,"checked"),de(c,"disabled"),de(G,"indeterminate"),de(Yt(d),"fitted"),de(y,"radio"),de(S,"read-only"),de(k,"slider"),de(C,"toggle"),"checkbox",o),V=ut(n,this.props),z=pt(n,this.props),Y=Hw(V,{htmlProps:Wk}),B=Y[0],K=Y[1],Z=G0(d,{defaultProps:{htmlFor:p},autoGenerateKey:!1})||J.createElement("label",{htmlFor:p});return J.createElement(z,Ie({},K,{className:W,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),J.createElement(Uo,{innerRef:this.inputRef},J.createElement("input",Ie({},B,{checked:L,className:"hidden",disabled:c,id:p,name:v,readOnly:!0,tabIndex:this.computeTabIndex(),type:A,value:N}))),J.createElement(Uo,{innerRef:this.labelRef},Z))},n}(Dm);mc.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"];mc.propTypes={};mc.defaultProps={type:"checkbox"};mc.autoControlledProps=["checked","indeterminate"];function Sp(r){var n=r.slider,t=r.toggle,e=r.type,s=ut(Sp,r),o=!(n||t)||void 0;return J.createElement(mc,Ie({},s,{type:e,radio:o,slider:n,toggle:t}))}Sp.handledProps=["slider","toggle","type"];Sp.propTypes={};Sp.defaultProps={type:"radio"};function R2(r){for(var n=-1,t=r==null?0:r.length,e=0,s=[];++n<t;){var o=r[n];o&&(s[e++]=o)}return s}function j2(r,n){for(var t=-1,e=r==null?0:r.length;++t<e;)if(!n(r[t],t,r))return!1;return!0}function $2(r,n){var t=!0;return _p(r,function(e,s,o){return t=!!n(e,s,o),t}),t}function L2(r,n,t){var e=br(r)?j2:$2;return e(r,Xd(n))}function F2(r,n,t){var e=r==null?0:r.length;return e?(n=n===void 0?1:ab(n),n=e-n,Rw(r,0,n<0?0:n)):[]}var U2=_k("length"),iE="\\ud800-\\udfff",B2="\\u0300-\\u036f",W2="\\ufe20-\\ufe2f",H2="\\u20d0-\\u20ff",z2=B2+W2+H2,q2="\\ufe0e\\ufe0f",Y2="["+iE+"]",J0="["+z2+"]",X0="\\ud83c[\\udffb-\\udfff]",K2="(?:"+J0+"|"+X0+")",aE="[^"+iE+"]",oE="(?:\\ud83c[\\udde6-\\uddff]){2}",lE="[\\ud800-\\udbff][\\udc00-\\udfff]",G2="\\u200d",uE=K2+"?",cE="["+q2+"]?",V2="(?:"+G2+"(?:"+[aE,oE,lE].join("|")+")"+cE+uE+")*",Q2=cE+uE+V2,J2="(?:"+[aE+J0+"?",J0,oE,lE,Y2].join("|")+")",ZS=RegExp(X0+"(?="+X0+")|"+J2+Q2,"g");function X2(r){for(var n=ZS.lastIndex=0;ZS.test(r);)++n;return n}function Z2(r){return Bw(r)?X2(r):U2(r)}var e$="[object Map]",t$="[object Set]";function n$(r){if(r==null)return 0;if(gc(r))return Ww(r)?Z2(r):r.length;var n=Oo(r);return n==e$||n==t$?r.size:$w(r).length}var ex=ib(function(r){return Fk(Uw(r,1,Ay,!0))}),Wd=function(r){In(n,r);function n(){return r.apply(this,arguments)||this}var t=n.prototype;return t.render=function(){var s=this.props,o=s.className,c=s.name,d=ct(c,"flag",o),p=ut(n,this.props),v=pt(n,this.props);return J.createElement(v,Ie({},p,{className:d}))},n}(X.PureComponent);Wd.handledProps=["as","className","name"];Wd.propTypes={};Wd.defaultProps={as:"i"};Wd.create=pn(Wd,function(r){return{name:r}});function vm(r){var n=r.className,t=ct("divider",n),e=ut(vm,r),s=pt(vm,r);return J.createElement(s,Ie({},e,{className:t}))}vm.handledProps=["as","className"];vm.propTypes={};var Kf=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleClick=function(d){it(e.props,"onClick",d,e.props)},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.children,d=s.className,p=s.content,v=s.disabled,y=s.description,S=s.flag,k=s.icon,C=s.image,A=s.label,N=s.selected,M=s.text,L=ct(de(o,"active"),de(v,"disabled"),de(N,"selected"),"item",d),G=Yt(k)?SR(c,"DropdownMenu")&&"dropdown":k,W=ut(n,this.props),V=pt(n,this.props),z={role:"option","aria-disabled":v,"aria-checked":o,"aria-selected":N};if(!Ct(c))return J.createElement(V,Ie({},W,z,{className:L,onClick:this.handleClick}),c);var Y=Wd.create(S,{autoGenerateKey:!1}),B=bn.create(G,{autoGenerateKey:!1}),K=ca.create(C,{autoGenerateKey:!1}),Z=vs.create(A,{autoGenerateKey:!1}),ce=K0("span",function(we){return{children:we}},y,{defaultProps:{className:"description"},autoGenerateKey:!1}),me=K0("span",function(we){return{children:we}},Ct(p)?M:p,{defaultProps:{className:"text"},autoGenerateKey:!1});return J.createElement(V,Ie({},W,z,{className:L,onClick:this.handleClick}),K,B,Y,Z,ce,me)},n}(X.Component);Kf.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"];Kf.propTypes={};Kf.create=pn(Kf,function(r){return r});function rc(r){var n=r.children,t=r.className,e=r.content,s=r.icon,o=ct("header",t),c=ut(rc,r),d=pt(rc,r);return Ct(n)?J.createElement(d,Ie({},c,{className:o}),bn.create(s,{autoGenerateKey:!1}),e):J.createElement(d,Ie({},c,{className:o}),n)}rc.handledProps=["as","children","className","content","icon"];rc.propTypes={};rc.create=pn(rc,function(r){return{content:r}});function Gf(r){var n=r.children,t=r.className,e=r.content,s=r.direction,o=r.open,c=r.scrolling,d=ct(s,de(o,"visible"),de(c,"scrolling"),"menu transition",t),p=ut(Gf,r),v=pt(Gf,r);return J.createElement(v,Ie({},p,{className:d}),Ct(n)?e:n)}Gf.handledProps=["as","children","className","content","direction","open","scrolling"];Gf.propTypes={};var Hd=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleChange=function(d){var p=Mo(d,"target.value");it(e.props,"onChange",d,Ie({},e.props,{value:p}))},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.autoComplete,c=s.className,d=s.tabIndex,p=s.type,v=s.value,y=ct("search",c),S=ut(n,this.props);return J.createElement("input",Ie({},S,{"aria-autocomplete":"list",autoComplete:o,className:y,onChange:this.handleChange,tabIndex:d,type:p,value:v}))},n}(X.Component);Hd.handledProps=["as","autoComplete","className","tabIndex","type","value"];Hd.propTypes={};Hd.defaultProps={autoComplete:"off",type:"text"};Hd.create=pn(Hd,function(r){return{type:r}});function sc(r){var n=r.children,t=r.className,e=r.content,s=ct("divider",t),o=ut(sc,r),c=pt(sc,r);return J.createElement(c,Ie({"aria-atomic":!0,"aria-live":"polite",role:"alert"},o,{className:s}),Ct(n)?e:n)}sc.handledProps=["as","children","className","content"];sc.propTypes={};sc.create=pn(sc,function(r){return{content:r}});var dE=/[\\^$.*+?()[\]{}|]/g,r$=RegExp(dE.source);function s$(r){return r=Bd(r),r&&r$.test(r)?r.replace(dE,"\\$&"):r}function jf(r){var n=r.additionLabel,t=r.additionPosition,e=r.allowAdditions,s=r.deburr,o=r.multiple,c=r.options,d=r.search,p=r.searchQuery,v=r.value,y=c;if(o&&(y=FS(y,function(N){return!Ha(v,N.value)})),d&&p)if(Hf(d))y=d(y,p);else{var S=s?Q0(p):p,k=new RegExp(s$(S),"i");y=FS(y,function(N){return k.test(s?Q0(N.text):N.text)})}if(e&&d&&p&&!Jg(y,{text:p})){var C=J.isValidElement(n)?J.cloneElement(n,{key:"addition-label"}):n||"",A={key:"addition",text:[C,J.createElement("b",{key:"addition-query"},p)],value:p,className:"addition","data-additional":!0};t==="top"?y.unshift(A):y.push(A)}return y}jf.handledProps=[];function tx(r){var n=r.additionLabel,t=r.additionPosition,e=r.allowAdditions,s=r.deburr,o=r.multiple,c=r.options,d=r.search,p=r.searchQuery,v=r.selectedIndex,y=r.value,S=jf({value:y,options:c,searchQuery:p,additionLabel:n,additionPosition:t,allowAdditions:e,deburr:s,multiple:o,search:d}),k=qk(S,function(M,L,G){return L.disabled||M.push(G),M},[]),C;if(!v||v<0){var A=k[0];C=o?A:z0(S,["value",y])||k[0]}else if(o)C=Ek(k,function(M){return M>=v}),v>=S.length-1&&(C=k[k.length-1]);else{var N=z0(S,["value",y]);C=Ha(k,N)?N:void 0}return(!C||C<0)&&(C=k[0]),C}var nx=function(n,t){return Yt(n)?t:n},rx=function(n){return n&&n.map(function(t){return Mk(t,["key","value"])})};function hE(r){var n=r.flag,t=r.image,e=r.text;return Hf(e)?e:{content:J.createElement(J.Fragment,null,Wd.create(n),ca.create(t),e)}}var ws=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.searchRef=X.createRef(),e.sizerRef=X.createRef(),e.ref=X.createRef(),e.handleChange=function(d,p){it(e.props,"onChange",d,Ie({},e.props,{value:p}))},e.closeOnChange=function(d){var p=e.props,v=p.closeOnChange,y=p.multiple,S=Ua(v)?!y:v;S&&e.close(d,Lk)},e.closeOnEscape=function(d){e.props.closeOnEscape&&Hr.getCode(d)===Hr.Escape&&(d.preventDefault(),e.close(d))},e.moveSelectionOnKeyDown=function(d){var p,v=e.props,y=v.multiple,S=v.selectOnNavigation,k=e.state.open;if(k){var C=(p={},p[Hr.ArrowDown]=1,p[Hr.ArrowUp]=-1,p),A=C[Hr.getCode(d)];if(A!==void 0){d.preventDefault();var N=e.getSelectedIndexAfterMove(A);!y&&S&&e.makeSelectedItemActive(d,N),e.setState({selectedIndex:N})}}},e.openOnSpace=function(d){var p,v,y,S=e.state.focus&&!e.state.open&&Hr.getCode(d)===Hr.Spacebar,k=((p=d.target)==null?void 0:p.tagName)!=="INPUT"&&((v=d.target)==null?void 0:v.tagName)!=="TEXTAREA"&&((y=d.target)==null?void 0:y.isContentEditable)!==!0;S&&(k&&d.preventDefault(),e.open(d))},e.openOnArrow=function(d){var p=e.state,v=p.focus,y=p.open;if(v&&!y){var S=Hr.getCode(d);(S===Hr.ArrowDown||S===Hr.ArrowUp)&&(d.preventDefault(),e.open(d))}},e.makeSelectedItemActive=function(d,p){var v=e.state,y=v.open,S=v.value,k=e.props.multiple,C=e.getSelectedItem(p),A=Mo(C,"value"),N=Mo(C,"disabled");if(Yt(A)||!y||N)return S;var M=k?ex(S,[A]):A,L=k?!!WS(M,S).length:M!==S;return L&&(e.setState({value:M}),e.handleChange(d,M),C["data-additional"]&&it(e.props,"onAddItem",d,Ie({},e.props,{value:A}))),S},e.selectItemOnEnter=function(d){var p=e.props.search,v=e.state,y=v.open,S=v.selectedIndex;if(y){var k=Hr.getCode(d)===Hr.Enter||!p&&Hr.getCode(d)===Hr.Spacebar;if(k){d.preventDefault();var C=n$(jf({value:e.state.value,options:e.props.options,searchQuery:e.state.searchQuery,additionLabel:e.props.additionLabel,additionPosition:e.props.additionPosition,allowAdditions:e.props.allowAdditions,deburr:e.props.deburr,multiple:e.props.multiple,search:e.props.search}));if(!(p&&C===0)){var A=e.makeSelectedItemActive(d,S);e.setState({selectedIndex:tx({additionLabel:e.props.additionLabel,additionPosition:e.props.additionPosition,allowAdditions:e.props.allowAdditions,deburr:e.props.deburr,multiple:e.props.multiple,search:e.props.search,selectedIndex:S,value:A,options:e.props.options,searchQuery:""})}),e.closeOnChange(d),e.clearSearchQuery(),p&&it(e.searchRef.current,"focus")}}}},e.removeItemOnBackspace=function(d){var p=e.props,v=p.multiple,y=p.search,S=e.state,k=S.searchQuery,C=S.value;if(Hr.getCode(d)===Hr.Backspace&&!(k||!y||!v||Uv(C))){d.preventDefault();var A=F2(C);e.setState({value:A}),e.handleChange(d,A)}},e.closeOnDocumentClick=function(d){e.props.closeOnBlur&&(e.ref.current&&Xg(e.ref.current,d)||e.close())},e.handleMouseDown=function(d){e.isMouseDown=!0,it(e.props,"onMouseDown",d,e.props),document.addEventListener("mouseup",e.handleDocumentMouseUp)},e.handleDocumentMouseUp=function(){e.isMouseDown=!1,document.removeEventListener("mouseup",e.handleDocumentMouseUp)},e.handleClick=function(d){var p=e.props,v=p.minCharacters,y=p.search,S=e.state,k=S.open,C=S.searchQuery;if(it(e.props,"onClick",d,e.props),d.stopPropagation(),!y)return e.toggle(d);if(k){it(e.searchRef.current,"focus");return}if(C.length>=v||v===1){e.open(d);return}it(e.searchRef.current,"focus")},e.handleIconClick=function(d){var p=e.props.clearable,v=e.hasValue();it(e.props,"onClick",d,e.props),d.stopPropagation(),p&&v?e.clearValue(d):e.toggle(d)},e.handleItemClick=function(d,p){var v=e.props,y=v.multiple,S=v.search,k=e.state.value,C=p.value;if(d.stopPropagation(),(y||p.disabled)&&d.nativeEvent.stopImmediatePropagation(),!p.disabled){var A=p["data-additional"],N=y?ex(e.state.value,[C]):C,M=y?!!WS(N,k).length:N!==k;M&&(e.setState({value:N}),e.handleChange(d,N)),e.clearSearchQuery(),it(S?e.searchRef.current:e.ref.current,"focus"),e.closeOnChange(d),A&&it(e.props,"onAddItem",d,Ie({},e.props,{value:C}))}},e.handleFocus=function(d){var p=e.state.focus;p||(it(e.props,"onFocus",d,e.props),e.setState({focus:!0}))},e.handleBlur=function(d){var p=Mo(d,"currentTarget");if(!(p&&p.contains(document.activeElement))){var v=e.props,y=v.closeOnBlur,S=v.multiple,k=v.selectOnBlur;e.isMouseDown||(it(e.props,"onBlur",d,e.props),k&&!S&&(e.makeSelectedItemActive(d,e.state.selectedIndex),y&&e.close()),e.setState({focus:!1}),e.clearSearchQuery())}},e.handleSearchChange=function(d,p){var v=p.value;d.stopPropagation();var y=e.props.minCharacters,S=e.state.open,k=v;if(it(e.props,"onSearchChange",d,Ie({},e.props,{searchQuery:k})),e.setState({searchQuery:k,selectedIndex:0}),!S&&k.length>=y){e.open();return}S&&y!==1&&k.length<y&&e.close()},e.handleKeyDown=function(d){e.moveSelectionOnKeyDown(d),e.openOnArrow(d),e.openOnSpace(d),e.selectItemOnEnter(d),it(e.props,"onKeyDown",d)},e.getSelectedItem=function(d){var p=jf({value:e.state.value,options:e.props.options,searchQuery:e.state.searchQuery,additionLabel:e.props.additionLabel,additionPosition:e.props.additionPosition,allowAdditions:e.props.allowAdditions,deburr:e.props.deburr,multiple:e.props.multiple,search:e.props.search});return Mo(p,"["+d+"]")},e.getItemByValue=function(d){var p=e.props.options;return Ek(p,{value:d})},e.getDropdownAriaOptions=function(){var d=e.props,p=d.loading,v=d.disabled,y=d.search,S=d.multiple,k=e.state.open,C={role:y?"combobox":"listbox","aria-busy":p,"aria-disabled":v,"aria-expanded":!!k};return C.role==="listbox"&&(C["aria-multiselectable"]=S),C},e.clearSearchQuery=function(){var d=e.state.searchQuery;d===void 0||d===""||e.setState({searchQuery:""})},e.handleLabelClick=function(d,p){d.stopPropagation(),e.setState({selectedLabel:p.value}),it(e.props,"onLabelClick",d,p)},e.handleLabelRemove=function(d,p){d.stopPropagation();var v=e.state.value,y=Hk(v,p.value);e.setState({value:y}),e.handleChange(d,y)},e.getSelectedIndexAfterMove=function(d,p){p===void 0&&(p=e.state.selectedIndex);var v=jf({value:e.state.value,options:e.props.options,searchQuery:e.state.searchQuery,additionLabel:e.props.additionLabel,additionPosition:e.props.additionPosition,allowAdditions:e.props.allowAdditions,deburr:e.props.deburr,multiple:e.props.multiple,search:e.props.search});if(!(v===void 0||L2(v,"disabled"))){var y=v.length-1,S=e.props.wrapSelection,k=p+d;return!S&&(k>y||k<0)?k=p:k>y?k=0:k<0&&(k=y),v[k].disabled?e.getSelectedIndexAfterMove(d,k):k}},e.handleIconOverrides=function(d){var p=e.props.clearable,v=ct(p&&e.hasValue()&&"clear",d.className);return{className:v,onClick:function(S){it(d,"onClick",S,d),e.handleIconClick(S)}}},e.clearValue=function(d){var p=e.props.multiple,v=p?[]:"";e.setState({value:v}),e.handleChange(d,v)},e.computeSearchInputTabIndex=function(){var d=e.props,p=d.disabled,v=d.tabIndex;return Yt(v)?p?-1:0:v},e.computeSearchInputWidth=function(){var d=e.state.searchQuery;if(e.sizerRef.current&&d){e.sizerRef.current.style.display="inline",e.sizerRef.current.textContent=d;var p=Math.ceil(e.sizerRef.current.getBoundingClientRect().width);return e.sizerRef.current.style.removeProperty("display"),p}},e.computeTabIndex=function(){var d=e.props,p=d.disabled,v=d.search,y=d.tabIndex;if(!v)return p?-1:Yt(y)?0:y},e.handleSearchInputOverrides=function(d){return{onChange:function(v,y){it(d,"onChange",v,y),e.handleSearchChange(v,y)}}},e.hasValue=function(){var d=e.props.multiple,p=e.state.value;return d?!Uv(p):!Yt(p)&&p!==""},e.scrollSelectedItemIntoView=function(){if(e.ref.current){var d=e.ref.current.querySelector(".menu.visible");if(d){var p=d.querySelector(".item.selected");if(p){var v=p.offsetTop<d.scrollTop,y=p.offsetTop+p.clientHeight>d.scrollTop+d.clientHeight;v?d.scrollTop=p.offsetTop:y&&(d.scrollTop=p.offsetTop+p.clientHeight-d.clientHeight)}}}},e.setOpenDirection=function(){if(e.ref.current){var d=e.ref.current.querySelector(".menu.visible");if(d){var p=e.ref.current.getBoundingClientRect(),v=d.clientHeight,y=document.documentElement.clientHeight-p.top-p.height-v,S=p.top-v,k=y<0&&S>y;!k!=!e.state.upward&&e.setState({upward:k})}}},e.open=function(d,p){d===void 0&&(d=null),p===void 0&&(p=!0);var v=e.props,y=v.disabled,S=v.search;y||(S&&it(e.searchRef.current,"focus"),it(e.props,"onOpen",d,e.props),p&&e.setState({open:!0}),e.scrollSelectedItemIntoView())},e.close=function(d,p){p===void 0&&(p=e.handleClose),e.state.open&&(it(e.props,"onClose",d,e.props),e.setState({open:!1},p))},e.handleClose=function(){var d=document.activeElement===e.searchRef.current;!d&&e.ref.current&&e.ref.current.blur();var p=document.activeElement===e.ref.current,v=d||p;e.setState({focus:v})},e.toggle=function(d){return e.state.open?e.close(d):e.open(d)},e.renderText=function(){var d=e.props,p=d.multiple,v=d.placeholder,y=d.search,S=d.text,k=e.state,C=k.searchQuery,A=k.selectedIndex,N=k.value,M=k.open,L=e.hasValue(),G=ct(v&&!L&&"default","text",y&&C&&"filtered"),W=v,V;return S?W=S:M&&!p?V=e.getSelectedItem(A):L&&(V=e.getItemByValue(N)),sc.create(V?hE(V):W,{defaultProps:{className:G}})},e.renderSearchInput=function(){var d=e.props,p=d.search,v=d.searchInput,y=e.state.searchQuery;return p&&J.createElement(Uo,{innerRef:e.searchRef},Hd.create(v,{defaultProps:{style:{width:e.computeSearchInputWidth()},tabIndex:e.computeSearchInputTabIndex(),value:y},overrideProps:e.handleSearchInputOverrides}))},e.renderSearchSizer=function(){var d=e.props,p=d.search,v=d.multiple;return p&&v&&J.createElement("span",{className:"sizer",ref:e.sizerRef})},e.renderLabels=function(){var d=e.props,p=d.multiple,v=d.renderLabel,y=e.state,S=y.selectedLabel,k=y.value;if(!(!p||Uv(k))){var C=qa(k,e.getItemByValue);return qa(R2(C),function(A,N){var M={active:A.value===S,as:"a",key:nx(A.key,A.value),onClick:e.handleLabelClick,onRemove:e.handleLabelRemove,value:A.value};return vs.create(v(A,N,M),{defaultProps:M})})}},e.renderOptions=function(){var d=e.props,p=d.lazyLoad,v=d.multiple,y=d.search,S=d.noResultsMessage,k=e.state,C=k.open,A=k.selectedIndex,N=k.value;if(p&&!C)return null;var M=jf({value:e.state.value,options:e.props.options,searchQuery:e.state.searchQuery,additionLabel:e.props.additionLabel,additionPosition:e.props.additionPosition,allowAdditions:e.props.allowAdditions,deburr:e.props.deburr,multiple:e.props.multiple,search:e.props.search});if(S!==null&&y&&Uv(M))return J.createElement("div",{className:"message"},S);var L=v?function(G){return Ha(N,G)}:function(G){return G===N};return qa(M,function(G,W){return Kf.create(Ie({active:L(G.value),selected:A===W},G,{key:nx(G.key,G.value),style:Ie({},G.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(z){return{onClick:function(B,K){z.onClick==null||z.onClick(B,K),e.handleItemClick(B,K)}}}})})},e.renderMenu=function(){var d=e.props,p=d.children,v=d.direction,y=d.header,S=e.state.open,k=e.getDropdownMenuAriaOptions();if(!Ct(p)){var C=X.Children.only(p),A=ct(v,de(S,"visible"),C.props.className);return X.cloneElement(C,Ie({className:A},k))}return J.createElement(Gf,Ie({},k,{direction:v,open:S}),rc.create(y,{autoGenerateKey:!1}),e.renderOptions())},e}var t=n.prototype;return t.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},n.getAutoControlledStateFromProps=function(s,o,c){var d={__options:s.options,__value:o.value},p=!py(c.__value,o.value)||!Lj(rx(s.options),rx(c.__options));return p&&(d.selectedIndex=tx({additionLabel:s.additionLabel,additionPosition:s.additionPosition,allowAdditions:s.allowAdditions,deburr:s.deburr,multiple:s.multiple,search:s.search,selectedIndex:o.selectedIndex,value:o.value,options:s.options,searchQuery:o.searchQuery})),d},t.componentDidMount=function(){var s=this.state.open;s&&this.open(null,!1)},t.shouldComponentUpdate=function(s,o){return!py(s,this.props)||!py(o,this.state)},t.componentDidUpdate=function(s,o){var c=this.props,d=c.closeOnBlur,p=c.minCharacters,v=c.openOnFocus,y=c.search;if(!o.focus&&this.state.focus){if(!this.isMouseDown){var S=!y||y&&p===1&&!this.state.open;v&&S&&this.open()}}else o.focus&&!this.state.focus&&!this.isMouseDown&&d&&this.close();!o.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):o.open&&this.state.open,o.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},t.getDropdownMenuAriaOptions=function(){var s=this.props,o=s.search,c=s.multiple,d={};return o&&(d["aria-multiselectable"]=c,d.role="listbox"),d},t.render=function(){var s=this.props,o=s.basic,c=s.button,d=s.className,p=s.compact,v=s.disabled,y=s.error,S=s.fluid,k=s.floating,C=s.icon,A=s.inline,N=s.item,M=s.labeled,L=s.loading,G=s.multiple,W=s.pointing,V=s.search,z=s.selection,Y=s.scrolling,B=s.simple,K=s.trigger,Z=this.state,ce=Z.focus,me=Z.open,we=Z.upward,Re=ct("ui",de(me,"active visible"),de(v,"disabled"),de(y,"error"),de(L,"loading"),de(o,"basic"),de(c,"button"),de(p,"compact"),de(S,"fluid"),de(k,"floating"),de(A,"inline"),de(M,"labeled"),de(N,"item"),de(G,"multiple"),de(V,"search"),de(z,"selection"),de(B,"simple"),de(Y,"scrolling"),de(we,"upward"),er(W,"pointing"),"dropdown",d),Ce=ut(n,this.props),_e=pt(n,this.props),ye=this.getDropdownAriaOptions(_e,this.props);return J.createElement(Uo,{innerRef:this.ref},J.createElement(_e,Ie({},Ce,ye,{className:Re,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),K||this.renderText(),bn.create(C,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),me&&J.createElement(Hl,{name:"keydown",on:this.closeOnEscape}),me&&J.createElement(Hl,{name:"click",on:this.closeOnDocumentClick}),ce&&J.createElement(Hl,{name:"keydown",on:this.removeItemOnBackspace})))},n}(Dm);ws.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"];ws.propTypes={};ws.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:hE,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0};ws.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"];ws.Divider=vm;ws.Header=rc;ws.Item=Kf;ws.Menu=Gf;ws.SearchInput=Hd;ws.Text=sc;function eh(r){return J.createElement(ws,Ie({},r,{selection:!0}))}eh.handledProps=["options"];eh.propTypes={};eh.Divider=ws.Divider;eh.Header=ws.Header;eh.Item=ws.Item;eh.Menu=ws.Menu;var cb=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.ref=X.createRef(),e.focus=function(){return e.ref.current.focus()},e.handleChange=function(d){var p=Mo(d,"target.value");it(e.props,"onChange",d,Ie({},e.props,{value:p}))},e.handleInput=function(d){var p=Mo(d,"target.value");it(e.props,"onInput",d,Ie({},e.props,{value:p}))},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.rows,c=s.value,d=ut(n,this.props),p=pt(n,this.props);return J.createElement(Uo,{innerRef:this.ref},J.createElement(p,Ie({},d,{onChange:this.handleChange,onInput:this.handleInput,rows:o,value:c})))},n}(X.Component);cb.handledProps=["as","onChange","onInput","rows","value"];cb.propTypes={};cb.defaultProps={as:"textarea",rows:3};function Ii(r){var n=r.children,t=r.className,e=r.content,s=r.control,o=r.disabled,c=r.error,d=r.inline,p=r.label,v=r.required,y=r.type,S=r.width,k=r.id,C=ct(de(o,"disabled"),de(c,"error"),de(d,"inline"),de(v,"required"),Zd(S,"wide"),"field",t),A=ut(Ii,r),N=pt(Ii,r),M=Mo(c,"pointing","above"),L=vs.create(c,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:M,id:k?k+"-error-message":void 0,role:"alert","aria-atomic":!0}}),G=(M==="below"||M==="right")&&L,W=(M==="above"||M==="left")&&L;if(Yt(s))return Yt(p)?J.createElement(N,Ie({},A,{className:C,id:k}),Ct(n)?e:n):J.createElement(N,Ie({},A,{className:C,id:k}),G,G0(p,{autoGenerateKey:!1}),W);var V=k&&c?k+"-error-message":null,z={"aria-describedby":V,"aria-invalid":c?!0:void 0},Y=Ie({},A,{content:e,children:n,disabled:o,required:v,type:y,id:k});return s==="input"&&(y==="checkbox"||y==="radio")?J.createElement(N,{className:C},J.createElement("label",null,G,X.createElement(s,Ie({},z,Y))," ",p,W)):s===mc||s===Sp?J.createElement(N,{className:C},G,X.createElement(s,Ie({},z,Y,{label:p})),W):J.createElement(N,{className:C},G0(p,{defaultProps:{htmlFor:k},autoGenerateKey:!1}),G,X.createElement(s,Ie({},z,Y)),W)}Ii.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"];Ii.propTypes={};function Vf(r){var n=r.control,t=ut(Vf,r),e=pt(Vf,r);return J.createElement(e,Ie({},t,{control:n}))}Vf.handledProps=["as","control"];Vf.propTypes={};Vf.defaultProps={as:Ii,control:qn};function Qf(r){var n=r.control,t=ut(Qf,r),e=pt(Qf,r);return J.createElement(e,Ie({},t,{control:n}))}Qf.handledProps=["as","control"];Qf.propTypes={};Qf.defaultProps={as:Ii,control:mc};function Jf(r){var n=r.control,t=ut(Jf,r),e=pt(Jf,r);return J.createElement(e,Ie({},t,{control:n}))}Jf.handledProps=["as","control"];Jf.propTypes={};Jf.defaultProps={as:Ii,control:ws};function ym(r){var n=r.children,t=r.className,e=r.grouped,s=r.inline,o=r.unstackable,c=r.widths,d=ct(de(e,"grouped"),de(s,"inline"),de(o,"unstackable"),Zd(c,null,!0),"fields",t),p=ut(ym,r),v=pt(ym,r);return J.createElement(v,Ie({},p,{className:d}),n)}ym.handledProps=["as","children","className","grouped","inline","unstackable","widths"];ym.propTypes={};var ic=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.inputRef=X.createRef(),e.computeIcon=function(){var d=e.props,p=d.loading,v=d.icon;if(!Yt(v))return v;if(p)return"spinner"},e.computeTabIndex=function(){var d=e.props,p=d.disabled,v=d.tabIndex;if(!Yt(v))return v;if(p)return-1},e.focus=function(d){return e.inputRef.current.focus(d)},e.select=function(){return e.inputRef.current.select()},e.handleChange=function(d){var p=Mo(d,"target.value");it(e.props,"onChange",d,Ie({},e.props,{value:p}))},e.handleChildOverrides=function(d,p){return Ie({},p,d.props,{ref:function(y){Io(d.ref,y),e.inputRef.current=y}})},e.partitionProps=function(){var d=e.props,p=d.disabled,v=d.type,y=e.computeTabIndex(),S=ut(n,e.props),k=Hw(S),C=k[0],A=k[1];return[Ie({},C,{disabled:p,type:v,tabIndex:y,onChange:e.handleChange,ref:e.inputRef}),A]},e}var t=n.prototype;return t.render=function(){var s=this,o=this.props,c=o.action,d=o.actionPosition,p=o.children,v=o.className,y=o.disabled,S=o.error,k=o.fluid,C=o.focus,A=o.icon,N=o.iconPosition,M=o.input,L=o.inverted,G=o.label,W=o.labelPosition,V=o.loading,z=o.size,Y=o.transparent,B=o.type,K=ct("ui",z,de(y,"disabled"),de(S,"error"),de(k,"fluid"),de(C,"focus"),de(L,"inverted"),de(V,"loading"),de(Y,"transparent"),Ls(d,"action")||de(c,"action"),Ls(N,"icon")||de(A||V,"icon"),Ls(W,"labeled")||de(G,"labeled"),"input",v),Z=pt(n,this.props),ce=this.partitionProps(),me=ce[0],we=ce[1];if(!Ct(p)){var Re=qa(X.Children.toArray(p),function(ye){return ye.type!=="input"?ye:X.cloneElement(ye,s.handleChildOverrides(ye,me))});return J.createElement(Z,Ie({},we,{className:K}),Re)}var Ce=qn.create(c,{autoGenerateKey:!1}),_e=vs.create(G,{defaultProps:{className:ct("label",Ha(W,"corner")&&W)},autoGenerateKey:!1});return J.createElement(Z,Ie({},we,{className:K}),d==="left"&&Ce,W!=="right"&&_e,kj(M||B,{defaultProps:me,autoGenerateKey:!1}),bn.create(this.computeIcon(),{autoGenerateKey:!1}),d!=="left"&&Ce,W==="right"&&_e)},n}(X.Component);ic.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"];ic.propTypes={};ic.defaultProps={type:"text"};ic.create=pn(ic,function(r){return{type:r}});function Xf(r){var n=r.control,t=ut(Xf,r),e=pt(Xf,r);return J.createElement(e,Ie({},t,{control:n}))}Xf.handledProps=["as","control"];Xf.propTypes={};Xf.defaultProps={as:Ii,control:ic};function Zf(r){var n=r.control,t=ut(Zf,r),e=pt(Zf,r);return J.createElement(e,Ie({},t,{control:n}))}Zf.handledProps=["as","control"];Zf.propTypes={};Zf.defaultProps={as:Ii,control:Sp};function ep(r){var n=r.control,t=r.options,e=ut(ep,r),s=pt(ep,r);return J.createElement(s,Ie({},e,{control:n,options:t}))}ep.handledProps=["as","control","options"];ep.propTypes={};ep.defaultProps={as:Ii,control:eh};function tp(r){var n=r.control,t=ut(tp,r),e=pt(tp,r);return J.createElement(e,Ie({},t,{control:n}))}tp.handledProps=["as","control"];tp.propTypes={};tp.defaultProps={as:Ii,control:cb};var Fs=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleSubmit=function(d){var p=e.props.action;typeof p!="string"&&it(d,"preventDefault");for(var v=arguments.length,y=new Array(v>1?v-1:0),S=1;S<v;S++)y[S-1]=arguments[S];it.apply(void 0,[e.props,"onSubmit",d,e.props].concat(y))},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.action,c=s.children,d=s.className,p=s.error,v=s.inverted,y=s.loading,S=s.reply,k=s.size,C=s.success,A=s.unstackable,N=s.warning,M=s.widths,L=ct("ui",k,de(p,"error"),de(v,"inverted"),de(y,"loading"),de(S,"reply"),de(C,"success"),de(A,"unstackable"),de(N,"warning"),Zd(M,null,!0),"form",d),G=ut(n,this.props),W=pt(n,this.props);return J.createElement(W,Ie({},G,{action:o,className:L,onSubmit:this.handleSubmit}),c)},n}(X.Component);Fs.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"];Fs.propTypes={};Fs.defaultProps={as:"form"};Fs.Field=Ii;Fs.Button=Vf;Fs.Checkbox=Qf;Fs.Dropdown=Jf;Fs.Group=ym;Fs.Input=Xf;Fs.Radio=Zf;Fs.Select=ep;Fs.TextArea=tp;function np(r){var n=r.children,t=r.className,e=r.content,s=ct("content",t),o=ut(np,r),c=pt(np,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?e:n)}np.handledProps=["as","children","className","content"];np.propTypes={};function Xl(r){var n=r.children,t=r.className,e=r.content,s=ct("header",t),o=ut(Xl,r),c=pt(Xl,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?e:n)}Xl.handledProps=["as","children","className","content"];Xl.propTypes={};Xl.create=pn(Xl,function(r){return{content:r}});function Zl(r){var n=r.children,t=r.className,e=r.content,s=ct("content",t),o=ut(Zl,r),c=pt(Zl,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?e:n)}Zl.handledProps=["as","children","className","content"];Zl.propTypes={};Zl.defaultProps={as:"li"};Zl.create=pn(Zl,function(r){return{content:r}});function eu(r){var n=r.children,t=r.className,e=r.items,s=ct("list",t),o=ut(eu,r),c=pt(eu,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?qa(e,Zl.create):n)}eu.handledProps=["as","children","className","items"];eu.propTypes={};eu.defaultProps={as:"ul"};eu.create=pn(eu,function(r){return{items:r}});var za=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleDismiss=function(d){var p=e.props.onDismiss;p&&p(d,e.props)},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.attached,c=s.children,d=s.className,p=s.color,v=s.compact,y=s.content,S=s.error,k=s.floating,C=s.header,A=s.hidden,N=s.icon,M=s.info,L=s.list,G=s.negative,W=s.onDismiss,V=s.positive,z=s.size,Y=s.success,B=s.visible,K=s.warning,Z=ct("ui",p,z,de(v,"compact"),de(S,"error"),de(k,"floating"),de(A,"hidden"),de(N,"icon"),de(M,"info"),de(G,"negative"),de(V,"positive"),de(Y,"success"),de(B,"visible"),de(K,"warning"),er(o,"attached"),"message",d),ce=W&&J.createElement(bn,{name:"close",onClick:this.handleDismiss}),me=ut(n,this.props),we=pt(n,this.props);return Ct(c)?J.createElement(we,Ie({},me,{className:Z}),ce,bn.create(N,{autoGenerateKey:!1}),(!Yt(C)||!Yt(y)||!Yt(L))&&J.createElement(np,null,Xl.create(C,{autoGenerateKey:!1}),eu.create(L,{autoGenerateKey:!1}),Ej(y,{autoGenerateKey:!1}))):J.createElement(we,Ie({},me,{className:Z}),ce,c)},n}(X.Component);za.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"];za.propTypes={};za.Content=np;za.Header=Xl;za.List=eu;za.Item=Zl;function ac(r){var n=r.children,t=r.className,e=ct(t),s=ut(ac,r),o=pt(ac,r);return J.createElement(o,Ie({},s,{className:e}),n)}ac.handledProps=["as","children","className"];ac.defaultProps={as:"tbody"};ac.propTypes={};function Pn(r){var n=r.active,t=r.children,e=r.className,s=r.collapsing,o=r.content,c=r.disabled,d=r.error,p=r.icon,v=r.negative,y=r.positive,S=r.selectable,k=r.singleLine,C=r.textAlign,A=r.verticalAlign,N=r.warning,M=r.width,L=ct(de(n,"active"),de(s,"collapsing"),de(c,"disabled"),de(d,"error"),de(v,"negative"),de(y,"positive"),de(S,"selectable"),de(k,"single line"),de(N,"warning"),lb(C),Nm(A),Zd(M,"wide"),e),G=ut(Pn,r),W=pt(Pn,r);return Ct(t)?J.createElement(W,Ie({},G,{className:L}),bn.create(p),o):J.createElement(W,Ie({},G,{className:L}),t)}Pn.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"];Pn.defaultProps={as:"td"};Pn.propTypes={};Pn.create=pn(Pn,function(r){return{content:r}});function tu(r){var n=r.children,t=r.className,e=r.content,s=r.fullWidth,o=ct(de(s,"full-width"),t),c=ut(tu,r),d=pt(tu,r);return J.createElement(d,Ie({},c,{className:o}),Ct(n)?e:n)}tu.handledProps=["as","children","className","content","fullWidth"];tu.defaultProps={as:"thead"};tu.propTypes={};function th(r){var n=r.as,t=ut(th,r);return J.createElement(tu,Ie({},t,{as:n}))}th.handledProps=["as"];th.propTypes={};th.defaultProps={as:"tfoot"};function Zu(r){var n=r.as,t=r.className,e=r.sorted,s=ct(Ls(e,"sorted"),t),o=ut(Zu,r);return J.createElement(Pn,Ie({},o,{as:n,className:s}))}Zu.handledProps=["as","className","sorted"];Zu.propTypes={};Zu.defaultProps={as:"th"};function Rs(r){var n=r.active,t=r.cellAs,e=r.cells,s=r.children,o=r.className,c=r.disabled,d=r.error,p=r.negative,v=r.positive,y=r.textAlign,S=r.verticalAlign,k=r.warning,C=ct(de(n,"active"),de(c,"disabled"),de(d,"error"),de(p,"negative"),de(v,"positive"),de(k,"warning"),lb(y),Nm(S),o),A=ut(Rs,r),N=pt(Rs,r);return Ct(s)?J.createElement(N,Ie({},A,{className:C}),qa(e,function(M){return Pn.create(M,{defaultProps:{as:t}})})):J.createElement(N,Ie({},A,{className:C}),s)}Rs.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"];Rs.defaultProps={as:"tr",cellAs:"td"};Rs.propTypes={};Rs.create=pn(Rs,function(r){return{cells:r}});function ur(r){var n=r.attached,t=r.basic,e=r.celled,s=r.children,o=r.className,c=r.collapsing,d=r.color,p=r.columns,v=r.compact,y=r.definition,S=r.fixed,k=r.footerRow,C=r.headerRow,A=r.headerRows,N=r.inverted,M=r.padded,L=r.renderBodyRow,G=r.selectable,W=r.singleLine,V=r.size,z=r.sortable,Y=r.stackable,B=r.striped,K=r.structured,Z=r.tableData,ce=r.textAlign,me=r.unstackable,we=r.verticalAlign,Re=ct("ui",d,V,de(e,"celled"),de(c,"collapsing"),de(y,"definition"),de(S,"fixed"),de(N,"inverted"),de(G,"selectable"),de(W,"single line"),de(z,"sortable"),de(Y,"stackable"),de(B,"striped"),de(K,"structured"),de(me,"unstackable"),er(n,"attached"),er(t,"basic"),er(v,"compact"),er(M,"padded"),lb(ce),Nm(we),Zd(p,"column"),"table",o),Ce=ut(ur,r),_e=pt(ur,r);if(!Ct(s))return J.createElement(_e,Ie({},Ce,{className:Re}),s);var ye=C||A,be={defaultProps:{cellAs:"th"}},Q=ye&&J.createElement(tu,null,Rs.create(C,be),qa(A,function(Ae){return Rs.create(Ae,be)}));return J.createElement(_e,Ie({},Ce,{className:Re}),Q,J.createElement(ac,null,L&&qa(Z,function(Ae,Te){return Rs.create(L(Ae,Te))})),k&&J.createElement(th,null,Rs.create(k)))}ur.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"];ur.defaultProps={as:"table"};ur.propTypes={};ur.Body=ac;ur.Cell=Pn;ur.Footer=th;ur.Header=tu;ur.HeaderCell=Zu;ur.Row=Rs;function oc(r){var n=r.children,t=r.className,e=r.content,s=ct("sub header",t),o=ut(oc,r),c=pt(oc,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?e:n)}oc.handledProps=["as","children","className","content"];oc.propTypes={};oc.create=pn(oc,function(r){return{content:r}});function rp(r){var n=r.children,t=r.className,e=r.content,s=ct("content",t),o=ut(rp,r),c=pt(rp,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?e:n)}rp.handledProps=["as","children","className","content"];rp.propTypes={};function Wa(r){var n=r.attached,t=r.block,e=r.children,s=r.className,o=r.color,c=r.content,d=r.disabled,p=r.dividing,v=r.floated,y=r.icon,S=r.image,k=r.inverted,C=r.size,A=r.sub,N=r.subheader,M=r.textAlign,L=ct("ui",o,C,de(t,"block"),de(d,"disabled"),de(p,"dividing"),Ls(v,"floated"),de(y===!0,"icon"),de(S===!0,"image"),de(k,"inverted"),de(A,"sub"),er(n,"attached"),lb(M),"header",s),G=ut(Wa,r),W=pt(Wa,r);if(!Ct(e))return J.createElement(W,Ie({},G,{className:L}),e);var V=bn.create(y,{autoGenerateKey:!1}),z=ca.create(S,{autoGenerateKey:!1}),Y=oc.create(N,{autoGenerateKey:!1});return V||z?J.createElement(W,Ie({},G,{className:L}),V||z,(c||Y)&&J.createElement(rp,null,c,Y)):J.createElement(W,Ie({},G,{className:L}),c,Y)}Wa.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"];Wa.propTypes={};Wa.Content=rp;Wa.Subheader=oc;function Wo(r){var n=r.active,t=r.children,e=r.className,s=r.content,o=r.disabled,c=r.indeterminate,d=r.inline,p=r.inverted,v=r.size,y=ct("ui",v,de(n,"active"),de(o,"disabled"),de(c,"indeterminate"),de(p,"inverted"),de(t||s,"text"),er(d,"inline"),"loader",e),S=ut(Wo,r),k=pt(Wo,r);return J.createElement(k,Ie({},S,{className:y}),Ct(t)?s:t)}Wo.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"];Wo.propTypes={};var sp=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleClick=function(d){return it(e.props,"onClick",d,e.props)},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.children,d=s.className,p=s.content,v=s.icon,y=ct(de(o,"active"),"title",d),S=ut(n,this.props),k=pt(n,this.props),C=Yt(v)?"dropdown":v;return Ct(c)?J.createElement(k,Ie({},S,{className:y,onClick:this.handleClick}),bn.create(C,{autoGenerateKey:!1}),p):J.createElement(k,Ie({},S,{className:y,onClick:this.handleClick}),c)},n}(X.Component);sp.handledProps=["active","as","children","className","content","icon","index","onClick"];sp.propTypes={};sp.create=pn(sp,function(r){return{content:r}});function lc(r){var n=r.active,t=r.children,e=r.className,s=r.content,o=ct("content",de(n,"active"),e),c=ut(lc,r),d=pt(lc,r);return J.createElement(d,Ie({},c,{className:o}),Ct(t)?s:t)}lc.handledProps=["active","as","children","className","content"];lc.propTypes={};lc.create=pn(lc,function(r){return{content:r}});var ip=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.handleTitleOverrides=function(d){return{onClick:function(v,y){it(d,"onClick",v,y),it(e.props,"onTitleClick",v,y)}}},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.content,d=s.index,p=s.title;return J.createElement(J.Fragment,null,sp.create(p,{autoGenerateKey:!1,defaultProps:{active:o,index:d},overrideProps:this.handleTitleOverrides}),lc.create(c,{autoGenerateKey:!1,defaultProps:{active:o}}))},n}(X.Component);ip.handledProps=["active","content","index","onTitleClick","title"];ip.propTypes={};ip.create=pn(ip,null);var uc=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.computeNewIndex=function(d){var p=e.props.exclusive,v=e.state.activeIndex;return p?d===v?-1:d:Ha(v,d)?Hk(v,d):[].concat(v,[d])},e.handleTitleClick=function(d,p){var v=p.index;e.setState({activeIndex:e.computeNewIndex(v)}),it(e.props,"onTitleClick",d,p)},e.isIndexActive=function(d){var p=e.props.exclusive,v=e.state.activeIndex;return p?v===d:Ha(v,d)},e}var t=n.prototype;return t.getInitialAutoControlledState=function(s){var o=s.exclusive;return{activeIndex:o?-1:[]}},t.componentDidMount=function(){},t.componentDidUpdate=function(){},t.render=function(){var s=this,o=this.props,c=o.className,d=o.children,p=o.panels,v=ct("accordion",c),y=ut(n,this.props),S=pt(n,this.props);return J.createElement(S,Ie({},y,{className:v}),Ct(d)?qa(p,function(k,C){return ip.create(k,{defaultProps:{active:s.isIndexActive(C),index:C,onTitleClick:s.handleTitleClick}})}):d)},n}(Dm);uc.handledProps=["activeIndex","as","children","className","defaultActiveIndex","exclusive","onTitleClick","panels"];uc.propTypes={};uc.defaultProps={exclusive:!0};uc.autoControlledProps=["activeIndex"];uc.create=pn(uc,function(r){return{content:r}});function nu(r){var n=r.className,t=r.fluid,e=r.inverted,s=r.styled,o=ct("ui",de(t,"fluid"),de(e,"inverted"),de(s,"styled"),n),c=ut(nu,r);return J.createElement(uc,Ie({},c,{className:o}))}nu.handledProps=["className","fluid","inverted","styled"];nu.propTypes={};nu.Accordion=uc;nu.Content=lc;nu.Panel=ip;nu.Title=sp;function i$(r){return ua(r)&&r.nodeType===1&&!jk(r)}var a$=X.createContext();X.createContext();var o$=function(n){return Array.isArray(n)?n[0]:n},l$=function(n){if(typeof n=="function"){for(var t=arguments.length,e=new Array(t>1?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];return n.apply(void 0,e)}},u$=function(n,t){if(typeof n=="function")return l$(n,t);n!=null&&(n.current=t)},sx=function(n){return n.reduce(function(t,e){var s=e[0],o=e[1];return t[s]=o,t},{})},ix=typeof window<"u"&&window.document&&window.document.createElement?X.useLayoutEffect:X.useEffect,ci="top",da="bottom",ha="right",di="left",zw="auto",Am=[ci,da,ha,di],ap="start",bm="end",c$="clippingParents",fE="viewport",jg="popper",d$="reference",ax=Am.reduce(function(r,n){return r.concat([n+"-"+ap,n+"-"+bm])},[]),pE=[].concat(Am,[zw]).reduce(function(r,n){return r.concat([n,n+"-"+ap,n+"-"+bm])},[]),h$="beforeRead",f$="read",p$="afterRead",g$="beforeMain",m$="main",v$="afterMain",y$="beforeWrite",b$="write",w$="afterWrite",_$=[h$,f$,p$,g$,m$,v$,y$,b$,w$];function Ho(r){return r?(r.nodeName||"").toLowerCase():null}function Mi(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function zd(r){var n=Mi(r).Element;return r instanceof n||r instanceof Element}function la(r){var n=Mi(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function qw(r){if(typeof ShadowRoot>"u")return!1;var n=Mi(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}function S$(r){var n=r.state;Object.keys(n.elements).forEach(function(t){var e=n.styles[t]||{},s=n.attributes[t]||{},o=n.elements[t];!la(o)||!Ho(o)||(Object.assign(o.style,e),Object.keys(s).forEach(function(c){var d=s[c];d===!1?o.removeAttribute(c):o.setAttribute(c,d===!0?"":d)}))})}function x$(r){var n=r.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(e){var s=n.elements[e],o=n.attributes[e]||{},c=Object.keys(n.styles.hasOwnProperty(e)?n.styles[e]:t[e]),d=c.reduce(function(p,v){return p[v]="",p},{});!la(s)||!Ho(s)||(Object.assign(s.style,d),Object.keys(o).forEach(function(p){s.removeAttribute(p)}))})}}const k$={name:"applyStyles",enabled:!0,phase:"write",fn:S$,effect:x$,requires:["computeStyles"]};function jo(r){return r.split("-")[0]}var Md=Math.max,Iy=Math.min,op=Math.round;function Z0(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function gE(){return!/^((?!chrome|android).)*safari/i.test(Z0())}function lp(r,n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var e=r.getBoundingClientRect(),s=1,o=1;n&&la(r)&&(s=r.offsetWidth>0&&op(e.width)/r.offsetWidth||1,o=r.offsetHeight>0&&op(e.height)/r.offsetHeight||1);var c=zd(r)?Mi(r):window,d=c.visualViewport,p=!gE()&&t,v=(e.left+(p&&d?d.offsetLeft:0))/s,y=(e.top+(p&&d?d.offsetTop:0))/o,S=e.width/s,k=e.height/o;return{width:S,height:k,top:y,right:v+S,bottom:y+k,left:v,x:v,y}}function Yw(r){var n=lp(r),t=r.offsetWidth,e=r.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-e)<=1&&(e=n.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:e}}function mE(r,n){var t=n.getRootNode&&n.getRootNode();if(r.contains(n))return!0;if(t&&qw(t)){var e=n;do{if(e&&r.isSameNode(e))return!0;e=e.parentNode||e.host}while(e)}return!1}function ru(r){return Mi(r).getComputedStyle(r)}function E$(r){return["table","td","th"].indexOf(Ho(r))>=0}function vc(r){return((zd(r)?r.ownerDocument:r.document)||window.document).documentElement}function db(r){return Ho(r)==="html"?r:r.assignedSlot||r.parentNode||(qw(r)?r.host:null)||vc(r)}function ox(r){return!la(r)||ru(r).position==="fixed"?null:r.offsetParent}function C$(r){var n=/firefox/i.test(Z0()),t=/Trident/i.test(Z0());if(t&&la(r)){var e=ru(r);if(e.position==="fixed")return null}var s=db(r);for(qw(s)&&(s=s.host);la(s)&&["html","body"].indexOf(Ho(s))<0;){var o=ru(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||n&&o.willChange==="filter"||n&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function Im(r){for(var n=Mi(r),t=ox(r);t&&E$(t)&&ru(t).position==="static";)t=ox(t);return t&&(Ho(t)==="html"||Ho(t)==="body"&&ru(t).position==="static")?n:t||C$(r)||n}function Kw(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Zg(r,n,t){return Md(r,Iy(n,t))}function P$(r,n,t){var e=Zg(r,n,t);return e>t?t:e}function vE(){return{top:0,right:0,bottom:0,left:0}}function yE(r){return Object.assign({},vE(),r)}function bE(r,n){return n.reduce(function(t,e){return t[e]=r,t},{})}var O$=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,yE(typeof n!="number"?n:bE(n,Am))};function T$(r){var n,t=r.state,e=r.name,s=r.options,o=t.elements.arrow,c=t.modifiersData.popperOffsets,d=jo(t.placement),p=Kw(d),v=[di,ha].indexOf(d)>=0,y=v?"height":"width";if(!(!o||!c)){var S=O$(s.padding,t),k=Yw(o),C=p==="y"?ci:di,A=p==="y"?da:ha,N=t.rects.reference[y]+t.rects.reference[p]-c[p]-t.rects.popper[y],M=c[p]-t.rects.reference[p],L=Im(o),G=L?p==="y"?L.clientHeight||0:L.clientWidth||0:0,W=N/2-M/2,V=S[C],z=G-k[y]-S[A],Y=G/2-k[y]/2+W,B=Zg(V,Y,z),K=p;t.modifiersData[e]=(n={},n[K]=B,n.centerOffset=B-Y,n)}}function D$(r){var n=r.state,t=r.options,e=t.element,s=e===void 0?"[data-popper-arrow]":e;s!=null&&(typeof s=="string"&&(s=n.elements.popper.querySelector(s),!s)||mE(n.elements.popper,s)&&(n.elements.arrow=s))}const N$={name:"arrow",enabled:!0,phase:"main",fn:T$,effect:D$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function up(r){return r.split("-")[1]}var A$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function I$(r,n){var t=r.x,e=r.y,s=n.devicePixelRatio||1;return{x:op(t*s)/s||0,y:op(e*s)/s||0}}function lx(r){var n,t=r.popper,e=r.popperRect,s=r.placement,o=r.variation,c=r.offsets,d=r.position,p=r.gpuAcceleration,v=r.adaptive,y=r.roundOffsets,S=r.isFixed,k=c.x,C=k===void 0?0:k,A=c.y,N=A===void 0?0:A,M=typeof y=="function"?y({x:C,y:N}):{x:C,y:N};C=M.x,N=M.y;var L=c.hasOwnProperty("x"),G=c.hasOwnProperty("y"),W=di,V=ci,z=window;if(v){var Y=Im(t),B="clientHeight",K="clientWidth";if(Y===Mi(t)&&(Y=vc(t),ru(Y).position!=="static"&&d==="absolute"&&(B="scrollHeight",K="scrollWidth")),Y=Y,s===ci||(s===di||s===ha)&&o===bm){V=da;var Z=S&&Y===z&&z.visualViewport?z.visualViewport.height:Y[B];N-=Z-e.height,N*=p?1:-1}if(s===di||(s===ci||s===da)&&o===bm){W=ha;var ce=S&&Y===z&&z.visualViewport?z.visualViewport.width:Y[K];C-=ce-e.width,C*=p?1:-1}}var me=Object.assign({position:d},v&&A$),we=y===!0?I$({x:C,y:N},Mi(t)):{x:C,y:N};if(C=we.x,N=we.y,p){var Re;return Object.assign({},me,(Re={},Re[V]=G?"0":"",Re[W]=L?"0":"",Re.transform=(z.devicePixelRatio||1)<=1?"translate("+C+"px, "+N+"px)":"translate3d("+C+"px, "+N+"px, 0)",Re))}return Object.assign({},me,(n={},n[V]=G?N+"px":"",n[W]=L?C+"px":"",n.transform="",n))}function M$(r){var n=r.state,t=r.options,e=t.gpuAcceleration,s=e===void 0?!0:e,o=t.adaptive,c=o===void 0?!0:o,d=t.roundOffsets,p=d===void 0?!0:d,v={placement:jo(n.placement),variation:up(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:s,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,lx(Object.assign({},v,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:c,roundOffsets:p})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,lx(Object.assign({},v,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const R$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:M$,data:{}};var Wv={passive:!0};function j$(r){var n=r.state,t=r.instance,e=r.options,s=e.scroll,o=s===void 0?!0:s,c=e.resize,d=c===void 0?!0:c,p=Mi(n.elements.popper),v=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&v.forEach(function(y){y.addEventListener("scroll",t.update,Wv)}),d&&p.addEventListener("resize",t.update,Wv),function(){o&&v.forEach(function(y){y.removeEventListener("scroll",t.update,Wv)}),d&&p.removeEventListener("resize",t.update,Wv)}}const $$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:j$,data:{}};var L$={left:"right",right:"left",bottom:"top",top:"bottom"};function gy(r){return r.replace(/left|right|bottom|top/g,function(n){return L$[n]})}var F$={start:"end",end:"start"};function ux(r){return r.replace(/start|end/g,function(n){return F$[n]})}function Gw(r){var n=Mi(r),t=n.pageXOffset,e=n.pageYOffset;return{scrollLeft:t,scrollTop:e}}function Vw(r){return lp(vc(r)).left+Gw(r).scrollLeft}function U$(r,n){var t=Mi(r),e=vc(r),s=t.visualViewport,o=e.clientWidth,c=e.clientHeight,d=0,p=0;if(s){o=s.width,c=s.height;var v=gE();(v||!v&&n==="fixed")&&(d=s.offsetLeft,p=s.offsetTop)}return{width:o,height:c,x:d+Vw(r),y:p}}function B$(r){var n,t=vc(r),e=Gw(r),s=(n=r.ownerDocument)==null?void 0:n.body,o=Md(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),c=Md(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-e.scrollLeft+Vw(r),p=-e.scrollTop;return ru(s||t).direction==="rtl"&&(d+=Md(t.clientWidth,s?s.clientWidth:0)-o),{width:o,height:c,x:d,y:p}}function Qw(r){var n=ru(r),t=n.overflow,e=n.overflowX,s=n.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+e)}function wE(r){return["html","body","#document"].indexOf(Ho(r))>=0?r.ownerDocument.body:la(r)&&Qw(r)?r:wE(db(r))}function em(r,n){var t;n===void 0&&(n=[]);var e=wE(r),s=e===((t=r.ownerDocument)==null?void 0:t.body),o=Mi(e),c=s?[o].concat(o.visualViewport||[],Qw(e)?e:[]):e,d=n.concat(c);return s?d:d.concat(em(db(c)))}function ew(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function W$(r,n){var t=lp(r,!1,n==="fixed");return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}function cx(r,n,t){return n===fE?ew(U$(r,t)):zd(n)?W$(n,t):ew(B$(vc(r)))}function H$(r){var n=em(db(r)),t=["absolute","fixed"].indexOf(ru(r).position)>=0,e=t&&la(r)?Im(r):r;return zd(e)?n.filter(function(s){return zd(s)&&mE(s,e)&&Ho(s)!=="body"}):[]}function z$(r,n,t,e){var s=n==="clippingParents"?H$(r):[].concat(n),o=[].concat(s,[t]),c=o[0],d=o.reduce(function(p,v){var y=cx(r,v,e);return p.top=Md(y.top,p.top),p.right=Iy(y.right,p.right),p.bottom=Iy(y.bottom,p.bottom),p.left=Md(y.left,p.left),p},cx(r,c,e));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function _E(r){var n=r.reference,t=r.element,e=r.placement,s=e?jo(e):null,o=e?up(e):null,c=n.x+n.width/2-t.width/2,d=n.y+n.height/2-t.height/2,p;switch(s){case ci:p={x:c,y:n.y-t.height};break;case da:p={x:c,y:n.y+n.height};break;case ha:p={x:n.x+n.width,y:d};break;case di:p={x:n.x-t.width,y:d};break;default:p={x:n.x,y:n.y}}var v=s?Kw(s):null;if(v!=null){var y=v==="y"?"height":"width";switch(o){case ap:p[v]=p[v]-(n[y]/2-t[y]/2);break;case bm:p[v]=p[v]+(n[y]/2-t[y]/2);break}}return p}function wm(r,n){n===void 0&&(n={});var t=n,e=t.placement,s=e===void 0?r.placement:e,o=t.strategy,c=o===void 0?r.strategy:o,d=t.boundary,p=d===void 0?c$:d,v=t.rootBoundary,y=v===void 0?fE:v,S=t.elementContext,k=S===void 0?jg:S,C=t.altBoundary,A=C===void 0?!1:C,N=t.padding,M=N===void 0?0:N,L=yE(typeof M!="number"?M:bE(M,Am)),G=k===jg?d$:jg,W=r.rects.popper,V=r.elements[A?G:k],z=z$(zd(V)?V:V.contextElement||vc(r.elements.popper),p,y,c),Y=lp(r.elements.reference),B=_E({reference:Y,element:W,placement:s}),K=ew(Object.assign({},W,B)),Z=k===jg?K:Y,ce={top:z.top-Z.top+L.top,bottom:Z.bottom-z.bottom+L.bottom,left:z.left-Z.left+L.left,right:Z.right-z.right+L.right},me=r.modifiersData.offset;if(k===jg&&me){var we=me[s];Object.keys(ce).forEach(function(Re){var Ce=[ha,da].indexOf(Re)>=0?1:-1,_e=[ci,da].indexOf(Re)>=0?"y":"x";ce[Re]+=we[_e]*Ce})}return ce}function q$(r,n){n===void 0&&(n={});var t=n,e=t.placement,s=t.boundary,o=t.rootBoundary,c=t.padding,d=t.flipVariations,p=t.allowedAutoPlacements,v=p===void 0?pE:p,y=up(e),S=y?d?ax:ax.filter(function(A){return up(A)===y}):Am,k=S.filter(function(A){return v.indexOf(A)>=0});k.length===0&&(k=S);var C=k.reduce(function(A,N){return A[N]=wm(r,{placement:N,boundary:s,rootBoundary:o,padding:c})[jo(N)],A},{});return Object.keys(C).sort(function(A,N){return C[A]-C[N]})}function Y$(r){if(jo(r)===zw)return[];var n=gy(r);return[ux(r),n,ux(n)]}function K$(r){var n=r.state,t=r.options,e=r.name;if(!n.modifiersData[e]._skip){for(var s=t.mainAxis,o=s===void 0?!0:s,c=t.altAxis,d=c===void 0?!0:c,p=t.fallbackPlacements,v=t.padding,y=t.boundary,S=t.rootBoundary,k=t.altBoundary,C=t.flipVariations,A=C===void 0?!0:C,N=t.allowedAutoPlacements,M=n.options.placement,L=jo(M),G=L===M,W=p||(G||!A?[gy(M)]:Y$(M)),V=[M].concat(W).reduce(function(Ve,st){return Ve.concat(jo(st)===zw?q$(n,{placement:st,boundary:y,rootBoundary:S,padding:v,flipVariations:A,allowedAutoPlacements:N}):st)},[]),z=n.rects.reference,Y=n.rects.popper,B=new Map,K=!0,Z=V[0],ce=0;ce<V.length;ce++){var me=V[ce],we=jo(me),Re=up(me)===ap,Ce=[ci,da].indexOf(we)>=0,_e=Ce?"width":"height",ye=wm(n,{placement:me,boundary:y,rootBoundary:S,altBoundary:k,padding:v}),be=Ce?Re?ha:di:Re?da:ci;z[_e]>Y[_e]&&(be=gy(be));var Q=gy(be),Ae=[];if(o&&Ae.push(ye[we]<=0),d&&Ae.push(ye[be]<=0,ye[Q]<=0),Ae.every(function(Ve){return Ve})){Z=me,K=!1;break}B.set(me,Ae)}if(K)for(var Te=A?3:1,se=function(st){var bt=V.find(function(Tt){var _t=B.get(Tt);if(_t)return _t.slice(0,st).every(function(Pt){return Pt})});if(bt)return Z=bt,"break"},Ee=Te;Ee>0;Ee--){var Le=se(Ee);if(Le==="break")break}n.placement!==Z&&(n.modifiersData[e]._skip=!0,n.placement=Z,n.reset=!0)}}const G$={name:"flip",enabled:!0,phase:"main",fn:K$,requiresIfExists:["offset"],data:{_skip:!1}};function dx(r,n,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-n.height-t.y,right:r.right-n.width+t.x,bottom:r.bottom-n.height+t.y,left:r.left-n.width-t.x}}function hx(r){return[ci,ha,da,di].some(function(n){return r[n]>=0})}function V$(r){var n=r.state,t=r.name,e=n.rects.reference,s=n.rects.popper,o=n.modifiersData.preventOverflow,c=wm(n,{elementContext:"reference"}),d=wm(n,{altBoundary:!0}),p=dx(c,e),v=dx(d,s,o),y=hx(p),S=hx(v);n.modifiersData[t]={referenceClippingOffsets:p,popperEscapeOffsets:v,isReferenceHidden:y,hasPopperEscaped:S},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":S})}const Q$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:V$};function J$(r,n,t){var e=jo(r),s=[di,ci].indexOf(e)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},n,{placement:r})):t,c=o[0],d=o[1];return c=c||0,d=(d||0)*s,[di,ha].indexOf(e)>=0?{x:d,y:c}:{x:c,y:d}}function X$(r){var n=r.state,t=r.options,e=r.name,s=t.offset,o=s===void 0?[0,0]:s,c=pE.reduce(function(y,S){return y[S]=J$(S,n.rects,o),y},{}),d=c[n.placement],p=d.x,v=d.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=p,n.modifiersData.popperOffsets.y+=v),n.modifiersData[e]=c}const Z$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:X$};function eL(r){var n=r.state,t=r.name;n.modifiersData[t]=_E({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const tL={name:"popperOffsets",enabled:!0,phase:"read",fn:eL,data:{}};function nL(r){return r==="x"?"y":"x"}function rL(r){var n=r.state,t=r.options,e=r.name,s=t.mainAxis,o=s===void 0?!0:s,c=t.altAxis,d=c===void 0?!1:c,p=t.boundary,v=t.rootBoundary,y=t.altBoundary,S=t.padding,k=t.tether,C=k===void 0?!0:k,A=t.tetherOffset,N=A===void 0?0:A,M=wm(n,{boundary:p,rootBoundary:v,padding:S,altBoundary:y}),L=jo(n.placement),G=up(n.placement),W=!G,V=Kw(L),z=nL(V),Y=n.modifiersData.popperOffsets,B=n.rects.reference,K=n.rects.popper,Z=typeof N=="function"?N(Object.assign({},n.rects,{placement:n.placement})):N,ce=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),me=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,we={x:0,y:0};if(Y){if(o){var Re,Ce=V==="y"?ci:di,_e=V==="y"?da:ha,ye=V==="y"?"height":"width",be=Y[V],Q=be+M[Ce],Ae=be-M[_e],Te=C?-K[ye]/2:0,se=G===ap?B[ye]:K[ye],Ee=G===ap?-K[ye]:-B[ye],Le=n.elements.arrow,Ve=C&&Le?Yw(Le):{width:0,height:0},st=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:vE(),bt=st[Ce],Tt=st[_e],_t=Zg(0,B[ye],Ve[ye]),Pt=W?B[ye]/2-Te-_t-bt-ce.mainAxis:se-_t-bt-ce.mainAxis,zt=W?-B[ye]/2+Te+_t+Tt+ce.mainAxis:Ee+_t+Tt+ce.mainAxis,On=n.elements.arrow&&Im(n.elements.arrow),sr=On?V==="y"?On.clientTop||0:On.clientLeft||0:0,Kt=(Re=me?.[V])!=null?Re:0,Kn=be+Pt-Kt-sr,fi=be+zt-Kt,Qo=Zg(C?Iy(Q,Kn):Q,be,C?Md(Ae,fi):Ae);Y[V]=Qo,we[V]=Qo-be}if(d){var Dr,Jo=V==="x"?ci:di,pa=V==="x"?da:ha,Bn=Y[z],gn=z==="y"?"height":"width",Us=Bn+M[Jo],Ri=Bn-M[pa],Ga=[ci,di].indexOf(L)!==-1,pi=(Dr=me?.[z])!=null?Dr:0,on=Ga?Us:Bn-B[gn]-K[gn]-pi+ce.altAxis,qr=Ga?Bn+B[gn]+K[gn]-pi-ce.altAxis:Ri,ss=C&&Ga?P$(on,Bn,qr):Zg(C?on:Us,Bn,C?qr:Ri);Y[z]=ss,we[z]=ss-Bn}n.modifiersData[e]=we}}const sL={name:"preventOverflow",enabled:!0,phase:"main",fn:rL,requiresIfExists:["offset"]};function iL(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function aL(r){return r===Mi(r)||!la(r)?Gw(r):iL(r)}function oL(r){var n=r.getBoundingClientRect(),t=op(n.width)/r.offsetWidth||1,e=op(n.height)/r.offsetHeight||1;return t!==1||e!==1}function lL(r,n,t){t===void 0&&(t=!1);var e=la(n),s=la(n)&&oL(n),o=vc(n),c=lp(r,s,t),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(e||!e&&!t)&&((Ho(n)!=="body"||Qw(o))&&(d=aL(n)),la(n)?(p=lp(n,!0),p.x+=n.clientLeft,p.y+=n.clientTop):o&&(p.x=Vw(o))),{x:c.left+d.scrollLeft-p.x,y:c.top+d.scrollTop-p.y,width:c.width,height:c.height}}function uL(r){var n=new Map,t=new Set,e=[];r.forEach(function(o){n.set(o.name,o)});function s(o){t.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(d){if(!t.has(d)){var p=n.get(d);p&&s(p)}}),e.push(o)}return r.forEach(function(o){t.has(o.name)||s(o)}),e}function cL(r){var n=uL(r);return _$.reduce(function(t,e){return t.concat(n.filter(function(s){return s.phase===e}))},[])}function dL(r){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(r())})})),n}}function hL(r){var n=r.reduce(function(t,e){var s=t[e.name];return t[e.name]=s?Object.assign({},s,e,{options:Object.assign({},s.options,e.options),data:Object.assign({},s.data,e.data)}):e,t},{});return Object.keys(n).map(function(t){return n[t]})}var fx={placement:"bottom",modifiers:[],strategy:"absolute"};function px(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return!n.some(function(e){return!(e&&typeof e.getBoundingClientRect=="function")})}function fL(r){r===void 0&&(r={});var n=r,t=n.defaultModifiers,e=t===void 0?[]:t,s=n.defaultOptions,o=s===void 0?fx:s;return function(d,p,v){v===void 0&&(v=o);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},fx,o),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},S=[],k=!1,C={state:y,setOptions:function(L){var G=typeof L=="function"?L(y.options):L;N(),y.options=Object.assign({},o,y.options,G),y.scrollParents={reference:zd(d)?em(d):d.contextElement?em(d.contextElement):[],popper:em(p)};var W=cL(hL([].concat(e,y.options.modifiers)));return y.orderedModifiers=W.filter(function(V){return V.enabled}),A(),C.update()},forceUpdate:function(){if(!k){var L=y.elements,G=L.reference,W=L.popper;if(px(G,W)){y.rects={reference:lL(G,Im(W),y.options.strategy==="fixed"),popper:Yw(W)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(ce){return y.modifiersData[ce.name]=Object.assign({},ce.data)});for(var V=0;V<y.orderedModifiers.length;V++){if(y.reset===!0){y.reset=!1,V=-1;continue}var z=y.orderedModifiers[V],Y=z.fn,B=z.options,K=B===void 0?{}:B,Z=z.name;typeof Y=="function"&&(y=Y({state:y,options:K,name:Z,instance:C})||y)}}}},update:dL(function(){return new Promise(function(M){C.forceUpdate(),M(y)})}),destroy:function(){N(),k=!0}};if(!px(d,p))return C;C.setOptions(v).then(function(M){!k&&v.onFirstUpdate&&v.onFirstUpdate(M)});function A(){y.orderedModifiers.forEach(function(M){var L=M.name,G=M.options,W=G===void 0?{}:G,V=M.effect;if(typeof V=="function"){var z=V({state:y,name:L,instance:C,options:W}),Y=function(){};S.push(z||Y)}})}function N(){S.forEach(function(M){return M()}),S=[]}return C}}var pL=[$$,tL,R$,k$,Z$,G$,sL,N$,Q$],gL=fL({defaultModifiers:pL}),m0,gx;function mL(){if(gx)return m0;gx=1;var r=typeof Element<"u",n=typeof Map=="function",t=typeof Set=="function",e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(o,c){if(o===c)return!0;if(o&&c&&typeof o=="object"&&typeof c=="object"){if(o.constructor!==c.constructor)return!1;var d,p,v;if(Array.isArray(o)){if(d=o.length,d!=c.length)return!1;for(p=d;p--!==0;)if(!s(o[p],c[p]))return!1;return!0}var y;if(n&&o instanceof Map&&c instanceof Map){if(o.size!==c.size)return!1;for(y=o.entries();!(p=y.next()).done;)if(!c.has(p.value[0]))return!1;for(y=o.entries();!(p=y.next()).done;)if(!s(p.value[1],c.get(p.value[0])))return!1;return!0}if(t&&o instanceof Set&&c instanceof Set){if(o.size!==c.size)return!1;for(y=o.entries();!(p=y.next()).done;)if(!c.has(p.value[0]))return!1;return!0}if(e&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(c)){if(d=o.length,d!=c.length)return!1;for(p=d;p--!==0;)if(o[p]!==c[p])return!1;return!0}if(o.constructor===RegExp)return o.source===c.source&&o.flags===c.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof c.valueOf=="function")return o.valueOf()===c.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof c.toString=="function")return o.toString()===c.toString();if(v=Object.keys(o),d=v.length,d!==Object.keys(c).length)return!1;for(p=d;p--!==0;)if(!Object.prototype.hasOwnProperty.call(c,v[p]))return!1;if(r&&o instanceof Element)return!1;for(p=d;p--!==0;)if(!((v[p]==="_owner"||v[p]==="__v"||v[p]==="__o")&&o.$$typeof)&&!s(o[v[p]],c[v[p]]))return!1;return!0}return o!==o&&c!==c}return m0=function(c,d){try{return s(c,d)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},m0}var vL=mL();const yL=rr(vL);var bL=[],wL=function(n,t,e){e===void 0&&(e={});var s=X.useRef(null),o={onFirstUpdate:e.onFirstUpdate,placement:e.placement||"bottom",strategy:e.strategy||"absolute",modifiers:e.modifiers||bL},c=X.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),d=c[0],p=c[1],v=X.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(C){var A=C.state,N=Object.keys(A.elements);Wf.flushSync(function(){p({styles:sx(N.map(function(M){return[M,A.styles[M]||{}]})),attributes:sx(N.map(function(M){return[M,A.attributes[M]]}))})})},requires:["computeStyles"]}},[]),y=X.useMemo(function(){var k={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[v,{name:"applyStyles",enabled:!1}])};return yL(s.current,k)?s.current||k:(s.current=k,k)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,v]),S=X.useRef();return ix(function(){S.current&&S.current.setOptions(y)},[y]),ix(function(){if(!(n==null||t==null)){var k=e.createPopper||gL,C=k(n,t,y);return S.current=C,function(){C.destroy(),S.current=null}}},[n,t,e.createPopper]),{state:S.current?S.current.state:null,styles:d.styles,attributes:d.attributes,update:S.current?S.current.update:null,forceUpdate:S.current?S.current.forceUpdate:null}},_L=function(){},SL=function(){return Promise.resolve(null)},xL=[];function kL(r){var n=r.placement,t=n===void 0?"bottom":n,e=r.strategy,s=e===void 0?"absolute":e,o=r.modifiers,c=o===void 0?xL:o,d=r.referenceElement,p=r.onFirstUpdate,v=r.innerRef,y=r.children,S=X.useContext(a$),k=X.useState(null),C=k[0],A=k[1],N=X.useState(null),M=N[0],L=N[1];X.useEffect(function(){u$(v,C)},[v,C]);var G=X.useMemo(function(){return{placement:t,strategy:s,onFirstUpdate:p,modifiers:[].concat(c,[{name:"arrow",enabled:M!=null,options:{element:M}}])}},[t,s,p,c,M]),W=wL(d||S,C,G),V=W.state,z=W.styles,Y=W.forceUpdate,B=W.update,K=X.useMemo(function(){return{ref:A,style:z.popper,placement:V?V.placement:t,hasPopperEscaped:V&&V.modifiersData.hide?V.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:V&&V.modifiersData.hide?V.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:z.arrow,ref:L},forceUpdate:Y||_L,update:B||SL}},[A,L,t,V,z,B,Y]);return o$(y)(K)}function EL(r,n,t,e){return pk(r,function(s,o,c){n(e,t(s),o,c)}),e}function CL(r,n){return function(t,e){return EL(t,r,n(e),{})}}var PL=Object.prototype,OL=PL.toString,TL=CL(function(r,n,t){n!=null&&typeof n.toString!="function"&&(n=OL.call(n)),r[n]=t},ok(Tm)),Jw={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"};wp(Jw);var DL=TL(Jw);function _m(r){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_m(r)}function NL(r,n){if(_m(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var e=t.call(r,n);if(_m(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function AL(r){var n=NL(r,"string");return _m(n)=="symbol"?n:n+""}function IL(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,AL(e.key),e)}}function ML(r,n,t){return n&&IL(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r}var RL=function(){function r(t){this.ref=t}var n=r.prototype;return n.getBoundingClientRect=function(){return it(this.ref.current,"getBoundingClientRect")||{}},ML(r,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}},{key:"contextElement",get:function(){return this.ref.current}}]),r}(),jL=nb(function(r){return new RL(LN(r)?r:{current:r})});function cc(r){var n=r.children,t=r.className,e=r.content,s=ct("content",t),o=ut(cc,r),c=pt(cc,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?e:n)}cc.handledProps=["as","children","className","content"];cc.propTypes={};cc.create=pn(cc,function(r){return{children:r}});function dc(r){var n=r.children,t=r.className,e=r.content,s=ct("header",t),o=ut(dc,r),c=pt(dc,r);return J.createElement(c,Ie({},o,{className:s}),Ct(n)?e:n)}dc.handledProps=["as","children","className","content"];dc.propTypes={};dc.create=pn(dc,function(r){return{children:r}});var Ht=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.state={},e.open=!1,e.zIndexWasSynced=!1,e.triggerRef=J.createRef(),e.elementRef=J.createRef(),e.getPortalProps=function(){var d={},p=e.props,v=p.on,y=p.hoverable,S=br(v)?v:[v];return y&&(d.closeOnPortalMouseLeave=!0,d.mouseLeaveDelay=300),Ha(S,"hover")&&(d.openOnTriggerClick=!1,d.closeOnTriggerClick=!1,d.openOnTriggerMouseEnter=!0,d.closeOnTriggerMouseLeave=!0,d.mouseLeaveDelay=70,d.mouseEnterDelay=50),Ha(S,"click")&&(d.openOnTriggerClick=!0,d.closeOnTriggerClick=!0,d.closeOnDocumentClick=!0),Ha(S,"focus")&&(d.openOnTriggerFocus=!0,d.closeOnTriggerBlur=!0),d},e.hideOnScroll=function(d){i$(d.target)&&e.elementRef.current.contains(d.target)||(e.setState({closed:!0}),pj.unsub("scroll",e.hideOnScroll,{target:window}),e.timeoutId=setTimeout(function(){e.setState({closed:!1})},50),e.handleClose(d))},e.handleClose=function(d){it(e.props,"onClose",d,Ie({},e.props,{open:!1}))},e.handleOpen=function(d){it(e.props,"onOpen",d,Ie({},e.props,{open:!0}))},e.handlePortalMount=function(d){it(e.props,"onMount",d,e.props)},e.handlePortalUnmount=function(d){e.positionUpdate=null,it(e.props,"onUnmount",d,e.props)},e.renderContent=function(d){var p=d.placement,v=d.ref,y=d.update,S=d.style,k=e.props,C=k.basic,A=k.children,N=k.className,M=k.content,L=k.hideOnScroll,G=k.flowing,W=k.header,V=k.inverted,z=k.popper,Y=k.size,B=k.style,K=k.wide,Z=e.state.contentRestProps;e.positionUpdate=y;var ce=ct("ui",DL[p],Y,er(K,"wide"),de(C,"basic"),de(G,"flowing"),de(V,"inverted"),"popup transition visible",N),me=pt(n,e.props),we=Ie({left:"auto",right:"auto",position:"initial"},B),Re=J.createElement(me,Ie({},Z,{className:ce,style:we,ref:e.elementRef}),Ct(A)?J.createElement(J.Fragment,null,dc.create(W,{autoGenerateKey:!1}),cc.create(M,{autoGenerateKey:!1})):A,L&&J.createElement(Hl,{on:e.hideOnScroll,name:"scroll",target:"window"}));return Bk(z||{},{overrideProps:{children:Re,ref:v,style:Ie({display:"flex"},S)}})},e}n.getDerivedStateFromProps=function(s,o){if(o.closed||o.disabled)return{};var c=ut(n,s),d=qk(c,function(v,y,S){return Ha(Kl.handledProps,S)||(v[S]=y),v},{}),p=Mk(c,Kl.handledProps);return{contentRestProps:d,portalRestProps:p}};var t=n.prototype;return t.componentDidUpdate=function(s){var o=py(this.props.popperDependencies,s.popperDependencies);o||this.handleUpdate()},t.componentWillUnmount=function(){clearTimeout(this.timeoutId)},t.handleUpdate=function(){this.positionUpdate&&this.positionUpdate()},t.render=function(){var s=this,o=this.props,c=o.context,d=o.disabled,p=o.eventsEnabled,v=o.offset,y=o.pinned,S=o.popper,k=o.popperModifiers,C=o.position,A=o.positionFixed,N=o.trigger,M=this.state,L=M.closed,G=M.portalRestProps;if(L||d)return N;var W=[{name:"arrow",enabled:!1},{name:"eventListeners",options:{scroll:!!p,resize:!!p}},{name:"flip",enabled:!y},{name:"preventOverflow",enabled:!!v},{name:"offset",enabled:!!v,options:{offset:v}}].concat(k,[{name:"syncZIndex",enabled:!0,phase:"beforeRead",fn:function(B){var K,Z=B.state;if(!s.zIndexWasSynced){var ce=S==null||(K=S.style)==null?void 0:K.zIndex;Ua(ce)&&(Z.elements.popper.style.zIndex=window.getComputedStyle(Z.elements.popper.firstChild).zIndex),s.zIndexWasSynced=!0}},effect:function(){return function(){s.zIndexWasSynced=!1}}}]),V=jL(Yt(c)?this.triggerRef:c),z=Ie({},this.getPortalProps(),G);return J.createElement(Kl,Ie({},z,{onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:N,triggerRef:this.triggerRef}),J.createElement(kL,{modifiers:W,placement:Jw[C],strategy:A?"fixed":null,referenceElement:V},this.renderContent))},n}(X.Component);Ht.handledProps=["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popper","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"];Ht.propTypes={};Ht.defaultProps={disabled:!1,eventsEnabled:!0,on:["click","hover"],pinned:!1,popperModifiers:[],position:"top left"};Ht.Content=cc;Ht.Header=dc;var $L=Yo.isFinite,LL=Math.min;function FL(r){var n=Math[r];return function(t,e){if(t=$f(t),e=e==null?0:LL(ab(e),292),e&&$L(t)){var s=(Bd(t)+"e").split("e"),o=n(s[0]+"e"+(+s[1]+e));return s=(Bd(o)+"e").split("e"),+(s[0]+"e"+(+s[1]-e))}return n(t)}}var UL=FL("round");function BL(r,n,t){return t===void 0&&(t=n,n=void 0),t!==void 0&&(t=$f(t),t=t===t?t:0),n!==void 0&&(n=$f(n),n=n===n?n:0),lI($f(r),n,t)}var Xw=function(r){In(n,r);function n(){for(var e,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,e.calculatePercent=function(){var d=e.props,p=d.percent,v=d.total,y=d.value;if(!Ua(p))return p;if(!Ua(v)&&!Ua(y))return y/v*100},e.computeValueText=function(d){var p=e.props,v=p.progress,y=p.total,S=p.value;return v==="value"?S:v==="ratio"?S+"/"+y:d+"%"},e.getPercent=function(){var d=e.props,p=d.precision,v=d.progress,y=d.total,S=d.value,k=BL(e.calculatePercent(),0,100);return!Ua(y)&&!Ua(S)&&v==="value"?S/y*100:v==="value"?S:Ua(p)?k:UL(k,p)},e.isAutoSuccess=function(){var d=e.props,p=d.autoSuccess,v=d.percent,y=d.total,S=d.value;return p&&(v>=100||S>=y)},e.renderLabel=function(){var d=e.props,p=d.children,v=d.content,y=d.label;return Ct(p)?Ct(v)?Bk(y,{autoGenerateKey:!1,defaultProps:{className:"label"}}):J.createElement("div",{className:"label"},v):J.createElement("div",{className:"label"},p)},e.renderProgress=function(d){var p=e.props,v=p.precision,y=p.progress;if(!(!y&&Ua(v)))return J.createElement("div",{className:"progress"},e.computeValueText(d))},e}var t=n.prototype;return t.render=function(){var s=this.props,o=s.active,c=s.attached,d=s.className,p=s.color,v=s.disabled,y=s.error,S=s.indicating,k=s.inverted,C=s.size,A=s.success,N=s.warning,M=ct("ui",p,C,de(o||S,"active"),de(v,"disabled"),de(y,"error"),de(S,"indicating"),de(k,"inverted"),de(A||this.isAutoSuccess(),"success"),de(N,"warning"),Ls(c,"attached"),"progress",d),L=ut(n,this.props),G=pt(n,this.props),W=this.getPercent()||0;return J.createElement(G,Ie({},L,{className:M,"data-percent":Math.floor(W)}),J.createElement("div",{className:"bar",style:{width:W+"%"}},this.renderProgress(W)),this.renderLabel())},n}(X.Component);Xw.handledProps=["active","as","attached","autoSuccess","children","className","color","content","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"];Xw.propTypes={};var tw=function(r,n){return tw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},tw(r,n)};function ou(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");tw(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var My=function(){return My=Object.assign||function(n){for(var t,e=1,s=arguments.length;e<s;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},My.apply(this,arguments)};function WL(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(r);s<e.length;s++)n.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(r,e[s])&&(t[e[s]]=r[e[s]]);return t}function HL(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})}function SE(r,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,s,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(v){return function(y){return p([v,y])}}function p(v){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,v[0]&&(t=0)),t;)try{if(e=1,s&&(o=v[0]&2?s.return:v[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,v[1])).done)return o;switch(s=0,o&&(v=[v[0]&2,o.value]),v[0]){case 0:case 1:o=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,s=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){t.label=v[1];break}if(v[0]===6&&t.label<o[1]){t.label=o[1],o=v;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(v);break}o[2]&&t.ops.pop(),t.trys.pop();continue}v=n.call(r,t)}catch(y){v=[6,y],s=0}finally{e=o=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function cp(r){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&r[n],e=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&e>=r.length&&(r=void 0),{value:r&&r[e++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sm(r,n){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var e=t.call(r),s,o=[],c;try{for(;(n===void 0||n-- >0)&&!(s=e.next()).done;)o.push(s.value)}catch(d){c={error:d}}finally{try{s&&!s.done&&(t=e.return)&&t.call(e)}finally{if(c)throw c.error}}return o}function xm(r,n,t){if(t||arguments.length===2)for(var e=0,s=n.length,o;e<s;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return r.concat(o||Array.prototype.slice.call(n))}function Ff(r){return this instanceof Ff?(this.v=r,this):new Ff(r)}function zL(r,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(r,n||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(C){return function(A){return Promise.resolve(A).then(C,S)}}function d(C,A){e[C]&&(s[C]=function(N){return new Promise(function(M,L){o.push([C,N,M,L])>1||p(C,N)})},A&&(s[C]=A(s[C])))}function p(C,A){try{v(e[C](A))}catch(N){k(o[0][3],N)}}function v(C){C.value instanceof Ff?Promise.resolve(C.value.v).then(y,S):k(o[0][2],C)}function y(C){p("next",C)}function S(C){p("throw",C)}function k(C,A){C(A),o.shift(),o.length&&p(o[0][0],o[0][1])}}function qL(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],t;return n?n.call(r):(r=typeof cp=="function"?cp(r):r[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(o){t[o]=r[o]&&function(c){return new Promise(function(d,p){c=r[o](c),s(d,p,c.done,c.value)})}}function s(o,c,d,p){Promise.resolve(p).then(function(v){o({value:v,done:d})},c)}}function tr(r){return typeof r=="function"}function Zw(r){var n=function(e){Error.call(e),e.stack=new Error().stack},t=r(n);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var v0=Zw(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,s){return s+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Ry(r,n){if(r){var t=r.indexOf(n);0<=t&&r.splice(t,1)}}var Mm=function(){function r(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var n,t,e,s,o;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var d=cp(c),p=d.next();!p.done;p=d.next()){var v=p.value;v.remove(this)}}catch(N){n={error:N}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(n)throw n.error}}else c.remove(this);var y=this.initialTeardown;if(tr(y))try{y()}catch(N){o=N instanceof v0?N.errors:[N]}var S=this._finalizers;if(S){this._finalizers=null;try{for(var k=cp(S),C=k.next();!C.done;C=k.next()){var A=C.value;try{mx(A)}catch(N){o=o??[],N instanceof v0?o=xm(xm([],Sm(o)),Sm(N.errors)):o.push(N)}}}catch(N){e={error:N}}finally{try{C&&!C.done&&(s=k.return)&&s.call(k)}finally{if(e)throw e.error}}}if(o)throw new v0(o)}},r.prototype.add=function(n){var t;if(n&&n!==this)if(this.closed)mx(n);else{if(n instanceof r){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}},r.prototype._hasParent=function(n){var t=this._parentage;return t===n||Array.isArray(t)&&t.includes(n)},r.prototype._addParent=function(n){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n},r.prototype._removeParent=function(n){var t=this._parentage;t===n?this._parentage=null:Array.isArray(t)&&Ry(t,n)},r.prototype.remove=function(n){var t=this._finalizers;t&&Ry(t,n),n instanceof r&&n._removeParent(this)},r.EMPTY=function(){var n=new r;return n.closed=!0,n}(),r}(),xE=Mm.EMPTY;function kE(r){return r instanceof Mm||r&&"closed"in r&&tr(r.remove)&&tr(r.add)&&tr(r.unsubscribe)}function mx(r){tr(r)?r():r.unsubscribe()}var YL={Promise:void 0},KL={setTimeout:function(r,n){for(var t=[],e=2;e<arguments.length;e++)t[e-2]=arguments[e];return setTimeout.apply(void 0,xm([r,n],Sm(t)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function EE(r){KL.setTimeout(function(){throw r})}function vx(){}function my(r){r()}var e_=function(r){ou(n,r);function n(t){var e=r.call(this)||this;return e.isStopped=!1,t?(e.destination=t,kE(t)&&t.add(e)):e.destination=QL,e}return n.create=function(t,e,s){return new nw(t,e,s)},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(Mm),GL=function(){function r(n){this.partialObserver=n}return r.prototype.next=function(n){var t=this.partialObserver;if(t.next)try{t.next(n)}catch(e){Hv(e)}},r.prototype.error=function(n){var t=this.partialObserver;if(t.error)try{t.error(n)}catch(e){Hv(e)}else Hv(n)},r.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(t){Hv(t)}},r}(),nw=function(r){ou(n,r);function n(t,e,s){var o=r.call(this)||this,c;return tr(t)||!t?c={next:t??void 0,error:e??void 0,complete:s??void 0}:c=t,o.destination=new GL(c),o}return n}(e_);function Hv(r){EE(r)}function VL(r){throw r}var QL={closed:!0,next:vx,error:VL,complete:vx},t_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function CE(r){return r}function JL(r){return r.length===0?CE:r.length===1?r[0]:function(t){return r.reduce(function(e,s){return s(e)},t)}}var bs=function(){function r(n){n&&(this._subscribe=n)}return r.prototype.lift=function(n){var t=new r;return t.source=this,t.operator=n,t},r.prototype.subscribe=function(n,t,e){var s=this,o=ZL(n)?n:new nw(n,t,e);return my(function(){var c=s,d=c.operator,p=c.source;o.add(d?d.call(o,p):p?s._subscribe(o):s._trySubscribe(o))}),o},r.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(t){n.error(t)}},r.prototype.forEach=function(n,t){var e=this;return t=yx(t),new t(function(s,o){var c=new nw({next:function(d){try{n(d)}catch(p){o(p),c.unsubscribe()}},error:o,complete:s});e.subscribe(c)})},r.prototype._subscribe=function(n){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(n)},r.prototype[t_]=function(){return this},r.prototype.pipe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return JL(n)(this)},r.prototype.toPromise=function(n){var t=this;return n=yx(n),new n(function(e,s){var o;t.subscribe(function(c){return o=c},function(c){return s(c)},function(){return e(o)})})},r.create=function(n){return new r(n)},r}();function yx(r){var n;return(n=r??YL.Promise)!==null&&n!==void 0?n:Promise}function XL(r){return r&&tr(r.next)&&tr(r.error)&&tr(r.complete)}function ZL(r){return r&&r instanceof e_||XL(r)&&kE(r)}function eF(r){return tr(r?.lift)}function yc(r){return function(n){if(eF(n))return n.lift(function(t){try{return r(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}function zo(r,n,t,e,s){return new tF(r,n,t,e,s)}var tF=function(r){ou(n,r);function n(t,e,s,o,c,d){var p=r.call(this,t)||this;return p.onFinalize=c,p.shouldUnsubscribe=d,p._next=e?function(v){try{e(v)}catch(y){t.error(y)}}:r.prototype._next,p._error=o?function(v){try{o(v)}catch(y){t.error(y)}finally{this.unsubscribe()}}:r.prototype._error,p._complete=s?function(){try{s()}catch(v){t.error(v)}finally{this.unsubscribe()}}:r.prototype._complete,p}return n.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var e=this.closed;r.prototype.unsubscribe.call(this),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},n}(e_),nF=Zw(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),PE=function(r){ou(n,r);function n(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.prototype.lift=function(t){var e=new bx(this,this);return e.operator=t,e},n.prototype._throwIfClosed=function(){if(this.closed)throw new nF},n.prototype.next=function(t){var e=this;my(function(){var s,o;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var c=cp(e.currentObservers),d=c.next();!d.done;d=c.next()){var p=d.value;p.next(t)}}catch(v){s={error:v}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}}})},n.prototype.error=function(t){var e=this;my(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var s=e.observers;s.length;)s.shift().error(t)}})},n.prototype.complete=function(){var t=this;my(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var e=this,s=this,o=s.hasError,c=s.isStopped,d=s.observers;return o||c?xE:(this.currentObservers=null,d.push(t),new Mm(function(){e.currentObservers=null,Ry(d,t)}))},n.prototype._checkFinalizedStatuses=function(t){var e=this,s=e.hasError,o=e.thrownError,c=e.isStopped;s?t.error(o):c&&t.complete()},n.prototype.asObservable=function(){var t=new bs;return t.source=this,t},n.create=function(t,e){return new bx(t,e)},n}(bs),bx=function(r){ou(n,r);function n(t,e){var s=r.call(this)||this;return s.destination=t,s.source=e,s}return n.prototype.next=function(t){var e,s;(s=(e=this.destination)===null||e===void 0?void 0:e.next)===null||s===void 0||s.call(e,t)},n.prototype.error=function(t){var e,s;(s=(e=this.destination)===null||e===void 0?void 0:e.error)===null||s===void 0||s.call(e,t)},n.prototype.complete=function(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)},n.prototype._subscribe=function(t){var e,s;return(s=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&s!==void 0?s:xE},n}(PE),oi=function(r){ou(n,r);function n(t){var e=r.call(this)||this;return e._value=t,e}return Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(t){var e=r.prototype._subscribe.call(this,t);return!e.closed&&t.next(this._value),e},n.prototype.getValue=function(){var t=this,e=t.hasError,s=t.thrownError,o=t._value;if(e)throw s;return this._throwIfClosed(),o},n.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},n}(PE),rF={now:function(){return Date.now()}},sF=function(r){ou(n,r);function n(t,e){return r.call(this)||this}return n.prototype.schedule=function(t,e){return this},n}(Mm),wx={setInterval:function(r,n){for(var t=[],e=2;e<arguments.length;e++)t[e-2]=arguments[e];return setInterval.apply(void 0,xm([r,n],Sm(t)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},iF=function(r){ou(n,r);function n(t,e){var s=r.call(this,t,e)||this;return s.scheduler=t,s.work=e,s.pending=!1,s}return n.prototype.schedule=function(t,e){var s;if(e===void 0&&(e=0),this.closed)return this;this.state=t;var o=this.id,c=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(c,o,e)),this.pending=!0,this.delay=e,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(c,this.id,e),this},n.prototype.requestAsyncId=function(t,e,s){return s===void 0&&(s=0),wx.setInterval(t.flush.bind(t,this),s)},n.prototype.recycleAsyncId=function(t,e,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return e;e!=null&&wx.clearInterval(e)},n.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(t,e);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,e){var s=!1,o;try{this.work(t)}catch(c){s=!0,o=c||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),o},n.prototype.unsubscribe=function(){if(!this.closed){var t=this,e=t.id,s=t.scheduler,o=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ry(o,this),e!=null&&(this.id=this.recycleAsyncId(s,e,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},n}(sF),_x=function(){function r(n,t){t===void 0&&(t=r.now),this.schedulerActionCtor=n,this.now=t}return r.prototype.schedule=function(n,t,e){return t===void 0&&(t=0),new this.schedulerActionCtor(this,n).schedule(e,t)},r.now=rF.now,r}(),aF=function(r){ou(n,r);function n(t,e){e===void 0&&(e=_x.now);var s=r.call(this,t,e)||this;return s.actions=[],s._active=!1,s}return n.prototype.flush=function(t){var e=this.actions;if(this._active){e.push(t);return}var s;this._active=!0;do if(s=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,s){for(;t=e.shift();)t.unsubscribe();throw s}},n}(_x),n_=new aF(iF),oF=n_,lF=new bs(function(r){return r.complete()});function OE(r){return r&&tr(r.schedule)}function TE(r){return r[r.length-1]}function uF(r){return tr(TE(r))?r.pop():void 0}function cF(r){return OE(TE(r))?r.pop():void 0}var DE=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function NE(r){return tr(r?.then)}function AE(r){return tr(r[t_])}function IE(r){return Symbol.asyncIterator&&tr(r?.[Symbol.asyncIterator])}function ME(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function dF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var RE=dF();function jE(r){return tr(r?.[RE])}function $E(r){return zL(this,arguments,function(){var t,e,s,o;return SE(this,function(c){switch(c.label){case 0:t=r.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,Ff(t.read())];case 3:return e=c.sent(),s=e.value,o=e.done,o?[4,Ff(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,Ff(s)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function LE(r){return tr(r?.getReader)}function Go(r){if(r instanceof bs)return r;if(r!=null){if(AE(r))return hF(r);if(DE(r))return fF(r);if(NE(r))return pF(r);if(IE(r))return FE(r);if(jE(r))return gF(r);if(LE(r))return mF(r)}throw ME(r)}function hF(r){return new bs(function(n){var t=r[t_]();if(tr(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fF(r){return new bs(function(n){for(var t=0;t<r.length&&!n.closed;t++)n.next(r[t]);n.complete()})}function pF(r){return new bs(function(n){r.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,EE)})}function gF(r){return new bs(function(n){var t,e;try{for(var s=cp(r),o=s.next();!o.done;o=s.next()){var c=o.value;if(n.next(c),n.closed)return}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}n.complete()})}function FE(r){return new bs(function(n){vF(r,n).catch(function(t){return n.error(t)})})}function mF(r){return FE($E(r))}function vF(r,n){var t,e,s,o;return HL(this,void 0,void 0,function(){var c,d;return SE(this,function(p){switch(p.label){case 0:p.trys.push([0,5,6,11]),t=qL(r),p.label=1;case 1:return[4,t.next()];case 2:if(e=p.sent(),!!e.done)return[3,4];if(c=e.value,n.next(c),n.closed)return[2];p.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return d=p.sent(),s={error:d},[3,11];case 6:return p.trys.push([6,,9,10]),e&&!e.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:p.sent(),p.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function ec(r,n,t,e,s){e===void 0&&(e=0),s===void 0&&(s=!1);var o=n.schedule(function(){t(),s?r.add(this.schedule(null,e)):this.unsubscribe()},e);if(r.add(o),!s)return o}function UE(r,n){return n===void 0&&(n=0),yc(function(t,e){t.subscribe(zo(e,function(s){return ec(e,r,function(){return e.next(s)},n)},function(){return ec(e,r,function(){return e.complete()},n)},function(s){return ec(e,r,function(){return e.error(s)},n)}))})}function BE(r,n){return n===void 0&&(n=0),yc(function(t,e){e.add(r.schedule(function(){return t.subscribe(e)},n))})}function yF(r,n){return Go(r).pipe(BE(n),UE(n))}function bF(r,n){return Go(r).pipe(BE(n),UE(n))}function wF(r,n){return new bs(function(t){var e=0;return n.schedule(function(){e===r.length?t.complete():(t.next(r[e++]),t.closed||this.schedule())})})}function _F(r,n){return new bs(function(t){var e;return ec(t,n,function(){e=r[RE](),ec(t,n,function(){var s,o,c;try{s=e.next(),o=s.value,c=s.done}catch(d){t.error(d);return}c?t.complete():t.next(o)},0,!0)}),function(){return tr(e?.return)&&e.return()}})}function WE(r,n){if(!r)throw new Error("Iterable cannot be null");return new bs(function(t){ec(t,n,function(){var e=r[Symbol.asyncIterator]();ec(t,n,function(){e.next().then(function(s){s.done?t.complete():t.next(s.value)})},0,!0)})})}function SF(r,n){return WE($E(r),n)}function xF(r,n){if(r!=null){if(AE(r))return yF(r,n);if(DE(r))return wF(r,n);if(NE(r))return bF(r,n);if(IE(r))return WE(r,n);if(jE(r))return _F(r,n);if(LE(r))return SF(r,n)}throw ME(r)}function Ku(r,n){return n?xF(r,n):Go(r)}function Gu(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var t=cF(r);return Ku(r,t)}function $g(r,n){var t=tr(r)?r:function(){return r},e=function(s){return s.error(t())};return new bs(e)}function HE(r){return r instanceof Date&&!isNaN(r)}var kF=Zw(function(r){return function(t){t===void 0&&(t=null),r(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function Lg(r,n){var t=HE(r)?{first:r}:typeof r=="number"?{each:r}:r,e=t.first,s=t.each,o=t.with,c=o===void 0?EF:o,d=t.scheduler,p=d===void 0?n_:d,v=t.meta,y=v===void 0?null:v;if(e==null&&s==null)throw new TypeError("No timeout provided.");return yc(function(S,k){var C,A,N=null,M=0,L=function(G){A=ec(k,p,function(){try{C.unsubscribe(),Go(c({meta:y,lastValue:N,seen:M})).subscribe(k)}catch(W){k.error(W)}},G)};C=S.subscribe(zo(k,function(G){A?.unsubscribe(),M++,k.next(N=G),s>0&&L(s)},void 0,void 0,function(){A?.closed||A?.unsubscribe(),N=null})),!M&&L(e!=null?typeof e=="number"?e:+e-p.now():s)})}function EF(r){throw new kF(r)}function Ni(r,n){return yc(function(t,e){var s=0;t.subscribe(zo(e,function(o){e.next(r.call(n,o,s++))}))})}var CF=Array.isArray;function PF(r,n){return CF(n)?r.apply(void 0,xm([],Sm(n))):r(n)}function OF(r){return Ni(function(n){return PF(r,n)})}var TF=Array.isArray,DF=Object.getPrototypeOf,NF=Object.prototype,AF=Object.keys;function IF(r){if(r.length===1){var n=r[0];if(TF(n))return{args:n,keys:null};if(MF(n)){var t=AF(n);return{args:t.map(function(e){return n[e]}),keys:t}}}return{args:r,keys:null}}function MF(r){return r&&typeof r=="object"&&DF(r)===NF}function RF(r,n){return r.reduce(function(t,e,s){return t[e]=n[s],t},{})}function jF(r,n,t,e,s,o,c,d){var p=[],v=0,y=0,S=!1,k=function(){S&&!p.length&&!v&&n.complete()},C=function(N){return v<e?A(N):p.push(N)},A=function(N){v++;var M=!1;Go(t(N,y++)).subscribe(zo(n,function(L){n.next(L)},function(){M=!0},void 0,function(){if(M)try{v--;for(var L=function(){var G=p.shift();c||A(G)};p.length&&v<e;)L();k()}catch(G){n.error(G)}}))};return r.subscribe(zo(n,C,function(){S=!0,k()})),function(){}}function Rm(r,n,t){return t===void 0&&(t=1/0),tr(n)?Rm(function(e,s){return Ni(function(o,c){return n(e,o,s,c)})(Go(r(e,s)))},t):(typeof n=="number"&&(t=n),yc(function(e,s){return jF(e,s,r,t)}))}function zE(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var t=uF(r),e=IF(r),s=e.args,o=e.keys,c=new bs(function(d){var p=s.length;if(!p){d.complete();return}for(var v=new Array(p),y=p,S=p,k=function(A){var N=!1;Go(s[A]).subscribe(zo(d,function(M){N||(N=!0,S--),v[A]=M},function(){return y--},void 0,function(){(!y||!N)&&(S||d.next(o?RF(o,v):v),d.complete())}))},C=0;C<p;C++)k(C)});return t?c.pipe(OF(t)):c}function $F(r,n,t){t===void 0&&(t=oF);var e=-1;return n!=null&&(OE(n)?t=n:e=n),new bs(function(s){var o=HE(r)?500-t.now():r;o<0&&(o=0);var c=0;return t.schedule(function(){s.closed||(s.next(c++),0<=e?this.schedule(void 0,e):s.complete())},o)})}function Cd(r){return yc(function(n,t){var e=null,s=!1,o;e=n.subscribe(zo(t,void 0,void 0,function(c){o=Go(r(c,Cd(r)(n))),e?(e.unsubscribe(),e=null,o.subscribe(t)):s=!0})),s&&(e.unsubscribe(),e=null,o.subscribe(t))})}function LF(r){return r<=0?function(){return lF}:yc(function(n,t){var e=0;n.subscribe(zo(t,function(s){++e<=r&&(t.next(s),r<=e&&t.complete())}))})}function FF(r){return Ni(function(){return r})}function UF(r,n){return Rm(function(t,e){return Go(r(t,e)).pipe(LF(1),FF(t))})}function BF(r,n){n===void 0&&(n=n_);var t=$F(r,n);return UF(function(){return t})}function qE(r,n,t){var e=tr(r)||n||t?{next:r,error:n,complete:t}:r;return e?yc(function(s,o){var c;(c=e.subscribe)===null||c===void 0||c.call(e);var d=!0;s.subscribe(zo(o,function(p){var v;(v=e.next)===null||v===void 0||v.call(e,p),o.next(p)},function(){var p;d=!1,(p=e.complete)===null||p===void 0||p.call(e),o.complete()},function(p){var v;d=!1,(v=e.error)===null||v===void 0||v.call(e,p),o.error(p)},function(){var p,v;d&&((p=e.unsubscribe)===null||p===void 0||p.call(e)),(v=e.finalize)===null||v===void 0||v.call(e)}))}):CE}const YE="/talpakers/assets/logo-NmaJ7MyJ.png",KE="0.0.223",WF="modulepreload",HF=function(r){return"/talpakers/"+r},Sx={},jm=function(n,t,e){let s=Promise.resolve();if(t&&t.length>0){let c=function(v){return Promise.all(v.map(y=>Promise.resolve(y).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");s=c(t.map(v=>{if(v=HF(v),v in Sx)return;Sx[v]=!0;const y=v.endsWith(".css"),S=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const k=document.createElement("link");if(k.rel=y?"stylesheet":WF,y||(k.as="script"),k.crossOrigin="",k.href=v,p&&k.setAttribute("nonce",p),document.head.appendChild(k),y)return new Promise((C,A)=>{k.addEventListener("load",C),k.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${v}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return n().catch(o)})},zF=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...t)=>jm(async()=>{const{default:e}=await Promise.resolve().then(()=>xp);return{default:e}},void 0).then(({default:e})=>e(...t)):n=fetch,(...t)=>n(...t)};class r_ extends Error{constructor(n,t="FunctionsError",e){super(n),this.name=t,this.context=e}}class xx extends r_{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class kx extends r_{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Ex extends r_{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var rw;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(rw||(rw={}));var qF=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};class YF{constructor(n,{headers:t={},customFetch:e,region:s=rw.Any}={}){this.url=n,this.headers=t,this.region=s,this.fetch=zF(e)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var e;return qF(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:c,signal:d}=t;let p={},{region:v}=t;v||(v=this.region);const y=new URL(`${this.url}/${n}`);v&&v!=="any"&&(p["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let S;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",S=c):typeof c=="string"?(p["Content-Type"]="text/plain",S=c):typeof FormData<"u"&&c instanceof FormData?S=c:(p["Content-Type"]="application/json",S=JSON.stringify(c)));const k=yield this.fetch(y.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:S,signal:d}).catch(M=>{throw M.name==="AbortError"?M:new xx(M)}),C=k.headers.get("x-relay-error");if(C&&C==="true")throw new kx(k);if(!k.ok)throw new Ex(k);let A=((e=k.headers.get("Content-Type"))!==null&&e!==void 0?e:"text/plain").split(";")[0].trim(),N;return A==="application/json"?N=yield k.json():A==="application/octet-stream"?N=yield k.blob():A==="text/event-stream"?N=k:A==="multipart/form-data"?N=yield k.formData():N=yield k.text(),{data:N,error:null,response:k}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new xx(s)}:{data:null,error:s,response:s instanceof Ex||s instanceof kx?s.context:void 0}}})}}var Br={},wf={},_f={},Sf={},xf={},kf={},KF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dp=KF();const GF=dp.fetch,GE=dp.fetch.bind(dp),VE=dp.Headers,VF=dp.Request,QF=dp.Response,xp=Object.freeze(Object.defineProperty({__proto__:null,Headers:VE,Request:VF,Response:QF,default:GE,fetch:GF},Symbol.toStringTag,{value:"Module"})),JF=jT(xp);var zv={},Cx;function QE(){if(Cx)return zv;Cx=1,Object.defineProperty(zv,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return zv.default=r,zv}var Px;function JE(){if(Px)return kf;Px=1;var r=kf&&kf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(kf,"__esModule",{value:!0});const n=r(JF),t=r(QE());class e{constructor(o){var c,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var y,S,k,C;let A=null,N=null,M=null,L=v.status,G=v.statusText;if(v.ok){if(this.method!=="HEAD"){const Y=await v.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?N=Y:N=JSON.parse(Y))}const V=(S=this.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),z=(k=v.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");V&&z&&z.length>1&&(M=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(A={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,M=null,L=406,G="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const V=await v.text();try{A=JSON.parse(V),Array.isArray(A)&&v.status===404&&(N=[],A=null,L=200,G="OK")}catch{v.status===404&&V===""?(L=204,G="No Content"):A={message:V}}if(A&&this.isMaybeSingle&&(!((C=A?.details)===null||C===void 0)&&C.includes("0 rows"))&&(A=null,L=200,G="OK"),A&&this.shouldThrowOnError)throw new t.default(A)}return{error:A,data:N,count:M,status:L,statusText:G}});return this.shouldThrowOnError||(p=p.catch(v=>{var y,S,k;return{error:{message:`${(y=v?.name)!==null&&y!==void 0?y:"FetchError"}: ${v?.message}`,details:`${(S=v?.stack)!==null&&S!==void 0?S:""}`,hint:"",code:`${(k=v?.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),p.then(o,c)}returns(){return this}overrideTypes(){return this}}return kf.default=e,kf}var Ox;function XE(){if(Ox)return xf;Ox=1;var r=xf&&xf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xf,"__esModule",{value:!0});const n=r(JE());class t extends n.default{select(s){let o=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:c,foreignTable:d,referencedTable:p=d}={}){const v=p?`${p}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${s}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,o,{foreignTable:c,referencedTable:d=c}={}){const p=typeof d>"u"?"offset":`${d}.offset`,v=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${s}`),this.url.searchParams.set(v,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:c=!1,buffers:d=!1,wal:p=!1,format:v="text"}={}){var y;const S=[s?"analyze":null,o?"verbose":null,c?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),k=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${k}"; options=${S};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return xf.default=t,xf}var Tx;function s_(){if(Tx)return Sf;Tx=1;var r=Sf&&Sf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sf,"__esModule",{value:!0});const n=r(XE());class t extends n.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:c,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const v=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${p}fts${v}.${o}`),this}match(s){return Object.entries(s).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(s,o,c){return this.url.searchParams.append(s,`not.${o}.${c}`),this}or(s,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,o,c){return this.url.searchParams.append(s,`${o}.${c}`),this}}return Sf.default=t,Sf}var Dx;function ZE(){if(Dx)return _f;Dx=1;var r=_f&&_f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_f,"__esModule",{value:!0});const n=r(s_());class t{constructor(s,{headers:o={},schema:c,fetch:d}){this.url=s,this.headers=new Headers(o),this.schema=c,this.fetch=d}select(s,{head:o=!1,count:c}={}){const d=o?"HEAD":"GET";let p=!1;const v=(s??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",v),c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:c=!0}={}){var d;const p="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((y,S)=>y.concat(Object.keys(S)),[]);if(v.length>0){const y=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:c=!1,count:d,defaultToNull:p=!0}={}){var v;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const S=s.reduce((k,C)=>k.concat(Object.keys(C)),[]);if(S.length>0){const k=[...new Set(S)].map(C=>`"${C}"`);this.url.searchParams.set("columns",k.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(s,{count:o}={}){var c;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var o;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return _f.default=t,_f}var Nx;function XF(){if(Nx)return wf;Nx=1;var r=wf&&wf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(wf,"__esModule",{value:!0});const n=r(ZE()),t=r(s_());class e{constructor(o,{headers:c={},schema:d,fetch:p}={}){this.url=o,this.headers=new Headers(c),this.schemaName=d,this.fetch=p}from(o){const c=new URL(`${this.url}/${o}`);return new n.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new e(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:d=!1,get:p=!1,count:v}={}){var y;let S;const k=new URL(`${this.url}/rpc/${o}`);let C;d||p?(S=d?"HEAD":"GET",Object.entries(c).filter(([N,M])=>M!==void 0).map(([N,M])=>[N,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([N,M])=>{k.searchParams.append(N,M)})):(S="POST",C=c);const A=new Headers(this.headers);return v&&A.set("Prefer",`count=${v}`),new t.default({method:S,url:k,headers:A,schema:this.schemaName,body:C,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return wf.default=e,wf}var Ax;function ZF(){if(Ax)return Br;Ax=1;var r=Br&&Br.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Br,"__esModule",{value:!0}),Br.PostgrestError=Br.PostgrestBuilder=Br.PostgrestTransformBuilder=Br.PostgrestFilterBuilder=Br.PostgrestQueryBuilder=Br.PostgrestClient=void 0;const n=r(XF());Br.PostgrestClient=n.default;const t=r(ZE());Br.PostgrestQueryBuilder=t.default;const e=r(s_());Br.PostgrestFilterBuilder=e.default;const s=r(XE());Br.PostgrestTransformBuilder=s.default;const o=r(JE());Br.PostgrestBuilder=o.default;const c=r(QE());return Br.PostgrestError=c.default,Br.default={PostgrestClient:n.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:e.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:c.default},Br}var eU=ZF();const tU=rr(eU),{PostgrestClient:nU,PostgrestQueryBuilder:l8,PostgrestFilterBuilder:u8,PostgrestTransformBuilder:c8,PostgrestBuilder:d8,PostgrestError:h8}=tU;class rU{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const e=t.node,s=parseInt(e.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`

Suggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){const e=this.getWebSocketConstructor();return new e(n,t)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const sU="2.15.5",iU=`realtime-js/${sU}`,aU="1.0.0",sw=1e4,oU=1e3,lU=100;var tm;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(tm||(tm={}));var Tr;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Tr||(Tr={}));var Ba;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ba||(Ba={}));var iw;(function(r){r.websocket="websocket"})(iw||(iw={}));var Td;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Td||(Td={}));class uU{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),e=new TextDecoder;return this._decodeBroadcast(n,t,e)}_decodeBroadcast(n,t,e){const s=t.getUint8(1),o=t.getUint8(2);let c=this.HEADER_LENGTH+2;const d=e.decode(n.slice(c,c+s));c=c+s;const p=e.decode(n.slice(c,c+o));c=c+o;const v=JSON.parse(e.decode(n.slice(c,n.byteLength)));return{ref:null,topic:d,event:p,payload:v}}}class eC{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Nn||(Nn={}));const Ix=(r,n,t={})=>{var e;const s=(e=t.skipTypes)!==null&&e!==void 0?e:[];return Object.keys(n).reduce((o,c)=>(o[c]=cU(c,r,n,s),o),{})},cU=(r,n,t,e)=>{const s=n.find(d=>d.name===r),o=s?.type,c=t[r];return o&&!e.includes(o)?tC(o,c):aw(c)},tC=(r,n)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return pU(n,t)}switch(r){case Nn.bool:return dU(n);case Nn.float4:case Nn.float8:case Nn.int2:case Nn.int4:case Nn.int8:case Nn.numeric:case Nn.oid:return hU(n);case Nn.json:case Nn.jsonb:return fU(n);case Nn.timestamp:return gU(n);case Nn.abstime:case Nn.date:case Nn.daterange:case Nn.int4range:case Nn.int8range:case Nn.money:case Nn.reltime:case Nn.text:case Nn.time:case Nn.timestamptz:case Nn.timetz:case Nn.tsrange:case Nn.tstzrange:return aw(n);default:return aw(n)}},aw=r=>r,dU=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},hU=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},fU=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(n){return console.log(`JSON parse error: ${n}`),r}return r},pU=(r,n)=>{if(typeof r!="string")return r;const t=r.length-1,e=r[t];if(r[0]==="{"&&e==="}"){let o;const c=r.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>tC(n,d))}return r},gU=r=>typeof r=="string"?r.replace(" ","T"):r,nC=r=>{let n=r;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class y0{constructor(n,t,e={},s=sw){this.channel=n,this.event=t,this.payload=e,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var e;return this._hasReceived(n)&&t((e=this.receivedResp)===null||e===void 0?void 0:e.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(e=>e.status===n).forEach(e=>e.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Mx;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Mx||(Mx={}));class nm{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const e=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(e.state,{},s=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nm.syncState(this.state,s,o,c),this.pendingDiffs.forEach(p=>{this.state=nm.syncDiff(this.state,p,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(e.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=nm.syncDiff(this.state,s,o,c),d())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,e,s){const o=this.cloneDeep(n),c=this.transformState(t),d={},p={};return this.map(o,(v,y)=>{c[v]||(p[v]=y)}),this.map(c,(v,y)=>{const S=o[v];if(S){const k=y.map(M=>M.presence_ref),C=S.map(M=>M.presence_ref),A=y.filter(M=>C.indexOf(M.presence_ref)<0),N=S.filter(M=>k.indexOf(M.presence_ref)<0);A.length>0&&(d[v]=A),N.length>0&&(p[v]=N)}else d[v]=y}),this.syncDiff(o,{joins:d,leaves:p},e,s)}static syncDiff(n,t,e,s){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return e||(e=()=>{}),s||(s=()=>{}),this.map(o,(d,p)=>{var v;const y=(v=n[d])!==null&&v!==void 0?v:[];if(n[d]=this.cloneDeep(p),y.length>0){const S=n[d].map(C=>C.presence_ref),k=y.filter(C=>S.indexOf(C.presence_ref)<0);n[d].unshift(...k)}e(d,y,p)}),this.map(c,(d,p)=>{let v=n[d];if(!v)return;const y=p.map(S=>S.presence_ref);v=v.filter(S=>y.indexOf(S.presence_ref)<0),n[d]=v,s(d,v,p),v.length===0&&delete n[d]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(e=>t(e,n[e]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,e)=>{const s=n[e];return"metas"in s?t[e]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[e]=s,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rx;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Rx||(Rx={}));var rm;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(rm||(rm={}));var Bl;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Bl||(Bl={}));class i_{constructor(n,t={config:{}},e){this.topic=n,this.params=t,this.socket=e,this.bindings={},this.state=Tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new y0(this,Ba.join,this.params,this.timeout),this.rejoinTimer=new eC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ba.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new nm(this),this.broadcastEndpointURL=nC(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var e,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Tr.closed){const{config:{broadcast:c,presence:d,private:p}}=this.params,v=(s=(e=this.bindings.postgres_changes)===null||e===void 0?void 0:e.map(C=>C.filter))!==null&&s!==void 0?s:[],y=!!this.bindings[rm.PRESENCE]&&this.bindings[rm.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,S={},k={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(C=>n?.(Bl.CHANNEL_ERROR,C)),this._onClose(()=>n?.(Bl.CLOSED)),this.updateJoinPayload(Object.assign({config:k},S)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:C})=>{var A;if(this.socket.setAuth(),C===void 0){n?.(Bl.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,M=(A=N?.length)!==null&&A!==void 0?A:0,L=[];for(let G=0;G<M;G++){const W=N[G],{filter:{event:V,schema:z,table:Y,filter:B}}=W,K=C&&C[G];if(K&&K.event===V&&K.schema===z&&K.table===Y&&K.filter===B)L.push(Object.assign(Object.assign({},W),{id:K.id}));else{this.unsubscribe(),this.state=Tr.errored,n?.(Bl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,n&&n(Bl.SUBSCRIBED);return}}).receive("error",C=>{this.state=Tr.errored,n?.(Bl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{n?.(Bl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,t={}){return await this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,t,e){return this.state===Tr.joined&&n===rm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,t,e)}async send(n,t={}){var e,s;if(!this._canPush()&&n.type==="broadcast"){const{event:o,payload:c}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(e=t.timeout)!==null&&e!==void 0?e:this.timeout);return await((s=v.body)===null||s===void 0?void 0:s.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,p;const v=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&o("ok"),v.receive("ok",()=>o("ok")),v.receive("error",()=>o("error")),v.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Tr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ba.close,"leave",this._joinRef())};this.joinPush.destroy();let e=null;return new Promise(s=>{e=new y0(this,Ba.leave,{},n),e.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),e.send(),this._canPush()||e.trigger("ok",{})}).finally(()=>{e?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tr.closed,this.bindings={}}async _fetchWithTimeout(n,t,e){const s=new AbortController,o=setTimeout(()=>s.abort(),e),c=await this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),c}_push(n,t,e=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new y0(this,n,t,e);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>lU){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,e){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,e){var s,o;const c=n.toLocaleLowerCase(),{close:d,error:p,leave:v,join:y}=Ba;if(e&&[d,p,v,y].indexOf(c)>=0&&e!==this._joinRef())return;let k=this._onMessage(c,t,e);if(t&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(C=>{var A,N,M;return((A=C.filter)===null||A===void 0?void 0:A.event)==="*"||((M=(N=C.filter)===null||N===void 0?void 0:N.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===c}).map(C=>C.callback(k,e)):(o=this.bindings[c])===null||o===void 0||o.filter(C=>{var A,N,M,L,G,W;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in C){const V=C.id,z=(A=C.filter)===null||A===void 0?void 0:A.event;return V&&((N=t.ids)===null||N===void 0?void 0:N.includes(V))&&(z==="*"||z?.toLocaleLowerCase()===((M=t.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const V=(G=(L=C?.filter)===null||L===void 0?void 0:L.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return V==="*"||V===((W=t?.event)===null||W===void 0?void 0:W.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===c}).map(C=>{if(typeof k=="object"&&"ids"in k){const A=k.data,{schema:N,table:M,commit_timestamp:L,type:G,errors:W}=A;k=Object.assign(Object.assign({},{schema:N,table:M,commit_timestamp:L,eventType:G,new:{},old:{},errors:W}),this._getPayloadRecords(A))}C.callback(k,e)})}_isClosed(){return this.state===Tr.closed}_isJoined(){return this.state===Tr.joined}_isJoining(){return this.state===Tr.joining}_isLeaving(){return this.state===Tr.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,e){const s=n.toLocaleLowerCase(),o={type:s,filter:t,callback:e};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(n,t){const e=n.toLocaleLowerCase();return this.bindings[e]&&(this.bindings[e]=this.bindings[e].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===e&&i_.isEqual(s.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ba.close,{},n)}_onError(n){this._on(Ba.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tr.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Ix(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Ix(n.columns,n.old_record)),t}}const b0=()=>{},qv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mU=[1e3,2e3,5e3,1e4],vU=1e4,yU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bU{constructor(n,t){var e;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sw,this.transport=null,this.heartbeatIntervalMs=qv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=b0,this.ref=0,this.reconnectTimer=null,this.logger=b0,this.conn=null,this.sendBuffer=[],this.serializer=new uU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...c)=>jm(async()=>{const{default:d}=await Promise.resolve().then(()=>xp);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((e=t?.params)===null||e===void 0)&&e.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${iw.websocket}`,this.httpEndpoint=nC(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rU.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const t=n.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aU}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const e=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(e),this._setConnectionState("disconnected")},n?this.conn.close(n,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const t=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const n=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,t,e){this.logger(n,t,e)}connectionState(){switch(this.conn&&this.conn.readyState){case tm.connecting:return Td.Connecting;case tm.open:return Td.Open;case tm.closing:return Td.Closing;default:return Td.Closed}}isConnected(){return this.connectionState()===Td.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,t={config:{}}){const e=`realtime:${n}`,s=this.getChannels().find(o=>o.topic===e);if(s)return s;{const o=new i_(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){const{topic:t,event:e,payload:s,ref:o}=n,c=()=>{this.encode(n,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${t} ${e} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(oU,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},qv.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(e=>e.topic===n&&(e._isJoined()||e._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:e,event:s,payload:o,ref:c}=t,d=c?`(${c})`:"",p=o.status||"";this.log("receive",`${p} ${e} ${s} ${d}`.trim(),o),this.channels.filter(v=>v._isMember(e)).forEach(v=>v._trigger(s,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ba.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;const e=n.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${n}${e}${s}`}_workerObjectUrl(n){let t;if(n)t=n;else{const e=new Blob([yU],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(n,t=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(n=null){let t;n?t=n:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const s={access_token:t,version:iU};t&&e.updateJoinPayload(s),e.joinedOnce&&e._isJoined()&&e._push(Ba.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(e=>{try{e(t)}catch(s){this.log("error",`error in ${n} callback`,s)}})}catch(e){this.log("error",`error triggering ${n} callbacks`,e)}}_setupReconnectionTimer(){this.reconnectTimer=new eC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var t,e,s,o,c,d,p,v,y;if(this.transport=(t=n?.transport)!==null&&t!==void 0?t:null,this.timeout=(e=n?.timeout)!==null&&e!==void 0?e:sw,this.heartbeatIntervalMs=(s=n?.heartbeatIntervalMs)!==null&&s!==void 0?s:qv.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=n?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=n?.heartbeatCallback)!==null&&d!==void 0?d:b0,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:S=>mU[S-1]||vU,this.encode=(v=n?.encode)!==null&&v!==void 0?v:(S,k)=>k(JSON.stringify(S)),this.decode=(y=n?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class a_ extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function yr(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class wU extends a_{constructor(n,t,e){super(n),this.name="StorageApiError",this.status=t,this.statusCode=e}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ow extends a_{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}var _U=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};const rC=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...t)=>jm(async()=>{const{default:e}=await Promise.resolve().then(()=>xp);return{default:e}},void 0).then(({default:e})=>e(...t)):n=fetch,(...t)=>n(...t)},SU=()=>_U(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jm(()=>Promise.resolve().then(()=>xp),void 0)).Response:Response}),lw=r=>{if(Array.isArray(r))return r.map(t=>lw(t));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([t,e])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[s]=lw(e)}),n},xU=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var nh=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};const w0=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),kU=(r,n,t)=>nh(void 0,void 0,void 0,function*(){const e=yield SU();r instanceof e&&!t?.noResolveJson?r.json().then(s=>{const o=r.status||500,c=s?.statusCode||o+"";n(new wU(w0(s),o,c))}).catch(s=>{n(new ow(w0(s),s))}):n(new ow(w0(r),r))}),EU=(r,n,t,e)=>{const s={method:r,headers:n?.headers||{}};return r==="GET"||!e?s:(xU(e)?(s.headers=Object.assign({"Content-Type":"application/json"},n?.headers),s.body=JSON.stringify(e)):s.body=e,n?.duplex&&(s.duplex=n.duplex),Object.assign(Object.assign({},s),t))};function $m(r,n,t,e,s,o){return nh(this,void 0,void 0,function*(){return new Promise((c,d)=>{r(t,EU(n,e,s,o)).then(p=>{if(!p.ok)throw p;return e?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>kU(p,d,e))})})}function jy(r,n,t,e){return nh(this,void 0,void 0,function*(){return $m(r,"GET",n,t,e)})}function Co(r,n,t,e,s){return nh(this,void 0,void 0,function*(){return $m(r,"POST",n,e,s,t)})}function uw(r,n,t,e,s){return nh(this,void 0,void 0,function*(){return $m(r,"PUT",n,e,s,t)})}function CU(r,n,t,e){return nh(this,void 0,void 0,function*(){return $m(r,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),e)})}function sC(r,n,t,e,s){return nh(this,void 0,void 0,function*(){return $m(r,"DELETE",n,e,s,t)})}var PU=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};class OU{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}execute(){return PU(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}})}}var TU=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};class DU{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}asStream(){return new OU(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.execute().then(n,t)}execute(){return TU(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}})}}var ai=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};const NU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AU{constructor(n,t={},e,s){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=e,this.fetch=rC(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,t,e,s){return ai(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},jx),s);let d=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&e instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),p&&o.append("metadata",this.encodeMetadata(p)),o.append("",e)):typeof FormData<"u"&&e instanceof FormData?(o=e,o.append("cacheControl",c.cacheControl),p&&o.append("metadata",this.encodeMetadata(p))):(o=e,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),s?.headers&&(d=Object.assign(Object.assign({},d),s.headers));const v=this._removeEmptyFolders(t),y=this._getFinalPath(v),S=yield(n=="PUT"?uw:Co)(this.fetch,`${this.url}/object/${y}`,o,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:v,id:S.Id,fullPath:S.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(yr(o))return{data:null,error:o};throw o}})}upload(n,t,e){return ai(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,e)})}uploadToSignedUrl(n,t,e,s){return ai(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),c=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",t);try{let p;const v=Object.assign({upsert:jx.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&e instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",e)):typeof FormData<"u"&&e instanceof FormData?(p=e,p.append("cacheControl",v.cacheControl)):(p=e,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const S=yield uw(this.fetch,d.toString(),p,{headers:y});return{data:{path:o,fullPath:S.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(yr(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,t){return ai(this,void 0,void 0,function*(){try{let e=this._getFinalPath(n);const s=Object.assign({},this.headers);t?.upsert&&(s["x-upsert"]="true");const o=yield Co(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:s}),c=new URL(this.url+o.url),d=c.searchParams.get("token");if(!d)throw new a_("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:d},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yr(e))return{data:null,error:e};throw e}})}update(n,t,e){return ai(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,e)})}move(n,t,e){return ai(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:e?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}copy(n,t,e){return ai(this,void 0,void 0,function*(){try{return{data:{path:(yield Co(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:e?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}createSignedUrl(n,t,e){return ai(this,void 0,void 0,function*(){try{let s=this._getFinalPath(n),o=yield Co(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},e?.transform?{transform:e.transform}:{}),{headers:this.headers});const c=e?.download?`&download=${e.download===!0?"":e.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}createSignedUrls(n,t,e){return ai(this,void 0,void 0,function*(){try{const s=yield Co(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=e?.download?`&download=${e.download===!0?"":e.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}download(n,t){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),c=o?`?${o}`:"",d=this._getFinalPath(n),p=()=>jy(this.fetch,`${this.url}/${s}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new DU(p,this.shouldThrowOnError)}info(n){return ai(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{const e=yield jy(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:lw(e),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yr(e))return{data:null,error:e};throw e}})}exists(n){return ai(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{return yield CU(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yr(e)&&e instanceof ow){const s=e.originalError;if([400,404].includes(s?.status))return{data:!1,error:e}}throw e}})}getPublicUrl(n,t){const e=this._getFinalPath(n),s=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const d=typeof t?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(t?.transform||{});p!==""&&s.push(p);let v=s.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${e}${v}`)}}}remove(n){return ai(this,void 0,void 0,function*(){try{return{data:yield sC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yr(t))return{data:null,error:t};throw t}})}list(n,t,e){return ai(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},NU),t),{prefix:n||""});return{data:yield Co(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},e),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}listV2(n,t){return ai(this,void 0,void 0,function*(){try{const e=Object.assign({},n);return{data:yield Co(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,e,{headers:this.headers},t),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yr(e))return{data:null,error:e};throw e}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const IU="2.12.2",MU={"X-Client-Info":`storage-js/${IU}`};var Ef=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};class RU{constructor(n,t={},e,s){this.shouldThrowOnError=!1;const o=new URL(n);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},MU),t),this.fetch=rC(e)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ef(this,void 0,void 0,function*(){try{return{data:yield jy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}})}getBucket(n){return Ef(this,void 0,void 0,function*(){try{return{data:yield jy(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yr(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return Ef(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yr(e))return{data:null,error:e};throw e}})}updateBucket(n,t){return Ef(this,void 0,void 0,function*(){try{return{data:yield uw(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(yr(e))return{data:null,error:e};throw e}})}emptyBucket(n){return Ef(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yr(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Ef(this,void 0,void 0,function*(){try{return{data:yield sC(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yr(t))return{data:null,error:t};throw t}})}}class jU extends RU{constructor(n,t={},e,s){super(n,t,e,s)}from(n){return new AU(this.url,this.headers,n,this.fetch)}}const $U="2.58.0";let qg="";typeof Deno<"u"?qg="deno":typeof document<"u"?qg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qg="react-native":qg="node";const LU={"X-Client-Info":`supabase-js-${qg}/${$U}`},FU={headers:LU},UU={schema:"public"},BU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WU={};var HU=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};const zU=r=>{let n;return r?n=r:typeof fetch>"u"?n=GE:n=fetch,(...t)=>n(...t)},qU=()=>typeof Headers>"u"?VE:Headers,YU=(r,n,t)=>{const e=zU(t),s=qU();return(o,c)=>HU(void 0,void 0,void 0,function*(){var d;const p=(d=yield n())!==null&&d!==void 0?d:r;let v=new s(c?.headers);return v.has("apikey")||v.set("apikey",r),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),e(o,Object.assign(Object.assign({},c),{headers:v}))})};var KU=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};function GU(r){return r.endsWith("/")?r:r+"/"}function VU(r,n){var t,e;const{db:s,auth:o,realtime:c,global:d}=r,{db:p,auth:v,realtime:y,global:S}=n,k={db:Object.assign(Object.assign({},p),s),auth:Object.assign(Object.assign({},v),o),realtime:Object.assign(Object.assign({},y),c),storage:{},global:Object.assign(Object.assign(Object.assign({},S),d),{headers:Object.assign(Object.assign({},(t=S?.headers)!==null&&t!==void 0?t:{}),(e=d?.headers)!==null&&e!==void 0?e:{})}),accessToken:()=>KU(this,void 0,void 0,function*(){return""})};return r.accessToken?k.accessToken=r.accessToken:delete k.accessToken,k}function QU(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(GU(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const iC="2.72.0",Af=30*1e3,cw=3,_0=cw*Af,JU="http://localhost:9999",XU="supabase.auth.token",ZU={"X-Client-Info":`gotrue-js/${iC}`},dw="X-Supabase-Api-Version",aC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,t3=10*60*1e3;class o_ extends Error{constructor(n,t,e){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=e}}function Mt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class n3 extends o_{constructor(n,t,e){super(n,t,e),this.name="AuthApiError",this.status=t,this.code=e}}function r3(r){return Mt(r)&&r.name==="AuthApiError"}class oC extends o_{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class bc extends o_{constructor(n,t,e,s){super(n,e,s),this.name=t,this.status=e}}class Vu extends bc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function s3(r){return Mt(r)&&r.name==="AuthSessionMissingError"}class Fg extends bc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yv extends bc{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Kv extends bc{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function i3(r){return Mt(r)&&r.name==="AuthImplicitGrantRedirectError"}class $x extends bc{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hw extends bc{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}}function S0(r){return Mt(r)&&r.name==="AuthRetryableFetchError"}class Lx extends bc{constructor(n,t,e){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=e}}class fw extends bc{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const $y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fx=` 	
\r=`.split(""),a3=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Fx.length;n+=1)r[Fx[n].charCodeAt(0)]=-2;for(let n=0;n<$y.length;n+=1)r[$y[n].charCodeAt(0)]=n;return r})();function Ux(r,n,t){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const e=n.queue>>n.queuedBits-6&63;t($y[e]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const e=n.queue>>n.queuedBits-6&63;t($y[e]),n.queuedBits-=6}}function lC(r,n,t){const e=a3[r];if(e>-1)for(n.queue=n.queue<<6|e,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(e===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Bx(r){const n=[],t=c=>{n.push(String.fromCodePoint(c))},e={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{u3(c,e,t)};for(let c=0;c<r.length;c+=1)lC(r.charCodeAt(c),s,o);return n.join("")}function o3(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function l3(r,n){for(let t=0;t<r.length;t+=1){let e=r.charCodeAt(t);if(e>55295&&e<=56319){const s=(e-55296)*1024&65535;e=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}o3(e,n)}}function u3(r,n,t){if(n.utf8seq===0){if(r<=127){t(r);return}for(let e=1;e<6;e+=1)if((r>>7-e&1)===0){n.utf8seq=e;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function c3(r){const n=[],t={queue:0,queuedBits:0},e=s=>{n.push(s)};for(let s=0;s<r.length;s+=1)lC(r.charCodeAt(s),t,e);return new Uint8Array(n)}function d3(r){const n=[];return l3(r,t=>n.push(t)),new Uint8Array(n)}function h3(r){const n=[],t={queue:0,queuedBits:0},e=s=>{n.push(s)};return r.forEach(s=>Ux(s,t,e)),Ux(null,t,e),n.join("")}function f3(r){return Math.round(Date.now()/1e3)+r}function p3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const n=Math.random()*16|0;return(r=="x"?n:n&3|8).toString(16)})}const ia=()=>typeof window<"u"&&typeof document<"u",kd={tested:!1,writable:!1},uC=()=>{if(!ia())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kd.tested)return kd.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),kd.tested=!0,kd.writable=!0}catch{kd.tested=!0,kd.writable=!1}return kd.writable};function g3(r){const n={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{n[o]=s})}catch{}return t.searchParams.forEach((e,s)=>{n[s]=e}),n}const cC=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...t)=>jm(async()=>{const{default:e}=await Promise.resolve().then(()=>xp);return{default:e}},void 0).then(({default:e})=>e(...t)):n=fetch,(...t)=>n(...t)},m3=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",If=async(r,n,t)=>{await r.setItem(n,JSON.stringify(t))},Ed=async(r,n)=>{const t=await r.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}},qu=async(r,n)=>{await r.removeItem(n)};class hb{constructor(){this.promise=new hb.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}hb.promiseConstructor=Promise;function x0(r){const n=r.split(".");if(n.length!==3)throw new fw("Invalid JWT structure");for(let e=0;e<n.length;e++)if(!e3.test(n[e]))throw new fw("JWT not in base64url format");return{header:JSON.parse(Bx(n[0])),payload:JSON.parse(Bx(n[1])),signature:c3(n[2]),raw:{header:n[0],payload:n[1]}}}async function v3(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function y3(r,n){return new Promise((e,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await r(o);if(!n(o,null,c)){e(c);return}}catch(c){if(!n(o,c)){s(c);return}}})()})}function b3(r){return("0"+r.toString(16)).substr(-2)}function w3(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*e));return s}return crypto.getRandomValues(n),Array.from(n,b3).join("")}async function _3(r){const t=new TextEncoder().encode(r),e=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(e);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function S3(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await _3(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cf(r,n,t=!1){const e=w3();let s=e;t&&(s+="/PASSWORD_RECOVERY"),await If(r,`${n}-code-verifier`,s);const o=await S3(e);return[o,e===o?"plain":"s256"]}const x3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k3(r){const n=r.headers.get(dw);if(!n||!n.match(x3))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function E3(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function C3(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const P3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pf(r){if(!P3.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function k0(){const r={};return new Proxy(r,{get:(n,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const e=t.toString();if(e==="Symbol(Symbol.toPrimitive)"||e==="Symbol(Symbol.toStringTag)"||e==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wx(r){return JSON.parse(JSON.stringify(r))}var O3=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(r);s<e.length;s++)n.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(r,e[s])&&(t[e[s]]=r[e[s]]);return t};const Pd=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),T3=[502,503,504];async function Hx(r){var n;if(!m3(r))throw new hw(Pd(r),0);if(T3.includes(r.status))throw new hw(Pd(r),r.status);let t;try{t=await r.json()}catch(o){throw new oC(Pd(o),o)}let e;const s=k3(r);if(s&&s.getTime()>=aC["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?e=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(e=t.error_code),e){if(e==="weak_password")throw new Lx(Pd(t),r.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(e==="session_not_found")throw new Vu}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Lx(Pd(t),r.status,t.weak_password.reasons);throw new n3(Pd(t),r.status||500,e)}const D3=(r,n,t,e)=>{const s={method:r,headers:n?.headers||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),s.body=JSON.stringify(e),Object.assign(Object.assign({},s),t))};async function Bt(r,n,t,e){var s;const o=Object.assign({},e?.headers);o[dw]||(o[dw]=aC["2024-01-01"].name),e?.jwt&&(o.Authorization=`Bearer ${e.jwt}`);const c=(s=e?.query)!==null&&s!==void 0?s:{};e?.redirectTo&&(c.redirect_to=e.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await N3(r,n,t+d,{headers:o,noResolveJson:e?.noResolveJson},{},e?.body);return e?.xform?e?.xform(p):{data:Object.assign({},p),error:null}}async function N3(r,n,t,e,s,o){const c=D3(n,e,s,o);let d;try{d=await r(t,Object.assign({},c))}catch(p){throw console.error(p),new hw(Pd(p),0)}if(d.ok||await Hx(d),e?.noResolveJson)return d;try{return await d.json()}catch(p){await Hx(p)}}function Eo(r){var n;let t=null;R3(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=f3(r.expires_in)));const e=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:t,user:e},error:null}}function zx(r){const n=Eo(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,e)=>t&&typeof e=="string",!0)&&(n.data.weak_password=r.weak_password),n}function Qu(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function A3(r){return{data:r,error:null}}function I3(r){const{action_link:n,email_otp:t,hashed_token:e,redirect_to:s,verification_type:o}=r,c=O3(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:t,hashed_token:e,redirect_to:s,verification_type:o},p=Object.assign({},c);return{data:{properties:d,user:p},error:null}}function M3(r){return r}function R3(r){return r.access_token&&r.refresh_token&&r.expires_in}const E0=["global","local","others"];var j3=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(r);s<e.length;s++)n.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(r,e[s])&&(t[e[s]]=r[e[s]]);return t};class $3{constructor({url:n="",headers:t={},fetch:e}){this.url=n,this.headers=t,this.fetch=cC(e),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,t=E0[0]){if(E0.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${E0.join(", ")}`);try{return await Bt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(e){if(Mt(e))return{data:null,error:e};throw e}}async inviteUserByEmail(n,t={}){try{return await Bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Qu})}catch(e){if(Mt(e))return{data:{user:null},error:e};throw e}}async generateLink(n){try{const{options:t}=n,e=j3(n,["options"]),s=Object.assign(Object.assign({},e),t);return"newEmail"in e&&(s.new_email=e?.newEmail,delete s.newEmail),await Bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:I3,redirectTo:t?.redirectTo})}catch(t){if(Mt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(n){try{return await Bt(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Qu})}catch(t){if(Mt(t))return{data:{user:null},error:t};throw t}}async listUsers(n){var t,e,s,o,c,d,p;try{const v={nextPage:null,lastPage:0,total:0},y=await Bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(e=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&e!==void 0?e:"",per_page:(o=(s=n?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:M3});if(y.error)throw y.error;const S=await y.json(),k=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(A=>{const N=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(A.split(";")[1].split("=")[1]);v[`${M}Page`]=N}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},S),v),error:null}}catch(v){if(Mt(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){Pf(n);try{return await Bt(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Qu})}catch(t){if(Mt(t))return{data:{user:null},error:t};throw t}}async updateUserById(n,t){Pf(n);try{return await Bt(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Qu})}catch(e){if(Mt(e))return{data:{user:null},error:e};throw e}}async deleteUser(n,t=!1){Pf(n);try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Qu})}catch(e){if(Mt(e))return{data:{user:null},error:e};throw e}}async _listFactors(n){Pf(n.userId);try{const{data:t,error:e}=await Bt(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:e}}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _deleteFactor(n){Pf(n.userId),Pf(n.id);try{return{data:await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(Mt(t))return{data:null,error:t};throw t}}}function qx(r={}){return{getItem:n=>r[n]||null,setItem:(n,t)=>{r[n]=t},removeItem:n=>{delete r[n]}}}function L3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Of={debug:!!(globalThis&&uC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dC extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class F3 extends dC{}async function U3(r,n,t){Of.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const e=new globalThis.AbortController;return n>0&&setTimeout(()=>{e.abort(),Of.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:e.signal},async s=>{if(s){Of.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{Of.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(n===0)throw Of.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new F3(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Of.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function hC(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function B3(r){return parseInt(r,16)}function W3(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,e=>e.toString(16).padStart(2,"0")).join("")}function H3(r){var n;const{chainId:t,domain:e,expirationTime:s,issuedAt:o=new Date,nonce:c,notBefore:d,requestId:p,resources:v,scheme:y,uri:S,version:k}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!e)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const C=hC(r.address),A=y?`${y}://${e}`:e,N=r.statement?`${r.statement}
`:"",M=`${A} wants you to sign in with your Ethereum account:
${C}

${N}`;let L=`URI: ${S}
Version: ${k}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(s&&(L+=`
Expiration Time: ${s.toISOString()}`),d&&(L+=`
Not Before: ${d.toISOString()}`),p&&(L+=`
Request ID: ${p}`),v){let G=`
Resources:`;for(const W of v){if(!W||typeof W!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${W}`);G+=`
- ${W}`}L+=G}return`${M}
${L}`}L3();const z3={url:JU,storageKey:XU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yx(r,n,t){return await t()}const Tf={};class km{constructor(n){var t,e;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=km.nextInstanceID,km.nextInstanceID+=1,this.instanceID>0&&ia()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},z3),n);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cC(s.fetch),this.lock=s.lock||Yx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ia()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=U3:this.lock=Yx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:uC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qx(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=qx(this.memoryStorage)),ia()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(e=this.broadcastChannel)===null||e===void 0||e.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var n,t;return(t=(n=Tf[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(n){Tf[this.storageKey]=Object.assign(Object.assign({},Tf[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,t;return(t=(n=Tf[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Tf[this.storageKey]=Object.assign(Object.assign({},Tf[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iC}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const t=g3(window.location.href);let e="none";if(this._isImplicitGrantCallback(t)?e="implicit":await this._isPKCECallback(t)&&(e="pkce"),ia()&&this.detectSessionInUrl&&e!=="none"){const{data:s,error:o}=await this._getSessionFromURL(t,e);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),i3(o)){const p=(n=o.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Mt(t)?{error:t}:{error:new oC("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var t,e,s;try{const o=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(e=(t=n?.options)===null||t===void 0?void 0:t.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:(s=n?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Eo}),{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const p=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(o){if(Mt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(n){var t,e,s;try{let o;if("email"in n){const{email:y,password:S,options:k}=n;let C=null,A=null;this.flowType==="pkce"&&([C,A]=await Cf(this.storage,this.storageKey)),o=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:y,password:S,data:(t=k?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:C,code_challenge_method:A},xform:Eo})}else if("phone"in n){const{phone:y,password:S,options:k}=n;o=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:S,data:(e=k?.data)!==null&&e!==void 0?e:{},channel:(s=k?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Eo})}else throw new Yv("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const p=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(o){if(Mt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(n){try{let t;if("email"in n){const{email:o,password:c,options:d}=n;t=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:zx})}else if("phone"in n){const{phone:o,password:c,options:d}=n;t=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:zx})}else throw new Yv("You must provide either an email or phone number and a password");const{data:e,error:s}=t;return s?{data:{user:null,session:null},error:s}:!e||!e.session||!e.user?{data:{user:null,session:null},error:new Fg}:(e.session&&(await this._saveSession(e.session),await this._notifyAllSubscribers("SIGNED_IN",e.session)),{data:Object.assign({user:e.user,session:e.session},e.weak_password?{weakPassword:e.weak_password}:null),error:s})}catch(t){if(Mt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(n){var t,e,s,o;return await this._handleProviderSignIn(n.provider,{redirectTo:(t=n.options)===null||t===void 0?void 0:t.redirectTo,scopes:(e=n.options)===null||e===void 0?void 0:e.scopes,queryParams:(s=n.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:t}=n;switch(t){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(n){var t,e,s,o,c,d,p,v,y,S,k;let C,A;if("message"in n)C=n.message,A=n.signature;else{const{chain:N,wallet:M,statement:L,options:G}=n;let W;if(ia())if(typeof M=="object")W=M;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")W=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=M}const V=new URL((t=G?.url)!==null&&t!==void 0?t:window.location.href),z=await W.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=hC(z[0]);let B=(e=G?.signInWithEthereum)===null||e===void 0?void 0:e.chainId;if(!B){const Z=await W.request({method:"eth_chainId"});B=B3(Z)}const K={domain:V.host,address:Y,statement:L,uri:V.href,version:"1",chainId:B,nonce:(s=G?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(o=G?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=G?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=G?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(v=G?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=G?.signInWithEthereum)===null||y===void 0?void 0:y.resources};C=H3(K),A=await W.request({method:"personal_sign",params:[W3(C),Y]})}try{const{data:N,error:M}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:A},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(k=n.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Eo});if(M)throw M;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Fg}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:M})}catch(N){if(Mt(N))return{data:{user:null,session:null},error:N};throw N}}async signInWithSolana(n){var t,e,s,o,c,d,p,v,y,S,k,C;let A,N;if("message"in n)A=n.message,N=n.signature;else{const{chain:M,wallet:L,statement:G,options:W}=n;let V;if(ia())if(typeof L=="object")V=L;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))V=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!W?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=L}const z=new URL((t=W?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in V&&V.signIn){const Y=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},W?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),G?{statement:G}:null));let B;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")B=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)B=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)A=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),N=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${z.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(s=(e=W?.signInWithSolana)===null||e===void 0?void 0:e.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=W?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${W.signInWithSolana.notBefore}`]:[],...!((c=W?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${W.signInWithSolana.expirationTime}`]:[],...!((d=W?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${W.signInWithSolana.chainId}`]:[],...!((p=W?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${W.signInWithSolana.nonce}`]:[],...!((v=W?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${W.signInWithSolana.requestId}`]:[],...!((S=(y=W?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||S===void 0)&&S.length?["Resources",...W.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const Y=await V.signMessage(new TextEncoder().encode(A),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Y}}try{const{data:M,error:L}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:h3(N)},!((k=n.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(C=n.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Eo});if(L)throw L;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new Fg}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:L})}catch(M){if(Mt(M))return{data:{user:null,session:null},error:M};throw M}}async _exchangeCodeForSession(n){const t=await Ed(this.storage,`${this.storageKey}-code-verifier`),[e,s]=(t??"").split("/");try{const{data:o,error:c}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:e},xform:Eo});if(await qu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Fg}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(Mt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(n){try{const{options:t,provider:e,token:s,access_token:o,nonce:c}=n,d=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:e,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Eo}),{data:p,error:v}=d;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Fg}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:v})}catch(t){if(Mt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(n){var t,e,s,o,c;try{if("email"in n){const{email:d,options:p}=n;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Cf(this.storage,this.storageKey));const{error:S}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=p?.data)!==null&&t!==void 0?t:{},create_user:(e=p?.shouldCreateUser)!==null&&e!==void 0?e:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:S}}if("phone"in n){const{phone:d,options:p}=n,{data:v,error:y}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:v?.message_id},error:y}}throw new Yv("You must provide either an email or phone number.")}catch(d){if(Mt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(n){var t,e;try{let s,o;"options"in n&&(s=(t=n.options)===null||t===void 0?void 0:t.redirectTo,o=(e=n.options)===null||e===void 0?void 0:e.captchaToken);const{data:c,error:d}=await Bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Eo});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,v=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(s){if(Mt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(n){var t,e,s;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await Cf(this.storage,this.storageKey)),await Bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(e=(t=n.options)===null||t===void 0?void 0:t.redirectTo)!==null&&e!==void 0?e:void 0}),!((s=n?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:A3})}catch(o){if(Mt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:t},error:e}=n;if(e)throw e;if(!t)throw new Vu;const{error:s}=await Bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(n){if(Mt(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const t=`${this.url}/resend`;if("email"in n){const{email:e,type:s,options:o}=n,{error:c}=await Bt(this.fetch,"POST",t,{headers:this.headers,body:{email:e,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in n){const{phone:e,type:s,options:o}=n,{data:c,error:d}=await Bt(this.fetch,"POST",t,{headers:this.headers,body:{phone:e,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Yv("You must provide either an email or phone number and a type")}catch(t){if(Mt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(n,t){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch{}})()),await e;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await n(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const t=await Ed(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?n=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const e=n.expires_at?n.expires_at*1e3-Date.now()<_0:!1;if(this._debug("#__loadSession()",`session has${e?"":" not"} expired`,"expires_at",n.expires_at),!e){if(this.userStorage){const c=await Ed(this.userStorage,this.storageKey+"-user");c?.user?n.user=c.user:n.user=k0()}if(this.storage.isServer&&n.user){let c=this.suppressGetSessionWarning;n=new Proxy(n,{get:(p,v,y)=>(!c&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,v,y))})}return{data:{session:n},error:null}}const{session:s,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Qu}):await this._useSession(async t=>{var e,s,o;const{data:c,error:d}=t;if(d)throw d;return!(!((e=c.session)===null||e===void 0)&&e.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vu}:await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Qu})})}catch(t){if(Mt(t))return s3(t)&&(await this._removeSession(),await qu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(n,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,t))}async _updateUser(n,t={}){try{return await this._useSession(async e=>{const{data:s,error:o}=e;if(o)throw o;if(!s.session)throw new Vu;const c=s.session;let d=null,p=null;this.flowType==="pkce"&&n.email!=null&&([d,p]=await Cf(this.storage,this.storageKey));const{data:v,error:y}=await Bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:p}),jwt:c.access_token,xform:Qu});if(y)throw y;return c.user=v.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(e){if(Mt(e))return{data:{user:null},error:e};throw e}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Vu;const t=Date.now()/1e3;let e=t,s=!0,o=null;const{payload:c}=x0(n.access_token);if(c.exp&&(e=c.exp,s=e<=t),s){const{session:d,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:p}=await this._getUser(n.access_token);if(p)throw p;o={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:e-t,expires_at:e},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Mt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async t=>{var e;if(!n){const{data:c,error:d}=t;if(d)throw d;n=(e=c.session)!==null&&e!==void 0?e:void 0}if(!n?.refresh_token)throw new Vu;const{session:s,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Mt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(n,t){try{if(!ia())throw new Kv("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Kv(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new $x("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kv("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new $x("No code detected.");const{data:G,error:W}=await this._exchangeCodeForSession(n.code);if(W)throw W;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:e,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:d,expires_at:p,token_type:v}=n;if(!o||!d||!c||!v)throw new Kv("No session defined in URL");const y=Math.round(Date.now()/1e3),S=parseInt(d);let k=y+S;p&&(k=parseInt(p));const C=k-y;C*1e3<=Af&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${S}s`);const A=k-S;y-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,k,y):y-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,k,y);const{data:N,error:M}=await this._getUser(o);if(M)throw M;const L={provider_token:e,provider_refresh_token:s,access_token:o,expires_in:S,expires_at:k,refresh_token:c,token_type:v,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:n.type},error:null}}catch(e){if(Mt(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const t=await Ed(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&t)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async t=>{var e;const{data:s,error:o}=t;if(o)return{error:o};const c=(e=s.session)===null||e===void 0?void 0:e.access_token;if(c){const{error:d}=await this.admin.signOut(c,n);if(d&&!(r3(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return n!=="others"&&(await this._removeSession(),await qu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const t=p3(),e={id:t,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,e),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:e}}}async _emitInitialSession(n){return await this._useSession(async t=>{var e,s;try{const{data:{session:o},error:c}=t;if(c)throw c;await((e=this.stateChangeEmitters.get(n))===null||e===void 0?void 0:e.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",n,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",o),console.error(o)}})}async resetPasswordForEmail(n,t={}){let e=null,s=null;this.flowType==="pkce"&&([e,s]=await Cf(this.storage,this.storageKey,!0));try{return await Bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:e,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Mt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var n;try{const{data:t,error:e}=await this.getUser();if(e)throw e;return{data:{identities:(n=t.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async linkIdentity(n){var t;try{const{data:e,error:s}=await this._useSession(async o=>{var c,d,p,v,y;const{data:S,error:k}=o;if(k)throw k;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Bt(this.fetch,"GET",C,{headers:this.headers,jwt:(y=(v=S.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return ia()&&!(!((t=n.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(e?.url),{data:{provider:n.provider,url:e?.url},error:null}}catch(e){if(Mt(e))return{data:{provider:n.provider,url:null},error:e};throw e}}async unlinkIdentity(n){try{return await this._useSession(async t=>{var e,s;const{data:o,error:c}=t;if(c)throw c;return await Bt(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(s=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(n){const t=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(t,"begin");try{const e=Date.now();return await y3(async s=>(s>0&&await v3(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Eo})),(s,o)=>{const c=200*Math.pow(2,s);return o&&S0(o)&&Date.now()+c-e<Af})}catch(e){if(this._debug(t,"error",e),Mt(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,t){const e=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",t,"url",e),ia()&&!t.skipBrowserRedirect&&window.location.assign(e),{data:{provider:n,url:e},error:null}}async _recoverAndRefresh(){var n,t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const s=await Ed(this.storage,this.storageKey);if(s&&this.userStorage){let c=await Ed(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await If(this.userStorage,this.storageKey+"-user",c)),s.user=(n=c?.user)!==null&&n!==void 0?n:k0()}else if(s&&!s.user&&!s.user){const c=await Ed(this.storage,this.storageKey+"-user");c&&c?.user?(s.user=c.user,await qu(this.storage,this.storageKey+"-user"),await If(this.storage,this.storageKey,s)):s.user=k0()}if(this._debug(e,"session from storage",s),!this._isValidSession(s)){this._debug(e,"session is not valid"),s!==null&&await this._removeSession();return}const o=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<_0;if(this._debug(e,`session has${o?"":" not"} expired with margin of ${_0}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),S0(c)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(s.access_token);!d&&c?.user?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(e,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(e,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(e,"error",s),console.error(s);return}finally{this._debug(e,"end")}}async _callRefreshToken(n){var t,e;if(!n)throw new Vu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new hb;const{data:o,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!o.session)throw new Vu;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),Mt(o)){const c={session:null,error:o};return S0(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(e=this.refreshingDeferred)===null||e===void 0||e.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(n,t,e=!0){const s=`#_notifyAllSubscribers(${n})`;this._debug(s,"begin",t,`broadcast = ${e}`);try{this.broadcastChannel&&e&&this.broadcastChannel.postMessage({event:n,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,t)}catch(p){o.push(p)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const t=Object.assign({},n),e=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!e&&t.user&&await If(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const o=Wx(s);await If(this.storage,this.storageKey,o)}else{const s=Wx(t);await If(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await qu(this.storage,this.storageKey),await qu(this.storage,this.storageKey+"-code-verifier"),await qu(this.storage,this.storageKey+"-user"),this.userStorage&&await qu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ia()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Af);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async t=>{const{data:{session:e}}=t;if(!e||!e.refresh_token||!e.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((e.expires_at*1e3-n)/Af);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Af}ms, refresh threshold is ${cw} ticks`),s<=cw&&await this._callRefreshToken(e.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof dC)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ia()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const t=`#_onVisibilityChanged(${n})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,t,e){const s=[`provider=${encodeURIComponent(t)}`];if(e?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(e.redirectTo)}`),e?.scopes&&s.push(`scopes=${encodeURIComponent(e.scopes)}`),this.flowType==="pkce"){const[o,c]=await Cf(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(d.toString())}if(e?.queryParams){const o=new URLSearchParams(e.queryParams);s.push(o.toString())}return e?.skipBrowserRedirect&&s.push(`skip_http_redirect=${e.skipBrowserRedirect}`),`${n}?${s.join("&")}`}async _unenroll(n){try{return await this._useSession(async t=>{var e;const{data:s,error:o}=t;return o?{data:null,error:o}:await Bt(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(e=s?.session)===null||e===void 0?void 0:e.access_token})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _enroll(n){try{return await this._useSession(async t=>{var e,s;const{data:o,error:c}=t;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:p,error:v}=await Bt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(e=o?.session)===null||e===void 0?void 0:e.access_token});return v?{data:null,error:v}:(n.factorType==="totp"&&(!((s=p?.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var e;const{data:s,error:o}=t;if(o)return{data:null,error:o};const{data:c,error:d}=await Bt(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(e=s?.session)===null||e===void 0?void 0:e.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var e;const{data:s,error:o}=t;return o?{data:null,error:o}:await Bt(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(e=s?.session)===null||e===void 0?void 0:e.access_token})})}catch(t){if(Mt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(n){const{data:t,error:e}=await this._challenge({factorId:n.factorId});return e?{data:null,error:e}:await this._verify({factorId:n.factorId,challengeId:t.id,code:n.code})}async _listFactors(){const{data:{user:n},error:t}=await this.getUser();if(t)return{data:null,error:t};const e=n?.factors||[],s=e.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=e.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:e,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var t,e;const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=x0(s.access_token);let d=null;c.aal&&(d=c.aal);let p=d;((e=(t=s.user.factors)===null||t===void 0?void 0:t.filter(S=>S.status==="verified"))!==null&&e!==void 0?e:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,t={keys:[]}){let e=t.keys.find(d=>d.kid===n);if(e)return e;const s=Date.now();if(e=this.jwks.keys.find(d=>d.kid===n),e&&this.jwks_cached_at+t3>s)return e;const{data:o,error:c}=await Bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,e=o.keys.find(d=>d.kid===n),!e)?null:e}async getClaims(n,t={}){try{let e=n;if(!e){const{data:C,error:A}=await this.getSession();if(A||!C.session)return{data:null,error:A};e=C.session.access_token}const{header:s,payload:o,signature:c,raw:{header:d,payload:p}}=x0(e);t?.allowExpired||E3(o.exp);const v=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!v){const{error:C}=await this.getUser(e);if(C)throw C;return{data:{claims:o,header:s,signature:c},error:null}}const y=C3(s.alg),S=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,S,c,d3(`${d}.${p}`)))throw new fw("Invalid JWT signature");return{data:{claims:o,header:s,signature:c},error:null}}catch(e){if(Mt(e))return{data:null,error:e};throw e}}}km.nextInstanceID=0;const q3=km;class Y3 extends q3{constructor(n){super(n)}}var K3=function(r,n,t,e){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(y){try{v(e.next(y))}catch(S){c(S)}}function p(y){try{v(e.throw(y))}catch(S){c(S)}}function v(y){y.done?o(y.value):s(y.value).then(d,p)}v((e=e.apply(r,n||[])).next())})};class G3{constructor(n,t,e){var s,o,c;this.supabaseUrl=n,this.supabaseKey=t;const d=QU(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,v={db:UU,realtime:WU,auth:Object.assign(Object.assign({},BU),{storageKey:p}),global:FU},y=VU(e??{},v);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(S,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=YU(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new nU(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new jU(this.storageUrl.href,this.headers,this.fetch,e?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new YF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},e={}){return this.rest.rpc(n,t,e)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return K3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:e}=yield this.auth.getSession();return(t=(n=e.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:e,storage:s,userStorage:o,storageKey:c,flowType:d,lock:p,debug:v},y,S){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y3({url:this.authUrl.href,headers:Object.assign(Object.assign({},k),y),storageKey:c,autoRefreshToken:n,persistSession:t,detectSessionInUrl:e,storage:s,userStorage:o,flowType:d,lock:p,debug:v,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new bU(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(n,t,e){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==e?(this.changedAccessToken=e,this.realtime.setAuth(e)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const V3=(r,n,t)=>new G3(r,n,t);function Q3(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Q3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Wr=(r=>(r.Users="users",r.Bonuses="bonuses",r.WeeklySummary="weeklySummary",r.Predictions="predictions",r.Withdrawals="withdrawals",r.Others="others",r))(Wr||{}),Ul=(r=>(r.UpsertData="upsertData",r.UpdateData="updateData",r.GetData="getData",r.GetPredictionsWithUsersBetInfo="getPredictionsWithUsersBetInfo",r.GetUsersWithWeeklySummary="getUsersWithWeeklySummary",r.GetAndUpdateUserWithWeeklySummary="getAndUpdateUserWithWeeklySummary",r.UpdatePredictionsStatus="updatePredictionsStatus",r))(Ul||{}),vy={exports:{}},J3=vy.exports,Kx;function X3(){return Kx||(Kx=1,function(r,n){(function(t,e){r.exports=e()})(J3,function(){return function(t,e,s){e.prototype.isBetween=function(o,c,d,p){var v=s(o),y=s(c),S=(p=p||"()")[0]==="(",k=p[1]===")";return(S?this.isAfter(v,d):!this.isBefore(v,d))&&(k?this.isBefore(y,d):!this.isAfter(y,d))||(S?this.isBefore(v,d):!this.isAfter(v,d))&&(k?this.isAfter(y,d):!this.isBefore(y,d))}}})}(vy)),vy.exports}var Z3=X3();const e4=rr(Z3);var yy={exports:{}},t4=yy.exports,Gx;function n4(){return Gx||(Gx=1,function(r,n){(function(t,e){r.exports=e()})(t4,function(){return function(t,e,s){s.updateLocale=function(o,c){var d=s.Ls[o];if(d)return(c?Object.keys(c):[]).forEach(function(p){d[p]=c[p]}),d}}})}(yy)),yy.exports}var r4=n4();const s4=rr(r4);ft.extend(B1);ft.extend(W1);ft.extend(U1);ft.extend(e4);ft.extend(kw);ft.extend(s4);ft.updateLocale("en",{weekStart:1});const i4="America/Denver",a4={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},cr=(r=new Date)=>ft(r).tz(i4),fC=()=>{const r=cr().startOf("week").format("YYYY-MM-DD");return ft.utc(r+"T00:00:00.000Z")},o4=()=>{const r=cr().endOf("week").format("YYYY-MM-DD");return ft.utc(r+"T23:59:59.999Z")},l4=()=>{const r=cr().subtract(1,"week").startOf("week").format("YYYY-MM-DD");return ft.utc(r+"T00:00:00.000Z")},u4=()=>{const r=cr().subtract(1,"week").endOf("week").format("YYYY-MM-DD");return ft.utc(r+"T23:59:59.999Z")},c4=()=>{const r=cr().startOf("day").format("YYYY-MM-DD");return ft.utc(r+"T00:00:00.000Z")},d4=()=>{const r=cr().endOf("day").format("YYYY-MM-DD");return ft.utc(r+"T23:59:59.999Z")},h4=()=>{const r=cr().add(1,"day").startOf("day").format("YYYY-MM-DD");return ft.utc(r+"T00:00:00.000Z")},f4=()=>{const r=cr().add(1,"day").endOf("day").format("YYYY-MM-DD");return ft.utc(r+"T23:59:59.999Z")},p4=()=>ft().utc().year(),g4=()=>{const r=cr().startOf("year").format("YYYY-MM-DD");return ft.utc(r+"T00:00:00.000Z")},m4=()=>{const r=cr().endOf("year").format("YYYY-MM-DD");return ft.utc(r+"T23:59:59.999Z")},v4=r=>r?cr(r).fromNow(!0):"",Gv=(r,n,t)=>r.isBetween(n,t,"day","[]"),y4=r=>{const n=a4[r];if(n===void 0)throw new Error(`Invalid day name: ${r}`);return fC().day(n)},wr=()=>{const r=cr(),n=fC(),t=o4(),e=l4(),s=u4(),o=c4(),c=d4(),d=h4(),p=f4(),v=g4(),y=m4();return{dayStart:o.toDate(),dayEnd:c.toDate(),today:o.toDate(),tomorrowStart:d.toDate(),tomorrowEnd:p.toDate(),weekStart:n.toDate(),weekEnd:t.toDate(),lastWeekStart:e.toDate(),lastWeekEnd:s.toDate(),now:r.toDate(),year:p4(),yearStart:v.toDate(),yearEnd:y.toDate(),formatDate:(S=new Date)=>cr(S).format("MMM-DD-YYYY h:mm A"),fromNow:S=>v4(S),dayStartOfWeekDay:S=>y4(S).toDate(),isWithinThisWeek:S=>Gv(cr(S),n,t),isWithinLastWeek:S=>Gv(cr(S),e,s),isWithinToday:S=>Gv(cr(S),o,c),isWithinTomorrow:S=>Gv(cr(S),d,p),week:{start:cr().startOf("week").toDate(),end:cr().endOf("week").toDate()}}};function Ug(r,n){n===void 0&&(n={});var t=n.selector,e=WL(n,["selector"]);return new bs(function(s){var o=new AbortController,c=o.signal,d=!0,p=e.signal;if(p)if(p.aborted)o.abort();else{var v=function(){c.aborted||o.abort()};p.addEventListener("abort",v),s.add(function(){return p.removeEventListener("abort",v)})}var y=My(My({},e),{signal:c}),S=function(k){d=!1,s.error(k)};return fetch(r,y).then(function(k){t?Go(t(k)).subscribe(zo(s,void 0,function(){d=!1,s.complete()},S)):(d=!1,s.next(k),s.complete())}).catch(S),function(){d&&o.abort()}})}class b4{constructor(){this.captchaAPIHost="https://api.solvecaptcha.com",this.captchaAPI="223ce317debee9e00534a16b65870ebc",this.supabaseUrl="https://adyelcvjjrgbmksrygkx.supabase.co",this.serviceRoleKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFkeWVsY3ZqanJnYm1rc3J5Z2t4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNDA1MzksImV4cCI6MjA3NDkxNjUzOX0.0nHPiksempYBsumF6zXiUb3jUkcemSdr1ZkItcuEeks",this.supabase=V3(this.supabaseUrl,this.serviceRoleKey,{auth:{autoRefreshToken:!1,persistSession:!1},db:{schema:"TalpakersDB"},global:{headers:{Origin:"https://localhost:3001"}}})}login(n,t="Admin123!@#"){return this.checkAuthStatus().pipe(Rm(e=>{if(e?.email?.toLowerCase()===n.toLowerCase())return Gu(e);console.log(""),console.log(""),console.log(""),console.log(""),console.log("gaga-------------------------------------"),console.log("gaga-------------------------------------"),console.log("gaga------------ New Login --------------"),console.log("gaga-------------------------------------"),console.log("gaga-------------------------------------");const s=this.supabase.auth.signInWithPassword({email:n,password:t});return Ku(s).pipe(Ni(o=>o.data.session?.user))}),Ni(e=>e))}createUser(n,t,e){const s=this.supabase.auth.signUp({email:n,password:t,options:{data:{displayName:e}}});return Ku(s).pipe(Ni(o=>o.data.user),Cd(()=>Gu(null)))}checkAuthStatus(){const n=this.supabase.auth.getSession();return Ku(n).pipe(Ni(t=>t.data.session?.user))}logout(){const n=this.supabase.auth.signOut();return Ku(n)}deleteBonuses(n){const t=Wr.Bonuses,e=this.supabase.from(t).delete().eq("data->>year",n).select();return this.buildFromPromise(e)}deleteWithdrawals(n){const t=Wr.Withdrawals,e=this.supabase.from(t).delete().eq("data->>year",n).select();return this.buildFromPromise(e)}deleteWeeklySummary(n){const t=Wr.WeeklySummary,e=this.supabase.from(t).delete().eq("data->>year",n).select();return this.buildFromPromise(e)}getUsers(n){const t=Wr.Users;let e=this.supabase.from(t).select();return n&&Array.isArray(n)?e=e.in("_id",n):n&&(e=e.eq("_id",n)),this.buildFromPromise(e)}getUsersWithWeeklySummary(n){const t={where:n?[`_id=${n}`]:[]},e=this.supabase.rpc(Ul.GetUsersWithWeeklySummary,{filter:t});return this.buildFromPromise(e)}getAndUpdateUserWithWeeklySummary(n){const t=this.supabase.rpc(Ul.GetAndUpdateUserWithWeeklySummary,{filter:{email:n}});return this.buildFromPromise(t)}getWeeklySummary(n){const t=Wr.WeeklySummary;let e=this.supabase.from(t).select();return n&&Array.isArray(n)?e=e.in("data->>email",n):n&&(e=e.eq("data->>email",n)),this.buildFromPromise(e)}getWeeklySummaryByWeek(n,t){const e=Wr.WeeklySummary;let s=this.supabase.from(e).select();return s=s.eq("data->>email",n).eq("data->>weekStart",t),this.buildFromPromise(s)}getBonuses(n){const t=Wr.Bonuses;let e=this.supabase.from(t).select();return n&&Array.isArray(n)?e=e.in("data->>email",n):n&&(e=e.eq("data->>email",n)),this.buildFromPromise(e)}getWithdrawals(n){const t=Wr.Withdrawals;let e=this.supabase.from(t).select();return n&&Array.isArray(n)?e=e.in("data->>email",n):n&&(e=e.eq("data->>email",n)),this.buildFromPromise(e)}getAvailablePredictions(){const n=new Date().getTime(),t=n-5*60*60*1e3,e=Wr.Predictions,s=this.supabase.from(e).select("*").gte("createdAt",new Date(t).toISOString()).lte("createdAt",new Date(n).toISOString()).or("data->>status.is.null,data->>status.eq.Placed");return this.buildFromPromise(s)}getPredictionsByDayWithUserBetInfo(n){const{today:t}=wr(),e=n instanceof Date?n.toISOString():t.toISOString(),s=[`data->>today=${e}`];e!==t.toISOString()&&s.push("data->>status!=null");const o=this.supabase.rpc(Ul.GetPredictionsWithUsersBetInfo,{filter:{where:s}});return this.buildFromPromise(o)}getPredictionsByWeek(n){const{weekStart:t}=wr(),e=Wr.Predictions,s=n instanceof Date?n.toISOString():t.toISOString(),o=this.supabase.from(e).select("*").eq("data->>weekStart",s).neq("data->>status",null);return this.buildFromPromise(o)}getPredictionsByGameIds(n){const t=this.supabase.rpc(Ul.GetPredictionsWithUsersBetInfo,{filter:{where:[`_id=${n}`]}});return this.buildFromPromise(t)}getOthersById(n){const t=Wr.Others,e=this.supabase.from(t).select("*").eq("_id",n);return this.buildFromPromise(e)}upsertOthers(n){const t=Wr.Others,e=this.supabase.rpc(Ul.UpsertData,{payload:{table:t,filter:{_id:n._id},data:n.data||{}}});return this.buildFromPromise(e)}getRemittances(){const t=this.supabase.functions.invoke("remittances?amount=1000",{method:"GET"});return Ku(t)}get3rdPartyData(){const t=this.supabase.functions.invoke("get3rdPartyData",{method:"GET"});return Ku(t)}getReCaptchaInit({siteKey:n}){return Ug(`${this.captchaAPIHost}/in.php?key=${this.captchaAPI}&method=userrecaptcha&googlekey=${n}&pageurl=https://playalberta.ca/sports/live`,{selector:t=>t.text()}).pipe(Lg({each:3e4,with:()=>$g(()=>"Server is taking too long to respond!")}),Cd(()=>Gu(null)))}get(){return Ug(`${this.captchaAPIHost}/res.php?key=${this.captchaAPI}&action=getbalance`,{selector:n=>n.json()}).pipe(Lg({each:3e4,with:()=>$g(()=>"Server is taking too long to respond!")}),Cd(()=>Gu(null)))}getReCaptchaToken({key:n}){return Ug(`${this.captchaAPIHost}/res.php?key=${this.captchaAPI}&action=get&id=${n}`,{selector:t=>t.text()}).pipe(Lg({each:3e4,with:()=>$g(()=>"Server is taking too long to respond! getReCaptchaToken")}),Cd(()=>Gu(null)))}getGDriveList(){return Ug("https://www.googleapis.com/drive/v3/files?q='1R_p0L9jfyAETBMShwaNMh1o8mAUpXQnZ'+in+parents&key=AIzaSyBqOX7BY6Yfv5GdlUdmczAHqDuAB8Ce9ao",{selector:s=>s.json()}).pipe(Ni(s=>s.files||[]))}getPlayAbFromGH(){return Ug("https://raw.githubusercontent.com/janbee/nx-talpakers/main/libs/PlayAb/src/utils/jsString.ts",{headers:{Authorization:`Bearer ${["g","i","t","h","u","b","_","p","a","t","_"].join("")}11AAP25TA0TokxK8EtXiCz_yMOu8LiwbLcvdMRfNYdBWTZdoUAdHbPzOjyPJHVjmLmVCU3LSPP1nzmOUT3`,Accept:"application/vnd.github.v3.raw+text"},selector:s=>s.text()}).pipe(Ni(s=>new Function(`${s.replace("export ","")}; return { JSString };`)().JSString),Lg({each:3e4,with:()=>$g(()=>"Server is taking too long to respond!")}),Cd(()=>Gu(null)))}upsertUserData(n,t){const e=this.supabase.rpc(Ul.UpsertData,{payload:{table:Wr.Users,filter:{_id:n._id?.toLowerCase()},data:n.data||{},updatedAt:t,full:!0}});return this.buildFromPromise(e)}upsertWeeklySummary(n){const t=Wr.WeeklySummary,e=this.supabase.from(t).upsert(n).select();return this.buildFromPromise(e)}upsertBonuses(n){const t=Wr.Bonuses,e=this.supabase.from(t).upsert(n,{onConflict:"_id"}).select();return this.buildFromPromise(e)}upsertWithdrawals(n){const t=Wr.Withdrawals,e=this.supabase.from(t).upsert(n,{onConflict:"_id"}).select();return this.buildFromPromise(e)}upsertPrediction(n){const t=Ul.UpsertData,e=Wr.Predictions,s=this.supabase.rpc(t,{payload:{table:e,filter:{_id:n._id},data:n.data}});return this.buildFromPromise(s)}updatePredictions({filter:n,data:t,full:e=!1}){const s=Ul.UpdatePredictionsStatus,o=this.supabase.rpc(s,{payload:{filter:n,data:t.data,full:e}});return this.buildFromPromise(o)}buildFromPromise(n){return Ku(n).pipe(Lg({each:3e4,with:()=>$g(()=>new Error("Server is taking too long to respond! upsertPrediction"))}),Cd(t=>Gu({data:null,error:{name:"Postgrest CatchError",details:"Nothing much",hint:"Nothing much",code:"400",message:t.message||"An unknown error occurred."}})))}}const ui=new b4;class w4{constructor(){this.list$=new oi([]),this.listWithStatuses$=new oi({}),this.loading$=new oi(!1),this.error$=new oi(!1)}reload(n){this.loading$.next(!0),this.error$.next(!1),zE([ui.getPredictionsByDayWithUserBetInfo(n),ui.getPredictionsByWeek()]).pipe(qE(()=>this.loading$.next(!1))).subscribe({next:([t,e])=>{const s=t.data||[],o=e.data||[],c=JSON.parse(localStorage.getItem("uniqueGames")||"[]"),d=o.map(y=>y.data.game),p=[...new Set([...c,...d])];localStorage.setItem("uniqueGames",JSON.stringify(p)),console.log("check prediction game-------------------------------------",p),this.list$.next(s.sort((y,S)=>new Date(S.createdAt||new Date).getTime()-new Date(y.createdAt||new Date).getTime()));const v=o.reduce((y,S)=>{const k=S.data.status;return k&&(y[k]=(y[k]||0)+1),y},{});this.listWithStatuses$.next(v)},error:()=>this.error$.next(!0)})}}const Dd=new w4,_4="0.0.568";ft.extend(kw);const an=(r,n)=>{const t={currency:"USD",minimumFractionDigits:n!==void 0?n:2};return new Intl.NumberFormat("en-US",{style:"currency",currency:t.currency,minimumFractionDigits:t.minimumFractionDigits}).format(parseFloat(r.toString()))};class S4{constructor(){this.actionStatus$=new oi(void 0),this.settleBets$=new oi(void 0),this.openBets$=new oi(void 0),this.bonuses$=new oi(void 0),this.withdrawals$=new oi(void 0),this.userSession$=new oi(void 0),this.user$=new oi(void 0),this.reload$=new oi(!1),this.weeklySummary$=new oi(void 0),this.version$=new oi(_4)}}new S4;var by={exports:{}},x4=by.exports,Vx;function k4(){return Vx||(Vx=1,function(r,n){(function(t,e){r.exports=e()})(x4,function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Rf<"u"?Rf:typeof self<"u"?self:{};function e(P){return P&&P.__esModule&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P}var s={exports:{}};(function(P){(function(i,h){var m=Math.pow(2,-24),_=Math.pow(2,32),x=Math.pow(2,53),O={encode:function(I){var F,q=new ArrayBuffer(256),ie=new DataView(q),re=0;function ne(Nt){for(var Ge=q.byteLength,Je=re+Nt;Ge<Je;)Ge*=2;if(Ge!==q.byteLength){var Pe=ie;q=new ArrayBuffer(Ge),ie=new DataView(q);for(var Fe=re+3>>2,Qe=0;Qe<Fe;++Qe)ie.setUint32(4*Qe,Pe.getUint32(4*Qe))}return F=Nt,ie}function ge(){re+=F}function ae(Nt){ge(ne(1).setUint8(re,Nt))}function oe(Nt){for(var Ge=ne(Nt.length),Je=0;Je<Nt.length;++Je)Ge.setUint8(re+Je,Nt[Je]);ge()}function pe(Nt,Ge){Ge<24?ae(Nt<<5|Ge):Ge<256?(ae(Nt<<5|24),ae(Ge)):Ge<65536?(ae(Nt<<5|25),function(Je){ge(ne(2).setUint16(re,Je))}(Ge)):Ge<4294967296?(ae(Nt<<5|26),function(Je){ge(ne(4).setUint32(re,Je))}(Ge)):(ae(Nt<<5|27),function(Je){var Pe=Je%_,Fe=(Je-Pe)/_,Qe=ne(8);Qe.setUint32(re,Fe),Qe.setUint32(re+4,Pe),ge()}(Ge))}if(function Nt(Ge){var Je;if(Ge===!1)return ae(244);if(Ge===!0)return ae(245);if(Ge===null)return ae(246);if(Ge===h)return ae(247);switch(typeof Ge){case"number":if(Math.floor(Ge)===Ge){if(0<=Ge&&Ge<=x)return pe(0,Ge);if(-x<=Ge&&Ge<0)return pe(1,-(Ge+1))}return ae(251),function(Dt){ge(ne(8).setFloat64(re,Dt))}(Ge);case"string":var Pe=[];for(Je=0;Je<Ge.length;++Je){var Fe=Ge.charCodeAt(Je);Fe<128?Pe.push(Fe):Fe<2048?(Pe.push(192|Fe>>6),Pe.push(128|63&Fe)):Fe<55296?(Pe.push(224|Fe>>12),Pe.push(128|Fe>>6&63),Pe.push(128|63&Fe)):(Fe=(1023&Fe)<<10,Fe|=1023&Ge.charCodeAt(++Je),Fe+=65536,Pe.push(240|Fe>>18),Pe.push(128|Fe>>12&63),Pe.push(128|Fe>>6&63),Pe.push(128|63&Fe))}return pe(3,Pe.length),oe(Pe);default:var Qe;if(Array.isArray(Ge))for(pe(4,Qe=Ge.length),Je=0;Je<Qe;++Je)Nt(Ge[Je]);else if(Ge instanceof Uint8Array)pe(2,Ge.length),oe(Ge);else{var Rt=Object.keys(Ge);for(pe(5,Qe=Rt.length),Je=0;Je<Qe;++Je){var Et=Rt[Je];Nt(Et),Nt(Ge[Et])}}}}(I),"slice"in q)return q.slice(0,re);for(var De=new ArrayBuffer(re),nt=new DataView(De),mt=0;mt<re;++mt)nt.setUint8(mt,ie.getUint8(mt));return De},decode:function(I,F,q){var ie=new DataView(I),re=0;function ne(Je,Pe){return re+=Pe,Je}function ge(Je){return ne(new Uint8Array(I,re,Je),Je)}function ae(){return ne(ie.getUint8(re),1)}function oe(){return ne(ie.getUint16(re),2)}function pe(){return ne(ie.getUint32(re),4)}function De(){return ie.getUint8(re)===255&&(re+=1,!0)}function nt(Je){if(Je<24)return Je;if(Je===24)return ae();if(Je===25)return oe();if(Je===26)return pe();if(Je===27)return pe()*_+pe();if(Je===31)return-1;throw"Invalid length encoding"}function mt(Je){var Pe=ae();if(Pe===255)return-1;var Fe=nt(31&Pe);if(Fe<0||Pe>>5!==Je)throw"Invalid indefinite length element";return Fe}function Nt(Je,Pe){for(var Fe=0;Fe<Pe;++Fe){var Qe=ae();128&Qe&&(Qe<224?(Qe=(31&Qe)<<6|63&ae(),Pe-=1):Qe<240?(Qe=(15&Qe)<<12|(63&ae())<<6|63&ae(),Pe-=2):(Qe=(15&Qe)<<18|(63&ae())<<12|(63&ae())<<6|63&ae(),Pe-=3)),Qe<65536?Je.push(Qe):(Qe-=65536,Je.push(55296|Qe>>10),Je.push(56320|1023&Qe))}}typeof F!="function"&&(F=function(Je){return Je}),typeof q!="function"&&(q=function(){return h});var Ge=function Je(){var Pe,Fe,Qe=ae(),Rt=Qe>>5,Et=31&Qe;if(Rt===7)switch(Et){case 25:return function(){var Qr=new ArrayBuffer(4),Cs=new DataView(Qr),Ps=oe(),fe=32768&Ps,Ne=31744&Ps,xe=1023&Ps;if(Ne===31744)Ne=261120;else if(Ne!==0)Ne+=114688;else if(xe!==0)return xe*m;return Cs.setUint32(0,fe<<16|Ne<<13|xe<<13),Cs.getFloat32(0)}();case 26:return ne(ie.getFloat32(re),4);case 27:return ne(ie.getFloat64(re),8)}if((Fe=nt(Et))<0&&(Rt<2||6<Rt))throw"Invalid length";switch(Rt){case 0:return Fe;case 1:return-1-Fe;case 2:if(Fe<0){for(var Dt=[],Rn=0;(Fe=mt(Rt))>=0;)Rn+=Fe,Dt.push(ge(Fe));var Me=new Uint8Array(Rn),Ke=0;for(Pe=0;Pe<Dt.length;++Pe)Me.set(Dt[Pe],Ke),Ke+=Dt[Pe].length;return Me}return ge(Fe);case 3:var He=[];if(Fe<0)for(;(Fe=mt(Rt))>=0;)Nt(He,Fe);else Nt(He,Fe);return String.fromCharCode.apply(null,He);case 4:var qe;if(Fe<0)for(qe=[];!De();)qe.push(Je());else for(qe=new Array(Fe),Pe=0;Pe<Fe;++Pe)qe[Pe]=Je();return qe;case 5:var Vr={};for(Pe=0;Pe<Fe||Fe<0&&!De();++Pe)Vr[Je()]=Je();return Vr;case 6:return F(Je(),Fe);case 7:switch(Fe){case 20:return!1;case 21:return!0;case 22:return null;case 23:return h;default:return q(Fe)}}}();if(re!==I.byteLength)throw"Remaining bytes";return Ge}};P.exports?P.exports=O:i.CBOR||(i.CBOR=O)})(t)})(s);var o=e(s.exports);function c(P,i){var h={};for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&i.indexOf(m)<0&&(h[m]=P[m]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function"){var _=0;for(m=Object.getOwnPropertySymbols(P);_<m.length;_++)i.indexOf(m[_])<0&&Object.prototype.propertyIsEnumerable.call(P,m[_])&&(h[m[_]]=P[m[_]])}return h}function d(P,i,h,m){return new(h||(h=Promise))(function(_,x){function O(q){try{F(m.next(q))}catch(ie){x(ie)}}function I(q){try{F(m.throw(q))}catch(ie){x(ie)}}function F(q){var ie;q.done?_(q.value):(ie=q.value,ie instanceof h?ie:new h(function(re){re(ie)})).then(O,I)}F((m=m.apply(P,i||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class p{static legacyCryptoModule(i){throw new Error("Should be implemented by concrete crypto module implementation.")}static aesCbcCryptoModule(i){throw new Error("Should be implemented by concrete crypto module implementation.")}constructor(i){var h;this.defaultCryptor=i.default,this.cryptors=(h=i.cryptors)!==null&&h!==void 0?h:[]}set logger(i){throw new Error("Method not implemented.")}getAllCryptors(){return[this.defaultCryptor,...this.cryptors]}toString(){return`AbstractCryptoModule { default: ${this.defaultCryptor.toString()}, cryptors: [${this.cryptors.map(i=>i.toString()).join(", ")}]}`}}p.encoder=new TextEncoder,p.decoder=new TextDecoder;class v{static create(i){return new v(i)}constructor(i){let h,m,_,x;if(i instanceof File)x=i,_=i.name,m=i.type,h=i.size;else if("data"in i){const O=i.data;m=i.mimeType,_=i.name,x=new File([O],_,{type:m}),h=x.size}if(x===void 0)throw new Error("Couldn't construct a file out of supplied options.");if(_===void 0)throw new Error("Couldn't guess filename out of the options. Please provide one.");h&&(this.contentLength=h),this.mimeType=m,this.data=x,this.name=_}toBuffer(){return d(this,void 0,void 0,function*(){throw new Error("This feature is only supported in Node.js environments.")})}toArrayBuffer(){return d(this,void 0,void 0,function*(){return new Promise((i,h)=>{const m=new FileReader;m.addEventListener("load",()=>{if(m.result instanceof ArrayBuffer)return i(m.result)}),m.addEventListener("error",()=>h(m.error)),m.readAsArrayBuffer(this.data)})})}toString(){return d(this,void 0,void 0,function*(){return new Promise((i,h)=>{const m=new FileReader;m.addEventListener("load",()=>{if(typeof m.result=="string")return i(m.result)}),m.addEventListener("error",()=>{h(m.error)}),m.readAsBinaryString(this.data)})})}toStream(){return d(this,void 0,void 0,function*(){throw new Error("This feature is only supported in Node.js environments.")})}toFile(){return d(this,void 0,void 0,function*(){return this.data})}toFileUri(){return d(this,void 0,void 0,function*(){throw new Error("This feature is only supported in React Native environments.")})}toBlob(){return d(this,void 0,void 0,function*(){return this.data})}}v.supportsBlob=typeof Blob<"u",v.supportsFile=typeof File<"u",v.supportsBuffer=!1,v.supportsStream=!1,v.supportsString=!0,v.supportsArrayBuffer=!0,v.supportsEncryptFile=!0,v.supportsFileUri=!1;function y(P){const i=P.replace(/==?$/,""),h=Math.floor(i.length/4*3),m=new ArrayBuffer(h),_=new Uint8Array(m);let x=0;function O(){const I=i.charAt(x++),F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(I);if(F===-1)throw new Error(`Illegal character at ${x}: ${i.charAt(x-1)}`);return F}for(let I=0;I<h;I+=3){const F=O(),q=O(),ie=O(),re=O(),ne=(63&F)<<2|q>>4,ge=(15&q)<<4|ie>>2,ae=(3&ie)<<6|re;_[I]=ne,ie!=64&&(_[I+1]=ge),re!=64&&(_[I+2]=ae)}return m}function S(P){let i="";const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=new Uint8Array(P),_=m.byteLength,x=_%3,O=_-x;let I,F,q,ie,re;for(let ne=0;ne<O;ne+=3)re=m[ne]<<16|m[ne+1]<<8|m[ne+2],I=(16515072&re)>>18,F=(258048&re)>>12,q=(4032&re)>>6,ie=63&re,i+=h[I]+h[F]+h[q]+h[ie];return x==1?(re=m[O],I=(252&re)>>2,F=(3&re)<<4,i+=h[I]+h[F]+"=="):x==2&&(re=m[O]<<8|m[O+1],I=(64512&re)>>10,F=(1008&re)>>4,q=(15&re)<<2,i+=h[I]+h[F]+h[q]+"="),i}var k;(function(P){P.PNNetworkIssuesCategory="PNNetworkIssuesCategory",P.PNTimeoutCategory="PNTimeoutCategory",P.PNCancelledCategory="PNCancelledCategory",P.PNBadRequestCategory="PNBadRequestCategory",P.PNAccessDeniedCategory="PNAccessDeniedCategory",P.PNValidationErrorCategory="PNValidationErrorCategory",P.PNAcknowledgmentCategory="PNAcknowledgmentCategory",P.PNMalformedResponseCategory="PNMalformedResponseCategory",P.PNServerErrorCategory="PNServerErrorCategory",P.PNUnknownCategory="PNUnknownCategory",P.PNNetworkUpCategory="PNNetworkUpCategory",P.PNNetworkDownCategory="PNNetworkDownCategory",P.PNReconnectedCategory="PNReconnectedCategory",P.PNConnectedCategory="PNConnectedCategory",P.PNSubscriptionChangedCategory="PNSubscriptionChangedCategory",P.PNRequestMessageCountExceededCategory="PNRequestMessageCountExceededCategory",P.PNDisconnectedCategory="PNDisconnectedCategory",P.PNConnectionErrorCategory="PNConnectionErrorCategory",P.PNDisconnectedUnexpectedlyCategory="PNDisconnectedUnexpectedlyCategory"})(k||(k={}));var C=k;class A extends Error{constructor(i,h){super(i),this.status=h,this.name="PubNubError",this.message=i,Object.setPrototypeOf(this,new.target.prototype)}}function N(P,i){var h;return(h=P.statusCode)!==null&&h!==void 0||(P.statusCode=0),Object.assign(Object.assign({},P),{statusCode:P.statusCode,category:i,error:!0})}function M(P,i){return N(Object.assign(Object.assign({message:"Unable to deserialize service response"},P!==void 0?{responseText:P}:{}),i!==void 0?{statusCode:i}:{}),C.PNMalformedResponseCategory)}var L,G,W,V,z,Y=Y||function(P){var i={},h=i.lib={},m=function(){},_=h.Base={extend:function(ne){m.prototype=this;var ge=new m;return ne&&ge.mixIn(ne),ge.hasOwnProperty("init")||(ge.init=function(){ge.$super.init.apply(this,arguments)}),ge.init.prototype=ge,ge.$super=this,ge},create:function(){var ne=this.extend();return ne.init.apply(ne,arguments),ne},init:function(){},mixIn:function(ne){for(var ge in ne)ne.hasOwnProperty(ge)&&(this[ge]=ne[ge]);ne.hasOwnProperty("toString")&&(this.toString=ne.toString)},clone:function(){return this.init.prototype.extend(this)}},x=h.WordArray=_.extend({init:function(ne,ge){ne=this.words=ne||[],this.sigBytes=ge??4*ne.length},toString:function(ne){return(ne||I).stringify(this)},concat:function(ne){var ge=this.words,ae=ne.words,oe=this.sigBytes;if(ne=ne.sigBytes,this.clamp(),oe%4)for(var pe=0;pe<ne;pe++)ge[oe+pe>>>2]|=(ae[pe>>>2]>>>24-pe%4*8&255)<<24-(oe+pe)%4*8;else if(65535<ae.length)for(pe=0;pe<ne;pe+=4)ge[oe+pe>>>2]=ae[pe>>>2];else ge.push.apply(ge,ae);return this.sigBytes+=ne,this},clamp:function(){var ne=this.words,ge=this.sigBytes;ne[ge>>>2]&=4294967295<<32-ge%4*8,ne.length=P.ceil(ge/4)},clone:function(){var ne=_.clone.call(this);return ne.words=this.words.slice(0),ne},random:function(ne){for(var ge=[],ae=0;ae<ne;ae+=4)ge.push(4294967296*P.random()|0);return new x.init(ge,ne)}}),O=i.enc={},I=O.Hex={stringify:function(ne){var ge=ne.words;ne=ne.sigBytes;for(var ae=[],oe=0;oe<ne;oe++){var pe=ge[oe>>>2]>>>24-oe%4*8&255;ae.push((pe>>>4).toString(16)),ae.push((15&pe).toString(16))}return ae.join("")},parse:function(ne){for(var ge=ne.length,ae=[],oe=0;oe<ge;oe+=2)ae[oe>>>3]|=parseInt(ne.substr(oe,2),16)<<24-oe%8*4;return new x.init(ae,ge/2)}},F=O.Latin1={stringify:function(ne){var ge=ne.words;ne=ne.sigBytes;for(var ae=[],oe=0;oe<ne;oe++)ae.push(String.fromCharCode(ge[oe>>>2]>>>24-oe%4*8&255));return ae.join("")},parse:function(ne){for(var ge=ne.length,ae=[],oe=0;oe<ge;oe++)ae[oe>>>2]|=(255&ne.charCodeAt(oe))<<24-oe%4*8;return new x.init(ae,ge)}},q=O.Utf8={stringify:function(ne){try{return decodeURIComponent(escape(F.stringify(ne)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(ne){return F.parse(unescape(encodeURIComponent(ne)))}},ie=h.BufferedBlockAlgorithm=_.extend({reset:function(){this._data=new x.init,this._nDataBytes=0},_append:function(ne){typeof ne=="string"&&(ne=q.parse(ne)),this._data.concat(ne),this._nDataBytes+=ne.sigBytes},_process:function(ne){var ge=this._data,ae=ge.words,oe=ge.sigBytes,pe=this.blockSize,De=oe/(4*pe);if(ne=(De=ne?P.ceil(De):P.max((0|De)-this._minBufferSize,0))*pe,oe=P.min(4*ne,oe),ne){for(var nt=0;nt<ne;nt+=pe)this._doProcessBlock(ae,nt);nt=ae.splice(0,ne),ge.sigBytes-=oe}return new x.init(nt,oe)},clone:function(){var ne=_.clone.call(this);return ne._data=this._data.clone(),ne},_minBufferSize:0});h.Hasher=ie.extend({cfg:_.extend(),init:function(ne){this.cfg=this.cfg.extend(ne),this.reset()},reset:function(){ie.reset.call(this),this._doReset()},update:function(ne){return this._append(ne),this._process(),this},finalize:function(ne){return ne&&this._append(ne),this._doFinalize()},blockSize:16,_createHelper:function(ne){return function(ge,ae){return new ne.init(ae).finalize(ge)}},_createHmacHelper:function(ne){return function(ge,ae){return new re.HMAC.init(ne,ae).finalize(ge)}}});var re=i.algo={};return i}(Math);(function(P){for(var i=Y,h=(_=i.lib).WordArray,m=_.Hasher,_=i.algo,x=[],O=[],I=function(ae){return 4294967296*(ae-(0|ae))|0},F=2,q=0;64>q;){var ie;e:{ie=F;for(var re=P.sqrt(ie),ne=2;ne<=re;ne++)if(!(ie%ne)){ie=!1;break e}ie=!0}ie&&(8>q&&(x[q]=I(P.pow(F,.5))),O[q]=I(P.pow(F,1/3)),q++),F++}var ge=[];_=_.SHA256=m.extend({_doReset:function(){this._hash=new h.init(x.slice(0))},_doProcessBlock:function(ae,oe){for(var pe=this._hash.words,De=pe[0],nt=pe[1],mt=pe[2],Nt=pe[3],Ge=pe[4],Je=pe[5],Pe=pe[6],Fe=pe[7],Qe=0;64>Qe;Qe++){if(16>Qe)ge[Qe]=0|ae[oe+Qe];else{var Rt=ge[Qe-15],Et=ge[Qe-2];ge[Qe]=((Rt<<25|Rt>>>7)^(Rt<<14|Rt>>>18)^Rt>>>3)+ge[Qe-7]+((Et<<15|Et>>>17)^(Et<<13|Et>>>19)^Et>>>10)+ge[Qe-16]}Rt=Fe+((Ge<<26|Ge>>>6)^(Ge<<21|Ge>>>11)^(Ge<<7|Ge>>>25))+(Ge&Je^~Ge&Pe)+O[Qe]+ge[Qe],Et=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&nt^De&mt^nt&mt),Fe=Pe,Pe=Je,Je=Ge,Ge=Nt+Rt|0,Nt=mt,mt=nt,nt=De,De=Rt+Et|0}pe[0]=pe[0]+De|0,pe[1]=pe[1]+nt|0,pe[2]=pe[2]+mt|0,pe[3]=pe[3]+Nt|0,pe[4]=pe[4]+Ge|0,pe[5]=pe[5]+Je|0,pe[6]=pe[6]+Pe|0,pe[7]=pe[7]+Fe|0},_doFinalize:function(){var ae=this._data,oe=ae.words,pe=8*this._nDataBytes,De=8*ae.sigBytes;return oe[De>>>5]|=128<<24-De%32,oe[14+(De+64>>>9<<4)]=P.floor(pe/4294967296),oe[15+(De+64>>>9<<4)]=pe,ae.sigBytes=4*oe.length,this._process(),this._hash},clone:function(){var ae=m.clone.call(this);return ae._hash=this._hash.clone(),ae}}),i.SHA256=m._createHelper(_),i.HmacSHA256=m._createHmacHelper(_)})(Math),G=(L=Y).enc.Utf8,L.algo.HMAC=L.lib.Base.extend({init:function(P,i){P=this._hasher=new P.init,typeof i=="string"&&(i=G.parse(i));var h=P.blockSize,m=4*h;i.sigBytes>m&&(i=P.finalize(i)),i.clamp();for(var _=this._oKey=i.clone(),x=this._iKey=i.clone(),O=_.words,I=x.words,F=0;F<h;F++)O[F]^=1549556828,I[F]^=909522486;_.sigBytes=x.sigBytes=m,this.reset()},reset:function(){var P=this._hasher;P.reset(),P.update(this._iKey)},update:function(P){return this._hasher.update(P),this},finalize:function(P){var i=this._hasher;return P=i.finalize(P),i.reset(),i.finalize(this._oKey.clone().concat(P))}}),V=(W=Y).lib.WordArray,W.enc.Base64={stringify:function(P){var i=P.words,h=P.sigBytes,m=this._map;P.clamp(),P=[];for(var _=0;_<h;_+=3)for(var x=(i[_>>>2]>>>24-_%4*8&255)<<16|(i[_+1>>>2]>>>24-(_+1)%4*8&255)<<8|i[_+2>>>2]>>>24-(_+2)%4*8&255,O=0;4>O&&_+.75*O<h;O++)P.push(m.charAt(x>>>6*(3-O)&63));if(i=m.charAt(64))for(;P.length%4;)P.push(i);return P.join("")},parse:function(P){var i=P.length,h=this._map;(m=h.charAt(64))&&(m=P.indexOf(m))!=-1&&(i=m);for(var m=[],_=0,x=0;x<i;x++)if(x%4){var O=h.indexOf(P.charAt(x-1))<<x%4*2,I=h.indexOf(P.charAt(x))>>>6-x%4*2;m[_>>>2]|=(O|I)<<24-_%4*8,_++}return V.create(m,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(P){function i(re,ne,ge,ae,oe,pe,De){return((re=re+(ne&ge|~ne&ae)+oe+De)<<pe|re>>>32-pe)+ne}function h(re,ne,ge,ae,oe,pe,De){return((re=re+(ne&ae|ge&~ae)+oe+De)<<pe|re>>>32-pe)+ne}function m(re,ne,ge,ae,oe,pe,De){return((re=re+(ne^ge^ae)+oe+De)<<pe|re>>>32-pe)+ne}function _(re,ne,ge,ae,oe,pe,De){return((re=re+(ge^(ne|~ae))+oe+De)<<pe|re>>>32-pe)+ne}for(var x=Y,O=(F=x.lib).WordArray,I=F.Hasher,F=x.algo,q=[],ie=0;64>ie;ie++)q[ie]=4294967296*P.abs(P.sin(ie+1))|0;F=F.MD5=I.extend({_doReset:function(){this._hash=new O.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(re,ne){for(var ge=0;16>ge;ge++){var ae=re[oe=ne+ge];re[oe]=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8)}ge=this._hash.words;var oe=re[ne+0],pe=(ae=re[ne+1],re[ne+2]),De=re[ne+3],nt=re[ne+4],mt=re[ne+5],Nt=re[ne+6],Ge=re[ne+7],Je=re[ne+8],Pe=re[ne+9],Fe=re[ne+10],Qe=re[ne+11],Rt=re[ne+12],Et=re[ne+13],Dt=re[ne+14],Rn=re[ne+15],Me=i(Me=ge[0],qe=ge[1],He=ge[2],Ke=ge[3],oe,7,q[0]),Ke=i(Ke,Me,qe,He,ae,12,q[1]),He=i(He,Ke,Me,qe,pe,17,q[2]),qe=i(qe,He,Ke,Me,De,22,q[3]);Me=i(Me,qe,He,Ke,nt,7,q[4]),Ke=i(Ke,Me,qe,He,mt,12,q[5]),He=i(He,Ke,Me,qe,Nt,17,q[6]),qe=i(qe,He,Ke,Me,Ge,22,q[7]),Me=i(Me,qe,He,Ke,Je,7,q[8]),Ke=i(Ke,Me,qe,He,Pe,12,q[9]),He=i(He,Ke,Me,qe,Fe,17,q[10]),qe=i(qe,He,Ke,Me,Qe,22,q[11]),Me=i(Me,qe,He,Ke,Rt,7,q[12]),Ke=i(Ke,Me,qe,He,Et,12,q[13]),He=i(He,Ke,Me,qe,Dt,17,q[14]),Me=h(Me,qe=i(qe,He,Ke,Me,Rn,22,q[15]),He,Ke,ae,5,q[16]),Ke=h(Ke,Me,qe,He,Nt,9,q[17]),He=h(He,Ke,Me,qe,Qe,14,q[18]),qe=h(qe,He,Ke,Me,oe,20,q[19]),Me=h(Me,qe,He,Ke,mt,5,q[20]),Ke=h(Ke,Me,qe,He,Fe,9,q[21]),He=h(He,Ke,Me,qe,Rn,14,q[22]),qe=h(qe,He,Ke,Me,nt,20,q[23]),Me=h(Me,qe,He,Ke,Pe,5,q[24]),Ke=h(Ke,Me,qe,He,Dt,9,q[25]),He=h(He,Ke,Me,qe,De,14,q[26]),qe=h(qe,He,Ke,Me,Je,20,q[27]),Me=h(Me,qe,He,Ke,Et,5,q[28]),Ke=h(Ke,Me,qe,He,pe,9,q[29]),He=h(He,Ke,Me,qe,Ge,14,q[30]),Me=m(Me,qe=h(qe,He,Ke,Me,Rt,20,q[31]),He,Ke,mt,4,q[32]),Ke=m(Ke,Me,qe,He,Je,11,q[33]),He=m(He,Ke,Me,qe,Qe,16,q[34]),qe=m(qe,He,Ke,Me,Dt,23,q[35]),Me=m(Me,qe,He,Ke,ae,4,q[36]),Ke=m(Ke,Me,qe,He,nt,11,q[37]),He=m(He,Ke,Me,qe,Ge,16,q[38]),qe=m(qe,He,Ke,Me,Fe,23,q[39]),Me=m(Me,qe,He,Ke,Et,4,q[40]),Ke=m(Ke,Me,qe,He,oe,11,q[41]),He=m(He,Ke,Me,qe,De,16,q[42]),qe=m(qe,He,Ke,Me,Nt,23,q[43]),Me=m(Me,qe,He,Ke,Pe,4,q[44]),Ke=m(Ke,Me,qe,He,Rt,11,q[45]),He=m(He,Ke,Me,qe,Rn,16,q[46]),Me=_(Me,qe=m(qe,He,Ke,Me,pe,23,q[47]),He,Ke,oe,6,q[48]),Ke=_(Ke,Me,qe,He,Ge,10,q[49]),He=_(He,Ke,Me,qe,Dt,15,q[50]),qe=_(qe,He,Ke,Me,mt,21,q[51]),Me=_(Me,qe,He,Ke,Rt,6,q[52]),Ke=_(Ke,Me,qe,He,De,10,q[53]),He=_(He,Ke,Me,qe,Fe,15,q[54]),qe=_(qe,He,Ke,Me,ae,21,q[55]),Me=_(Me,qe,He,Ke,Je,6,q[56]),Ke=_(Ke,Me,qe,He,Rn,10,q[57]),He=_(He,Ke,Me,qe,Nt,15,q[58]),qe=_(qe,He,Ke,Me,Et,21,q[59]),Me=_(Me,qe,He,Ke,nt,6,q[60]),Ke=_(Ke,Me,qe,He,Qe,10,q[61]),He=_(He,Ke,Me,qe,pe,15,q[62]),qe=_(qe,He,Ke,Me,Pe,21,q[63]),ge[0]=ge[0]+Me|0,ge[1]=ge[1]+qe|0,ge[2]=ge[2]+He|0,ge[3]=ge[3]+Ke|0},_doFinalize:function(){var re=this._data,ne=re.words,ge=8*this._nDataBytes,ae=8*re.sigBytes;ne[ae>>>5]|=128<<24-ae%32;var oe=P.floor(ge/4294967296);for(ne[15+(ae+64>>>9<<4)]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8),ne[14+(ae+64>>>9<<4)]=16711935&(ge<<8|ge>>>24)|4278255360&(ge<<24|ge>>>8),re.sigBytes=4*(ne.length+1),this._process(),ne=(re=this._hash).words,ge=0;4>ge;ge++)ae=ne[ge],ne[ge]=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8);return re},clone:function(){var re=I.clone.call(this);return re._hash=this._hash.clone(),re}}),x.MD5=I._createHelper(F),x.HmacMD5=I._createHmacHelper(F)}(Math),function(){var P,i=Y,h=(P=i.lib).Base,m=P.WordArray,_=(P=i.algo).EvpKDF=h.extend({cfg:h.extend({keySize:4,hasher:P.MD5,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,O){for(var I=(re=this.cfg).hasher.create(),F=m.create(),q=F.words,ie=re.keySize,re=re.iterations;q.length<ie;){ne&&I.update(ne);var ne=I.update(x).finalize(O);I.reset();for(var ge=1;ge<re;ge++)ne=I.finalize(ne),I.reset();F.concat(ne)}return F.sigBytes=4*ie,F}});i.EvpKDF=function(x,O,I){return _.create(I).compute(x,O)}}(),Y.lib.Cipher||function(){var P=(ne=Y).lib,i=P.Base,h=P.WordArray,m=P.BufferedBlockAlgorithm,_=ne.enc.Base64,x=ne.algo.EvpKDF,O=P.Cipher=m.extend({cfg:i.extend(),createEncryptor:function(ae,oe){return this.create(this._ENC_XFORM_MODE,ae,oe)},createDecryptor:function(ae,oe){return this.create(this._DEC_XFORM_MODE,ae,oe)},init:function(ae,oe,pe){this.cfg=this.cfg.extend(pe),this._xformMode=ae,this._key=oe,this.reset()},reset:function(){m.reset.call(this),this._doReset()},process:function(ae){return this._append(ae),this._process()},finalize:function(ae){return ae&&this._append(ae),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(ae){return{encrypt:function(oe,pe,De){return(typeof pe=="string"?ge:re).encrypt(ae,oe,pe,De)},decrypt:function(oe,pe,De){return(typeof pe=="string"?ge:re).decrypt(ae,oe,pe,De)}}}});P.StreamCipher=O.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var I=ne.mode={},F=function(ae,oe,pe){var De=this._iv;De?this._iv=void 0:De=this._prevBlock;for(var nt=0;nt<pe;nt++)ae[oe+nt]^=De[nt]},q=(P.BlockCipherMode=i.extend({createEncryptor:function(ae,oe){return this.Encryptor.create(ae,oe)},createDecryptor:function(ae,oe){return this.Decryptor.create(ae,oe)},init:function(ae,oe){this._cipher=ae,this._iv=oe}})).extend();q.Encryptor=q.extend({processBlock:function(ae,oe){var pe=this._cipher,De=pe.blockSize;F.call(this,ae,oe,De),pe.encryptBlock(ae,oe),this._prevBlock=ae.slice(oe,oe+De)}}),q.Decryptor=q.extend({processBlock:function(ae,oe){var pe=this._cipher,De=pe.blockSize,nt=ae.slice(oe,oe+De);pe.decryptBlock(ae,oe),F.call(this,ae,oe,De),this._prevBlock=nt}}),I=I.CBC=q,q=(ne.pad={}).Pkcs7={pad:function(ae,oe){for(var pe,De=(pe=(pe=4*oe)-ae.sigBytes%pe)<<24|pe<<16|pe<<8|pe,nt=[],mt=0;mt<pe;mt+=4)nt.push(De);pe=h.create(nt,pe),ae.concat(pe)},unpad:function(ae){ae.sigBytes-=255&ae.words[ae.sigBytes-1>>>2]}},P.BlockCipher=O.extend({cfg:O.cfg.extend({mode:I,padding:q}),reset:function(){O.reset.call(this);var ae=(oe=this.cfg).iv,oe=oe.mode;if(this._xformMode==this._ENC_XFORM_MODE)var pe=oe.createEncryptor;else pe=oe.createDecryptor,this._minBufferSize=1;this._mode=pe.call(oe,this,ae&&ae.words)},_doProcessBlock:function(ae,oe){this._mode.processBlock(ae,oe)},_doFinalize:function(){var ae=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){ae.pad(this._data,this.blockSize);var oe=this._process(!0)}else oe=this._process(!0),ae.unpad(oe);return oe},blockSize:4});var ie=P.CipherParams=i.extend({init:function(ae){this.mixIn(ae)},toString:function(ae){return(ae||this.formatter).stringify(this)}}),re=(I=(ne.format={}).OpenSSL={stringify:function(ae){var oe=ae.ciphertext;return((ae=ae.salt)?h.create([1398893684,1701076831]).concat(ae).concat(oe):oe).toString(_)},parse:function(ae){var oe=(ae=_.parse(ae)).words;if(oe[0]==1398893684&&oe[1]==1701076831){var pe=h.create(oe.slice(2,4));oe.splice(0,4),ae.sigBytes-=16}return ie.create({ciphertext:ae,salt:pe})}},P.SerializableCipher=i.extend({cfg:i.extend({format:I}),encrypt:function(ae,oe,pe,De){De=this.cfg.extend(De);var nt=ae.createEncryptor(pe,De);return oe=nt.finalize(oe),nt=nt.cfg,ie.create({ciphertext:oe,key:pe,iv:nt.iv,algorithm:ae,mode:nt.mode,padding:nt.padding,blockSize:ae.blockSize,formatter:De.format})},decrypt:function(ae,oe,pe,De){return De=this.cfg.extend(De),oe=this._parse(oe,De.format),ae.createDecryptor(pe,De).finalize(oe.ciphertext)},_parse:function(ae,oe){return typeof ae=="string"?oe.parse(ae,this):ae}})),ne=(ne.kdf={}).OpenSSL={execute:function(ae,oe,pe,De){return De||(De=h.random(8)),ae=x.create({keySize:oe+pe}).compute(ae,De),pe=h.create(ae.words.slice(oe),4*pe),ae.sigBytes=4*oe,ie.create({key:ae,iv:pe,salt:De})}},ge=P.PasswordBasedCipher=re.extend({cfg:re.cfg.extend({kdf:ne}),encrypt:function(ae,oe,pe,De){return pe=(De=this.cfg.extend(De)).kdf.execute(pe,ae.keySize,ae.ivSize),De.iv=pe.iv,(ae=re.encrypt.call(this,ae,oe,pe.key,De)).mixIn(pe),ae},decrypt:function(ae,oe,pe,De){return De=this.cfg.extend(De),oe=this._parse(oe,De.format),pe=De.kdf.execute(pe,ae.keySize,ae.ivSize,oe.salt),De.iv=pe.iv,re.decrypt.call(this,ae,oe,pe.key,De)}})}(),function(){for(var P=Y,i=P.lib.BlockCipher,h=P.algo,m=[],_=[],x=[],O=[],I=[],F=[],q=[],ie=[],re=[],ne=[],ge=[],ae=0;256>ae;ae++)ge[ae]=128>ae?ae<<1:ae<<1^283;var oe=0,pe=0;for(ae=0;256>ae;ae++){var De=(De=pe^pe<<1^pe<<2^pe<<3^pe<<4)>>>8^255&De^99;m[oe]=De,_[De]=oe;var nt=ge[oe],mt=ge[nt],Nt=ge[mt],Ge=257*ge[De]^16843008*De;x[oe]=Ge<<24|Ge>>>8,O[oe]=Ge<<16|Ge>>>16,I[oe]=Ge<<8|Ge>>>24,F[oe]=Ge,Ge=16843009*Nt^65537*mt^257*nt^16843008*oe,q[De]=Ge<<24|Ge>>>8,ie[De]=Ge<<16|Ge>>>16,re[De]=Ge<<8|Ge>>>24,ne[De]=Ge,oe?(oe=nt^ge[ge[ge[Nt^nt]]],pe^=ge[ge[pe]]):oe=pe=1}var Je=[0,1,2,4,8,16,32,64,128,27,54];h=h.AES=i.extend({_doReset:function(){for(var Pe=(Qe=this._key).words,Fe=Qe.sigBytes/4,Qe=4*((this._nRounds=Fe+6)+1),Rt=this._keySchedule=[],Et=0;Et<Qe;Et++)if(Et<Fe)Rt[Et]=Pe[Et];else{var Dt=Rt[Et-1];Et%Fe?6<Fe&&Et%Fe==4&&(Dt=m[Dt>>>24]<<24|m[Dt>>>16&255]<<16|m[Dt>>>8&255]<<8|m[255&Dt]):(Dt=m[(Dt=Dt<<8|Dt>>>24)>>>24]<<24|m[Dt>>>16&255]<<16|m[Dt>>>8&255]<<8|m[255&Dt],Dt^=Je[Et/Fe|0]<<24),Rt[Et]=Rt[Et-Fe]^Dt}for(Pe=this._invKeySchedule=[],Fe=0;Fe<Qe;Fe++)Et=Qe-Fe,Dt=Fe%4?Rt[Et]:Rt[Et-4],Pe[Fe]=4>Fe||4>=Et?Dt:q[m[Dt>>>24]]^ie[m[Dt>>>16&255]]^re[m[Dt>>>8&255]]^ne[m[255&Dt]]},encryptBlock:function(Pe,Fe){this._doCryptBlock(Pe,Fe,this._keySchedule,x,O,I,F,m)},decryptBlock:function(Pe,Fe){var Qe=Pe[Fe+1];Pe[Fe+1]=Pe[Fe+3],Pe[Fe+3]=Qe,this._doCryptBlock(Pe,Fe,this._invKeySchedule,q,ie,re,ne,_),Qe=Pe[Fe+1],Pe[Fe+1]=Pe[Fe+3],Pe[Fe+3]=Qe},_doCryptBlock:function(Pe,Fe,Qe,Rt,Et,Dt,Rn,Me){for(var Ke=this._nRounds,He=Pe[Fe]^Qe[0],qe=Pe[Fe+1]^Qe[1],Vr=Pe[Fe+2]^Qe[2],Qr=Pe[Fe+3]^Qe[3],Cs=4,Ps=1;Ps<Ke;Ps++){var fe=Rt[He>>>24]^Et[qe>>>16&255]^Dt[Vr>>>8&255]^Rn[255&Qr]^Qe[Cs++],Ne=Rt[qe>>>24]^Et[Vr>>>16&255]^Dt[Qr>>>8&255]^Rn[255&He]^Qe[Cs++],xe=Rt[Vr>>>24]^Et[Qr>>>16&255]^Dt[He>>>8&255]^Rn[255&qe]^Qe[Cs++];Qr=Rt[Qr>>>24]^Et[He>>>16&255]^Dt[qe>>>8&255]^Rn[255&Vr]^Qe[Cs++],He=fe,qe=Ne,Vr=xe}fe=(Me[He>>>24]<<24|Me[qe>>>16&255]<<16|Me[Vr>>>8&255]<<8|Me[255&Qr])^Qe[Cs++],Ne=(Me[qe>>>24]<<24|Me[Vr>>>16&255]<<16|Me[Qr>>>8&255]<<8|Me[255&He])^Qe[Cs++],xe=(Me[Vr>>>24]<<24|Me[Qr>>>16&255]<<16|Me[He>>>8&255]<<8|Me[255&qe])^Qe[Cs++],Qr=(Me[Qr>>>24]<<24|Me[He>>>16&255]<<16|Me[qe>>>8&255]<<8|Me[255&Vr])^Qe[Cs++],Pe[Fe]=fe,Pe[Fe+1]=Ne,Pe[Fe+2]=xe,Pe[Fe+3]=Qr},keySize:8}),P.AES=i._createHelper(h)}(),Y.mode.ECB=((z=Y.lib.BlockCipherMode.extend()).Encryptor=z.extend({processBlock:function(P,i){this._cipher.encryptBlock(P,i)}}),z.Decryptor=z.extend({processBlock:function(P,i){this._cipher.decryptBlock(P,i)}}),z);var B,K=e(Y);class Z{constructor({cipherKey:i}){this.cipherKey=i,this.CryptoJS=K,this.encryptedKey=this.CryptoJS.SHA256(i)}encrypt(i){if((typeof i=="string"?i:Z.decoder.decode(i)).length===0)throw new Error("encryption error. empty content");const h=this.getIv();return{metadata:h,data:y(this.CryptoJS.AES.encrypt(i,this.encryptedKey,{iv:this.bufferToWordArray(h),mode:this.CryptoJS.mode.CBC}).ciphertext.toString(this.CryptoJS.enc.Base64))}}encryptFileData(i){return d(this,void 0,void 0,function*(){const h=yield this.getKey(),m=this.getIv();return{data:yield crypto.subtle.encrypt({name:this.algo,iv:m},h,i),metadata:m}})}decrypt(i){if(typeof i.data=="string")throw new Error("Decryption error: data for decryption should be ArrayBuffed.");const h=this.bufferToWordArray(new Uint8ClampedArray(i.metadata)),m=this.bufferToWordArray(new Uint8ClampedArray(i.data));return Z.encoder.encode(this.CryptoJS.AES.decrypt({ciphertext:m},this.encryptedKey,{iv:h,mode:this.CryptoJS.mode.CBC}).toString(this.CryptoJS.enc.Utf8)).buffer}decryptFileData(i){return d(this,void 0,void 0,function*(){if(typeof i.data=="string")throw new Error("Decryption error: data for decryption should be ArrayBuffed.");const h=yield this.getKey();return crypto.subtle.decrypt({name:this.algo,iv:i.metadata},h,i.data)})}get identifier(){return"ACRH"}get algo(){return"AES-CBC"}getIv(){return crypto.getRandomValues(new Uint8Array(Z.BLOCK_SIZE))}getKey(){return d(this,void 0,void 0,function*(){const i=Z.encoder.encode(this.cipherKey),h=yield crypto.subtle.digest("SHA-256",i.buffer);return crypto.subtle.importKey("raw",h,this.algo,!0,["encrypt","decrypt"])})}bufferToWordArray(i){const h=[];let m;for(m=0;m<i.length;m+=1)h[m/4|0]|=i[m]<<24-8*m;return this.CryptoJS.lib.WordArray.create(h,i.length)}toString(){return`AesCbcCryptor { cipherKey: ${this.cipherKey} }`}}function ce(P){const i=[];let h;for(h=0;h<P.length;h+=1)i[h/4|0]|=P[h]<<24-8*h;return K.lib.WordArray.create(i,P.length)}Z.BLOCK_SIZE=16,Z.encoder=new TextEncoder,Z.decoder=new TextDecoder;class me{constructor(i){this.configuration=i,this.iv="0123456789012345",this.allowedKeyEncodings=["hex","utf8","base64","binary"],this.allowedKeyLengths=[128,256],this.allowedModes=["ecb","cbc"],this.logger=i.logger,this.defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}set logger(i){this._logger=i,this.logger&&this.logger.debug("Crypto",()=>({messageType:"object",message:this.configuration,details:"Create with configuration:",ignoredKeys:(h,m)=>typeof m[h]=="function"||h==="logger"}))}get logger(){return this._logger}HMACSHA256(i){return K.HmacSHA256(i,this.configuration.secretKey).toString(K.enc.Base64)}SHA256(i){return K.SHA256(i).toString(K.enc.Hex)}encrypt(i,h,m){return this.configuration.customEncrypt?(this.logger&&this.logger.warn("Crypto","'customEncrypt' is deprecated. Consult docs for better alternative."),this.configuration.customEncrypt(i)):this.pnEncrypt(i,h,m)}decrypt(i,h,m){return this.configuration.customDecrypt?(this.logger&&this.logger.warn("Crypto","'customDecrypt' is deprecated. Consult docs for better alternative."),this.configuration.customDecrypt(i)):this.pnDecrypt(i,h,m)}pnEncrypt(i,h,m){const _=h??this.configuration.cipherKey;if(!_)return i;this.logger&&this.logger.debug("Crypto",()=>({messageType:"object",message:Object.assign({data:i,cipherKey:_},m??{}),details:"Encrypt with parameters:"})),m=this.parseOptions(m);const x=this.getMode(m),O=this.getPaddedKey(_,m);if(this.configuration.useRandomIVs){const F=this.getRandomIV(),q=K.AES.encrypt(i,O,{iv:F,mode:x}).ciphertext;return F.clone().concat(q.clone()).toString(K.enc.Base64)}const I=this.getIV(m);return K.AES.encrypt(i,O,{iv:I,mode:x}).ciphertext.toString(K.enc.Base64)||i}pnDecrypt(i,h,m){const _=h??this.configuration.cipherKey;if(!_)return i;this.logger&&this.logger.debug("Crypto",()=>({messageType:"object",message:Object.assign({data:i,cipherKey:_},m??{}),details:"Decrypt with parameters:"})),m=this.parseOptions(m);const x=this.getMode(m),O=this.getPaddedKey(_,m);if(this.configuration.useRandomIVs){const I=new Uint8ClampedArray(y(i)),F=ce(I.slice(0,16)),q=ce(I.slice(16));try{const ie=K.AES.decrypt({ciphertext:q},O,{iv:F,mode:x}).toString(K.enc.Utf8);return JSON.parse(ie)}catch(ie){return this.logger&&this.logger.error("Crypto",()=>({messageType:"error",message:ie})),null}}else{const I=this.getIV(m);try{const F=K.enc.Base64.parse(i),q=K.AES.decrypt({ciphertext:F},O,{iv:I,mode:x}).toString(K.enc.Utf8);return JSON.parse(q)}catch(F){return this.logger&&this.logger.error("Crypto",()=>({messageType:"error",message:F})),null}}}parseOptions(i){var h,m,_,x;if(!i)return this.defaultOptions;const O={encryptKey:(h=i.encryptKey)!==null&&h!==void 0?h:this.defaultOptions.encryptKey,keyEncoding:(m=i.keyEncoding)!==null&&m!==void 0?m:this.defaultOptions.keyEncoding,keyLength:(_=i.keyLength)!==null&&_!==void 0?_:this.defaultOptions.keyLength,mode:(x=i.mode)!==null&&x!==void 0?x:this.defaultOptions.mode};return this.allowedKeyEncodings.indexOf(O.keyEncoding.toLowerCase())===-1&&(O.keyEncoding=this.defaultOptions.keyEncoding),this.allowedKeyLengths.indexOf(O.keyLength)===-1&&(O.keyLength=this.defaultOptions.keyLength),this.allowedModes.indexOf(O.mode.toLowerCase())===-1&&(O.mode=this.defaultOptions.mode),O}decodeKey(i,h){return h.keyEncoding==="base64"?K.enc.Base64.parse(i):h.keyEncoding==="hex"?K.enc.Hex.parse(i):i}getPaddedKey(i,h){return i=this.decodeKey(i,h),h.encryptKey?K.enc.Utf8.parse(this.SHA256(i).slice(0,32)):i}getMode(i){return i.mode==="ecb"?K.mode.ECB:K.mode.CBC}getIV(i){return i.mode==="cbc"?K.enc.Utf8.parse(this.iv):null}getRandomIV(){return K.lib.WordArray.random(16)}}class we{encrypt(i,h){return d(this,void 0,void 0,function*(){if(!(h instanceof ArrayBuffer)&&typeof h!="string")throw new Error("Cannot encrypt this file. In browsers file encryption supports only string or ArrayBuffer");const m=yield this.getKey(i);return h instanceof ArrayBuffer?this.encryptArrayBuffer(m,h):this.encryptString(m,h)})}encryptArrayBuffer(i,h){return d(this,void 0,void 0,function*(){const m=crypto.getRandomValues(new Uint8Array(16));return this.concatArrayBuffer(m.buffer,yield crypto.subtle.encrypt({name:"AES-CBC",iv:m},i,h))})}encryptString(i,h){return d(this,void 0,void 0,function*(){const m=crypto.getRandomValues(new Uint8Array(16)),_=we.encoder.encode(h).buffer,x=yield crypto.subtle.encrypt({name:"AES-CBC",iv:m},i,_),O=this.concatArrayBuffer(m.buffer,x);return we.decoder.decode(O)})}encryptFile(i,h,m){return d(this,void 0,void 0,function*(){var _,x;if(((_=h.contentLength)!==null&&_!==void 0?_:0)<=0)throw new Error("encryption error. empty content");const O=yield this.getKey(i),I=yield h.toArrayBuffer(),F=yield this.encryptArrayBuffer(O,I);return m.create({name:h.name,mimeType:(x=h.mimeType)!==null&&x!==void 0?x:"application/octet-stream",data:F})})}decrypt(i,h){return d(this,void 0,void 0,function*(){if(!(h instanceof ArrayBuffer)&&typeof h!="string")throw new Error("Cannot decrypt this file. In browsers file decryption supports only string or ArrayBuffer");const m=yield this.getKey(i);return h instanceof ArrayBuffer?this.decryptArrayBuffer(m,h):this.decryptString(m,h)})}decryptArrayBuffer(i,h){return d(this,void 0,void 0,function*(){const m=h.slice(0,16);if(h.slice(we.IV_LENGTH).byteLength<=0)throw new Error("decryption error: empty content");return yield crypto.subtle.decrypt({name:"AES-CBC",iv:m},i,h.slice(we.IV_LENGTH))})}decryptString(i,h){return d(this,void 0,void 0,function*(){const m=we.encoder.encode(h).buffer,_=m.slice(0,16),x=m.slice(16),O=yield crypto.subtle.decrypt({name:"AES-CBC",iv:_},i,x);return we.decoder.decode(O)})}decryptFile(i,h,m){return d(this,void 0,void 0,function*(){const _=yield this.getKey(i),x=yield h.toArrayBuffer(),O=yield this.decryptArrayBuffer(_,x);return m.create({name:h.name,mimeType:h.mimeType,data:O})})}getKey(i){return d(this,void 0,void 0,function*(){const h=yield crypto.subtle.digest("SHA-256",we.encoder.encode(i)),m=Array.from(new Uint8Array(h)).map(x=>x.toString(16).padStart(2,"0")).join(""),_=we.encoder.encode(m.slice(0,32)).buffer;return crypto.subtle.importKey("raw",_,"AES-CBC",!0,["encrypt","decrypt"])})}concatArrayBuffer(i,h){const m=new Uint8Array(i.byteLength+h.byteLength);return m.set(new Uint8Array(i),0),m.set(new Uint8Array(h),i.byteLength),m.buffer}}we.IV_LENGTH=16,we.encoder=new TextEncoder,we.decoder=new TextDecoder;class Re{constructor(i){this.config=i,this.cryptor=new me(Object.assign({},i)),this.fileCryptor=new we}set logger(i){this.cryptor.logger=i}encrypt(i){const h=typeof i=="string"?i:Re.decoder.decode(i);return{data:this.cryptor.encrypt(h),metadata:null}}encryptFile(i,h){return d(this,void 0,void 0,function*(){var m;if(!this.config.cipherKey)throw new A("File encryption error: cipher key not set.");return this.fileCryptor.encryptFile((m=this.config)===null||m===void 0?void 0:m.cipherKey,i,h)})}decrypt(i){const h=typeof i.data=="string"?i.data:S(i.data);return this.cryptor.decrypt(h)}decryptFile(i,h){return d(this,void 0,void 0,function*(){if(!this.config.cipherKey)throw new A("File encryption error: cipher key not set.");return this.fileCryptor.decryptFile(this.config.cipherKey,i,h)})}get identifier(){return""}toString(){return`AesCbcCryptor { ${Object.entries(this.config).reduce((i,[h,m])=>(h==="logger"||i.push(`${h}: ${typeof m=="function"?"<function>":m}`),i),[]).join(", ")} }`}}Re.encoder=new TextEncoder,Re.decoder=new TextDecoder;class Ce extends p{set logger(i){if(this.defaultCryptor.identifier===Ce.LEGACY_IDENTIFIER)this.defaultCryptor.logger=i;else{const h=this.cryptors.find(m=>m.identifier===Ce.LEGACY_IDENTIFIER);h&&(h.logger=i)}}static legacyCryptoModule(i){var h;if(!i.cipherKey)throw new A("Crypto module error: cipher key not set.");return new Ce({default:new Re(Object.assign(Object.assign({},i),{useRandomIVs:(h=i.useRandomIVs)===null||h===void 0||h})),cryptors:[new Z({cipherKey:i.cipherKey})]})}static aesCbcCryptoModule(i){var h;if(!i.cipherKey)throw new A("Crypto module error: cipher key not set.");return new Ce({default:new Z({cipherKey:i.cipherKey}),cryptors:[new Re(Object.assign(Object.assign({},i),{useRandomIVs:(h=i.useRandomIVs)===null||h===void 0||h}))]})}static withDefaultCryptor(i){return new this({default:i})}encrypt(i){const h=i instanceof ArrayBuffer&&this.defaultCryptor.identifier===Ce.LEGACY_IDENTIFIER?this.defaultCryptor.encrypt(Ce.decoder.decode(i)):this.defaultCryptor.encrypt(i);if(!h.metadata)return h.data;if(typeof h.data=="string")throw new Error("Encryption error: encrypted data should be ArrayBuffed.");const m=this.getHeaderData(h);return this.concatArrayBuffer(m,h.data)}encryptFile(i,h){return d(this,void 0,void 0,function*(){if(this.defaultCryptor.identifier===_e.LEGACY_IDENTIFIER)return this.defaultCryptor.encryptFile(i,h);const m=yield this.getFileData(i),_=yield this.defaultCryptor.encryptFileData(m);if(typeof _.data=="string")throw new Error("Encryption error: encrypted data should be ArrayBuffed.");return h.create({name:i.name,mimeType:"application/octet-stream",data:this.concatArrayBuffer(this.getHeaderData(_),_.data)})})}decrypt(i){const h=typeof i=="string"?y(i):i,m=_e.tryParse(h),_=this.getCryptor(m),x=m.length>0?h.slice(m.length-m.metadataLength,m.length):null;if(h.slice(m.length).byteLength<=0)throw new Error("Decryption error: empty content");return _.decrypt({data:h.slice(m.length),metadata:x})}decryptFile(i,h){return d(this,void 0,void 0,function*(){const m=yield i.data.arrayBuffer(),_=_e.tryParse(m),x=this.getCryptor(_);if(x?.identifier===_e.LEGACY_IDENTIFIER)return x.decryptFile(i,h);const O=(yield this.getFileData(m)).slice(_.length-_.metadataLength,_.length);return h.create({name:i.name,data:yield this.defaultCryptor.decryptFileData({data:m.slice(_.length),metadata:O})})})}getCryptorFromId(i){const h=this.getAllCryptors().find(m=>i===m.identifier);if(h)return h;throw Error("Unknown cryptor error")}getCryptor(i){if(typeof i=="string"){const h=this.getAllCryptors().find(m=>m.identifier===i);if(h)return h;throw new Error("Unknown cryptor error")}if(i instanceof ye)return this.getCryptorFromId(i.identifier)}getHeaderData(i){if(!i.metadata)return;const h=_e.from(this.defaultCryptor.identifier,i.metadata),m=new Uint8Array(h.length);let _=0;return m.set(h.data,_),_+=h.length-i.metadata.byteLength,m.set(new Uint8Array(i.metadata),_),m.buffer}concatArrayBuffer(i,h){const m=new Uint8Array(i.byteLength+h.byteLength);return m.set(new Uint8Array(i),0),m.set(new Uint8Array(h),i.byteLength),m.buffer}getFileData(i){return d(this,void 0,void 0,function*(){if(i instanceof ArrayBuffer)return i;if(i instanceof v)return i.toArrayBuffer();throw new Error("Cannot decrypt/encrypt file. In browsers file encrypt/decrypt supported for string, ArrayBuffer or Blob")})}}Ce.LEGACY_IDENTIFIER="";class _e{static from(i,h){if(i!==_e.LEGACY_IDENTIFIER)return new ye(i,h.byteLength)}static tryParse(i){const h=new Uint8Array(i);let m,_,x=null;if(h.byteLength>=4&&(m=h.slice(0,4),this.decoder.decode(m)!==_e.SENTINEL))return Ce.LEGACY_IDENTIFIER;if(!(h.byteLength>=5))throw new Error("Decryption error: invalid header version");if(x=h[4],x>_e.MAX_VERSION)throw new Error("Decryption error: Unknown cryptor error");let O=5+_e.IDENTIFIER_LENGTH;if(!(h.byteLength>=O))throw new Error("Decryption error: invalid crypto identifier");_=h.slice(5,O);let I=null;if(!(h.byteLength>=O+1))throw new Error("Decryption error: invalid metadata length");return I=h[O],O+=1,I===255&&h.byteLength>=O+2&&(I=new Uint16Array(h.slice(O,O+2)).reduce((F,q)=>(F<<8)+q,0)),new ye(this.decoder.decode(_),I)}}_e.SENTINEL="PNED",_e.LEGACY_IDENTIFIER="",_e.IDENTIFIER_LENGTH=4,_e.VERSION=1,_e.MAX_VERSION=1,_e.decoder=new TextDecoder;class ye{constructor(i,h){this._identifier=i,this._metadataLength=h}get identifier(){return this._identifier}set identifier(i){this._identifier=i}get metadataLength(){return this._metadataLength}set metadataLength(i){this._metadataLength=i}get version(){return _e.VERSION}get length(){return _e.SENTINEL.length+1+_e.IDENTIFIER_LENGTH+(this.metadataLength<255?1:3)+this.metadataLength}get data(){let i=0;const h=new Uint8Array(this.length),m=new TextEncoder;h.set(m.encode(_e.SENTINEL)),i+=_e.SENTINEL.length,h[i]=this.version,i++,this.identifier&&h.set(m.encode(this.identifier),i);const _=this.metadataLength;return i+=_e.IDENTIFIER_LENGTH,_<255?h[i]=_:h.set([255,_>>8,255&_],i),h}}ye.IDENTIFIER_LENGTH=4,ye.SENTINEL="PNED";class be extends Error{static create(i,h){return be.isErrorObject(i)?be.createFromError(i):be.createFromServiceResponse(i,h)}static createFromError(i){let h=C.PNUnknownCategory,m="Unknown error",_="Error";if(!i)return new be(m,h,0);if(i instanceof be)return i;if(be.isErrorObject(i)&&(m=i.message,_=i.name),_==="AbortError"||m.indexOf("Aborted")!==-1)h=C.PNCancelledCategory,m="Request cancelled";else if(m.toLowerCase().indexOf("timeout")!==-1)h=C.PNTimeoutCategory,m="Request timeout";else if(m.toLowerCase().indexOf("network")!==-1)h=C.PNNetworkIssuesCategory,m="Network issues";else if(_==="TypeError")h=m.indexOf("Load failed")!==-1||m.indexOf("Failed to fetch")!=-1?C.PNNetworkIssuesCategory:C.PNBadRequestCategory;else if(_==="FetchError"){const x=i.code;["ECONNREFUSED","ENETUNREACH","ENOTFOUND","ECONNRESET","EAI_AGAIN"].includes(x)&&(h=C.PNNetworkIssuesCategory),x==="ECONNREFUSED"?m="Connection refused":x==="ENETUNREACH"?m="Network not reachable":x==="ENOTFOUND"?m="Server not found":x==="ECONNRESET"?m="Connection reset by peer":x==="EAI_AGAIN"?m="Name resolution error":x==="ETIMEDOUT"?(h=C.PNTimeoutCategory,m="Request timeout"):m=`Unknown system error: ${i}`}else m==="Request timeout"&&(h=C.PNTimeoutCategory);return new be(m,h,0,i)}static createFromServiceResponse(i,h){let m,_=C.PNUnknownCategory,x="Unknown error",{status:O}=i;if(h!=null||(h=i.body),O===402?x="Not available for used key set. Contact support@pubnub.com":O===400?(_=C.PNBadRequestCategory,x="Bad request"):O===403?(_=C.PNAccessDeniedCategory,x="Access denied"):O>=500&&(_=C.PNServerErrorCategory,x="Internal server error"),typeof i=="object"&&Object.keys(i).length===0&&(_=C.PNMalformedResponseCategory,x="Malformed response (network issues)",O=400),h&&h.byteLength>0){const I=new TextDecoder().decode(h);if(i.headers["content-type"].indexOf("text/javascript")!==-1||i.headers["content-type"].indexOf("application/json")!==-1)try{const F=JSON.parse(I);typeof F=="object"&&(Array.isArray(F)?typeof F[0]=="number"&&F[0]===0&&F.length>1&&typeof F[1]=="string"&&(m=F[1]):("error"in F&&(F.error===1||F.error===!0)&&"status"in F&&typeof F.status=="number"&&"message"in F&&"service"in F?(m=F,O=F.status):m=F,"error"in F&&F.error instanceof Error&&(m=F.error)))}catch{m=I}else if(i.headers["content-type"].indexOf("xml")!==-1){const F=/<Message>(.*)<\/Message>/gi.exec(I);x=F?`Upload to bucket failed: ${F[1]}`:"Upload to bucket failed."}else m=I}return new be(x,_,O,m)}constructor(i,h,m,_){super(i),this.category=h,this.statusCode=m,this.errorData=_,this.name="PubNubAPIError"}toStatus(i){return{error:!0,category:this.category,operation:i,statusCode:this.statusCode,errorData:this.errorData,toJSON:function(){let h;const m=this.errorData;if(m)try{if(typeof m=="object"){const x=Object.assign(Object.assign(Object.assign(Object.assign({},"name"in m?{name:m.name}:{}),"message"in m?{message:m.message}:{}),"stack"in m?{stack:m.stack}:{}),m);h=JSON.parse(JSON.stringify(x,be.circularReplacer()))}else h=m}catch{h={error:"Could not serialize the error object"}}const _=c(this,["toJSON"]);return JSON.stringify(Object.assign(Object.assign({},_),{errorData:h}))}}}toPubNubError(i,h){return new A(h??this.message,this.toStatus(i))}static circularReplacer(){const i=new WeakSet;return function(h,m){if(typeof m=="object"&&m!==null){if(i.has(m))return"[Circular]";i.add(m)}return m}}static isErrorObject(i){return!(!i||typeof i!="object")&&(i instanceof Error||"name"in i&&"message"in i&&typeof i.name=="string"&&typeof i.message=="string"||Object.prototype.toString.call(i)==="[object Error]")}}(function(P){P.PNPublishOperation="PNPublishOperation",P.PNSignalOperation="PNSignalOperation",P.PNSubscribeOperation="PNSubscribeOperation",P.PNUnsubscribeOperation="PNUnsubscribeOperation",P.PNWhereNowOperation="PNWhereNowOperation",P.PNHereNowOperation="PNHereNowOperation",P.PNGlobalHereNowOperation="PNGlobalHereNowOperation",P.PNSetStateOperation="PNSetStateOperation",P.PNGetStateOperation="PNGetStateOperation",P.PNHeartbeatOperation="PNHeartbeatOperation",P.PNAddMessageActionOperation="PNAddActionOperation",P.PNRemoveMessageActionOperation="PNRemoveMessageActionOperation",P.PNGetMessageActionsOperation="PNGetMessageActionsOperation",P.PNTimeOperation="PNTimeOperation",P.PNHistoryOperation="PNHistoryOperation",P.PNDeleteMessagesOperation="PNDeleteMessagesOperation",P.PNFetchMessagesOperation="PNFetchMessagesOperation",P.PNMessageCounts="PNMessageCountsOperation",P.PNGetAllUUIDMetadataOperation="PNGetAllUUIDMetadataOperation",P.PNGetUUIDMetadataOperation="PNGetUUIDMetadataOperation",P.PNSetUUIDMetadataOperation="PNSetUUIDMetadataOperation",P.PNRemoveUUIDMetadataOperation="PNRemoveUUIDMetadataOperation",P.PNGetAllChannelMetadataOperation="PNGetAllChannelMetadataOperation",P.PNGetChannelMetadataOperation="PNGetChannelMetadataOperation",P.PNSetChannelMetadataOperation="PNSetChannelMetadataOperation",P.PNRemoveChannelMetadataOperation="PNRemoveChannelMetadataOperation",P.PNGetMembersOperation="PNGetMembersOperation",P.PNSetMembersOperation="PNSetMembersOperation",P.PNGetMembershipsOperation="PNGetMembershipsOperation",P.PNSetMembershipsOperation="PNSetMembershipsOperation",P.PNListFilesOperation="PNListFilesOperation",P.PNGenerateUploadUrlOperation="PNGenerateUploadUrlOperation",P.PNPublishFileOperation="PNPublishFileOperation",P.PNPublishFileMessageOperation="PNPublishFileMessageOperation",P.PNGetFileUrlOperation="PNGetFileUrlOperation",P.PNDownloadFileOperation="PNDownloadFileOperation",P.PNDeleteFileOperation="PNDeleteFileOperation",P.PNAddPushNotificationEnabledChannelsOperation="PNAddPushNotificationEnabledChannelsOperation",P.PNRemovePushNotificationEnabledChannelsOperation="PNRemovePushNotificationEnabledChannelsOperation",P.PNPushNotificationEnabledChannelsOperation="PNPushNotificationEnabledChannelsOperation",P.PNRemoveAllPushNotificationsOperation="PNRemoveAllPushNotificationsOperation",P.PNChannelGroupsOperation="PNChannelGroupsOperation",P.PNRemoveGroupOperation="PNRemoveGroupOperation",P.PNChannelsForGroupOperation="PNChannelsForGroupOperation",P.PNAddChannelsToGroupOperation="PNAddChannelsToGroupOperation",P.PNRemoveChannelsFromGroupOperation="PNRemoveChannelsFromGroupOperation",P.PNAccessManagerGrant="PNAccessManagerGrant",P.PNAccessManagerGrantToken="PNAccessManagerGrantToken",P.PNAccessManagerAudit="PNAccessManagerAudit",P.PNAccessManagerRevokeToken="PNAccessManagerRevokeToken",P.PNHandshakeOperation="PNHandshakeOperation",P.PNReceiveMessagesOperation="PNReceiveMessagesOperation"})(B||(B={}));var Q=B;class Ae{constructor(i){this.configuration=i,this.subscriptionWorkerReady=!1,this.accessTokensMap={},this.workerEventsQueue=[],this.callbacks=new Map,this.setupSubscriptionWorker()}set emitStatus(i){this._emitStatus=i}onUserIdChange(i){this.configuration.userId=i,this.scheduleEventPost({type:"client-update",heartbeatInterval:this.configuration.heartbeatInterval,clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,userId:this.configuration.userId})}onHeartbeatIntervalChange(i){this.configuration.heartbeatInterval=i,this.scheduleEventPost({type:"client-update",heartbeatInterval:this.configuration.heartbeatInterval,clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,userId:this.configuration.userId})}onTokenChange(i){const h={type:"client-update",heartbeatInterval:this.configuration.heartbeatInterval,clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,userId:this.configuration.userId};this.parsedAccessToken(i).then(m=>{h.preProcessedToken=m,h.accessToken=i}).then(()=>this.scheduleEventPost(h))}terminate(){this.scheduleEventPost({type:"client-unregister",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey})}makeSendable(i){if(!i.path.startsWith("/v2/subscribe")&&!i.path.endsWith("/heartbeat")&&!i.path.endsWith("/leave"))return this.configuration.transport.makeSendable(i);let h;this.configuration.logger.debug("SubscriptionWorkerMiddleware","Process request with SharedWorker transport.");const m={type:"send-request",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,request:i};return i.cancellable&&(h={abort:()=>{const _={type:"cancel-request",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,identifier:i.identifier};this.scheduleEventPost(_)}}),[new Promise((_,x)=>{this.callbacks.set(i.identifier,{resolve:_,reject:x}),this.parsedAccessTokenForRequest(i).then(O=>m.preProcessedToken=O).then(()=>this.scheduleEventPost(m))}),h]}request(i){return i}scheduleEventPost(i,h=!1){const m=this.sharedSubscriptionWorker;m?m.port.postMessage(i):h?this.workerEventsQueue.splice(0,0,i):this.workerEventsQueue.push(i)}flushScheduledEvents(){const i=this.sharedSubscriptionWorker;if(!i||this.workerEventsQueue.length===0)return;const h=[];for(let m=0;m<this.workerEventsQueue.length;m++){const _=this.workerEventsQueue[m];if(_.type==="cancel-request"&&m!==0)for(let x=0;x<m;x++){const O=this.workerEventsQueue[x];if(O.type==="send-request"&&O.request.identifier===_.identifier){h.push(_,O);break}}}this.workerEventsQueue=this.workerEventsQueue.filter(m=>!h.includes(m)),this.workerEventsQueue.forEach(m=>i.port.postMessage(m)),this.workerEventsQueue=[]}get sharedSubscriptionWorker(){return this.subscriptionWorkerReady?this.subscriptionWorker:null}setupSubscriptionWorker(){if(typeof SharedWorker<"u"){try{this.subscriptionWorker=new SharedWorker(this.configuration.workerUrl,`/pubnub-${this.configuration.sdkVersion}`)}catch(i){throw this.configuration.logger.error("SubscriptionWorkerMiddleware",()=>({messageType:"error",message:i})),i}this.subscriptionWorker.port.start(),this.scheduleEventPost({type:"client-register",clientIdentifier:this.configuration.clientIdentifier,subscriptionKey:this.configuration.subscriptionKey,userId:this.configuration.userId,heartbeatInterval:this.configuration.heartbeatInterval,workerOfflineClientsCheckInterval:this.configuration.workerOfflineClientsCheckInterval,workerUnsubscribeOfflineClients:this.configuration.workerUnsubscribeOfflineClients,workerLogVerbosity:this.configuration.workerLogVerbosity},!0),this.subscriptionWorker.port.onmessage=i=>this.handleWorkerEvent(i)}}handleWorkerEvent(i){const{data:h}=i;if(h.type==="shared-worker-ping"||h.type==="shared-worker-connected"||h.type==="shared-worker-console-log"||h.type==="shared-worker-console-dir"||h.clientIdentifier===this.configuration.clientIdentifier){if(h.type==="shared-worker-connected")this.configuration.logger.trace("SharedWorker","Ready for events processing."),this.subscriptionWorkerReady=!0,this.flushScheduledEvents();else if(h.type==="shared-worker-console-log")this.configuration.logger.debug("SharedWorker",()=>typeof h.message=="string"||typeof h.message=="number"||typeof h.message=="boolean"?{messageType:"text",message:h.message}:h.message);else if(h.type==="shared-worker-console-dir")this.configuration.logger.debug("SharedWorker",()=>({messageType:"object",message:h.data,details:h.message?h.message:void 0}));else if(h.type==="shared-worker-ping"){const{subscriptionKey:m,clientIdentifier:_}=this.configuration;this.scheduleEventPost({type:"client-pong",subscriptionKey:m,clientIdentifier:_})}else if(h.type==="request-process-success"||h.type==="request-process-error")if(this.callbacks.has(h.identifier)){const{resolve:m,reject:_}=this.callbacks.get(h.identifier);this.callbacks.delete(h.identifier),h.type==="request-process-success"?m({status:h.response.status,url:h.url,headers:h.response.headers,body:h.response.body}):_(this.errorFromRequestSendingError(h))}else this._emitStatus&&h.url.indexOf("/v2/presence")>=0&&h.url.indexOf("/heartbeat")>=0&&(h.type==="request-process-success"&&this.configuration.announceSuccessfulHeartbeats?this._emitStatus({statusCode:h.response.status,error:!1,operation:Q.PNHeartbeatOperation,category:C.PNAcknowledgmentCategory}):h.type==="request-process-error"&&this.configuration.announceFailedHeartbeats&&this._emitStatus(this.errorFromRequestSendingError(h).toStatus(Q.PNHeartbeatOperation)))}}parsedAccessTokenForRequest(i){return d(this,void 0,void 0,function*(){var h;return this.parsedAccessToken(i.queryParameters?(h=i.queryParameters.auth)!==null&&h!==void 0?h:"":void 0)})}parsedAccessToken(i){return d(this,void 0,void 0,function*(){if(i)return this.accessTokensMap[i]?this.accessTokensMap[i]:this.stringifyAccessToken(i).then(([h,m])=>{if(h&&m)return(this.accessTokensMap={[i]:{token:m,expiration:h.timestamp*h.ttl*60}})[i]})})}stringifyAccessToken(i){return d(this,void 0,void 0,function*(){if(!this.configuration.tokenManager)return[void 0,void 0];const h=this.configuration.tokenManager.parseToken(i);if(!h)return[void 0,void 0];const m=x=>x?Object.entries(x).sort(([O],[I])=>O.localeCompare(I)).map(([O,I])=>Object.entries(I||{}).sort(([F],[q])=>F.localeCompare(q)).map(([F,q])=>{return`${O}:${F}=${q?(ie=q,Object.entries(ie).filter(([re,ne])=>ne).map(([re])=>re[0]).sort().join("")):""}`;var ie}).join(",")).join(";"):"";let _=[m(h.resources),m(h.patterns),h.authorized_uuid].filter(Boolean).join("|");if(typeof crypto<"u"&&crypto.subtle){const x=yield crypto.subtle.digest("SHA-256",new TextEncoder().encode(_));_=String.fromCharCode(...Array.from(new Uint8Array(x)))}return[h,typeof btoa<"u"?btoa(_):_]})}errorFromRequestSendingError(i){let h=C.PNUnknownCategory,m="Unknown error";if(i.error)i.error.type==="NETWORK_ISSUE"?h=C.PNNetworkIssuesCategory:i.error.type==="TIMEOUT"?h=C.PNTimeoutCategory:i.error.type==="ABORTED"&&(h=C.PNCancelledCategory),m=`${i.error.message} (${i.identifier})`;else if(i.response){const{url:_,response:x}=i;return be.create({url:_,headers:x.headers,body:x.body,status:x.status},x.body)}return new be(m,h,0,new Error(m))}}function Te(P,i=0){const h=x=>typeof x=="object"&&x!==null&&x.constructor===Object,m=x=>typeof x=="number"&&isFinite(x);if(!h(P))return P;const _={};return Object.keys(P).forEach(x=>{const O=(q=>typeof q=="string"||q instanceof String)(x);let I=x;const F=P[x];i<2&&(O&&x.indexOf(",")>=0?I=x.split(",").map(Number).reduce((q,ie)=>q+String.fromCharCode(ie),""):(m(x)||O&&!isNaN(Number(x)))&&(I=String.fromCharCode(m(x)?x:parseInt(x,10)))),_[I]=h(F)?Te(F,i+1):F}),_}const se=P=>{var i,h,m,_,x,O;return P.subscriptionWorkerUrl&&typeof SharedWorker>"u"&&(P.subscriptionWorkerUrl=null),Object.assign(Object.assign({},(I=>{var F,q,ie,re,ne,ge,ae,oe,pe,De,nt,mt,Nt,Ge,Je;const Pe=Object.assign({},I);if((F=Pe.ssl)!==null&&F!==void 0||(Pe.ssl=!0),(q=Pe.transactionalRequestTimeout)!==null&&q!==void 0||(Pe.transactionalRequestTimeout=15),(ie=Pe.subscribeRequestTimeout)!==null&&ie!==void 0||(Pe.subscribeRequestTimeout=310),(re=Pe.fileRequestTimeout)!==null&&re!==void 0||(Pe.fileRequestTimeout=300),(ne=Pe.restore)!==null&&ne!==void 0||(Pe.restore=!1),(ge=Pe.useInstanceId)!==null&&ge!==void 0||(Pe.useInstanceId=!1),(ae=Pe.suppressLeaveEvents)!==null&&ae!==void 0||(Pe.suppressLeaveEvents=!1),(oe=Pe.requestMessageCountThreshold)!==null&&oe!==void 0||(Pe.requestMessageCountThreshold=100),(pe=Pe.autoNetworkDetection)!==null&&pe!==void 0||(Pe.autoNetworkDetection=!1),(De=Pe.enableEventEngine)!==null&&De!==void 0||(Pe.enableEventEngine=!1),(nt=Pe.maintainPresenceState)!==null&&nt!==void 0||(Pe.maintainPresenceState=!0),(mt=Pe.useSmartHeartbeat)!==null&&mt!==void 0||(Pe.useSmartHeartbeat=!1),(Nt=Pe.keepAlive)!==null&&Nt!==void 0||(Pe.keepAlive=!1),Pe.userId&&Pe.uuid)throw new A("PubNub client configuration error: use only 'userId'");if((Ge=Pe.userId)!==null&&Ge!==void 0||(Pe.userId=Pe.uuid),!Pe.userId)throw new A("PubNub client configuration error: 'userId' not set");if(((Je=Pe.userId)===null||Je===void 0?void 0:Je.trim().length)===0)throw new A("PubNub client configuration error: 'userId' is empty");Pe.origin||(Pe.origin=Array.from({length:20},(Ke,He)=>`ps${He+1}.pndsn.com`));const Fe={subscribeKey:Pe.subscribeKey,publishKey:Pe.publishKey,secretKey:Pe.secretKey};Pe.presenceTimeout!==void 0&&(Pe.presenceTimeout>320?(Pe.presenceTimeout=320,console.warn("WARNING: Presence timeout is larger than the maximum. Using maximum value: ",320)):Pe.presenceTimeout<=0&&(console.warn("WARNING: Presence timeout should be larger than zero."),delete Pe.presenceTimeout)),Pe.presenceTimeout!==void 0?Pe.heartbeatInterval=Pe.presenceTimeout/2-1:Pe.presenceTimeout=300;let Qe=!1,Rt=!0,Et=5,Dt=!1,Rn=100,Me=!0;return Pe.dedupeOnSubscribe!==void 0&&typeof Pe.dedupeOnSubscribe=="boolean"&&(Dt=Pe.dedupeOnSubscribe),Pe.maximumCacheSize!==void 0&&typeof Pe.maximumCacheSize=="number"&&(Rn=Pe.maximumCacheSize),Pe.useRequestId!==void 0&&typeof Pe.useRequestId=="boolean"&&(Me=Pe.useRequestId),Pe.announceSuccessfulHeartbeats!==void 0&&typeof Pe.announceSuccessfulHeartbeats=="boolean"&&(Qe=Pe.announceSuccessfulHeartbeats),Pe.announceFailedHeartbeats!==void 0&&typeof Pe.announceFailedHeartbeats=="boolean"&&(Rt=Pe.announceFailedHeartbeats),Pe.fileUploadPublishRetryLimit!==void 0&&typeof Pe.fileUploadPublishRetryLimit=="number"&&(Et=Pe.fileUploadPublishRetryLimit),Object.assign(Object.assign({},Pe),{keySet:Fe,dedupeOnSubscribe:Dt,maximumCacheSize:Rn,useRequestId:Me,announceSuccessfulHeartbeats:Qe,announceFailedHeartbeats:Rt,fileUploadPublishRetryLimit:Et})})(P)),{listenToBrowserNetworkEvents:(i=P.listenToBrowserNetworkEvents)===null||i===void 0||i,subscriptionWorkerUrl:P.subscriptionWorkerUrl,subscriptionWorkerOfflineClientsCheckInterval:(h=P.subscriptionWorkerOfflineClientsCheckInterval)!==null&&h!==void 0?h:10,subscriptionWorkerUnsubscribeOfflineClients:(m=P.subscriptionWorkerUnsubscribeOfflineClients)!==null&&m!==void 0&&m,subscriptionWorkerLogVerbosity:(_=P.subscriptionWorkerLogVerbosity)!==null&&_!==void 0&&_,transport:(x=P.transport)!==null&&x!==void 0?x:"fetch",keepAlive:(O=P.keepAlive)===null||O===void 0||O})};var Ee;(function(P){P[P.Trace=0]="Trace",P[P.Debug=1]="Debug",P[P.Info=2]="Info",P[P.Warn=3]="Warn",P[P.Error=4]="Error",P[P.None=5]="None"})(Ee||(Ee={}));const Le=P=>encodeURIComponent(P).replace(/[!~*'()]/g,i=>`%${i.charCodeAt(0).toString(16).toUpperCase()}`),Ve=(P,i)=>{const h=P.map(m=>Le(m));return h.length?h.join(","):i??""},st=(P,i)=>{const h=Object.fromEntries(i.map(m=>[m,!1]));return P.filter(m=>!(i.includes(m)&&!h[m])||(h[m]=!0,!1))},bt=(P,i)=>[...P].filter(h=>i.includes(h)&&P.indexOf(h)===P.lastIndexOf(h)&&i.indexOf(h)===i.lastIndexOf(h)),Tt=P=>Object.keys(P).map(i=>{const h=P[i];return Array.isArray(h)?h.map(m=>`${i}=${Le(m)}`).join("&"):`${i}=${Le(h)}`}).join("&"),_t=(P,i)=>{if(i==="0"||P==="0")return;const h=zt(`${Date.now()}0000`,i,!1);return zt(P,h,!0)},Pt=(P,i,h)=>{if(P&&P.length!==0){if(i&&i.length>0&&i!=="0"){const m=zt(P,i,!1);return zt(h??`${Date.now()}0000`,m.replace("-",""),Number(m)<0)}return h&&h.length>0&&h!=="0"?h:`${Date.now()}0000`}},zt=(P,i,h)=>{i.startsWith("-")&&(i=i.replace("-",""),h=!1),i=i.padStart(17,"0");const m=P.slice(0,10),_=P.slice(10,17),x=i.slice(0,10),O=i.slice(10,17);let I=Number(m),F=Number(_);return I+=Number(x)*(h?1:-1),F+=Number(O)*(h?1:-1),F>=1e7?(I+=Math.floor(F/1e7),F%=1e7):F<0?I>0?(I-=1,F+=1e7):I<0&&(F*=-1):I<0&&F>0&&(I+=1,F=1e7-F),I!==0?`${I}${`${F}`.padStart(7,"0")}`:`${F}`},On=P=>{const i=typeof P!="string"?JSON.stringify(P):P,h=new Uint32Array(1);let m=0,_=i.length;for(;_-- >0;)h[0]=(h[0]<<5)-h[0]+i.charCodeAt(m++);return h[0].toString(16).padStart(8,"0")};class sr{debug(i){this.log(i)}error(i){this.log(i)}info(i){this.log(i)}trace(i){this.log(i)}warn(i){this.log(i)}log(i){const h=Ee[i.level],m=h.toLowerCase();console[m==="trace"?"debug":m](`${i.timestamp.toISOString()} PubNub-${i.pubNubId} ${h.padEnd(5," ")}${i.location?` ${i.location}`:""} ${this.logMessage(i)}`)}logMessage(i){if(i.messageType==="text")return i.message;if(i.messageType==="object")return`${i.details?`${i.details}
`:""}${this.formattedObject(i)}`;if(i.messageType==="network-request"){const h=!!i.canceled||!!i.failed,m=i.minimumLevel!==Ee.Trace||h?void 0:this.formattedHeaders(i),_=i.message,x=_.queryParameters&&Object.keys(_.queryParameters).length>0?Tt(_.queryParameters):void 0,O=`${_.origin}${_.path}${x?`?${x}`:""}`,I=h?void 0:this.formattedBody(i);let F="Sending";h&&(F=`${i.canceled?"Canceled":"Failed"}${i.details?` (${i.details})`:""}`);const q=(I?.formData?"FormData":"Method").length;return`${F} HTTP request:
  ${this.paddedString("Method",q)}: ${_.method}
  ${this.paddedString("URL",q)}: ${O}${m?`
  ${this.paddedString("Headers",q)}:
${m}`:""}${I?.formData?`
  ${this.paddedString("FormData",q)}:
${I.formData}`:""}${I?.body?`
  ${this.paddedString("Body",q)}:
${I.body}`:""}`}if(i.messageType==="network-response"){const h=i.minimumLevel===Ee.Trace?this.formattedHeaders(i):void 0,m=this.formattedBody(i),_=(m?.formData?"Headers":"Status").length,x=i.message;return`Received HTTP response:
  ${this.paddedString("URL",_)}: ${x.url}
  ${this.paddedString("Status",_)}: ${x.status}${h?`
  ${this.paddedString("Headers",_)}:
${h}`:""}${m?.body?`
  ${this.paddedString("Body",_)}:
${m.body}`:""}`}if(i.messageType==="error"){const h=this.formattedErrorStatus(i),m=i.message;return`${m.name}: ${m.message}${h?`
${h}`:""}`}return"<unknown log message data>"}formattedObject(i){const h=(m,_=1,x=!1)=>{const O=_===10,I=" ".repeat(2*_),F=[],q=(ie,re)=>!!i.ignoredKeys&&(typeof i.ignoredKeys=="function"?i.ignoredKeys(ie,re):i.ignoredKeys.includes(ie));if(typeof m=="string")F.push(`${I}- ${m}`);else if(typeof m=="number")F.push(`${I}- ${m}`);else if(typeof m=="boolean")F.push(`${I}- ${m}`);else if(m===null)F.push(`${I}- null`);else if(m===void 0)F.push(`${I}- undefined`);else if(typeof m=="function")F.push(`${I}- <function>`);else if(typeof m=="object")if(Array.isArray(m)||typeof m.toString!="function"||m.toString().indexOf("[object")===0)if(Array.isArray(m))for(const ie of m){const re=x?"":I;if(ie===null)F.push(`${re}- null`);else if(ie===void 0)F.push(`${re}- undefined`);else if(typeof ie=="function")F.push(`${re}- <function>`);else if(typeof ie=="object"){const ne=Array.isArray(ie),ge=O?"...":h(ie,_+1,!ne);F.push(`${re}-${ne&&!O?`
`:" "}${ge}`)}else F.push(`${re}- ${ie}`);x=!1}else{const ie=m,re=Object.keys(ie),ne=re.reduce((ge,ae)=>Math.max(ge,q(ae,ie)?ge:ae.length),0);for(const ge of re){if(q(ge,ie))continue;const ae=x?"":I,oe=ie[ge],pe=ge.padEnd(ne," ");if(oe===null)F.push(`${ae}${pe}: null`);else if(oe===void 0)F.push(`${ae}${pe}: undefined`);else if(typeof oe=="function")F.push(`${ae}${pe}: <function>`);else if(typeof oe=="object"){const De=Array.isArray(oe),nt=De&&oe.length===0,mt=!(De||oe instanceof String||Object.keys(oe).length!==0),Nt=!De&&typeof oe.toString=="function"&&oe.toString().indexOf("[object")!==0,Ge=O?"...":nt?"[]":mt?"{}":h(oe,_+1,Nt);F.push(`${ae}${pe}:${O||Nt||nt||mt?" ":`
`}${Ge}`)}else F.push(`${ae}${pe}: ${oe}`);x=!1}}else F.push(`${x?"":I}${m.toString()}`),x=!1;return F.join(`
`)};return h(i.message)}formattedHeaders(i){if(!i.message.headers)return;const h=i.message.headers,m=Object.keys(h).reduce((_,x)=>Math.max(_,x.length),0);return Object.keys(h).map(_=>`    - ${_.toLowerCase().padEnd(m," ")}: ${h[_]}`).join(`
`)}formattedBody(i){var h;if(!i.message.headers)return;let m,_;const x=i.message.headers,O=(h=x["content-type"])!==null&&h!==void 0?h:x["Content-Type"],I="formData"in i.message?i.message.formData:void 0,F=i.message.body;if(I){const q=I.reduce((ie,{key:re})=>Math.max(ie,re.length),0);m=I.map(({key:ie,value:re})=>`    - ${ie.padEnd(q," ")}: ${re}`).join(`
`)}return F?(_=typeof F=="string"?`    ${F}`:F instanceof ArrayBuffer||Object.prototype.toString.call(F)==="[object ArrayBuffer]"?!O||O.indexOf("javascript")===-1&&O.indexOf("json")===-1?`    ArrayBuffer { byteLength: ${F.byteLength} }`:`    ${sr.decoder.decode(F)}`:`    File { name: ${F.name}${F.contentLength?`, contentLength: ${F.contentLength}`:""}${F.mimeType?`, mimeType: ${F.mimeType}`:""} }`,{body:_,formData:m}):{formData:m}}formattedErrorStatus(i){if(!i.message.status)return;const h=i.message.status,m=h.errorData;let _;if(sr.isError(m))_=`    ${m.name}: ${m.message}`,m.stack&&(_+=`
${m.stack.split(`
`).map(x=>`      ${x}`).join(`
`)}`);else if(m)try{_=`    ${JSON.stringify(m)}`}catch{_=`    ${m}`}return`  Category  : ${h.category}
  Operation : ${h.operation}
  Status    : ${h.statusCode}${_?`
  Error data:
${_}`:""}`}paddedString(i,h){return i.padEnd(h-i.length," ")}static isError(i){return!!i&&(i instanceof Error||Object.prototype.toString.call(i)==="[object Error]")}}var Kt;sr.decoder=new TextDecoder,function(P){P.Unknown="UnknownEndpoint",P.MessageSend="MessageSendEndpoint",P.Subscribe="SubscribeEndpoint",P.Presence="PresenceEndpoint",P.Files="FilesEndpoint",P.MessageStorage="MessageStorageEndpoint",P.ChannelGroups="ChannelGroupsEndpoint",P.DevicePushNotifications="DevicePushNotificationsEndpoint",P.AppContext="AppContextEndpoint",P.MessageReactions="MessageReactionsEndpoint"}(Kt||(Kt={}));class Kn{static None(){return{shouldRetry:(i,h,m,_)=>!1,getDelay:(i,h)=>-1,validate:()=>!0}}static LinearRetryPolicy(i){var h;return{delay:i.delay,maximumRetry:i.maximumRetry,excluded:(h=i.excluded)!==null&&h!==void 0?h:[],shouldRetry(m,_,x,O){return fi(m,_,x,O??0,this.maximumRetry,this.excluded)},getDelay(m,_){let x=-1;return _&&_.headers["retry-after"]!==void 0&&(x=parseInt(_.headers["retry-after"],10)),x===-1&&(x=this.delay),1e3*(x+Math.random())},validate(){if(this.delay<2)throw new Error("Delay can not be set less than 2 seconds for retry");if(this.maximumRetry>10)throw new Error("Maximum retry for linear retry policy can not be more than 10")}}}static ExponentialRetryPolicy(i){var h;return{minimumDelay:i.minimumDelay,maximumDelay:i.maximumDelay,maximumRetry:i.maximumRetry,excluded:(h=i.excluded)!==null&&h!==void 0?h:[],shouldRetry(m,_,x,O){return fi(m,_,x,O??0,this.maximumRetry,this.excluded)},getDelay(m,_){let x=-1;return _&&_.headers["retry-after"]!==void 0&&(x=parseInt(_.headers["retry-after"],10)),x===-1&&(x=Math.min(Math.pow(2,m),this.maximumDelay)),1e3*(x+Math.random())},validate(){if(this.minimumDelay<2)throw new Error("Minimum delay can not be set less than 2 seconds for retry");if(this.maximumDelay>150)throw new Error("Maximum delay can not be set more than 150 seconds for retry");if(this.maximumRetry>6)throw new Error("Maximum retry for exponential retry policy can not be more than 6")}}}}const fi=(P,i,h,m,_,x)=>(!h||h!==C.PNCancelledCategory&&h!==C.PNBadRequestCategory&&h!==C.PNAccessDeniedCategory)&&!Qo(P,x)&&!(m>_)&&(!i||i.status===429||i.status>=500),Qo=(P,i)=>!!(i&&i.length>0)&&i.includes(Dr(P)),Dr=P=>{let i=Kt.Unknown;return P.path.startsWith("/v2/subscribe")?i=Kt.Subscribe:P.path.startsWith("/publish/")||P.path.startsWith("/signal/")?i=Kt.MessageSend:P.path.startsWith("/v2/presence")?i=Kt.Presence:P.path.startsWith("/v2/history")||P.path.startsWith("/v3/history")?i=Kt.MessageStorage:P.path.startsWith("/v1/message-actions/")?i=Kt.MessageReactions:P.path.startsWith("/v1/channel-registration/")||P.path.startsWith("/v2/objects/")?i=Kt.ChannelGroups:P.path.startsWith("/v1/push/")||P.path.startsWith("/v2/push/")?i=Kt.DevicePushNotifications:P.path.startsWith("/v1/files/")&&(i=Kt.Files),i};class Jo{constructor(i,h,m){this.pubNubId=i,this.minLogLevel=h,this.loggers=m}get logLevel(){return this.minLogLevel}trace(i,h){this.log(Ee.Trace,i,h)}debug(i,h){this.log(Ee.Debug,i,h)}info(i,h){this.log(Ee.Info,i,h)}warn(i,h){this.log(Ee.Warn,i,h)}error(i,h){this.log(Ee.Error,i,h)}log(i,h,m){if(i<this.minLogLevel||this.loggers.length===0)return;const _=Ee[i].toLowerCase(),x=Object.assign({timestamp:new Date,pubNubId:this.pubNubId,level:i,minimumLevel:this.minLogLevel,location:h},typeof m=="function"?m():{messageType:"text",message:m});this.loggers.forEach(O=>O[_](x))}}var pa={exports:{}};/*! lil-uuid - v0.1 - MIT License - https://github.com/lil-js/uuid */(function(P,i){(function(h){var m="0.1.0",_={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function x(){var I,F,q="";for(I=0;I<32;I++)F=16*Math.random()|0,I!==8&&I!==12&&I!==16&&I!==20||(q+="-"),q+=(I===12?4:I===16?3&F|8:F).toString(16);return q}function O(I,F){var q=_[F||"all"];return q&&q.test(I)||!1}x.isUUID=O,x.VERSION=m,h.uuid=x,h.isUUID=O})(i),P!==null&&(P.exports=i.uuid)})(pa,pa.exports);var Bn=e(pa.exports),gn={createUUID:()=>Bn.uuid?Bn.uuid():Bn()};const Us=(P,i)=>{var h,m,_,x;!P.retryConfiguration&&P.enableEventEngine&&(P.retryConfiguration=Kn.ExponentialRetryPolicy({minimumDelay:2,maximumDelay:150,maximumRetry:6,excluded:[Kt.MessageSend,Kt.Presence,Kt.Files,Kt.MessageStorage,Kt.ChannelGroups,Kt.DevicePushNotifications,Kt.AppContext,Kt.MessageReactions]}));const O=`pn-${gn.createUUID()}`;P.logVerbosity?P.logLevel=Ee.Debug:P.logLevel===void 0&&(P.logLevel=Ee.None);const I=new Jo(Ga(O),P.logLevel,[...(h=P.loggers)!==null&&h!==void 0?h:[],new sr]);P.logVerbosity!==void 0&&I.warn("Configuration","'logVerbosity' is deprecated. Use 'logLevel' instead."),(m=P.retryConfiguration)===null||m===void 0||m.validate(),(_=P.useRandomIVs)!==null&&_!==void 0||(P.useRandomIVs=!0),P.useRandomIVs&&I.warn("Configuration","'useRandomIVs' is deprecated. Use 'cryptoModule' instead."),P.origin=Ri((x=P.ssl)!==null&&x!==void 0&&x,P.origin);const F=P.cryptoModule;F&&delete P.cryptoModule;const q=Object.assign(Object.assign({},P),{_pnsdkSuffix:{},_loggerManager:I,_instanceId:O,_cryptoModule:void 0,_cipherKey:void 0,_setupCryptoModule:i,get instanceId(){if(P.useInstanceId)return this._instanceId},getInstanceId(){if(P.useInstanceId)return this._instanceId},getUserId(){return this.userId},setUserId(ie){if(!ie||typeof ie!="string"||ie.trim().length===0)throw new Error("Missing or invalid userId parameter. Provide a valid string userId");this.userId=ie},logger(){return this._loggerManager},getAuthKey(){return this.authKey},setAuthKey(ie){this.authKey=ie},getFilterExpression(){return this.filterExpression},setFilterExpression(ie){this.filterExpression=ie},getCipherKey(){return this._cipherKey},setCipherKey(ie){this._cipherKey=ie,ie||!this._cryptoModule?ie&&this._setupCryptoModule&&(this._cryptoModule=this._setupCryptoModule({cipherKey:ie,useRandomIVs:P.useRandomIVs,customEncrypt:this.getCustomEncrypt(),customDecrypt:this.getCustomDecrypt(),logger:this.logger()})):this._cryptoModule=void 0},getCryptoModule(){return this._cryptoModule},getUseRandomIVs:()=>P.useRandomIVs,getKeepPresenceChannelsInPresenceRequests:()=>P.sdkFamily==="Web"&&P.subscriptionWorkerUrl,setPresenceTimeout(ie){this.heartbeatInterval=ie/2-1,this.presenceTimeout=ie},getPresenceTimeout(){return this.presenceTimeout},getHeartbeatInterval(){return this.heartbeatInterval},setHeartbeatInterval(ie){this.heartbeatInterval=ie},getTransactionTimeout(){return this.transactionalRequestTimeout},getSubscribeTimeout(){return this.subscribeRequestTimeout},getFileTimeout(){return this.fileRequestTimeout},get PubNubFile(){return P.PubNubFile},get version(){return"9.8.1"},getVersion(){return this.version},_addPnsdkSuffix(ie,re){this._pnsdkSuffix[ie]=`${re}`},_getPnsdkSuffix(ie){const re=Object.values(this._pnsdkSuffix).join(ie);return re.length>0?ie+re:""},getUUID(){return this.getUserId()},setUUID(ie){this.setUserId(ie)},getCustomEncrypt:()=>P.customEncrypt,getCustomDecrypt:()=>P.customDecrypt});return P.cipherKey?(I.warn("Configuration","'cipherKey' is deprecated. Use 'cryptoModule' instead."),q.setCipherKey(P.cipherKey)):F&&(q._cryptoModule=F),q},Ri=(P,i)=>{const h=P?"https://":"http://";return typeof i=="string"?`${h}${i}`:`${h}${i[Math.floor(Math.random()*i.length)]}`},Ga=P=>{let i=2166136261;for(let h=0;h<P.length;h++)i^=P.charCodeAt(h),i=i+((i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24))>>>0;return i.toString(16).padStart(8,"0")};class pi{constructor(i){this.cbor=i}setToken(i){i&&i.length>0?this.token=i:this.token=void 0}getToken(){return this.token}parseToken(i){const h=this.cbor.decodeToken(i);if(h!==void 0){const m=h.res.uuid?Object.keys(h.res.uuid):[],_=Object.keys(h.res.chan),x=Object.keys(h.res.grp),O=h.pat.uuid?Object.keys(h.pat.uuid):[],I=Object.keys(h.pat.chan),F=Object.keys(h.pat.grp),q={version:h.v,timestamp:h.t,ttl:h.ttl,authorized_uuid:h.uuid,signature:h.sig},ie=m.length>0,re=_.length>0,ne=x.length>0;if(ie||re||ne){if(q.resources={},ie){const pe=q.resources.uuids={};m.forEach(De=>pe[De]=this.extractPermissions(h.res.uuid[De]))}if(re){const pe=q.resources.channels={};_.forEach(De=>pe[De]=this.extractPermissions(h.res.chan[De]))}if(ne){const pe=q.resources.groups={};x.forEach(De=>pe[De]=this.extractPermissions(h.res.grp[De]))}}const ge=O.length>0,ae=I.length>0,oe=F.length>0;if(ge||ae||oe){if(q.patterns={},ge){const pe=q.patterns.uuids={};O.forEach(De=>pe[De]=this.extractPermissions(h.pat.uuid[De]))}if(ae){const pe=q.patterns.channels={};I.forEach(De=>pe[De]=this.extractPermissions(h.pat.chan[De]))}if(oe){const pe=q.patterns.groups={};F.forEach(De=>pe[De]=this.extractPermissions(h.pat.grp[De]))}}return h.meta&&Object.keys(h.meta).length>0&&(q.meta=h.meta),q}}extractPermissions(i){const h={read:!1,write:!1,manage:!1,delete:!1,get:!1,update:!1,join:!1};return 128&~i||(h.join=!0),64&~i||(h.update=!0),32&~i||(h.get=!0),8&~i||(h.delete=!0),4&~i||(h.manage=!0),2&~i||(h.write=!0),1&~i||(h.read=!0),h}}var on;(function(P){P.GET="GET",P.POST="POST",P.PATCH="PATCH",P.DELETE="DELETE",P.LOCAL="LOCAL"})(on||(on={}));class qr{constructor(i,h,m,_){this.publishKey=i,this.secretKey=h,this.hasher=m,this.logger=_}signature(i){const h=i.path.startsWith("/publish")?on.GET:i.method;let m=`${h}
${this.publishKey}
${i.path}
${this.queryParameters(i.queryParameters)}
`;if(h===on.POST||h===on.PATCH){const _=i.body;let x;_&&_ instanceof ArrayBuffer?x=qr.textDecoder.decode(_):_&&typeof _!="object"&&(x=_),x&&(m+=x)}return this.logger.trace("RequestSignature",()=>({messageType:"text",message:`Request signature input:
${m}`})),`v2.${this.hasher(m,this.secretKey)}`.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}queryParameters(i){return Object.keys(i).sort().map(h=>{const m=i[h];return Array.isArray(m)?m.sort().map(_=>`${h}=${Le(_)}`).join("&"):`${h}=${Le(m)}`}).join("&")}}qr.textDecoder=new TextDecoder("utf-8");class ss{constructor(i){this.configuration=i;const{clientConfiguration:{keySet:h},shaHMAC:m}=i;h.secretKey&&m&&(this.signatureGenerator=new qr(h.publishKey,h.secretKey,m,this.logger))}get logger(){return this.configuration.clientConfiguration.logger()}makeSendable(i){const h=this.configuration.clientConfiguration.retryConfiguration,m=this.configuration.transport;if(h!==void 0){let _,x,O=!1,I=0;const F={abort:q=>{O=!0,_&&clearTimeout(_),x&&x.abort(q)}};return[new Promise((q,ie)=>{const re=()=>{if(O)return;const[ne,ge]=m.makeSendable(this.request(i));x=ge;const ae=(oe,pe)=>{const De=!pe||pe.category!==C.PNCancelledCategory,nt=!oe||oe.status>=400;let mt=-1;De&&nt&&h.shouldRetry(i,oe,pe?.category,I+1)&&(mt=h.getDelay(I,oe)),mt>0?(I++,this.logger.warn("PubNubMiddleware",`HTTP request retry #${I} in ${mt}ms.`),_=setTimeout(()=>re(),mt)):oe?q(oe):pe&&ie(pe)};ne.then(oe=>ae(oe)).catch(oe=>ae(void 0,oe))};re()}),x?F:void 0]}return m.makeSendable(this.request(i))}request(i){var h;const{clientConfiguration:m}=this.configuration;return(i=this.configuration.transport.request(i)).queryParameters||(i.queryParameters={}),m.useInstanceId&&(i.queryParameters.instanceid=m.getInstanceId()),i.queryParameters.uuid||(i.queryParameters.uuid=m.userId),m.useRequestId&&(i.queryParameters.requestid=i.identifier),i.queryParameters.pnsdk=this.generatePNSDK(),(h=i.origin)!==null&&h!==void 0||(i.origin=m.origin),this.authenticateRequest(i),this.signRequest(i),i}authenticateRequest(i){var h;if(i.path.startsWith("/v2/auth/")||i.path.startsWith("/v3/pam/")||i.path.startsWith("/time"))return;const{clientConfiguration:m,tokenManager:_}=this.configuration,x=(h=_&&_.getToken())!==null&&h!==void 0?h:m.authKey;x&&(i.queryParameters.auth=x)}signRequest(i){this.signatureGenerator&&!i.path.startsWith("/time")&&(i.queryParameters.timestamp=String(Math.floor(new Date().getTime()/1e3)),i.queryParameters.signature=this.signatureGenerator.signature(i))}generatePNSDK(){const{clientConfiguration:i}=this.configuration;if(i.sdkName)return i.sdkName;let h=`PubNub-JS-${i.sdkFamily}`;i.partnerId&&(h+=`-${i.partnerId}`),h+=`/${i.getVersion()}`;const m=i._getPnsdkSuffix(" ");return m.length>0&&(h+=m),h}}class Yr{constructor(i,h="fetch"){this.logger=i,this.transport=h,i.debug("WebTransport",`Create with configuration:
  - transport: ${h}`),h!=="fetch"||window&&window.fetch||(i.warn("WebTransport",`'${h}' not supported in this browser. Fallback to the 'xhr' transport.`),this.transport="xhr"),this.transport==="fetch"&&(Yr.originalFetch=fetch.bind(window),this.isFetchMonkeyPatched()&&(Yr.originalFetch=Yr.getOriginalFetch(),i.warn("WebTransport","Native Web Fetch API 'fetch' function monkey patched."),this.isFetchMonkeyPatched(Yr.originalFetch)?i.warn("WebTransport","Unable receive native Web Fetch API. There can be issues with subscribe long-poll  cancellation"):i.info("WebTransport","Use native Web Fetch API 'fetch' implementation from iframe as APM workaround.")))}makeSendable(i){const h=new AbortController,m={abortController:h,abort:_=>{h.signal.aborted||(this.logger.trace("WebTransport",`On-demand request aborting: ${_}`),h.abort(_))}};return[this.webTransportRequestFromTransportRequest(i).then(_=>(this.logger.debug("WebTransport",()=>({messageType:"network-request",message:i})),this.sendRequest(_,m).then(x=>x.arrayBuffer().then(O=>[x,O])).then(x=>{const O=x[1].byteLength>0?x[1]:void 0,{status:I,headers:F}=x[0],q={};F.forEach((re,ne)=>q[ne]=re.toLowerCase());const ie={status:I,url:_.url,headers:q,body:O};if(this.logger.debug("WebTransport",()=>({messageType:"network-response",message:ie})),I>=400)throw be.create(ie);return ie}).catch(x=>{const O=(typeof x=="string"?x:x.message).toLowerCase();let I=typeof x=="string"?new Error(x):x;throw O.includes("timeout")?this.logger.warn("WebTransport",()=>({messageType:"network-request",message:i,details:"Timeout",canceled:!0})):O.includes("cancel")||O.includes("abort")?(this.logger.debug("WebTransport",()=>({messageType:"network-request",message:i,details:"Aborted",canceled:!0})),I=new Error("Aborted"),I.name="AbortError"):O.includes("network")?this.logger.warn("WebTransport",()=>({messageType:"network-request",message:i,details:"Network error",failed:!0})):this.logger.warn("WebTransport",()=>({messageType:"network-request",message:i,details:be.create(I).message,failed:!0})),be.create(I)}))),m]}request(i){return i}sendRequest(i,h){return d(this,void 0,void 0,function*(){return this.transport==="fetch"?this.sendFetchRequest(i,h):this.sendXHRRequest(i,h)})}sendFetchRequest(i,h){return d(this,void 0,void 0,function*(){let m;const _=new Promise((O,I)=>{m=setTimeout(()=>{clearTimeout(m),I(new Error("Request timeout")),h.abort("Cancel because of timeout")},1e3*i.timeout)}),x=new Request(i.url,{method:i.method,headers:i.headers,redirect:"follow",body:i.body});return Promise.race([Yr.originalFetch(x,{signal:h.abortController.signal,credentials:"omit",cache:"no-cache"}).then(O=>(m&&clearTimeout(m),O)),_])})}sendXHRRequest(i,h){return d(this,void 0,void 0,function*(){return new Promise((m,_)=>{var x;const O=new XMLHttpRequest;O.open(i.method,i.url,!0);let I=!1;O.responseType="arraybuffer",O.timeout=1e3*i.timeout,h.abortController.signal.onabort=()=>{O.readyState!=XMLHttpRequest.DONE&&O.readyState!=XMLHttpRequest.UNSENT&&(I=!0,O.abort())},Object.entries((x=i.headers)!==null&&x!==void 0?x:{}).forEach(([F,q])=>O.setRequestHeader(F,q)),O.onabort=()=>{_(new Error("Aborted"))},O.ontimeout=()=>{_(new Error("Request timeout"))},O.onerror=()=>{if(!I){const F=this.transportResponseFromXHR(i.url,O);_(new Error(be.create(F).message))}},O.onload=()=>{const F=new Headers;O.getAllResponseHeaders().split(`\r
`).forEach(q=>{const[ie,re]=q.split(": ");ie.length>1&&re.length>1&&F.append(ie,re)}),m(new Response(O.response,{status:O.status,headers:F,statusText:O.statusText}))},O.send(i.body)})})}webTransportRequestFromTransportRequest(i){return d(this,void 0,void 0,function*(){let h,m=i.path;if(i.formData&&i.formData.length>0){i.queryParameters={};const _=i.body,x=new FormData;for(const{key:O,value:I}of i.formData)x.append(O,I);try{const O=yield _.toArrayBuffer();x.append("file",new Blob([O],{type:"application/octet-stream"}),_.name)}catch(O){this.logger.warn("WebTransport",()=>({messageType:"error",message:O}));try{const I=yield _.toFileUri();x.append("file",I,_.name)}catch(I){this.logger.error("WebTransport",()=>({messageType:"error",message:I}))}}h=x}else if(i.body&&(typeof i.body=="string"||i.body instanceof ArrayBuffer))if(i.compressible&&typeof CompressionStream<"u"){const _=typeof i.body=="string"?Yr.encoder.encode(i.body):i.body,x=_.byteLength,O=new ReadableStream({start(I){I.enqueue(_),I.close()}});h=yield new Response(O.pipeThrough(new CompressionStream("deflate"))).arrayBuffer(),this.logger.trace("WebTransport",()=>{const I=h.byteLength,F=(I/x).toFixed(2);return{messageType:"text",message:`Body of ${x} bytes, compressed by ${F}x to ${I} bytes.`}})}else h=i.body;return i.queryParameters&&Object.keys(i.queryParameters).length!==0&&(m=`${m}?${Tt(i.queryParameters)}`),{url:`${i.origin}${m}`,method:i.method,headers:i.headers,timeout:i.timeout,body:h}})}isFetchMonkeyPatched(i){return!(i??fetch).toString().includes("[native code]")&&fetch.name!=="fetch"}transportResponseFromXHR(i,h){const m=h.getAllResponseHeaders().split(`
`),_={};for(const x of m){const[O,I]=x.trim().split(":");O&&I&&(_[O.toLowerCase()]=I.trim())}return{status:h.status,url:i,headers:_,body:h.response}}static getOriginalFetch(){let i=document.querySelector('iframe[name="pubnub-context-unpatched-fetch"]');return i||(i=document.createElement("iframe"),i.style.display="none",i.name="pubnub-context-unpatched-fetch",i.src="about:blank",document.body.appendChild(i)),i.contentWindow?i.contentWindow.fetch.bind(i.contentWindow):fetch}}Yr.encoder=new TextEncoder,Yr.decoder=new TextDecoder;class gt{constructor(i){this.params=i,this.requestIdentifier=gn.createUUID(),this._cancellationController=null}get cancellationController(){return this._cancellationController}set cancellationController(i){this._cancellationController=i}abort(i){this&&this.cancellationController&&this.cancellationController.abort(i)}operation(){throw Error("Should be implemented by subclass.")}validate(){}parse(i){return d(this,void 0,void 0,function*(){return this.deserializeResponse(i)})}request(){var i,h,m,_,x,O;const I={method:(h=(i=this.params)===null||i===void 0?void 0:i.method)!==null&&h!==void 0?h:on.GET,path:this.path,queryParameters:this.queryParameters,cancellable:(_=(m=this.params)===null||m===void 0?void 0:m.cancellable)!==null&&_!==void 0&&_,compressible:(O=(x=this.params)===null||x===void 0?void 0:x.compressible)!==null&&O!==void 0&&O,timeout:10,identifier:this.requestIdentifier},F=this.headers;if(F&&(I.headers=F),I.method===on.POST||I.method===on.PATCH){const[q,ie]=[this.body,this.formData];ie&&(I.formData=ie),q&&(I.body=q)}return I}get headers(){var i,h;return Object.assign({"Accept-Encoding":"gzip, deflate"},(h=(i=this.params)===null||i===void 0?void 0:i.compressible)!==null&&h!==void 0&&h?{"Content-Encoding":"deflate"}:{})}get path(){throw Error("`path` getter should be implemented by subclass.")}get queryParameters(){return{}}get formData(){}get body(){}deserializeResponse(i){const h=gt.decoder.decode(i.body),m=i.headers["content-type"];let _;if(!m||m.indexOf("javascript")===-1&&m.indexOf("json")===-1)throw new A("Service response error, check status for details",M(h,i.status));try{_=JSON.parse(h)}catch(x){throw console.error("Error parsing JSON response:",x),new A("Service response error, check status for details",M(h,i.status))}if("status"in _&&typeof _.status=="number"&&_.status>=400)throw be.create(i);return _}}gt.decoder=new TextDecoder;var Ft;(function(P){P[P.Presence=-2]="Presence",P[P.Message=-1]="Message",P[P.Signal=1]="Signal",P[P.AppContext=2]="AppContext",P[P.MessageAction=3]="MessageAction",P[P.Files=4]="Files"})(Ft||(Ft={}));class Xo extends gt{constructor(i){var h,m,_,x,O,I;super({cancellable:!0}),this.parameters=i,(h=(x=this.parameters).withPresence)!==null&&h!==void 0||(x.withPresence=!1),(m=(O=this.parameters).channelGroups)!==null&&m!==void 0||(O.channelGroups=[]),(_=(I=this.parameters).channels)!==null&&_!==void 0||(I.channels=[])}operation(){return Q.PNSubscribeOperation}validate(){const{keySet:{subscribeKey:i},channels:h,channelGroups:m}=this.parameters;return i?h||m?void 0:"`channels` and `channelGroups` both should not be empty":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){let h,m;try{m=gt.decoder.decode(i.body),h=JSON.parse(m)}catch(x){console.error("Error parsing JSON response:",x)}if(!h)throw new A("Service response error, check status for details",M(m,i.status));const _=h.m.filter(x=>{const O=x.b===void 0?x.c:x.b;return this.parameters.channels&&this.parameters.channels.includes(O)||this.parameters.channelGroups&&this.parameters.channelGroups.includes(O)}).map(x=>{let{e:O}=x;return O!=null||(O=x.c.endsWith("-pnpres")?Ft.Presence:Ft.Message),O!=Ft.Signal&&typeof x.d=="string"?O==Ft.Message?{type:Ft.Message,data:this.messageFromEnvelope(x)}:{type:Ft.Files,data:this.fileFromEnvelope(x)}:O==Ft.Message?{type:Ft.Message,data:this.messageFromEnvelope(x)}:O===Ft.Presence?{type:Ft.Presence,data:this.presenceEventFromEnvelope(x)}:O==Ft.Signal?{type:Ft.Signal,data:this.signalFromEnvelope(x)}:O===Ft.AppContext?{type:Ft.AppContext,data:this.appContextFromEnvelope(x)}:O===Ft.MessageAction?{type:Ft.MessageAction,data:this.messageActionFromEnvelope(x)}:{type:Ft.Files,data:this.fileFromEnvelope(x)}});return{cursor:{timetoken:h.t.t,region:h.t.r},messages:_}})}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{accept:"text/javascript"})}presenceEventFromEnvelope(i){var h;const{d:m}=i,[_,x]=this.subscriptionChannelFromEnvelope(i),O=_.replace("-pnpres",""),I=x!==null?O:null,F=x!==null?x:O;return typeof m!="string"&&("data"in m?(m.state=m.data,delete m.data):"action"in m&&m.action==="interval"&&(m.hereNowRefresh=(h=m.here_now_refresh)!==null&&h!==void 0&&h,delete m.here_now_refresh)),Object.assign({channel:O,subscription:x,actualChannel:I,subscribedChannel:F,timetoken:i.p.t},m)}messageFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),[_,x]=this.decryptedData(i.d),O={channel:h,subscription:m,actualChannel:m!==null?h:null,subscribedChannel:m!==null?m:h,timetoken:i.p.t,publisher:i.i,message:_};return i.u&&(O.userMetadata=i.u),i.cmt&&(O.customMessageType=i.cmt),x&&(O.error=x),O}signalFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),_={channel:h,subscription:m,timetoken:i.p.t,publisher:i.i,message:i.d};return i.u&&(_.userMetadata=i.u),i.cmt&&(_.customMessageType=i.cmt),_}messageActionFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),_=i.d;return{channel:h,subscription:m,timetoken:i.p.t,publisher:i.i,event:_.event,data:Object.assign(Object.assign({},_.data),{uuid:i.i})}}appContextFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),_=i.d;return{channel:h,subscription:m,timetoken:i.p.t,message:_}}fileFromEnvelope(i){const[h,m]=this.subscriptionChannelFromEnvelope(i),[_,x]=this.decryptedData(i.d);let O=x;const I={channel:h,subscription:m,timetoken:i.p.t,publisher:i.i};return i.u&&(I.userMetadata=i.u),_?typeof _=="string"?O!=null||(O="Unexpected file information payload data type."):(I.message=_.message,_.file&&(I.file={id:_.file.id,name:_.file.name,url:this.parameters.getFileUrl({id:_.file.id,name:_.file.name,channel:h})})):O!=null||(O="File information payload is missing."),i.cmt&&(I.customMessageType=i.cmt),O&&(I.error=O),I}subscriptionChannelFromEnvelope(i){return[i.c,i.b===void 0?i.c:i.b]}decryptedData(i){if(!this.parameters.crypto||typeof i!="string")return[i,void 0];let h,m;try{const _=this.parameters.crypto.decrypt(i);h=_ instanceof ArrayBuffer?JSON.parse(Zo.decoder.decode(_)):_}catch(_){h=null,m=`Error while decrypting message content: ${_.message}`}return[h??i,m]}}class Zo extends Xo{get path(){var i;const{keySet:{subscribeKey:h},channels:m}=this.parameters;return`/v2/subscribe/${h}/${Ve((i=m?.sort())!==null&&i!==void 0?i:[],",")}/0`}get queryParameters(){const{channelGroups:i,filterExpression:h,heartbeat:m,state:_,timetoken:x,region:O}=this.parameters,I={};return i&&i.length>0&&(I["channel-group"]=i.sort().join(",")),h&&h.length>0&&(I["filter-expr"]=h),m&&(I.heartbeat=m),_&&Object.keys(_).length>0&&(I.state=JSON.stringify(_)),x!==void 0&&typeof x=="string"?x.length>0&&x!=="0"&&(I.tt=x):x!==void 0&&x>0&&(I.tt=x),O&&(I.tr=O),I}}class el{constructor(){this.hasListeners=!1,this.listeners=[{count:-1,listener:{}}]}set onStatus(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"status"})}set onMessage(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"message"})}set onPresence(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"presence"})}set onSignal(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"signal"})}set onObjects(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"objects"})}set onMessageAction(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"messageAction"})}set onFile(i){this.updateTypeOrObjectListener({add:!!i,listener:i,type:"file"})}handleEvent(i){if(this.hasListeners)if(i.type===Ft.Message)this.announce("message",i.data);else if(i.type===Ft.Signal)this.announce("signal",i.data);else if(i.type===Ft.Presence)this.announce("presence",i.data);else if(i.type===Ft.AppContext){const{data:h}=i,{message:m}=h;if(this.announce("objects",h),m.type==="uuid"){const{message:_,channel:x}=h,O=c(h,["message","channel"]),{event:I,type:F}=m,q=c(m,["event","type"]),ie=Object.assign(Object.assign({},O),{spaceId:x,message:Object.assign(Object.assign({},q),{event:I==="set"?"updated":"removed",type:"user"})});this.announce("user",ie)}else if(m.type==="channel"){const{message:_,channel:x}=h,O=c(h,["message","channel"]),{event:I,type:F}=m,q=c(m,["event","type"]),ie=Object.assign(Object.assign({},O),{spaceId:x,message:Object.assign(Object.assign({},q),{event:I==="set"?"updated":"removed",type:"space"})});this.announce("space",ie)}else if(m.type==="membership"){const{message:_,channel:x}=h,O=c(h,["message","channel"]),{event:I,data:F}=m,q=c(m,["event","data"]),{uuid:ie,channel:re}=F,ne=c(F,["uuid","channel"]),ge=Object.assign(Object.assign({},O),{spaceId:x,message:Object.assign(Object.assign({},q),{event:I==="set"?"updated":"removed",data:Object.assign(Object.assign({},ne),{user:ie,space:re})})});this.announce("membership",ge)}}else i.type===Ft.MessageAction?this.announce("messageAction",i.data):i.type===Ft.Files&&this.announce("file",i.data)}handleStatus(i){this.hasListeners&&this.announce("status",i)}addListener(i){this.updateTypeOrObjectListener({add:!0,listener:i})}removeListener(i){this.updateTypeOrObjectListener({add:!1,listener:i})}removeAllListeners(){this.listeners=[{count:-1,listener:{}}],this.hasListeners=!1}updateTypeOrObjectListener(i){if(i.type)typeof i.listener=="function"?this.listeners[0].listener[i.type]=i.listener:delete this.listeners[0].listener[i.type];else if(i.listener&&typeof i.listener!="function"){let h,m=!1;for(h of this.listeners)if(h.listener===i.listener){i.add?(h.count++,m=!0):(h.count--,h.count===0&&this.listeners.splice(this.listeners.indexOf(h),1));break}i.add&&!m&&this.listeners.push({count:1,listener:i.listener})}this.hasListeners=this.listeners.length>1||Object.keys(this.listeners[0]).length>0}announce(i,h){this.listeners.forEach(({listener:m})=>{const _=m[i];_&&_(h)})}}class wc{constructor(i){this.time=i}onReconnect(i){this.callback=i}startPolling(){this.timeTimer=setInterval(()=>this.callTime(),3e3)}stopPolling(){this.timeTimer&&clearInterval(this.timeTimer),this.timeTimer=null}callTime(){this.time(i=>{i.error||(this.stopPolling(),this.callback&&this.callback())})}}class tl{constructor(i){this.config=i,i.logger().debug("DedupingManager",()=>({messageType:"object",message:{maximumCacheSize:i.maximumCacheSize},details:"Create with configuration:"})),this.maximumCacheSize=i.maximumCacheSize,this.hashHistory=[]}getKey(i){var h;return`${i.timetoken}-${this.hashCode(JSON.stringify((h=i.message)!==null&&h!==void 0?h:"")).toString()}`}isDuplicate(i){return this.hashHistory.includes(this.getKey(i))}addEntry(i){this.hashHistory.length>=this.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(i))}clearHistory(){this.hashHistory=[]}hashCode(i){let h=0;if(i.length===0)return h;for(let m=0;m<i.length;m+=1)h=(h<<5)-h+i.charCodeAt(m),h|=0;return h}}class nl{constructor(i,h,m,_,x,O,I){this.configuration=i,this.emitEvent=h,this.emitStatus=m,this.subscribeCall=_,this.heartbeatCall=x,this.leaveCall=O,i.logger().trace("SubscriptionManager","Create manager."),this.reconnectionManager=new wc(I),this.dedupingManager=new tl(this.configuration),this.heartbeatChannelGroups={},this.heartbeatChannels={},this.presenceChannelGroups={},this.presenceChannels={},this.heartbeatTimer=null,this.presenceState={},this.pendingChannelGroupSubscriptions=new Set,this.pendingChannelSubscriptions=new Set,this.channelGroups={},this.channels={},this.currentTimetoken="0",this.lastTimetoken="0",this.storedTimetoken=null,this.referenceTimetoken=null,this.subscriptionStatusAnnounced=!1,this.isOnline=!0}get subscriptionTimetoken(){var i;return _t(this.currentTimetoken,(i=this.referenceTimetoken)!==null&&i!==void 0?i:"0")}get subscribedChannels(){return Object.keys(this.channels)}get subscribedChannelGroups(){return Object.keys(this.channelGroups)}get abort(){return this._subscribeAbort}set abort(i){this._subscribeAbort=i}disconnect(){this.stopSubscribeLoop(),this.stopHeartbeatTimer(),this.reconnectionManager.stopPolling()}reconnect(i=!1){this.startSubscribeLoop(i),i||this.configuration.useSmartHeartbeat||this.startHeartbeatTimer()}subscribe(i){const{channels:h,channelGroups:m,timetoken:_,withPresence:x=!1,withHeartbeats:O=!1}=i;_&&(this.lastTimetoken=this.currentTimetoken,this.currentTimetoken=`${_}`),this.currentTimetoken!=="0"&&(this.storedTimetoken=this.currentTimetoken,this.currentTimetoken="0"),h?.forEach(I=>{this.pendingChannelSubscriptions.add(I),this.channels[I]={},x&&(this.presenceChannels[I]={}),(O||this.configuration.getHeartbeatInterval())&&(this.heartbeatChannels[I]={})}),m?.forEach(I=>{this.pendingChannelGroupSubscriptions.add(I),this.channelGroups[I]={},x&&(this.presenceChannelGroups[I]={}),(O||this.configuration.getHeartbeatInterval())&&(this.heartbeatChannelGroups[I]={})}),this.subscriptionStatusAnnounced=!1,this.reconnect()}unsubscribe(i,h=!1){let{channels:m,channelGroups:_}=i;const x=new Set,O=new Set;m?.forEach(I=>{I in this.channels&&(delete this.channels[I],O.add(I),I in this.heartbeatChannels&&delete this.heartbeatChannels[I]),I in this.presenceState&&delete this.presenceState[I],I in this.presenceChannels&&(delete this.presenceChannels[I],O.add(I))}),_?.forEach(I=>{I in this.channelGroups&&(delete this.channelGroups[I],x.add(I),I in this.heartbeatChannelGroups&&delete this.heartbeatChannelGroups[I]),I in this.presenceState&&delete this.presenceState[I],I in this.presenceChannelGroups&&(delete this.presenceChannelGroups[I],x.add(I))}),O.size===0&&x.size===0||(this.configuration.suppressLeaveEvents!==!1||h||(_=Array.from(x),m=Array.from(O),this.leaveCall({channels:m,channelGroups:_},I=>{const{error:F}=I,q=c(I,["error"]);let ie;F&&(I.errorData&&typeof I.errorData=="object"&&"message"in I.errorData&&typeof I.errorData.message=="string"?ie=I.errorData.message:"message"in I&&typeof I.message=="string"&&(ie=I.message)),this.emitStatus(Object.assign(Object.assign({},q),{error:ie!=null&&ie,affectedChannels:m,affectedChannelGroups:_,currentTimetoken:this.currentTimetoken,lastTimetoken:this.lastTimetoken}))})),Object.keys(this.channels).length===0&&Object.keys(this.presenceChannels).length===0&&Object.keys(this.channelGroups).length===0&&Object.keys(this.presenceChannelGroups).length===0&&(this.lastTimetoken="0",this.currentTimetoken="0",this.referenceTimetoken=null,this.storedTimetoken=null,this.region=null,this.reconnectionManager.stopPolling()),this.reconnect(!0))}unsubscribeAll(i=!1){this.unsubscribe({channels:this.subscribedChannels,channelGroups:this.subscribedChannelGroups},i)}startSubscribeLoop(i=!1){this.stopSubscribeLoop();const h=[...Object.keys(this.channelGroups)],m=[...Object.keys(this.channels)];Object.keys(this.presenceChannelGroups).forEach(_=>h.push(`${_}-pnpres`)),Object.keys(this.presenceChannels).forEach(_=>m.push(`${_}-pnpres`)),m.length===0&&h.length===0||(this.subscribeCall(Object.assign(Object.assign({channels:m,channelGroups:h,state:this.presenceState,heartbeat:this.configuration.getPresenceTimeout(),timetoken:this.currentTimetoken},this.region!==null?{region:this.region}:{}),this.configuration.filterExpression?{filterExpression:this.configuration.filterExpression}:{}),(_,x)=>{this.processSubscribeResponse(_,x)}),!i&&this.configuration.useSmartHeartbeat&&this.startHeartbeatTimer())}stopSubscribeLoop(){this._subscribeAbort&&(this._subscribeAbort(),this._subscribeAbort=null)}processSubscribeResponse(i,h){if(i.error)return typeof i.errorData=="object"&&"name"in i.errorData&&i.errorData.name==="AbortError"||i.category===C.PNCancelledCategory?void 0:void(i.category===C.PNTimeoutCategory?this.startSubscribeLoop():i.category===C.PNNetworkIssuesCategory||i.category===C.PNMalformedResponseCategory?(this.disconnect(),i.error&&this.configuration.autoNetworkDetection&&this.isOnline&&(this.isOnline=!1,this.emitStatus({category:C.PNNetworkDownCategory})),this.reconnectionManager.onReconnect(()=>{this.configuration.autoNetworkDetection&&!this.isOnline&&(this.isOnline=!0,this.emitStatus({category:C.PNNetworkUpCategory})),this.reconnect(),this.subscriptionStatusAnnounced=!0;const O={category:C.PNReconnectedCategory,operation:i.operation,lastTimetoken:this.lastTimetoken,currentTimetoken:this.currentTimetoken};this.emitStatus(O)}),this.reconnectionManager.startPolling(),this.emitStatus(Object.assign(Object.assign({},i),{category:C.PNNetworkIssuesCategory}))):i.category===C.PNBadRequestCategory?(this.stopHeartbeatTimer(),this.emitStatus(i)):this.emitStatus(i));if(this.referenceTimetoken=Pt(h.cursor.timetoken,this.storedTimetoken),this.storedTimetoken?(this.currentTimetoken=this.storedTimetoken,this.storedTimetoken=null):(this.lastTimetoken=this.currentTimetoken,this.currentTimetoken=h.cursor.timetoken),!this.subscriptionStatusAnnounced){const O={category:C.PNConnectedCategory,operation:i.operation,affectedChannels:Array.from(this.pendingChannelSubscriptions),subscribedChannels:this.subscribedChannels,affectedChannelGroups:Array.from(this.pendingChannelGroupSubscriptions),lastTimetoken:this.lastTimetoken,currentTimetoken:this.currentTimetoken};this.subscriptionStatusAnnounced=!0,this.emitStatus(O),this.pendingChannelGroupSubscriptions.clear(),this.pendingChannelSubscriptions.clear()}const{messages:m}=h,{requestMessageCountThreshold:_,dedupeOnSubscribe:x}=this.configuration;_&&m.length>=_&&this.emitStatus({category:C.PNRequestMessageCountExceededCategory,operation:i.operation});try{const O={timetoken:this.currentTimetoken,region:this.region?this.region:void 0};this.configuration.logger().debug("SubscriptionManager",()=>({messageType:"object",message:m.map(I=>{const F=I.type===Ft.Message||I.type===Ft.Signal?On(I.data.message):void 0;return F?{type:I.type,data:Object.assign(Object.assign({},I.data),{pn_mfp:F})}:I}),details:"Received events:"})),m.forEach(I=>{if(x&&"message"in I.data&&"timetoken"in I.data){if(this.dedupingManager.isDuplicate(I.data))return void this.configuration.logger().warn("SubscriptionManager",()=>({messageType:"object",message:I.data,details:"Duplicate message detected (skipped):"}));this.dedupingManager.addEntry(I.data)}this.emitEvent(O,I)})}catch(O){const I={error:!0,category:C.PNUnknownCategory,errorData:O,statusCode:0};this.emitStatus(I)}this.region=h.cursor.region,this.startSubscribeLoop()}setState(i){const{state:h,channels:m,channelGroups:_}=i;m?.forEach(x=>x in this.channels&&(this.presenceState[x]=h)),_?.forEach(x=>x in this.channelGroups&&(this.presenceState[x]=h))}changePresence(i){const{connected:h,channels:m,channelGroups:_}=i;h?(m?.forEach(x=>this.heartbeatChannels[x]={}),_?.forEach(x=>this.heartbeatChannelGroups[x]={})):(m?.forEach(x=>{x in this.heartbeatChannels&&delete this.heartbeatChannels[x]}),_?.forEach(x=>{x in this.heartbeatChannelGroups&&delete this.heartbeatChannelGroups[x]}),this.configuration.suppressLeaveEvents===!1&&this.leaveCall({channels:m,channelGroups:_},x=>this.emitStatus(x))),this.reconnect()}startHeartbeatTimer(){this.stopHeartbeatTimer();const i=this.configuration.getHeartbeatInterval();i&&i!==0&&(this.configuration.useSmartHeartbeat||this.sendHeartbeat(),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),1e3*i))}stopHeartbeatTimer(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}sendHeartbeat(){const i=Object.keys(this.heartbeatChannelGroups),h=Object.keys(this.heartbeatChannels);h.length===0&&i.length===0||this.heartbeatCall({channels:h,channelGroups:i,heartbeat:this.configuration.getPresenceTimeout(),state:this.presenceState},m=>{m.error&&this.configuration.announceFailedHeartbeats&&this.emitStatus(m),m.error&&this.configuration.autoNetworkDetection&&this.isOnline&&(this.isOnline=!1,this.disconnect(),this.emitStatus({category:C.PNNetworkDownCategory}),this.reconnect()),!m.error&&this.configuration.announceSuccessfulHeartbeats&&this.emitStatus(m)})}}class lu{constructor(i,h,m){this._payload=i,this.setDefaultPayloadStructure(),this.title=h,this.body=m}get payload(){return this._payload}set title(i){this._title=i}set subtitle(i){this._subtitle=i}set body(i){this._body=i}set badge(i){this._badge=i}set sound(i){this._sound=i}setDefaultPayloadStructure(){}toObject(){return{}}}class _c extends lu{constructor(){super(...arguments),this._apnsPushType="apns",this._isSilent=!1}get payload(){return this._payload}set configurations(i){i&&i.length&&(this._configurations=i)}get notification(){return this.payload.aps}get title(){return this._title}set title(i){i&&i.length&&(this.payload.aps.alert.title=i,this._title=i)}get subtitle(){return this._subtitle}set subtitle(i){i&&i.length&&(this.payload.aps.alert.subtitle=i,this._subtitle=i)}get body(){return this._body}set body(i){i&&i.length&&(this.payload.aps.alert.body=i,this._body=i)}get badge(){return this._badge}set badge(i){i!=null&&(this.payload.aps.badge=i,this._badge=i)}get sound(){return this._sound}set sound(i){i&&i.length&&(this.payload.aps.sound=i,this._sound=i)}set silent(i){this._isSilent=i}setDefaultPayloadStructure(){this.payload.aps={alert:{}}}toObject(){const i=Object.assign({},this.payload),{aps:h}=i;let{alert:m}=h;if(this._isSilent&&(h["content-available"]=1),this._apnsPushType==="apns2"){if(!this._configurations||!this._configurations.length)throw new ReferenceError("APNS2 configuration is missing");const _=[];this._configurations.forEach(x=>{_.push(this.objectFromAPNS2Configuration(x))}),_.length&&(i.pn_push=_)}return m&&Object.keys(m).length||delete h.alert,this._isSilent&&(delete h.alert,delete h.badge,delete h.sound,m={}),this._isSilent||m&&Object.keys(m).length?i:null}objectFromAPNS2Configuration(i){if(!i.targets||!i.targets.length)throw new ReferenceError("At least one APNS2 target should be provided");const{collapseId:h,expirationDate:m}=i,_={auth_method:"token",targets:i.targets.map(x=>this.objectFromAPNSTarget(x)),version:"v2"};return h&&h.length&&(_.collapse_id=h),m&&(_.expiration=m.toISOString()),_}objectFromAPNSTarget(i){if(!i.topic||!i.topic.length)throw new TypeError("Target 'topic' undefined.");const{topic:h,environment:m="development",excludedDevices:_=[]}=i,x={topic:h,environment:m};return _.length&&(x.excluded_devices=_),x}}class Sc extends lu{get payload(){return this._payload}get notification(){return this.payload.notification}get data(){return this.payload.data}get title(){return this._title}set title(i){i&&i.length&&(this.payload.notification.title=i,this._title=i)}get body(){return this._body}set body(i){i&&i.length&&(this.payload.notification.body=i,this._body=i)}get sound(){return this._sound}set sound(i){i&&i.length&&(this.payload.notification.sound=i,this._sound=i)}get icon(){return this._icon}set icon(i){i&&i.length&&(this.payload.notification.icon=i,this._icon=i)}get tag(){return this._tag}set tag(i){i&&i.length&&(this.payload.notification.tag=i,this._tag=i)}set silent(i){this._isSilent=i}setDefaultPayloadStructure(){this.payload.notification={},this.payload.data={}}toObject(){let i=Object.assign({},this.payload.data),h=null;const m={};if(Object.keys(this.payload).length>2){const _=c(this.payload,["notification","data"]);i=Object.assign(Object.assign({},i),_)}return this._isSilent?i.notification=this.payload.notification:h=this.payload.notification,Object.keys(i).length&&(m.data=i),h&&Object.keys(h).length&&(m.notification=h),Object.keys(m).length?m:null}}class ga{constructor(i,h){this._payload={apns:{},fcm:{}},this._title=i,this._body=h,this.apns=new _c(this._payload.apns,i,h),this.fcm=new Sc(this._payload.fcm,i,h)}set debugging(i){this._debugging=i}get title(){return this._title}get subtitle(){return this._subtitle}set subtitle(i){this._subtitle=i,this.apns.subtitle=i,this.fcm.subtitle=i}get body(){return this._body}get badge(){return this._badge}set badge(i){this._badge=i,this.apns.badge=i,this.fcm.badge=i}get sound(){return this._sound}set sound(i){this._sound=i,this.apns.sound=i,this.fcm.sound=i}buildPayload(i){const h={};if(i.includes("apns")||i.includes("apns2")){this.apns._apnsPushType=i.includes("apns")?"apns":"apns2";const m=this.apns.toObject();m&&Object.keys(m).length&&(h.pn_apns=m)}if(i.includes("fcm")){const m=this.fcm.toObject();m&&Object.keys(m).length&&(h.pn_gcm=m)}return Object.keys(h).length&&this._debugging&&(h.pn_debug=!0),h}}class ji{constructor(i=!1){this.sync=i,this.listeners=new Set}subscribe(i){return this.listeners.add(i),()=>{this.listeners.delete(i)}}notify(i){const h=()=>{this.listeners.forEach(m=>{m(i)})};this.sync?h():setTimeout(h,0)}}class Nr{transition(i,h){var m;if(this.transitionMap.has(h.type))return(m=this.transitionMap.get(h.type))===null||m===void 0?void 0:m(i,h)}constructor(i){this.label=i,this.transitionMap=new Map,this.enterEffects=[],this.exitEffects=[]}on(i,h){return this.transitionMap.set(i,h),this}with(i,h){return[this,i,h??[]]}onEnter(i){return this.enterEffects.push(i),this}onExit(i){return this.exitEffects.push(i),this}}class xc extends ji{constructor(i){super(!0),this.logger=i,this._pendingEvents=[],this._inTransition=!1}get currentState(){return this._currentState}get currentContext(){return this._currentContext}describe(i){return new Nr(i)}start(i,h){this._currentState=i,this._currentContext=h,this.notify({type:"engineStarted",state:i,context:h})}transition(i){if(!this._currentState)throw this.logger.error("Engine","Finite state machine is not started"),new Error("Start the engine first");if(this._inTransition)return this.logger.trace("Engine",()=>({messageType:"object",message:i,details:"Event engine in transition. Enqueue received event:"})),void this._pendingEvents.push(i);this._inTransition=!0,this.logger.trace("Engine",()=>({messageType:"object",message:i,details:"Event engine received event:"})),this.notify({type:"eventReceived",event:i});const h=this._currentState.transition(this._currentContext,i);if(h){const[m,_,x]=h;this.logger.trace("Engine",`Exiting state: ${this._currentState.label}`);for(const F of this._currentState.exitEffects)this.notify({type:"invocationDispatched",invocation:F(this._currentContext)});this.logger.trace("Engine",()=>({messageType:"object",details:`Entering '${m.label}' state with context:`,message:_}));const O=this._currentState;this._currentState=m;const I=this._currentContext;this._currentContext=_,this.notify({type:"transitionDone",fromState:O,fromContext:I,toState:m,toContext:_,event:i});for(const F of x)this.notify({type:"invocationDispatched",invocation:F});for(const F of this._currentState.enterEffects)this.notify({type:"invocationDispatched",invocation:F(this._currentContext)})}else this.logger.warn("Engine",`No transition from '${this._currentState.label}' found for event: ${i.type}`);if(this._inTransition=!1,this._pendingEvents.length>0){const m=this._pendingEvents.shift();m&&(this.logger.trace("Engine",()=>({messageType:"object",message:m,details:"De-queueing pending event:"})),this.transition(m))}}}class kc{constructor(i,h){this.dependencies=i,this.logger=h,this.instances=new Map,this.handlers=new Map}on(i,h){this.handlers.set(i,h)}dispatch(i){if(this.logger.trace("Dispatcher",`Process invocation: ${i.type}`),i.type==="CANCEL"){if(this.instances.has(i.payload)){const _=this.instances.get(i.payload);_?.cancel(),this.instances.delete(i.payload)}return}const h=this.handlers.get(i.type);if(!h)throw this.logger.error("Dispatcher",`Unhandled invocation '${i.type}'`),new Error(`Unhandled invocation '${i.type}'`);const m=h(i.payload,this.dependencies);this.logger.trace("Dispatcher",()=>({messageType:"object",details:"Call invocation handler with parameters:",message:i.payload,ignoredKeys:["abortSignal"]})),i.managed&&this.instances.set(i.type,m),m.start()}dispose(){for(const[i,h]of this.instances.entries())h.cancel(),this.instances.delete(i)}}function Gn(P,i){const h=function(...m){return{type:P,payload:i?.(...m)}};return h.type=P,h}function Va(P,i){const h=(...m)=>({type:P,payload:i(...m),managed:!1});return h.type=P,h}function Qa(P,i){const h=(...m)=>({type:P,payload:i(...m),managed:!0});return h.type=P,h.cancel={type:"CANCEL",payload:P,managed:!1},h}class Ec extends Error{constructor(){super("The operation was aborted."),this.name="AbortError",Object.setPrototypeOf(this,new.target.prototype)}}class rl extends ji{constructor(){super(...arguments),this._aborted=!1}get aborted(){return this._aborted}throwIfAborted(){if(this._aborted)throw new Ec}abort(){this._aborted=!0,this.notify(new Ec)}}class sl{constructor(i,h){this.payload=i,this.dependencies=h}}class il extends sl{constructor(i,h,m){super(i,h),this.asyncFunction=m,this.abortSignal=new rl}start(){this.asyncFunction(this.payload,this.abortSignal,this.dependencies).catch(i=>{})}cancel(){this.abortSignal.abort()}}const Bs=P=>(i,h)=>new il(i,h,P),ma=Qa("HEARTBEAT",(P,i)=>({channels:P,groups:i})),Kr=Va("LEAVE",(P,i)=>({channels:P,groups:i})),Ja=Va("EMIT_STATUS",P=>P),al=Qa("WAIT",()=>({})),Cc=Gn("RECONNECT",()=>({})),uu=Gn("DISCONNECT",(P=!1)=>({isOffline:P})),Xa=Gn("JOINED",(P,i)=>({channels:P,groups:i})),_s=Gn("LEFT",(P,i)=>({channels:P,groups:i})),va=Gn("LEFT_ALL",(P=!1)=>({isOffline:P})),Pc=Gn("HEARTBEAT_SUCCESS",P=>({statusCode:P})),sh=Gn("HEARTBEAT_FAILURE",P=>P),Oc=Gn("TIMES_UP",()=>({}));class ih extends kc{constructor(i,h){super(h,h.config.logger()),this.on(ma.type,Bs((m,_,x)=>d(this,[m,_,x],void 0,function*(O,I,{heartbeat:F,presenceState:q,config:ie}){I.throwIfAborted();try{yield F(Object.assign(Object.assign({abortSignal:I,channels:O.channels,channelGroups:O.groups},ie.maintainPresenceState&&{state:q}),{heartbeat:ie.presenceTimeout})),i.transition(Pc(200))}catch(re){if(re instanceof A){if(re.status&&re.status.category==C.PNCancelledCategory)return;i.transition(sh(re))}}}))),this.on(Kr.type,Bs((m,_,x)=>d(this,[m,_,x],void 0,function*(O,I,{leave:F,config:q}){if(!q.suppressLeaveEvents)try{F({channels:O.channels,channelGroups:O.groups})}catch{}}))),this.on(al.type,Bs((m,_,x)=>d(this,[m,_,x],void 0,function*(O,I,{heartbeatDelay:F}){return I.throwIfAborted(),yield F(),I.throwIfAborted(),i.transition(Oc())}))),this.on(Ja.type,Bs((m,_,x)=>d(this,[m,_,x],void 0,function*(O,I,{emitStatus:F,config:q}){q.announceFailedHeartbeats&&O?.error===!0?F(Object.assign(Object.assign({},O),{operation:Q.PNHeartbeatOperation})):q.announceSuccessfulHeartbeats&&O.statusCode===200&&F(Object.assign(Object.assign({},O),{error:!1,operation:Q.PNHeartbeatOperation,category:C.PNAcknowledgmentCategory}))})))}}const Ws=new Nr("HEARTBEAT_STOPPED");Ws.on(Xa.type,(P,i)=>Ws.with({channels:[...P.channels,...i.payload.channels.filter(h=>!P.channels.includes(h))],groups:[...P.groups,...i.payload.groups.filter(h=>!P.groups.includes(h))]})),Ws.on(_s.type,(P,i)=>Ws.with({channels:P.channels.filter(h=>!i.payload.channels.includes(h)),groups:P.groups.filter(h=>!i.payload.groups.includes(h))})),Ws.on(Cc.type,(P,i)=>Vn.with({channels:P.channels,groups:P.groups})),Ws.on(va.type,(P,i)=>nn.with(void 0));const gi=new Nr("HEARTBEAT_COOLDOWN");gi.onEnter(()=>al()),gi.onExit(()=>al.cancel),gi.on(Oc.type,(P,i)=>Vn.with({channels:P.channels,groups:P.groups})),gi.on(Xa.type,(P,i)=>Vn.with({channels:[...P.channels,...i.payload.channels.filter(h=>!P.channels.includes(h))],groups:[...P.groups,...i.payload.groups.filter(h=>!P.groups.includes(h))]})),gi.on(_s.type,(P,i)=>Vn.with({channels:P.channels.filter(h=>!i.payload.channels.includes(h)),groups:P.groups.filter(h=>!i.payload.groups.includes(h))},[Kr(i.payload.channels,i.payload.groups)])),gi.on(uu.type,(P,i)=>Ws.with({channels:P.channels,groups:P.groups},[...i.payload.isOffline?[]:[Kr(P.channels,P.groups)]])),gi.on(va.type,(P,i)=>nn.with(void 0,[...i.payload.isOffline?[]:[Kr(P.channels,P.groups)]]));const mi=new Nr("HEARTBEAT_FAILED");mi.on(Xa.type,(P,i)=>Vn.with({channels:[...P.channels,...i.payload.channels.filter(h=>!P.channels.includes(h))],groups:[...P.groups,...i.payload.groups.filter(h=>!P.groups.includes(h))]})),mi.on(_s.type,(P,i)=>Vn.with({channels:P.channels.filter(h=>!i.payload.channels.includes(h)),groups:P.groups.filter(h=>!i.payload.groups.includes(h))},[Kr(i.payload.channels,i.payload.groups)])),mi.on(Cc.type,(P,i)=>Vn.with({channels:P.channels,groups:P.groups})),mi.on(uu.type,(P,i)=>Ws.with({channels:P.channels,groups:P.groups},[...i.payload.isOffline?[]:[Kr(P.channels,P.groups)]])),mi.on(va.type,(P,i)=>nn.with(void 0,[...i.payload.isOffline?[]:[Kr(P.channels,P.groups)]]));const Vn=new Nr("HEARTBEATING");Vn.onEnter(P=>ma(P.channels,P.groups)),Vn.onExit(()=>ma.cancel),Vn.on(Pc.type,(P,i)=>gi.with({channels:P.channels,groups:P.groups},[Ja(Object.assign({},i.payload))])),Vn.on(Xa.type,(P,i)=>Vn.with({channels:[...P.channels,...i.payload.channels.filter(h=>!P.channels.includes(h))],groups:[...P.groups,...i.payload.groups.filter(h=>!P.groups.includes(h))]})),Vn.on(_s.type,(P,i)=>Vn.with({channels:P.channels.filter(h=>!i.payload.channels.includes(h)),groups:P.groups.filter(h=>!i.payload.groups.includes(h))},[Kr(i.payload.channels,i.payload.groups)])),Vn.on(sh.type,(P,i)=>mi.with(Object.assign({},P),[...i.payload.status?[Ja(Object.assign({},i.payload.status))]:[]])),Vn.on(uu.type,(P,i)=>Ws.with({channels:P.channels,groups:P.groups},[...i.payload.isOffline?[]:[Kr(P.channels,P.groups)]])),Vn.on(va.type,(P,i)=>nn.with(void 0,[...i.payload.isOffline?[]:[Kr(P.channels,P.groups)]]));const nn=new Nr("HEARTBEAT_INACTIVE");nn.on(Xa.type,(P,i)=>Vn.with({channels:i.payload.channels,groups:i.payload.groups}));class Ep{get _engine(){return this.engine}constructor(i){this.dependencies=i,this.channels=[],this.groups=[],this.engine=new xc(i.config.logger()),this.dispatcher=new ih(this.engine,i),i.config.logger().debug("PresenceEventEngine","Create presence event engine."),this._unsubscribeEngine=this.engine.subscribe(h=>{h.type==="invocationDispatched"&&this.dispatcher.dispatch(h.invocation)}),this.engine.start(nn,void 0)}join({channels:i,groups:h}){this.channels=[...this.channels,...(i??[]).filter(m=>!this.channels.includes(m))],this.groups=[...this.groups,...(h??[]).filter(m=>!this.groups.includes(m))],this.channels.length===0&&this.groups.length===0||this.engine.transition(Xa(this.channels.slice(0),this.groups.slice(0)))}leave({channels:i,groups:h}){this.dependencies.presenceState&&(i?.forEach(m=>delete this.dependencies.presenceState[m]),h?.forEach(m=>delete this.dependencies.presenceState[m])),this.engine.transition(_s(i??[],h??[]))}leaveAll(i=!1){this.engine.transition(va(i))}reconnect(){this.engine.transition(Cc())}disconnect(i=!1){this.engine.transition(uu(i))}dispose(){this.disconnect(!0),this._unsubscribeEngine(),this.dispatcher.dispose()}}const ol=Qa("HANDSHAKE",(P,i)=>({channels:P,groups:i})),cu=Qa("RECEIVE_MESSAGES",(P,i,h)=>({channels:P,groups:i,cursor:h})),Za=Va("EMIT_MESSAGES",(P,i)=>({cursor:P,events:i})),Gr=Va("EMIT_STATUS",P=>P),is=Gn("SUBSCRIPTION_CHANGED",(P,i,h=!1)=>({channels:P,groups:i,isOffline:h})),Ss=Gn("SUBSCRIPTION_RESTORED",(P,i,h,m)=>({channels:P,groups:i,cursor:{timetoken:h,region:m??0}})),xs=Gn("HANDSHAKE_SUCCESS",P=>P),ah=Gn("HANDSHAKE_FAILURE",P=>P),as=Gn("RECEIVE_SUCCESS",(P,i)=>({cursor:P,events:i})),Tc=Gn("RECEIVE_FAILURE",P=>P),du=Gn("DISCONNECT",(P=!1)=>({isOffline:P})),eo=Gn("RECONNECT",(P,i)=>({cursor:{timetoken:P??"",region:i??0}})),ks=Gn("UNSUBSCRIBE_ALL",()=>({})),un=new Nr("UNSUBSCRIBED");un.on(is.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0):Mn.with({channels:i.channels,groups:i.groups})),un.on(Ss.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region}}));const os=new Nr("HANDSHAKE_STOPPED");os.on(is.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0):os.with({channels:i.channels,groups:i.groups,cursor:P.cursor})),os.on(eo.type,(P,{payload:i})=>Mn.with(Object.assign(Object.assign({},P),{cursor:i.cursor||P.cursor}))),os.on(Ss.type,(P,{payload:i})=>{var h;return i.channels.length===0&&i.groups.length===0?un.with(void 0):os.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||((h=P.cursor)===null||h===void 0?void 0:h.region)||0}})}),os.on(ks.type,P=>un.with());const ls=new Nr("HANDSHAKE_FAILED");ls.on(is.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:P.cursor})),ls.on(eo.type,(P,{payload:i})=>Mn.with(Object.assign(Object.assign({},P),{cursor:i.cursor||P.cursor}))),ls.on(Ss.type,(P,{payload:i})=>{var h,m;return i.channels.length===0&&i.groups.length===0?un.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region?i.cursor.region:(m=(h=P?.cursor)===null||h===void 0?void 0:h.region)!==null&&m!==void 0?m:0}})}),ls.on(ks.type,P=>un.with());const Mn=new Nr("HANDSHAKING");Mn.onEnter(P=>ol(P.channels,P.groups)),Mn.onExit(()=>ol.cancel),Mn.on(is.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:P.cursor})),Mn.on(xs.type,(P,{payload:i})=>{var h,m,_,x,O;return _r.with({channels:P.channels,groups:P.groups,cursor:{timetoken:!((h=P.cursor)===null||h===void 0)&&h.timetoken?(m=P.cursor)===null||m===void 0?void 0:m.timetoken:i.timetoken,region:i.region},referenceTimetoken:Pt(i.timetoken,(_=P.cursor)===null||_===void 0?void 0:_.timetoken)},[Gr({category:C.PNConnectedCategory,affectedChannels:P.channels.slice(0),affectedChannelGroups:P.groups.slice(0),currentTimetoken:!((x=P.cursor)===null||x===void 0)&&x.timetoken?(O=P.cursor)===null||O===void 0?void 0:O.timetoken:i.timetoken})])}),Mn.on(ah.type,(P,i)=>{var h;return ls.with(Object.assign(Object.assign({},P),{reason:i.payload}),[Gr({category:C.PNConnectionErrorCategory,error:(h=i.payload.status)===null||h===void 0?void 0:h.category})])}),Mn.on(du.type,(P,i)=>{var h;if(i.payload.isOffline){const m=be.create(new Error("Network connection error")).toPubNubError(Q.PNSubscribeOperation);return ls.with(Object.assign(Object.assign({},P),{reason:m}),[Gr({category:C.PNConnectionErrorCategory,error:(h=m.status)===null||h===void 0?void 0:h.category})])}return os.with(Object.assign({},P))}),Mn.on(Ss.type,(P,{payload:i})=>{var h;return i.channels.length===0&&i.groups.length===0?un.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||((h=P?.cursor)===null||h===void 0?void 0:h.region)||0}})}),Mn.on(ks.type,P=>un.with());const ya=new Nr("RECEIVE_STOPPED");ya.on(is.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0):ya.with({channels:i.channels,groups:i.groups,cursor:P.cursor})),ya.on(Ss.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0):ya.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||P.cursor.region}})),ya.on(eo.type,(P,{payload:i})=>{var h;return Mn.with({channels:P.channels,groups:P.groups,cursor:{timetoken:i.cursor.timetoken?(h=i.cursor)===null||h===void 0?void 0:h.timetoken:P.cursor.timetoken,region:i.cursor.region||P.cursor.region}})}),ya.on(ks.type,()=>un.with(void 0));const vi=new Nr("RECEIVE_FAILED");vi.on(eo.type,(P,{payload:i})=>{var h;return Mn.with({channels:P.channels,groups:P.groups,cursor:{timetoken:i.cursor.timetoken?(h=i.cursor)===null||h===void 0?void 0:h.timetoken:P.cursor.timetoken,region:i.cursor.region||P.cursor.region}})}),vi.on(is.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:P.cursor})),vi.on(Ss.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0):Mn.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||P.cursor.region}})),vi.on(ks.type,P=>un.with(void 0));const _r=new Nr("RECEIVING");_r.onEnter(P=>cu(P.channels,P.groups,P.cursor)),_r.onExit(()=>cu.cancel),_r.on(as.type,(P,{payload:i})=>_r.with({channels:P.channels,groups:P.groups,cursor:i.cursor,referenceTimetoken:Pt(i.cursor.timetoken)},[Za(P.cursor,i.events)])),_r.on(is.type,(P,{payload:i})=>{var h;if(i.channels.length===0&&i.groups.length===0){let m;return i.isOffline&&(m=(h=be.create(new Error("Network connection error")).toPubNubError(Q.PNSubscribeOperation).status)===null||h===void 0?void 0:h.category),un.with(void 0,[Gr(Object.assign({category:i.isOffline?C.PNDisconnectedUnexpectedlyCategory:C.PNDisconnectedCategory},m?{error:m}:{}))])}return _r.with({channels:i.channels,groups:i.groups,cursor:P.cursor,referenceTimetoken:P.referenceTimetoken},[Gr({category:C.PNSubscriptionChangedCategory,affectedChannels:i.channels.slice(0),affectedChannelGroups:i.groups.slice(0),currentTimetoken:P.cursor.timetoken})])}),_r.on(Ss.type,(P,{payload:i})=>i.channels.length===0&&i.groups.length===0?un.with(void 0,[Gr({category:C.PNDisconnectedCategory})]):_r.with({channels:i.channels,groups:i.groups,cursor:{timetoken:`${i.cursor.timetoken}`,region:i.cursor.region||P.cursor.region},referenceTimetoken:Pt(P.cursor.timetoken,`${i.cursor.timetoken}`,P.referenceTimetoken)},[Gr({category:C.PNSubscriptionChangedCategory,affectedChannels:i.channels.slice(0),affectedChannelGroups:i.groups.slice(0),currentTimetoken:i.cursor.timetoken})])),_r.on(Tc.type,(P,{payload:i})=>{var h;return vi.with(Object.assign(Object.assign({},P),{reason:i}),[Gr({category:C.PNDisconnectedUnexpectedlyCategory,error:(h=i.status)===null||h===void 0?void 0:h.category})])}),_r.on(du.type,(P,i)=>{var h;if(i.payload.isOffline){const m=be.create(new Error("Network connection error")).toPubNubError(Q.PNSubscribeOperation);return vi.with(Object.assign(Object.assign({},P),{reason:m}),[Gr({category:C.PNDisconnectedUnexpectedlyCategory,error:(h=m.status)===null||h===void 0?void 0:h.category})])}return ya.with(Object.assign({},P),[Gr({category:C.PNDisconnectedCategory})])}),_r.on(ks.type,P=>un.with(void 0,[Gr({category:C.PNDisconnectedCategory})]));class ll extends kc{constructor(i,h){super(h,h.config.logger()),this.on(ol.type,Bs((m,_,x)=>d(this,[m,_,x],void 0,function*(O,I,{handshake:F,presenceState:q,config:ie}){I.throwIfAborted();try{const re=yield F(Object.assign({abortSignal:I,channels:O.channels,channelGroups:O.groups,filterExpression:ie.filterExpression},ie.maintainPresenceState&&{state:q}));return i.transition(xs(re))}catch(re){if(re instanceof A)return re.status&&re.status.category==C.PNCancelledCategory?void 0:i.transition(ah(re))}}))),this.on(cu.type,Bs((m,_,x)=>d(this,[m,_,x],void 0,function*(O,I,{receiveMessages:F,config:q}){I.throwIfAborted();try{const ie=yield F({abortSignal:I,channels:O.channels,channelGroups:O.groups,timetoken:O.cursor.timetoken,region:O.cursor.region,filterExpression:q.filterExpression});i.transition(as(ie.cursor,ie.messages))}catch(ie){if(ie instanceof A){if(ie.status&&ie.status.category==C.PNCancelledCategory)return;if(!I.aborted)return i.transition(Tc(ie))}}}))),this.on(Za.type,Bs((m,_,x)=>d(this,[m,_,x],void 0,function*({cursor:O,events:I},F,{emitMessages:q}){I.length>0&&q(O,I)}))),this.on(Gr.type,Bs((m,_,x)=>d(this,[m,_,x],void 0,function*(O,I,{emitStatus:F}){return F(O)})))}}class ul{get _engine(){return this.engine}constructor(i){this.channels=[],this.groups=[],this.dependencies=i,this.engine=new xc(i.config.logger()),this.dispatcher=new ll(this.engine,i),i.config.logger().debug("EventEngine","Create subscribe event engine."),this._unsubscribeEngine=this.engine.subscribe(h=>{h.type==="invocationDispatched"&&this.dispatcher.dispatch(h.invocation)}),this.engine.start(un,void 0)}get subscriptionTimetoken(){const i=this.engine.currentState;if(!i)return;let h,m="0";if(i.label===_r.label){const _=this.engine.currentContext;m=_.cursor.timetoken,h=_.referenceTimetoken}return _t(m,h??"0")}subscribe({channels:i,channelGroups:h,timetoken:m,withPresence:_}){this.channels=[...this.channels,...i??[]],this.groups=[...this.groups,...h??[]],_&&(this.channels.map(x=>this.channels.push(`${x}-pnpres`)),this.groups.map(x=>this.groups.push(`${x}-pnpres`))),m?this.engine.transition(Ss(Array.from(new Set([...this.channels,...i??[]])),Array.from(new Set([...this.groups,...h??[]])),m)):this.engine.transition(is(Array.from(new Set([...this.channels,...i??[]])),Array.from(new Set([...this.groups,...h??[]])))),this.dependencies.join&&this.dependencies.join({channels:Array.from(new Set(this.channels.filter(x=>!x.endsWith("-pnpres")))),groups:Array.from(new Set(this.groups.filter(x=>!x.endsWith("-pnpres"))))})}unsubscribe({channels:i=[],channelGroups:h=[]}){const m=st(this.channels,[...i,...i.map(x=>`${x}-pnpres`)]),_=st(this.groups,[...h,...h.map(x=>`${x}-pnpres`)]);if(new Set(this.channels).size!==new Set(m).size||new Set(this.groups).size!==new Set(_).size){const x=bt(this.channels,i),O=bt(this.groups,h);this.dependencies.presenceState&&(x?.forEach(I=>delete this.dependencies.presenceState[I]),O?.forEach(I=>delete this.dependencies.presenceState[I])),this.channels=m,this.groups=_,this.engine.transition(is(Array.from(new Set(this.channels.slice(0))),Array.from(new Set(this.groups.slice(0))))),this.dependencies.leave&&this.dependencies.leave({channels:x.slice(0),groups:O.slice(0)})}}unsubscribeAll(i=!1){const h=this.getSubscribedChannelGroups(),m=this.getSubscribedChannels();this.channels=[],this.groups=[],this.dependencies.presenceState&&Object.keys(this.dependencies.presenceState).forEach(_=>{delete this.dependencies.presenceState[_]}),this.engine.transition(is(this.channels.slice(0),this.groups.slice(0),i)),this.dependencies.leaveAll&&this.dependencies.leaveAll({channels:m,groups:h,isOffline:i})}reconnect({timetoken:i,region:h}){const m=this.getSubscribedChannels(),_=this.getSubscribedChannels();this.engine.transition(eo(i,h)),this.dependencies.presenceReconnect&&this.dependencies.presenceReconnect({channels:_,groups:m})}disconnect(i=!1){const h=this.getSubscribedChannels(),m=this.getSubscribedChannels();this.engine.transition(du(i)),this.dependencies.presenceDisconnect&&this.dependencies.presenceDisconnect({channels:m,groups:h,isOffline:i})}getSubscribedChannels(){return Array.from(new Set(this.channels.slice(0)))}getSubscribedChannelGroups(){return Array.from(new Set(this.groups.slice(0)))}dispose(){this.disconnect(!0),this._unsubscribeEngine(),this.dispatcher.dispose()}}class oh extends gt{constructor(i){var h;const m=(h=i.sendByPost)!==null&&h!==void 0&&h;super({method:m?on.POST:on.GET,compressible:m}),this.parameters=i,this.parameters.sendByPost=m}operation(){return Q.PNPublishOperation}validate(){const{message:i,channel:h,keySet:{publishKey:m}}=this.parameters;return h?i?m?void 0:"Missing 'publishKey'":"Missing 'message'":"Missing 'channel'"}parse(i){return d(this,void 0,void 0,function*(){return{timetoken:this.deserializeResponse(i)[2]}})}get path(){const{message:i,channel:h,keySet:m}=this.parameters,_=this.prepareMessagePayload(i);return`/publish/${m.publishKey}/${m.subscribeKey}/0/${Le(h)}/0${this.parameters.sendByPost?"":`/${Le(_)}`}`}get queryParameters(){const{customMessageType:i,meta:h,replicate:m,storeInHistory:_,ttl:x}=this.parameters,O={};return i&&(O.custom_message_type=i),_!==void 0&&(O.store=_?"1":"0"),x!==void 0&&(O.ttl=x),m===void 0||m||(O.norep="true"),h&&typeof h=="object"&&(O.meta=JSON.stringify(h)),O}get headers(){var i;return this.parameters.sendByPost?Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"}):super.headers}get body(){return this.prepareMessagePayload(this.parameters.message)}prepareMessagePayload(i){const{crypto:h}=this.parameters;if(!h)return JSON.stringify(i)||"";const m=h.encrypt(JSON.stringify(i));return JSON.stringify(typeof m=="string"?m:S(m))}}class cl extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNSignalOperation}validate(){const{message:i,channel:h,keySet:{publishKey:m}}=this.parameters;return h?i?m?void 0:"Missing 'publishKey'":"Missing 'message'":"Missing 'channel'"}parse(i){return d(this,void 0,void 0,function*(){return{timetoken:this.deserializeResponse(i)[2]}})}get path(){const{keySet:{publishKey:i,subscribeKey:h},channel:m,message:_}=this.parameters,x=JSON.stringify(_);return`/signal/${i}/${h}/0/${Le(m)}/0/${Le(x)}`}get queryParameters(){const{customMessageType:i}=this.parameters,h={};return i&&(h.custom_message_type=i),h}}class Gt extends Xo{operation(){return Q.PNReceiveMessagesOperation}validate(){return super.validate()||(this.parameters.timetoken?this.parameters.region?void 0:"region can not be empty":"timetoken can not be empty")}get path(){const{keySet:{subscribeKey:i},channels:h=[]}=this.parameters;return`/v2/subscribe/${i}/${Ve(h.sort(),",")}/0`}get queryParameters(){const{channelGroups:i,filterExpression:h,timetoken:m,region:_}=this.parameters,x={ee:""};return i&&i.length>0&&(x["channel-group"]=i.sort().join(",")),h&&h.length>0&&(x["filter-expr"]=h),typeof m=="string"?m&&m!=="0"&&m.length>0&&(x.tt=m):m&&m>0&&(x.tt=m),_&&(x.tr=_),x}}class ba extends Xo{operation(){return Q.PNHandshakeOperation}get path(){const{keySet:{subscribeKey:i},channels:h=[]}=this.parameters;return`/v2/subscribe/${i}/${Ve(h.sort(),",")}/0`}get queryParameters(){const{channelGroups:i,filterExpression:h,state:m}=this.parameters,_={ee:""};return i&&i.length>0&&(_["channel-group"]=i.sort().join(",")),h&&h.length>0&&(_["filter-expr"]=h),m&&Object.keys(m).length>0&&(_.state=JSON.stringify(m)),_}}var $i;(function(P){P[P.Channel=0]="Channel",P[P.ChannelGroup=1]="ChannelGroup"})($i||($i={}));class us{constructor({channels:i,channelGroups:h}){this.isEmpty=!0,this._channelGroups=new Set((h??[]).filter(m=>m.length>0)),this._channels=new Set((i??[]).filter(m=>m.length>0)),this.isEmpty=this._channels.size===0&&this._channelGroups.size===0}get length(){return this.isEmpty?0:this._channels.size+this._channelGroups.size}get channels(){return this.isEmpty?[]:Array.from(this._channels)}get channelGroups(){return this.isEmpty?[]:Array.from(this._channelGroups)}contains(i){return!this.isEmpty&&(this._channels.has(i)||this._channelGroups.has(i))}with(i){return new us({channels:[...this._channels,...i._channels],channelGroups:[...this._channelGroups,...i._channelGroups]})}without(i){return new us({channels:[...this._channels].filter(h=>!i._channels.has(h)),channelGroups:[...this._channelGroups].filter(h=>!i._channelGroups.has(h))})}add(i){return i._channelGroups.size>0&&(this._channelGroups=new Set([...this._channelGroups,...i._channelGroups])),i._channels.size>0&&(this._channels=new Set([...this._channels,...i._channels])),this.isEmpty=this._channels.size===0&&this._channelGroups.size===0,this}remove(i){return i._channelGroups.size>0&&(this._channelGroups=new Set([...this._channelGroups].filter(h=>!i._channelGroups.has(h)))),i._channels.size>0&&(this._channels=new Set([...this._channels].filter(h=>!i._channels.has(h)))),this}removeAll(){return this._channels.clear(),this._channelGroups.clear(),this.isEmpty=!0,this}toString(){return`SubscriptionInput { channels: [${this.channels.join(", ")}], channelGroups: [${this.channelGroups.join(", ")}], is empty: ${this.isEmpty?"true":"false"}} }`}}class Dc{constructor(i,h,m,_){this._isSubscribed=!1,this.clones={},this.parents=[],this._id=gn.createUUID(),this.referenceTimetoken=_,this.subscriptionInput=h,this.options=m,this.client=i}get id(){return this._id}get isLastClone(){return Object.keys(this.clones).length===1}get isSubscribed(){return!!this._isSubscribed||this.parents.length>0&&this.parents.some(i=>i.isSubscribed)}set isSubscribed(i){this.isSubscribed!==i&&(this._isSubscribed=i)}addParentState(i){this.parents.includes(i)||this.parents.push(i)}removeParentState(i){const h=this.parents.indexOf(i);h!==-1&&this.parents.splice(h,1)}storeClone(i,h){this.clones[i]||(this.clones[i]=h)}}class hu{constructor(i,h="Subscription"){this.subscriptionType=h,this.id=gn.createUUID(),this.eventDispatcher=new el,this._state=i}get state(){return this._state}get channels(){return this.state.subscriptionInput.channels.slice(0)}get channelGroups(){return this.state.subscriptionInput.channelGroups.slice(0)}set onMessage(i){this.eventDispatcher.onMessage=i}set onPresence(i){this.eventDispatcher.onPresence=i}set onSignal(i){this.eventDispatcher.onSignal=i}set onObjects(i){this.eventDispatcher.onObjects=i}set onMessageAction(i){this.eventDispatcher.onMessageAction=i}set onFile(i){this.eventDispatcher.onFile=i}addListener(i){this.eventDispatcher.addListener(i)}removeListener(i){this.eventDispatcher.removeListener(i)}removeAllListeners(){this.eventDispatcher.removeAllListeners()}handleEvent(i,h){var m;if((!this.state.cursor||i>this.state.cursor)&&(this.state.cursor=i),this.state.referenceTimetoken&&h.data.timetoken<this.state.referenceTimetoken)return void this.state.client.logger.trace(this.subscriptionType,()=>({messageType:"text",message:`Event timetoken (${h.data.timetoken}) is older than reference timetoken (${this.state.referenceTimetoken}) for ${this.id} subscription object. Ignoring event.`}));if(!((m=this.state.options)===null||m===void 0)&&m.filter&&!this.state.options.filter(h))return void this.state.client.logger.trace(this.subscriptionType,`Event filtered out by filter function for ${this.id} subscription object. Ignoring event.`);const _=Object.values(this.state.clones);_.length>0&&this.state.client.logger.trace(this.subscriptionType,`Notify ${this.id} subscription object clones (count: ${_.length}) about received event.`),_.forEach(x=>x.eventDispatcher.handleEvent(h))}dispose(){const i=Object.keys(this.state.clones);i.length>1?(this.state.client.logger.debug(this.subscriptionType,`Remove subscription object clone on dispose: ${this.id}`),delete this.state.clones[this.id]):i.length===1&&this.state.clones[this.id]&&(this.state.client.logger.debug(this.subscriptionType,`Unsubscribe subscription object on dispose: ${this.id}`),this.unsubscribe())}invalidate(i=!1){this.state._isSubscribed=!1,i&&(delete this.state.clones[this.id],Object.keys(this.state.clones).length===0&&(this.state.client.logger.trace(this.subscriptionType,"Last clone removed. Reset shared subscription state."),this.state.subscriptionInput.removeAll(),this.state.parents=[]))}subscribe(i){this.state.isSubscribed?this.state.client.logger.trace(this.subscriptionType,"Already subscribed. Ignoring subscribe request."):(this.state.client.logger.debug(this.subscriptionType,()=>i?{messageType:"object",message:i,details:"Subscribe with parameters:"}:{messageType:"text",message:"Subscribe"}),this.state.isSubscribed=!0,this.updateSubscription({subscribing:!0,timetoken:i?.timetoken}))}unsubscribe(){if(!this.state._isSubscribed||this.state.isSubscribed){if(!this.state._isSubscribed&&this.state.parents.length>0&&this.state.isSubscribed)return void this.state.client.logger.warn(this.subscriptionType,()=>({messageType:"object",details:"Subscription is subscribed as part of a subscription set. Remove from active sets to unsubscribe:",message:this.state.parents.filter(i=>i.isSubscribed)}));if(!this.state._isSubscribed)return void this.state.client.logger.trace(this.subscriptionType,"Not subscribed. Ignoring unsubscribe request.")}this.state.client.logger.debug(this.subscriptionType,"Unsubscribe"),this.state.isSubscribed=!1,delete this.state.cursor,this.updateSubscription({subscribing:!1})}updateSubscription(i){var h,m;i?.timetoken&&(!((h=this.state.cursor)===null||h===void 0)&&h.timetoken&&((m=this.state.cursor)===null||m===void 0?void 0:m.timetoken)!=="0"?i.timetoken!=="0"&&i.timetoken>this.state.cursor.timetoken&&(this.state.cursor.timetoken=i.timetoken):this.state.cursor={timetoken:i.timetoken});const _=i.subscriptions&&i.subscriptions.length>0?i.subscriptions:void 0;i.subscribing?this.register(Object.assign(Object.assign({},i.timetoken?{cursor:this.state.cursor}:{}),_?{subscriptions:_}:{})):this.unregister(_)}}class Nc extends Dc{constructor(i){const h=new us({});i.subscriptions.forEach(m=>h.add(m.state.subscriptionInput)),super(i.client,h,i.options,i.client.subscriptionTimetoken),this.subscriptions=i.subscriptions}addSubscription(i){this.subscriptions.includes(i)||(i.state.addParentState(this),this.subscriptions.push(i),this.subscriptionInput.add(i.state.subscriptionInput))}removeSubscription(i,h){const m=this.subscriptions.indexOf(i);m!==-1&&(this.subscriptions.splice(m,1),h||i.state.removeParentState(this),this.subscriptionInput.remove(i.state.subscriptionInput))}removeAllSubscriptions(){this.subscriptions.forEach(i=>i.state.removeParentState(this)),this.subscriptions.splice(0,this.subscriptions.length),this.subscriptionInput.removeAll()}}class Hs extends hu{constructor(i){let h;if("client"in i){let m=[];!i.subscriptions&&i.entities?i.entities.forEach(_=>m.push(_.subscription(i.options))):i.subscriptions&&(m=i.subscriptions),h=new Nc({client:i.client,subscriptions:m,options:i.options}),m.forEach(_=>_.state.addParentState(h)),h.client.logger.debug("SubscriptionSet",()=>({messageType:"object",details:"Create subscription set with parameters:",message:Object.assign({subscriptions:h.subscriptions},i.options?i.options:{})}))}else h=i.state,h.client.logger.debug("SubscriptionSet","Create subscription set clone");super(h,"SubscriptionSet"),this.state.storeClone(this.id,this),h.subscriptions.forEach(m=>m.addParentSet(this))}get state(){return super.state}get subscriptions(){return this.state.subscriptions.slice(0)}handleEvent(i,h){var m;this.state.subscriptionInput.contains((m=h.data.subscription)!==null&&m!==void 0?m:h.data.channel)&&(this.state._isSubscribed?(super.handleEvent(i,h),this.state.subscriptions.length>0&&this.state.client.logger.trace(this.subscriptionType,`Notify ${this.id} subscription set subscriptions (count: ${this.state.subscriptions.length}) about received event.`),this.state.subscriptions.forEach(_=>_.handleEvent(i,h))):this.state.client.logger.trace(this.subscriptionType,`Subscription set ${this.id} is not subscribed. Ignoring event.`))}subscriptionInput(i=!1){let h=this.state.subscriptionInput;return this.state.subscriptions.forEach(m=>{i&&m.state.entity.subscriptionsCount>0&&(h=h.without(m.state.subscriptionInput))}),h}cloneEmpty(){return new Hs({state:this.state})}dispose(){const i=this.state.isLastClone;this.state.subscriptions.forEach(h=>{h.removeParentSet(this),i&&h.state.removeParentState(this.state)}),super.dispose()}invalidate(i=!1){(i?this.state.subscriptions.slice(0):this.state.subscriptions).forEach(h=>{i&&(h.state.entity.decreaseSubscriptionCount(this.state.id),h.removeParentSet(this)),h.invalidate(i)}),i&&this.state.removeAllSubscriptions(),super.invalidate()}addSubscription(i){this.addSubscriptions([i])}addSubscriptions(i){const h=[],m=[];this.state.client.logger.debug(this.subscriptionType,()=>{const _=[],x=[];return i.forEach(O=>{this.state.subscriptions.includes(O)?_.push(O):x.push(O)}),{messageType:"object",details:`Add subscriptions to ${this.id} (subscriptions count: ${this.state.subscriptions.length+x.length}):`,message:{addedSubscriptions:x,ignoredSubscriptions:_}}}),i.filter(_=>!this.state.subscriptions.includes(_)).forEach(_=>{_.state.isSubscribed?m.push(_):h.push(_),_.addParentSet(this),this.state.addSubscription(_)}),m.length===0&&h.length===0||!this.state.isSubscribed||(m.forEach(({state:_})=>_.entity.increaseSubscriptionCount(this.state.id)),h.length>0&&this.updateSubscription({subscribing:!0,subscriptions:h}))}removeSubscription(i){this.removeSubscriptions([i])}removeSubscriptions(i){const h=[];this.state.client.logger.debug(this.subscriptionType,()=>{const m=[],_=[];return i.forEach(x=>{this.state.subscriptions.includes(x)?_.push(x):m.push(x)}),{messageType:"object",details:`Remove subscriptions from ${this.id} (subscriptions count: ${this.state.subscriptions.length}):`,message:{removedSubscriptions:_,ignoredSubscriptions:m}}}),i.filter(m=>this.state.subscriptions.includes(m)).forEach(m=>{m.state.isSubscribed&&h.push(m),m.removeParentSet(this),this.state.removeSubscription(m,m.parentSetsCount>1)}),h.length!==0&&this.state.isSubscribed&&this.updateSubscription({subscribing:!1,subscriptions:h})}addSubscriptionSet(i){this.addSubscriptions(i.subscriptions)}removeSubscriptionSet(i){this.removeSubscriptions(i.subscriptions)}register(i){var h;const m=(h=i.subscriptions)!==null&&h!==void 0?h:this.state.subscriptions;m.forEach(({state:_})=>_.entity.increaseSubscriptionCount(this.state.id)),this.state.client.logger.trace(this.subscriptionType,()=>({messageType:"text",message:`Register subscription for real-time events: ${this}`})),this.state.client.registerEventHandleCapable(this,i.cursor,m)}unregister(i){const h=i??this.state.subscriptions;h.forEach(({state:m})=>m.entity.decreaseSubscriptionCount(this.state.id)),this.state.client.logger.trace(this.subscriptionType,()=>i?{messageType:"object",message:{subscription:this,subscriptions:i},details:"Unregister subscriptions of subscription set from real-time events:"}:{messageType:"text",message:`Unregister subscription from real-time events: ${this}`}),this.state.client.unregisterEventHandleCapable(this,h)}toString(){const i=this.state;return`${this.subscriptionType} { id: ${this.id}, stateId: ${i.id}, clonesCount: ${Object.keys(this.state.clones).length}, isSubscribed: ${i.isSubscribed}, subscriptions: [${i.subscriptions.map(h=>h.toString()).join(", ")}] }`}}class dl extends Dc{constructor(i){var h,m;const _=i.entity.subscriptionNames((m=(h=i.options)===null||h===void 0?void 0:h.receivePresenceEvents)!==null&&m!==void 0&&m),x=new us({[i.entity.subscriptionType==$i.Channel?"channels":"channelGroups"]:_});super(i.client,x,i.options,i.client.subscriptionTimetoken),this.entity=i.entity}}class Es extends hu{constructor(i){"client"in i?i.client.logger.debug("Subscription",()=>({messageType:"object",details:"Create subscription with parameters:",message:Object.assign({entity:i.entity},i.options?i.options:{})})):i.state.client.logger.debug("Subscription","Create subscription clone"),super("state"in i?i.state:new dl(i)),this.parents=[],this.handledUpdates=[],this.state.storeClone(this.id,this)}get state(){return super.state}get parentSetsCount(){return this.parents.length}handleEvent(i,h){var m,_;if(this.state.isSubscribed&&this.state.subscriptionInput.contains((m=h.data.subscription)!==null&&m!==void 0?m:h.data.channel)){if(this.parentSetsCount>0){const x=On(h.data);if(this.handledUpdates.includes(x))return void this.state.client.logger.trace(this.subscriptionType,`Event (${x}) already handled by ${this.id}. Ignoring.`);this.handledUpdates.push(x),this.handledUpdates.length>10&&this.handledUpdates.shift()}this.state.subscriptionInput.contains((_=h.data.subscription)!==null&&_!==void 0?_:h.data.channel)&&super.handleEvent(i,h)}}subscriptionInput(i=!1){return i&&this.state.entity.subscriptionsCount>0?new us({}):this.state.subscriptionInput}cloneEmpty(){return new Es({state:this.state})}dispose(){this.parentSetsCount>0?this.state.client.logger.debug(this.subscriptionType,()=>({messageType:"text",message:`'${this.state.entity.subscriptionNames()}' subscription still in use. Ignore dispose request.`})):(this.handledUpdates.splice(0,this.handledUpdates.length),super.dispose())}invalidate(i=!1){i&&this.state.entity.decreaseSubscriptionCount(this.state.id),this.handledUpdates.splice(0,this.handledUpdates.length),super.invalidate(i)}addParentSet(i){this.parents.includes(i)||(this.parents.push(i),this.state.client.logger.trace(this.subscriptionType,`Add parent subscription set for ${this.id}: ${i.id}. Parent subscription set count: ${this.parentSetsCount}`))}removeParentSet(i){const h=this.parents.indexOf(i);h!==-1&&(this.parents.splice(h,1),this.state.client.logger.trace(this.subscriptionType,`Remove parent subscription set from ${this.id}: ${i.id}. Parent subscription set count: ${this.parentSetsCount}`)),this.parentSetsCount===0&&this.handledUpdates.splice(0,this.handledUpdates.length)}addSubscription(i){this.state.client.logger.debug(this.subscriptionType,()=>({messageType:"text",message:`Create set with subscription: ${i}`}));const h=new Hs({client:this.state.client,subscriptions:[this,i],options:this.state.options});return(this.state.isSubscribed||i.state.isSubscribed)&&(this.state.client.logger.trace(this.subscriptionType,"Subscribe resulting set because the receiver is already subscribed."),h.subscribe()),h}register(i){this.state.entity.increaseSubscriptionCount(this.state.id),this.state.client.logger.trace(this.subscriptionType,()=>({messageType:"text",message:`Register subscription for real-time events: ${this}`})),this.state.client.registerEventHandleCapable(this,i.cursor)}unregister(i){this.state.entity.decreaseSubscriptionCount(this.state.id),this.state.client.logger.trace(this.subscriptionType,()=>({messageType:"text",message:`Unregister subscription from real-time events: ${this}`})),this.handledUpdates.splice(0,this.handledUpdates.length),this.state.client.unregisterEventHandleCapable(this)}toString(){const i=this.state;return`${this.subscriptionType} { id: ${this.id}, stateId: ${i.id}, entity: ${i.entity.subscriptionNames(!1).pop()}, clonesCount: ${Object.keys(i.clones).length}, isSubscribed: ${i.isSubscribed}, parentSetsCount: ${this.parentSetsCount}, cursor: ${i.cursor?i.cursor.timetoken:"not set"}, referenceTimetoken: ${i.referenceTimetoken?i.referenceTimetoken:"not set"} }`}}class Li extends gt{constructor(i){var h,m,_,x;super(),this.parameters=i,(h=(_=this.parameters).channels)!==null&&h!==void 0||(_.channels=[]),(m=(x=this.parameters).channelGroups)!==null&&m!==void 0||(x.channelGroups=[])}operation(){return Q.PNGetStateOperation}validate(){const{keySet:{subscribeKey:i},channels:h,channelGroups:m}=this.parameters;if(!i)return"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){const h=this.deserializeResponse(i),{channels:m=[],channelGroups:_=[]}=this.parameters,x={channels:{}};return m.length===1&&_.length===0?x.channels[m[0]]=h.payload:x.channels=h.payload,x})}get path(){const{keySet:{subscribeKey:i},uuid:h,channels:m}=this.parameters;return`/v2/presence/sub-key/${i}/channel/${Ve(m??[],",")}/uuid/${h}`}get queryParameters(){const{channelGroups:i}=this.parameters;return i&&i.length!==0?{"channel-group":i.join(",")}:{}}}class Fi extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNSetStateOperation}validate(){const{keySet:{subscribeKey:i},state:h,channels:m=[],channelGroups:_=[]}=this.parameters;return i?h?m?.length===0&&_?.length===0?"Please provide a list of channels and/or channel-groups":void 0:"Missing State":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){return{state:this.deserializeResponse(i).payload}})}get path(){const{keySet:{subscribeKey:i},uuid:h,channels:m}=this.parameters;return`/v2/presence/sub-key/${i}/channel/${Ve(m??[],",")}/uuid/${Le(h)}/data`}get queryParameters(){const{channelGroups:i,state:h}=this.parameters,m={state:JSON.stringify(h)};return i&&i.length!==0&&(m["channel-group"]=i.join(",")),m}}class Ui extends gt{constructor(i){super({cancellable:!0}),this.parameters=i}operation(){return Q.PNHeartbeatOperation}validate(){const{keySet:{subscribeKey:i},channels:h=[],channelGroups:m=[]}=this.parameters;return i?h.length===0&&m.length===0?"Please provide a list of channels and/or channel-groups":void 0:"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(m=>({}))})}get path(){const{keySet:{subscribeKey:i},channels:h}=this.parameters;return`/v2/presence/sub-key/${i}/channel/${Ve(h??[],",")}/heartbeat`}get queryParameters(){const{channelGroups:i,state:h,heartbeat:m}=this.parameters,_={heartbeat:`${m}`};return i&&i.length!==0&&(_["channel-group"]=i.join(",")),h&&(_.state=JSON.stringify(h)),_}}class hl extends gt{constructor(i){super(),this.parameters=i,this.parameters.channelGroups&&(this.parameters.channelGroups=Array.from(new Set(this.parameters.channelGroups))),this.parameters.channels&&(this.parameters.channels=Array.from(new Set(this.parameters.channels)))}operation(){return Q.PNUnsubscribeOperation}validate(){const{keySet:{subscribeKey:i},channels:h=[],channelGroups:m=[]}=this.parameters;return i?h.length===0&&m.length===0?"At least one `channel` or `channel group` should be provided.":void 0:"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(m=>({}))})}get path(){var i;const{keySet:{subscribeKey:h},channels:m}=this.parameters;return`/v2/presence/sub-key/${h}/channel/${Ve((i=m?.sort())!==null&&i!==void 0?i:[],",")}/leave`}get queryParameters(){const{channelGroups:i}=this.parameters;return i&&i.length!==0?{"channel-group":i.sort().join(",")}:{}}}class Bi extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNWhereNowOperation}validate(){if(!this.parameters.keySet.subscribeKey)return"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){const h=this.deserializeResponse(i);return h.payload?{channels:h.payload.channels}:{channels:[]}})}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/presence/sub-key/${i}/uuid/${Le(h)}`}}class Cp extends gt{constructor(i){var h,m,_,x,O,I;super(),this.parameters=i,(h=(x=this.parameters).queryParameters)!==null&&h!==void 0||(x.queryParameters={}),(m=(O=this.parameters).includeUUIDs)!==null&&m!==void 0||(O.includeUUIDs=!0),(_=(I=this.parameters).includeState)!==null&&_!==void 0||(I.includeState=!1)}operation(){const{channels:i=[],channelGroups:h=[]}=this.parameters;return i.length===0&&h.length===0?Q.PNGlobalHereNowOperation:Q.PNHereNowOperation}validate(){if(!this.parameters.keySet.subscribeKey)return"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){var h,m;const _=this.deserializeResponse(i),x="occupancy"in _?1:_.payload.total_channels,O="occupancy"in _?_.occupancy:_.payload.total_occupancy,I={};let F={};if("occupancy"in _){const q=this.parameters.channels[0];F[q]={uuids:(h=_.uuids)!==null&&h!==void 0?h:[],occupancy:O}}else F=(m=_.payload.channels)!==null&&m!==void 0?m:{};return Object.keys(F).forEach(q=>{const ie=F[q];I[q]={occupants:this.parameters.includeUUIDs?ie.uuids.map(re=>typeof re=="string"?{uuid:re,state:null}:re):[],name:q,occupancy:ie.occupancy}}),{totalChannels:x,totalOccupancy:O,channels:I}})}get path(){const{keySet:{subscribeKey:i},channels:h,channelGroups:m}=this.parameters;let _=`/v2/presence/sub-key/${i}`;return(h&&h.length>0||m&&m.length>0)&&(_+=`/channel/${Ve(h??[],",")}`),_}get queryParameters(){const{channelGroups:i,includeUUIDs:h,includeState:m,queryParameters:_}=this.parameters;return Object.assign(Object.assign(Object.assign(Object.assign({},h?{}:{disable_uuids:"1"}),m!=null&&m?{state:"1"}:{}),i&&i.length>0?{"channel-group":i.join(",")}:{}),_)}}class lh extends gt{constructor(i){super({method:on.DELETE}),this.parameters=i}operation(){return Q.PNDeleteMessagesOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channel?void 0:"Missing channel":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(m=>({}))})}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v3/history/sub-key/${i}/channel/${Le(h)}`}get queryParameters(){const{start:i,end:h}=this.parameters;return Object.assign(Object.assign({},i?{start:i}:{}),h?{end:h}:{})}}class wa extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNMessageCounts}validate(){const{keySet:{subscribeKey:i},channels:h,timetoken:m,channelTimetokens:_}=this.parameters;return i?h?m&&_?"`timetoken` and `channelTimetokens` are incompatible together":m||_?_&&_.length>1&&_.length!==h.length?"Length of `channelTimetokens` and `channels` do not match":void 0:"`timetoken` or `channelTimetokens` need to be set":"Missing channels":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){return{channels:this.deserializeResponse(i).channels}})}get path(){return`/v3/history/sub-key/${this.parameters.keySet.subscribeKey}/message-counts/${Ve(this.parameters.channels)}`}get queryParameters(){let{channelTimetokens:i}=this.parameters;return this.parameters.timetoken&&(i=[this.parameters.timetoken]),Object.assign(Object.assign({},i.length===1?{timetoken:i[0]}:{}),i.length>1?{channelsTimetoken:i.join(",")}:{})}}class Ac extends gt{constructor(i){var h,m,_;super(),this.parameters=i,i.count?i.count=Math.min(i.count,100):i.count=100,(h=i.stringifiedTimeToken)!==null&&h!==void 0||(i.stringifiedTimeToken=!1),(m=i.includeMeta)!==null&&m!==void 0||(i.includeMeta=!1),(_=i.logVerbosity)!==null&&_!==void 0||(i.logVerbosity=!1)}operation(){return Q.PNHistoryOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channel?void 0:"Missing channel":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){const h=this.deserializeResponse(i),m=h[0],_=h[1],x=h[2];return Array.isArray(m)?{messages:m.map(O=>{const I=this.processPayload(O.message),F={entry:I.payload,timetoken:O.timetoken};return I.error&&(F.error=I.error),O.meta&&(F.meta=O.meta),F}),startTimeToken:_,endTimeToken:x}:{messages:[],startTimeToken:_,endTimeToken:x}})}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/history/sub-key/${i}/channel/${Le(h)}`}get queryParameters(){const{start:i,end:h,reverse:m,count:_,stringifiedTimeToken:x,includeMeta:O}=this.parameters;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:_,include_token:"true"},i?{start:i}:{}),h?{end:h}:{}),x?{string_message_token:"true"}:{}),m!=null?{reverse:m.toString()}:{}),O?{include_meta:"true"}:{})}processPayload(i){const{crypto:h,logVerbosity:m}=this.parameters;if(!h||typeof i!="string")return{payload:i};let _,x;try{const O=h.decrypt(i);_=O instanceof ArrayBuffer?JSON.parse(Ac.decoder.decode(O)):O}catch(O){m&&console.log("decryption error",O.message),_=i,x=`Error while decrypting message content: ${O.message}`}return{payload:_,error:x}}}var fl;(function(P){P[P.Message=-1]="Message",P[P.Files=4]="Files"})(fl||(fl={}));class to extends gt{constructor(i){var h,m,_,x,O;super(),this.parameters=i;const I=(h=i.includeMessageActions)!==null&&h!==void 0&&h,F=i.channels.length>1||I?25:100;i.count?i.count=Math.min(i.count,F):i.count=F,i.includeUuid?i.includeUUID=i.includeUuid:(m=i.includeUUID)!==null&&m!==void 0||(i.includeUUID=!0),(_=i.stringifiedTimeToken)!==null&&_!==void 0||(i.stringifiedTimeToken=!1),(x=i.includeMessageType)!==null&&x!==void 0||(i.includeMessageType=!0),(O=i.logVerbosity)!==null&&O!==void 0||(i.logVerbosity=!1)}operation(){return Q.PNFetchMessagesOperation}validate(){const{keySet:{subscribeKey:i},channels:h,includeMessageActions:m}=this.parameters;return i?h?m!==void 0&&m&&h.length>1?"History can return actions data for a single channel only. Either pass a single channel or disable the includeMessageActions flag.":void 0:"Missing channels":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){var h;const m=this.deserializeResponse(i),_=(h=m.channels)!==null&&h!==void 0?h:{},x={};return Object.keys(_).forEach(O=>{x[O]=_[O].map(I=>{I.message_type===null&&(I.message_type=fl.Message);const F=this.processPayload(O,I),q=Object.assign(Object.assign({channel:O,timetoken:I.timetoken,message:F.payload,messageType:I.message_type},I.custom_message_type?{customMessageType:I.custom_message_type}:{}),{uuid:I.uuid});if(I.actions){const ie=q;ie.actions=I.actions,ie.data=I.actions}return I.meta&&(q.meta=I.meta),F.error&&(q.error=F.error),q})}),m.more?{channels:x,more:m.more}:{channels:x}})}get path(){const{keySet:{subscribeKey:i},channels:h,includeMessageActions:m}=this.parameters;return`/v3/${m?"history-with-actions":"history"}/sub-key/${i}/channel/${Ve(h)}`}get queryParameters(){const{start:i,end:h,count:m,includeCustomMessageType:_,includeMessageType:x,includeMeta:O,includeUUID:I,stringifiedTimeToken:F}=this.parameters;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({max:m},i?{start:i}:{}),h?{end:h}:{}),F?{string_message_token:"true"}:{}),O!==void 0&&O?{include_meta:"true"}:{}),I?{include_uuid:"true"}:{}),_!=null?{include_custom_message_type:_?"true":"false"}:{}),x?{include_message_type:"true"}:{})}processPayload(i,h){const{crypto:m,logVerbosity:_}=this.parameters;if(!m||typeof h.message!="string")return{payload:h.message};let x,O;try{const I=m.decrypt(h.message);x=I instanceof ArrayBuffer?JSON.parse(to.decoder.decode(I)):I}catch(I){_&&console.log("decryption error",I.message),x=h.message,O=`Error while decrypting message content: ${I.message}`}if(!O&&x&&h.message_type==fl.Files&&typeof x=="object"&&this.isFileMessage(x)){const I=x;return{payload:{message:I.message,file:Object.assign(Object.assign({},I.file),{url:this.parameters.getFileUrl({channel:i,id:I.file.id,name:I.file.name})})},error:O}}return{payload:x,error:O}}isFileMessage(i){return i.file!==void 0}}class uh extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNGetMessageActionsOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channel?void 0:"Missing message channel":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){const h=this.deserializeResponse(i);let m=null,_=null;return h.data.length>0&&(m=h.data[0].actionTimetoken,_=h.data[h.data.length-1].actionTimetoken),{data:h.data,more:h.more,start:m,end:_}})}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v1/message-actions/${i}/channel/${Le(h)}`}get queryParameters(){const{limit:i,start:h,end:m}=this.parameters;return Object.assign(Object.assign(Object.assign({},h?{start:h}:{}),m?{end:m}:{}),i?{limit:i}:{})}}class Pp extends gt{constructor(i){super({method:on.POST}),this.parameters=i}operation(){return Q.PNAddMessageActionOperation}validate(){const{keySet:{subscribeKey:i},action:h,channel:m,messageTimetoken:_}=this.parameters;return i?m?_?h?h.value?h.type?h.type.length>15?"Action.type value exceed maximum length of 15":void 0:"Missing Action.type":"Missing Action.value":"Missing Action":"Missing message timetoken":"Missing message channel":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(({data:m})=>({data:m}))})}get path(){const{keySet:{subscribeKey:i},channel:h,messageTimetoken:m}=this.parameters;return`/v1/message-actions/${i}/channel/${Le(h)}/message/${m}`}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"})}get body(){return JSON.stringify(this.parameters.action)}}class rn extends gt{constructor(i){super({method:on.DELETE}),this.parameters=i}operation(){return Q.PNRemoveMessageActionOperation}validate(){const{keySet:{subscribeKey:i},channel:h,messageTimetoken:m,actionTimetoken:_}=this.parameters;return i?h?m?_?void 0:"Missing action timetoken":"Missing message timetoken":"Missing message action channel":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(({data:m})=>({data:m}))})}get path(){const{keySet:{subscribeKey:i},channel:h,actionTimetoken:m,messageTimetoken:_}=this.parameters;return`/v1/message-actions/${i}/channel/${Le(h)}/message/${_}/action/${m}`}}class Jt extends gt{constructor(i){var h,m;super(),this.parameters=i,(h=(m=this.parameters).storeInHistory)!==null&&h!==void 0||(m.storeInHistory=!0)}operation(){return Q.PNPublishFileMessageOperation}validate(){const{channel:i,fileId:h,fileName:m}=this.parameters;return i?h?m?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"}parse(i){return d(this,void 0,void 0,function*(){return{timetoken:this.deserializeResponse(i)[2]}})}get path(){const{message:i,channel:h,keySet:{publishKey:m,subscribeKey:_},fileId:x,fileName:O}=this.parameters,I=Object.assign({file:{name:O,id:x}},i?{message:i}:{});return`/v1/files/publish-file/${m}/${_}/0/${Le(h)}/0/${Le(this.prepareMessagePayload(I))}`}get queryParameters(){const{customMessageType:i,storeInHistory:h,ttl:m,meta:_}=this.parameters;return Object.assign(Object.assign(Object.assign({store:h?"1":"0"},i?{custom_message_type:i}:{}),m?{ttl:m}:{}),_&&typeof _=="object"?{meta:JSON.stringify(_)}:{})}prepareMessagePayload(i){const{crypto:h}=this.parameters;if(!h)return JSON.stringify(i)||"";const m=h.encrypt(JSON.stringify(i));return JSON.stringify(typeof m=="string"?m:S(m))}}class no extends gt{constructor(i){super({method:on.LOCAL}),this.parameters=i}operation(){return Q.PNGetFileUrlOperation}validate(){const{channel:i,id:h,name:m}=this.parameters;return i?h?m?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"}parse(i){return d(this,void 0,void 0,function*(){return i.url})}get path(){const{channel:i,id:h,name:m,keySet:{subscribeKey:_}}=this.parameters;return`/v1/files/${_}/channels/${Le(i)}/files/${h}/${m}`}}class fu extends gt{constructor(i){super({method:on.DELETE}),this.parameters=i}operation(){return Q.PNDeleteFileOperation}validate(){const{channel:i,id:h,name:m}=this.parameters;return i?h?m?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"}get path(){const{keySet:{subscribeKey:i},id:h,channel:m,name:_}=this.parameters;return`/v1/files/${i}/channels/${Le(m)}/files/${h}/${_}`}}class Op extends gt{constructor(i){var h,m;super(),this.parameters=i,(h=(m=this.parameters).limit)!==null&&h!==void 0||(m.limit=100)}operation(){return Q.PNListFilesOperation}validate(){if(!this.parameters.channel)return"channel can't be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v1/files/${i}/channels/${Le(h)}/files`}get queryParameters(){const{limit:i,next:h}=this.parameters;return Object.assign({limit:i},h?{next:h}:{})}}class Tp extends gt{constructor(i){super({method:on.POST}),this.parameters=i}operation(){return Q.PNGenerateUploadUrlOperation}validate(){return this.parameters.channel?this.parameters.name?void 0:"'name' can't be empty":"channel can't be empty"}parse(i){return d(this,void 0,void 0,function*(){const h=this.deserializeResponse(i);return{id:h.data.id,name:h.data.name,url:h.file_upload_request.url,formFields:h.file_upload_request.form_fields}})}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v1/files/${i}/channels/${Le(h)}/generate-upload-url`}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"})}get body(){return JSON.stringify({name:this.parameters.name})}}class pl extends gt{constructor(i){super({method:on.POST}),this.parameters=i;const h=i.file.mimeType;h&&(i.formFields=i.formFields.map(m=>m.name==="Content-Type"?{name:m.name,value:h}:m))}operation(){return Q.PNPublishFileOperation}validate(){const{fileId:i,fileName:h,file:m,uploadUrl:_}=this.parameters;return i?h?m?_?void 0:"Validation failed: file upload 'url' can't be empty":"Validation failed: 'file' can't be empty":"Validation failed: file 'name' can't be empty":"Validation failed: file 'id' can't be empty"}parse(i){return d(this,void 0,void 0,function*(){return{status:i.status,message:i.body?pl.decoder.decode(i.body):"OK"}})}request(){return Object.assign(Object.assign({},super.request()),{origin:new URL(this.parameters.uploadUrl).origin,timeout:300})}get path(){const{pathname:i,search:h}=new URL(this.parameters.uploadUrl);return`${i}${h}`}get body(){return this.parameters.file}get formData(){return this.parameters.formFields}}class pu{constructor(i){var h;if(this.parameters=i,this.file=(h=this.parameters.PubNubFile)===null||h===void 0?void 0:h.create(i.file),!this.file)throw new Error("File upload error: unable to create File object.")}process(){return d(this,void 0,void 0,function*(){let i,h;return this.generateFileUploadUrl().then(m=>(i=m.name,h=m.id,this.uploadFile(m))).then(m=>{if(m.status!==204)throw new A("Upload to bucket was unsuccessful",{error:!0,statusCode:m.status,category:C.PNUnknownCategory,operation:Q.PNPublishFileOperation,errorData:{message:m.message}})}).then(()=>this.publishFileMessage(h,i)).catch(m=>{if(m instanceof A)throw m;const _=m instanceof be?m:be.create(m);throw new A("File upload error.",_.toStatus(Q.PNPublishFileOperation))})})}generateFileUploadUrl(){return d(this,void 0,void 0,function*(){const i=new Tp(Object.assign(Object.assign({},this.parameters),{name:this.file.name,keySet:this.parameters.keySet}));return this.parameters.sendRequest(i)})}uploadFile(i){return d(this,void 0,void 0,function*(){const{cipherKey:h,PubNubFile:m,crypto:_,cryptography:x}=this.parameters,{id:O,name:I,url:F,formFields:q}=i;return this.parameters.PubNubFile.supportsEncryptFile&&(!h&&_?this.file=yield _.encryptFile(this.file,m):h&&x&&(this.file=yield x.encryptFile(h,this.file,m))),this.parameters.sendRequest(new pl({fileId:O,fileName:I,file:this.file,uploadUrl:F,formFields:q}))})}publishFileMessage(i,h){return d(this,void 0,void 0,function*(){var m,_,x,O;let I,F={timetoken:"0"},q=this.parameters.fileUploadPublishRetryLimit,ie=!1;do try{F=yield this.parameters.publishFile(Object.assign(Object.assign({},this.parameters),{fileId:i,fileName:h})),ie=!0}catch(re){re instanceof A&&(I=re),q-=1}while(!ie&&q>0);if(ie)return{status:200,timetoken:F.timetoken,id:i,name:h};throw new A("Publish failed. You may want to execute that operation manually using pubnub.publishFile",{error:!0,category:(_=(m=I.status)===null||m===void 0?void 0:m.category)!==null&&_!==void 0?_:C.PNUnknownCategory,statusCode:(O=(x=I.status)===null||x===void 0?void 0:x.statusCode)!==null&&O!==void 0?O:0,channel:this.parameters.channel,id:i,name:h})})}}class _a{constructor(i,h){this.subscriptionStateIds=[],this.client=h,this._nameOrId=i}get entityType(){return"Channel"}get subscriptionType(){return $i.Channel}subscriptionNames(i){return[this._nameOrId,...i&&!this._nameOrId.endsWith("-pnpres")?[`${this._nameOrId}-pnpres`]:[]]}subscription(i){return new Es({client:this.client,entity:this,options:i})}get subscriptionsCount(){return this.subscriptionStateIds.length}increaseSubscriptionCount(i){this.subscriptionStateIds.includes(i)||this.subscriptionStateIds.push(i)}decreaseSubscriptionCount(i){{const h=this.subscriptionStateIds.indexOf(i);h>=0&&this.subscriptionStateIds.splice(h,1)}}toString(){return`${this.entityType} { nameOrId: ${this._nameOrId}, subscriptionsCount: ${this.subscriptionsCount} }`}}class ch extends _a{get entityType(){return"ChannelMetadata"}get id(){return this._nameOrId}subscriptionNames(i){return[this.id]}}class wn extends _a{get entityType(){return"ChannelGroups"}get name(){return this._nameOrId}get subscriptionType(){return $i.ChannelGroup}}class gl extends _a{get entityType(){return"UserMetadata"}get id(){return this._nameOrId}subscriptionNames(i){return[this.id]}}class zs extends _a{get entityType(){return"Channel"}get name(){return this._nameOrId}}class Ic extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNRemoveChannelsFromGroupOperation}validate(){const{keySet:{subscribeKey:i},channels:h,channelGroup:m}=this.parameters;return i?m?h?void 0:"Missing channels":"Missing Channel Group":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(m=>({}))})}get path(){const{keySet:{subscribeKey:i},channelGroup:h}=this.parameters;return`/v1/channel-registration/sub-key/${i}/channel-group/${Le(h)}`}get queryParameters(){return{remove:this.parameters.channels.join(",")}}}class ro extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNAddChannelsToGroupOperation}validate(){const{keySet:{subscribeKey:i},channels:h,channelGroup:m}=this.parameters;return i?m?h?void 0:"Missing channels":"Missing Channel Group":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(m=>({}))})}get path(){const{keySet:{subscribeKey:i},channelGroup:h}=this.parameters;return`/v1/channel-registration/sub-key/${i}/channel-group/${Le(h)}`}get queryParameters(){return{add:this.parameters.channels.join(",")}}}class Sr extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNChannelsForGroupOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channelGroup?void 0:"Missing Channel Group":"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){return{channels:this.deserializeResponse(i).payload.channels}})}get path(){const{keySet:{subscribeKey:i},channelGroup:h}=this.parameters;return`/v1/channel-registration/sub-key/${i}/channel-group/${Le(h)}`}}class Mc extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNRemoveGroupOperation}validate(){return this.parameters.keySet.subscribeKey?this.parameters.channelGroup?void 0:"Missing Channel Group":"Missing Subscribe Key"}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(m=>({}))})}get path(){const{keySet:{subscribeKey:i},channelGroup:h}=this.parameters;return`/v1/channel-registration/sub-key/${i}/channel-group/${Le(h)}/remove`}}class Ar extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNChannelGroupsOperation}validate(){if(!this.parameters.keySet.subscribeKey)return"Missing Subscribe Key"}parse(i){return d(this,void 0,void 0,function*(){return{groups:this.deserializeResponse(i).payload.groups}})}get path(){return`/v1/channel-registration/sub-key/${this.parameters.keySet.subscribeKey}/channel-group`}}class Sa{constructor(i,h,m){this.sendRequest=m,this.logger=i,this.keySet=h}listChannels(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"List channel group channels with parameters:"}));const m=new Sr(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=x=>{x&&this.logger.info("PubNub",`List channel group channels success. Received ${x.channels.length} channels.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))})}listGroups(i){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub","List all channel groups.");const h=new Ar({keySet:this.keySet}),m=_=>{_&&this.logger.info("PubNub",`List all channel groups success. Received ${_.groups.length} groups.`)};return i?this.sendRequest(h,(_,x)=>{m(x),i(_,x)}):this.sendRequest(h).then(_=>(m(_),_))})}addChannels(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Add channels to the channel group with parameters:"}));const m=new ro(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.info("PubNub","Add channels to the channel group success.")};return h?this.sendRequest(m,x=>{x.error||_(),h(x)}):this.sendRequest(m).then(x=>(_(),x))})}removeChannels(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove channels from the channel group with parameters:"}));const m=new Ic(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.info("PubNub","Remove channels from the channel group success.")};return h?this.sendRequest(m,x=>{x.error||_(),h(x)}):this.sendRequest(m).then(x=>(_(),x))})}deleteGroup(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove a channel group with parameters:"}));const m=new Mc(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.info("PubNub",`Remove a channel group success. Removed '${i.channelGroup}' channel group.'`)};return h?this.sendRequest(m,x=>{x.error||_(),h(x)}):this.sendRequest(m).then(x=>(_(),x))})}}class xa extends gt{constructor(i){var h,m;super(),this.parameters=i,this.parameters.pushGateway==="apns2"&&((h=(m=this.parameters).environment)!==null&&h!==void 0||(m.environment="development")),this.parameters.count&&this.parameters.count>1e3&&(this.parameters.count=1e3)}operation(){throw Error("Should be implemented in subclass.")}validate(){const{keySet:{subscribeKey:i},action:h,device:m,pushGateway:_}=this.parameters;return i?m?h!=="add"&&h!=="remove"||"channels"in this.parameters&&this.parameters.channels.length!==0?_?this.parameters.pushGateway!=="apns2"||this.parameters.topic?void 0:"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm or apns2)":"Missing Channels":"Missing Device ID (device)":"Missing Subscribe Key"}get path(){const{keySet:{subscribeKey:i},action:h,device:m,pushGateway:_}=this.parameters;let x=_==="apns2"?`/v2/push/sub-key/${i}/devices-apns2/${m}`:`/v1/push/sub-key/${i}/devices/${m}`;return h==="remove-device"&&(x=`${x}/remove`),x}get queryParameters(){const{start:i,count:h}=this.parameters;let m=Object.assign(Object.assign({type:this.parameters.pushGateway},i?{start:i}:{}),h&&h>0?{count:h}:{});if("channels"in this.parameters&&(m[this.parameters.action]=this.parameters.channels.join(",")),this.parameters.pushGateway==="apns2"){const{environment:_,topic:x}=this.parameters;m=Object.assign(Object.assign({},m),{environment:_,topic:x})}return m}}class so extends xa{constructor(i){super(Object.assign(Object.assign({},i),{action:"remove"}))}operation(){return Q.PNRemovePushNotificationEnabledChannelsOperation}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(m=>({}))})}}class dh extends xa{constructor(i){super(Object.assign(Object.assign({},i),{action:"list"}))}operation(){return Q.PNPushNotificationEnabledChannelsOperation}parse(i){return d(this,void 0,void 0,function*(){return{channels:this.deserializeResponse(i)}})}}class xr extends xa{constructor(i){super(Object.assign(Object.assign({},i),{action:"add"}))}operation(){return Q.PNAddPushNotificationEnabledChannelsOperation}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(m=>({}))})}}class Rc extends xa{constructor(i){super(Object.assign(Object.assign({},i),{action:"remove-device"}))}operation(){return Q.PNRemoveAllPushNotificationsOperation}parse(i){const h=Object.create(null,{parse:{get:()=>super.parse}});return d(this,void 0,void 0,function*(){return h.parse.call(this,i).then(m=>({}))})}}class fr{constructor(i,h,m){this.sendRequest=m,this.logger=i,this.keySet=h}listChannels(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"List push-enabled channels with parameters:"}));const m=new dh(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=x=>{x&&this.logger.debug("PubNub",`List push-enabled channels success. Received ${x.channels.length} channels.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))})}addChannels(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Add push-enabled channels with parameters:"}));const m=new xr(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.debug("PubNub","Add push-enabled channels success.")};return h?this.sendRequest(m,x=>{x.error||_(),h(x)}):this.sendRequest(m).then(x=>(_(),x))})}removeChannels(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove push-enabled channels with parameters:"}));const m=new so(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.debug("PubNub","Remove push-enabled channels success.")};return h?this.sendRequest(m,x=>{x.error||_(),h(x)}):this.sendRequest(m).then(x=>(_(),x))})}deleteDevice(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove push notifications for device with parameters:"}));const m=new Rc(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=()=>{this.logger.debug("PubNub","Remove push notifications for device success.")};return h?this.sendRequest(m,x=>{x.error||_(),h(x)}):this.sendRequest(m).then(x=>(_(),x))})}}class gu extends gt{constructor(i){var h,m,_,x,O,I;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(O=i.include).customFields)!==null&&m!==void 0||(O.customFields=!1),(_=(I=i.include).totalCount)!==null&&_!==void 0||(I.totalCount=!1),(x=i.limit)!==null&&x!==void 0||(i.limit=100)}operation(){return Q.PNGetAllChannelMetadataOperation}get path(){return`/v2/objects/${this.parameters.keySet.subscribeKey}/channels`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:x}=this.parameters;let O="";return O=typeof _=="string"?_:Object.entries(_??{}).map(([I,F])=>F!==null?`${I}:${F}`:I),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({include:["status","type",...i.customFields?["custom"]:[]].join(","),count:`${i.totalCount}`},m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),x?{limit:x}:{}),O.length?{sort:O}:{})}}class jc extends gt{constructor(i){super({method:on.DELETE}),this.parameters=i}operation(){return Q.PNRemoveChannelMetadataOperation}validate(){if(!this.parameters.channel)return"Channel cannot be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Le(h)}`}}class Wi extends gt{constructor(i){var h,m,_,x,O,I,F,q,ie,re,ne,ge,ae,oe,pe,De,nt,mt;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(ne=i.include).customFields)!==null&&m!==void 0||(ne.customFields=!1),(_=(ge=i.include).totalCount)!==null&&_!==void 0||(ge.totalCount=!1),(x=(ae=i.include).statusField)!==null&&x!==void 0||(ae.statusField=!1),(O=(oe=i.include).typeField)!==null&&O!==void 0||(oe.typeField=!1),(I=(pe=i.include).channelFields)!==null&&I!==void 0||(pe.channelFields=!1),(F=(De=i.include).customChannelFields)!==null&&F!==void 0||(De.customChannelFields=!1),(q=(nt=i.include).channelStatusField)!==null&&q!==void 0||(nt.channelStatusField=!1),(ie=(mt=i.include).channelTypeField)!==null&&ie!==void 0||(mt.channelTypeField=!1),(re=i.limit)!==null&&re!==void 0||(i.limit=100),this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return Q.PNGetMembershipsOperation}validate(){if(!this.parameters.uuid)return"'uuid' cannot be empty"}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Le(h)}/channels`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:x}=this.parameters;let O="";O=typeof _=="string"?_:Object.entries(_??{}).map(([F,q])=>q!==null?`${F}:${q}`:F);const I=[];return i.statusField&&I.push("status"),i.typeField&&I.push("type"),i.customFields&&I.push("custom"),i.channelFields&&I.push("channel"),i.channelStatusField&&I.push("channel.status"),i.channelTypeField&&I.push("channel.type"),i.customChannelFields&&I.push("channel.custom"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:`${i.totalCount}`},I.length>0?{include:I.join(",")}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),x?{limit:x}:{}),O.length?{sort:O}:{})}}class ml extends gt{constructor(i){var h,m,_,x,O,I,F,q,ie,re,ne,ge,ae,oe,pe,De,nt,mt;super({method:on.PATCH}),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(ne=i.include).customFields)!==null&&m!==void 0||(ne.customFields=!1),(_=(ge=i.include).totalCount)!==null&&_!==void 0||(ge.totalCount=!1),(x=(ae=i.include).statusField)!==null&&x!==void 0||(ae.statusField=!1),(O=(oe=i.include).typeField)!==null&&O!==void 0||(oe.typeField=!1),(I=(pe=i.include).channelFields)!==null&&I!==void 0||(pe.channelFields=!1),(F=(De=i.include).customChannelFields)!==null&&F!==void 0||(De.customChannelFields=!1),(q=(nt=i.include).channelStatusField)!==null&&q!==void 0||(nt.channelStatusField=!1),(ie=(mt=i.include).channelTypeField)!==null&&ie!==void 0||(mt.channelTypeField=!1),(re=i.limit)!==null&&re!==void 0||(i.limit=100),this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return Q.PNSetMembershipsOperation}validate(){const{uuid:i,channels:h}=this.parameters;return i?h&&h.length!==0?void 0:"Channels cannot be empty":"'uuid' cannot be empty"}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Le(h)}/channels`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:x}=this.parameters;let O="";O=typeof _=="string"?_:Object.entries(_??{}).map(([F,q])=>q!==null?`${F}:${q}`:F);const I=["channel.status","channel.type","status"];return i.statusField&&I.push("status"),i.typeField&&I.push("type"),i.customFields&&I.push("custom"),i.channelFields&&I.push("channel"),i.channelStatusField&&I.push("channel.status"),i.channelTypeField&&I.push("channel.type"),i.customChannelFields&&I.push("channel.custom"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:`${i.totalCount}`},I.length>0?{include:I.join(",")}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),x?{limit:x}:{}),O.length?{sort:O}:{})}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"})}get body(){const{channels:i,type:h}=this.parameters;return JSON.stringify({[`${h}`]:i.map(m=>typeof m=="string"?{channel:{id:m}}:{channel:{id:m.id},status:m.status,type:m.type,custom:m.custom})})}}class $c extends gt{constructor(i){var h,m,_,x;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(x=i.include).customFields)!==null&&m!==void 0||(x.customFields=!1),(_=i.limit)!==null&&_!==void 0||(i.limit=100)}operation(){return Q.PNGetAllUUIDMetadataOperation}get path(){return`/v2/objects/${this.parameters.keySet.subscribeKey}/uuids`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:x}=this.parameters;let O="";return O=typeof _=="string"?_:Object.entries(_??{}).map(([I,F])=>F!==null?`${I}:${F}`:I),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({include:["status","type",...i.customFields?["custom"]:[]].join(",")},i.totalCount!==void 0?{count:`${i.totalCount}`}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),x?{limit:x}:{}),O.length?{sort:O}:{})}}class cn extends gt{constructor(i){var h,m,_;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(_=i.include).customFields)!==null&&m!==void 0||(_.customFields=!0)}operation(){return Q.PNGetChannelMetadataOperation}validate(){if(!this.parameters.channel)return"Channel cannot be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Le(h)}`}get queryParameters(){return{include:["status","type",...this.parameters.include.customFields?["custom"]:[]].join(",")}}}class Hi extends gt{constructor(i){var h,m,_;super({method:on.PATCH}),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(_=i.include).customFields)!==null&&m!==void 0||(_.customFields=!0)}operation(){return Q.PNSetChannelMetadataOperation}validate(){return this.parameters.channel?this.parameters.data?void 0:"Data cannot be empty":"Channel cannot be empty"}get headers(){var i;let h=(i=super.headers)!==null&&i!==void 0?i:{};return this.parameters.ifMatchesEtag&&(h=Object.assign(Object.assign({},h),{"If-Match":this.parameters.ifMatchesEtag})),Object.assign(Object.assign({},h),{"Content-Type":"application/json"})}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Le(h)}`}get queryParameters(){return{include:["status","type",...this.parameters.include.customFields?["custom"]:[]].join(",")}}get body(){return JSON.stringify(this.parameters.data)}}class Lc extends gt{constructor(i){super({method:on.DELETE}),this.parameters=i,this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return Q.PNRemoveUUIDMetadataOperation}validate(){if(!this.parameters.uuid)return"'uuid' cannot be empty"}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Le(h)}`}}class Dp extends gt{constructor(i){var h,m,_,x,O,I,F,q,ie,re,ne,ge,ae,oe,pe,De,nt,mt;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(ne=i.include).customFields)!==null&&m!==void 0||(ne.customFields=!1),(_=(ge=i.include).totalCount)!==null&&_!==void 0||(ge.totalCount=!1),(x=(ae=i.include).statusField)!==null&&x!==void 0||(ae.statusField=!1),(O=(oe=i.include).typeField)!==null&&O!==void 0||(oe.typeField=!1),(I=(pe=i.include).UUIDFields)!==null&&I!==void 0||(pe.UUIDFields=!1),(F=(De=i.include).customUUIDFields)!==null&&F!==void 0||(De.customUUIDFields=!1),(q=(nt=i.include).UUIDStatusField)!==null&&q!==void 0||(nt.UUIDStatusField=!1),(ie=(mt=i.include).UUIDTypeField)!==null&&ie!==void 0||(mt.UUIDTypeField=!1),(re=i.limit)!==null&&re!==void 0||(i.limit=100)}operation(){return Q.PNSetMembersOperation}validate(){if(!this.parameters.channel)return"Channel cannot be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Le(h)}/uuids`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:x}=this.parameters;let O="";O=typeof _=="string"?_:Object.entries(_??{}).map(([F,q])=>q!==null?`${F}:${q}`:F);const I=[];return i.statusField&&I.push("status"),i.typeField&&I.push("type"),i.customFields&&I.push("custom"),i.UUIDFields&&I.push("uuid"),i.UUIDStatusField&&I.push("uuid.status"),i.UUIDTypeField&&I.push("uuid.type"),i.customUUIDFields&&I.push("uuid.custom"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:`${i.totalCount}`},I.length>0?{include:I.join(",")}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),x?{limit:x}:{}),O.length?{sort:O}:{})}}class mu extends gt{constructor(i){var h,m,_,x,O,I,F,q,ie,re,ne,ge,ae,oe,pe,De,nt,mt;super({method:on.PATCH}),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(ne=i.include).customFields)!==null&&m!==void 0||(ne.customFields=!1),(_=(ge=i.include).totalCount)!==null&&_!==void 0||(ge.totalCount=!1),(x=(ae=i.include).statusField)!==null&&x!==void 0||(ae.statusField=!1),(O=(oe=i.include).typeField)!==null&&O!==void 0||(oe.typeField=!1),(I=(pe=i.include).UUIDFields)!==null&&I!==void 0||(pe.UUIDFields=!1),(F=(De=i.include).customUUIDFields)!==null&&F!==void 0||(De.customUUIDFields=!1),(q=(nt=i.include).UUIDStatusField)!==null&&q!==void 0||(nt.UUIDStatusField=!1),(ie=(mt=i.include).UUIDTypeField)!==null&&ie!==void 0||(mt.UUIDTypeField=!1),(re=i.limit)!==null&&re!==void 0||(i.limit=100)}operation(){return Q.PNSetMembersOperation}validate(){const{channel:i,uuids:h}=this.parameters;return i?h&&h.length!==0?void 0:"UUIDs cannot be empty":"Channel cannot be empty"}get path(){const{keySet:{subscribeKey:i},channel:h}=this.parameters;return`/v2/objects/${i}/channels/${Le(h)}/uuids`}get queryParameters(){const{include:i,page:h,filter:m,sort:_,limit:x}=this.parameters;let O="";O=typeof _=="string"?_:Object.entries(_??{}).map(([F,q])=>q!==null?`${F}:${q}`:F);const I=["uuid.status","uuid.type","type"];return i.statusField&&I.push("status"),i.typeField&&I.push("type"),i.customFields&&I.push("custom"),i.UUIDFields&&I.push("uuid"),i.UUIDStatusField&&I.push("uuid.status"),i.UUIDTypeField&&I.push("uuid.type"),i.customUUIDFields&&I.push("uuid.custom"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({count:`${i.totalCount}`},I.length>0?{include:I.join(",")}:{}),m?{filter:m}:{}),h?.next?{start:h.next}:{}),h?.prev?{end:h.prev}:{}),x?{limit:x}:{}),O.length?{sort:O}:{})}get headers(){var i;return Object.assign(Object.assign({},(i=super.headers)!==null&&i!==void 0?i:{}),{"Content-Type":"application/json"})}get body(){const{uuids:i,type:h}=this.parameters;return JSON.stringify({[`${h}`]:i.map(m=>typeof m=="string"?{uuid:{id:m}}:{uuid:{id:m.id},status:m.status,type:m.type,custom:m.custom})})}}class Np extends gt{constructor(i){var h,m,_;super(),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(_=i.include).customFields)!==null&&m!==void 0||(_.customFields=!0),this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return Q.PNGetUUIDMetadataOperation}validate(){if(!this.parameters.uuid)return"'uuid' cannot be empty"}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Le(h)}`}get queryParameters(){const{include:i}=this.parameters;return{include:["status","type",...i.customFields?["custom"]:[]].join(",")}}}class hh extends gt{constructor(i){var h,m,_;super({method:on.PATCH}),this.parameters=i,(h=i.include)!==null&&h!==void 0||(i.include={}),(m=(_=i.include).customFields)!==null&&m!==void 0||(_.customFields=!0),this.parameters.userId&&(this.parameters.uuid=this.parameters.userId)}operation(){return Q.PNSetUUIDMetadataOperation}validate(){return this.parameters.uuid?this.parameters.data?void 0:"Data cannot be empty":"'uuid' cannot be empty"}get headers(){var i;let h=(i=super.headers)!==null&&i!==void 0?i:{};return this.parameters.ifMatchesEtag&&(h=Object.assign(Object.assign({},h),{"If-Match":this.parameters.ifMatchesEtag})),Object.assign(Object.assign({},h),{"Content-Type":"application/json"})}get path(){const{keySet:{subscribeKey:i},uuid:h}=this.parameters;return`/v2/objects/${i}/uuids/${Le(h)}`}get queryParameters(){return{include:["status","type",...this.parameters.include.customFields?["custom"]:[]].join(",")}}get body(){return JSON.stringify(this.parameters.data)}}class Ap{constructor(i,h){this.keySet=i.keySet,this.configuration=i,this.sendRequest=h}get logger(){return this.configuration.logger()}getAllUUIDMetadata(i,h){return d(this,void 0,void 0,function*(){return this.logger.debug("PubNub",()=>({messageType:"object",message:i&&typeof i!="function"?i:{},details:"Get all UUID metadata objects with parameters:"})),this._getAllUUIDMetadata(i,h)})}_getAllUUIDMetadata(i,h){return d(this,void 0,void 0,function*(){const m=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0);const _=new $c(Object.assign(Object.assign({},m),{keySet:this.keySet})),x=O=>{O&&this.logger.debug("PubNub",`Get all UUID metadata success. Received ${O.totalCount} UUID metadata objects.`)};return h?this.sendRequest(_,(O,I)=>{x(I),h(O,I)}):this.sendRequest(_).then(O=>(x(O),O))})}getUUIDMetadata(i,h){return d(this,void 0,void 0,function*(){return this.logger.debug("PubNub",()=>({messageType:"object",message:i&&typeof i!="function"?i:{uuid:this.configuration.userId},details:`Get ${i&&typeof i!="function"?"":" current"} UUID metadata object with parameters:`})),this._getUUIDMetadata(i,h)})}_getUUIDMetadata(i,h){return d(this,void 0,void 0,function*(){var m;const _=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0),_.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),_.uuid=_.userId),(m=_.uuid)!==null&&m!==void 0||(_.uuid=this.configuration.userId);const x=new Np(Object.assign(Object.assign({},_),{keySet:this.keySet})),O=I=>{I&&this.logger.debug("PubNub",`Get UUID metadata object success. Received '${_.uuid}' UUID metadata object.`)};return h?this.sendRequest(x,(I,F)=>{O(F),h(I,F)}):this.sendRequest(x).then(I=>(O(I),I))})}setUUIDMetadata(i,h){return d(this,void 0,void 0,function*(){return this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Set UUID metadata object with parameters:"})),this._setUUIDMetadata(i,h)})}_setUUIDMetadata(i,h){return d(this,void 0,void 0,function*(){var m;i.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),i.uuid=i.userId),(m=i.uuid)!==null&&m!==void 0||(i.uuid=this.configuration.userId);const _=new hh(Object.assign(Object.assign({},i),{keySet:this.keySet})),x=O=>{O&&this.logger.debug("PubNub",`Set UUID metadata object success. Updated '${i.uuid}' UUID metadata object.'`)};return h?this.sendRequest(_,(O,I)=>{x(I),h(O,I)}):this.sendRequest(_).then(O=>(x(O),O))})}removeUUIDMetadata(i,h){return d(this,void 0,void 0,function*(){return this.logger.debug("PubNub",()=>({messageType:"object",message:i&&typeof i!="function"?i:{uuid:this.configuration.userId},details:`Remove${i&&typeof i!="function"?"":" current"} UUID metadata object with parameters:`})),this._removeUUIDMetadata(i,h)})}_removeUUIDMetadata(i,h){return d(this,void 0,void 0,function*(){var m;const _=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0),_.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),_.uuid=_.userId),(m=_.uuid)!==null&&m!==void 0||(_.uuid=this.configuration.userId);const x=new Lc(Object.assign(Object.assign({},_),{keySet:this.keySet})),O=I=>{I&&this.logger.debug("PubNub",`Remove UUID metadata object success. Removed '${_.uuid}' UUID metadata object.`)};return h?this.sendRequest(x,(I,F)=>{O(F),h(I,F)}):this.sendRequest(x).then(I=>(O(I),I))})}getAllChannelMetadata(i,h){return d(this,void 0,void 0,function*(){return this.logger.debug("PubNub",()=>({messageType:"object",message:i&&typeof i!="function"?i:{},details:"Get all Channel metadata objects with parameters:"})),this._getAllChannelMetadata(i,h)})}_getAllChannelMetadata(i,h){return d(this,void 0,void 0,function*(){const m=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0);const _=new gu(Object.assign(Object.assign({},m),{keySet:this.keySet})),x=O=>{O&&this.logger.debug("PubNub",`Get all Channel metadata objects success. Received ${O.totalCount} Channel metadata objects.`)};return h?this.sendRequest(_,(O,I)=>{x(I),h(O,I)}):this.sendRequest(_).then(O=>(x(O),O))})}getChannelMetadata(i,h){return d(this,void 0,void 0,function*(){return this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Get Channel metadata object with parameters:"})),this._getChannelMetadata(i,h)})}_getChannelMetadata(i,h){return d(this,void 0,void 0,function*(){const m=new cn(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Get Channel metadata object success. Received '${i.channel}' Channel metadata object.'`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))})}setChannelMetadata(i,h){return d(this,void 0,void 0,function*(){return this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Set Channel metadata object with parameters:"})),this._setChannelMetadata(i,h)})}_setChannelMetadata(i,h){return d(this,void 0,void 0,function*(){const m=new Hi(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Set Channel metadata object success. Updated '${i.channel}' Channel metadata object.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))})}removeChannelMetadata(i,h){return d(this,void 0,void 0,function*(){return this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove Channel metadata object with parameters:"})),this._removeChannelMetadata(i,h)})}_removeChannelMetadata(i,h){return d(this,void 0,void 0,function*(){const m=new jc(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Remove Channel metadata object success. Removed '${i.channel}' Channel metadata object.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))})}getChannelMembers(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Get channel members with parameters:"}));const m=new Dp(Object.assign(Object.assign({},i),{keySet:this.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Get channel members success. Received ${x.totalCount} channel members.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))})}setChannelMembers(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Set channel members with parameters:"}));const m=new mu(Object.assign(Object.assign({},i),{type:"set",keySet:this.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Set channel members success. There are ${x.totalCount} channel members now.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))})}removeChannelMembers(i,h){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove channel members with parameters:"}));const m=new mu(Object.assign(Object.assign({},i),{type:"delete",keySet:this.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Remove channel members success. There are ${x.totalCount} channel members now.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))})}getMemberships(i,h){return d(this,void 0,void 0,function*(){var m;const _=i&&typeof i!="function"?i:{};h!=null||(h=typeof i=="function"?i:void 0),_.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),_.uuid=_.userId),(m=_.uuid)!==null&&m!==void 0||(_.uuid=this.configuration.userId),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},_),details:"Get memberships with parameters:"}));const x=new Wi(Object.assign(Object.assign({},_),{keySet:this.keySet})),O=I=>{I&&this.logger.debug("PubNub",`Get memberships success. Received ${I.totalCount} memberships.`)};return h?this.sendRequest(x,(I,F)=>{O(F),h(I,F)}):this.sendRequest(x).then(I=>(O(I),I))})}setMemberships(i,h){return d(this,void 0,void 0,function*(){var m;i.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),i.uuid=i.userId),(m=i.uuid)!==null&&m!==void 0||(i.uuid=this.configuration.userId),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Set memberships with parameters:"}));const _=new ml(Object.assign(Object.assign({},i),{type:"set",keySet:this.keySet})),x=O=>{O&&this.logger.debug("PubNub",`Set memberships success. There are ${O.totalCount} memberships now.`)};return h?this.sendRequest(_,(O,I)=>{x(I),h(O,I)}):this.sendRequest(_).then(O=>(x(O),O))})}removeMemberships(i,h){return d(this,void 0,void 0,function*(){var m;i.userId&&(this.logger.warn("PubNub","'userId' parameter is deprecated. Use 'uuid' instead."),i.uuid=i.userId),(m=i.uuid)!==null&&m!==void 0||(i.uuid=this.configuration.userId),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove memberships with parameters:"}));const _=new ml(Object.assign(Object.assign({},i),{type:"delete",keySet:this.keySet})),x=O=>{O&&this.logger.debug("PubNub",`Remove memberships success. There are ${O.totalCount} memberships now.`)};return h?this.sendRequest(_,(O,I)=>{x(I),h(O,I)}):this.sendRequest(_).then(O=>(x(O),O))})}fetchMemberships(i,h){return d(this,void 0,void 0,function*(){var m,_;if(this.logger.warn("PubNub","'fetchMemberships' is deprecated. Use 'pubnub.objects.getChannelMembers' or 'pubnub.objects.getMemberships' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Fetch memberships with parameters:"})),"spaceId"in i){const F=i,q={channel:(m=F.spaceId)!==null&&m!==void 0?m:F.channel,filter:F.filter,limit:F.limit,page:F.page,include:Object.assign({},F.include),sort:F.sort?Object.fromEntries(Object.entries(F.sort).map(([re,ne])=>[re.replace("user","uuid"),ne])):void 0},ie=re=>({status:re.status,data:re.data.map(ne=>({user:ne.uuid,custom:ne.custom,updated:ne.updated,eTag:ne.eTag})),totalCount:re.totalCount,next:re.next,prev:re.prev});return h?this.getChannelMembers(q,(re,ne)=>{h(re,ne&&ie(ne))}):this.getChannelMembers(q).then(ie)}const x=i,O={uuid:(_=x.userId)!==null&&_!==void 0?_:x.uuid,filter:x.filter,limit:x.limit,page:x.page,include:Object.assign({},x.include),sort:x.sort?Object.fromEntries(Object.entries(x.sort).map(([F,q])=>[F.replace("space","channel"),q])):void 0},I=F=>({status:F.status,data:F.data.map(q=>({space:q.channel,custom:q.custom,updated:q.updated,eTag:q.eTag})),totalCount:F.totalCount,next:F.next,prev:F.prev});return h?this.getMemberships(O,(F,q)=>{h(F,q&&I(q))}):this.getMemberships(O).then(I)})}addMemberships(i,h){return d(this,void 0,void 0,function*(){var m,_,x,O,I,F;if(this.logger.warn("PubNub","'addMemberships' is deprecated. Use 'pubnub.objects.setChannelMembers' or 'pubnub.objects.setMemberships' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Add memberships with parameters:"})),"spaceId"in i){const re=i,ne={channel:(m=re.spaceId)!==null&&m!==void 0?m:re.channel,uuids:(x=(_=re.users)===null||_===void 0?void 0:_.map(ge=>typeof ge=="string"?ge:{id:ge.userId,custom:ge.custom}))!==null&&x!==void 0?x:re.uuids,limit:0};return h?this.setChannelMembers(ne,h):this.setChannelMembers(ne)}const q=i,ie={uuid:(O=q.userId)!==null&&O!==void 0?O:q.uuid,channels:(F=(I=q.spaces)===null||I===void 0?void 0:I.map(re=>typeof re=="string"?re:{id:re.spaceId,custom:re.custom}))!==null&&F!==void 0?F:q.channels,limit:0};return h?this.setMemberships(ie,h):this.setMemberships(ie)})}}class fh extends gt{constructor(){super()}operation(){return Q.PNTimeOperation}parse(i){return d(this,void 0,void 0,function*(){return{timetoken:this.deserializeResponse(i)[0]}})}get path(){return"/time/0"}}class vu extends gt{constructor(i){super(),this.parameters=i}operation(){return Q.PNDownloadFileOperation}validate(){const{channel:i,id:h,name:m}=this.parameters;return i?h?m?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"}parse(i){return d(this,void 0,void 0,function*(){const{cipherKey:h,crypto:m,cryptography:_,name:x,PubNubFile:O}=this.parameters,I=i.headers["content-type"];let F,q=i.body;return O.supportsEncryptFile&&(h||m)&&(h&&_?q=yield _.decrypt(h,q):!h&&m&&(F=yield m.decryptFile(O.create({data:q,name:x,mimeType:I}),O))),F||O.create({data:q,name:x,mimeType:I})})}get path(){const{keySet:{subscribeKey:i},channel:h,id:m,name:_}=this.parameters;return`/v1/files/${i}/channels/${Le(h)}/files/${m}/${_}`}}class pr{static notificationPayload(i,h){return new ga(i,h)}static generateUUID(){return gn.createUUID()}constructor(i){if(this.eventHandleCapable={},this.entities={},this._configuration=i.configuration,this.cryptography=i.cryptography,this.tokenManager=i.tokenManager,this.transport=i.transport,this.crypto=i.crypto,this.logger.debug("PubNub",()=>({messageType:"object",message:i.configuration,details:"Create with configuration:",ignoredKeys:(h,m)=>typeof m[h]=="function"||h.startsWith("_")})),this._objects=new Ap(this._configuration,this.sendRequest.bind(this)),this._channelGroups=new Sa(this._configuration.logger(),this._configuration.keySet,this.sendRequest.bind(this)),this._push=new fr(this._configuration.logger(),this._configuration.keySet,this.sendRequest.bind(this)),this.eventDispatcher=new el,this._configuration.enableEventEngine){this.logger.debug("PubNub","Using new subscription loop management.");let h=this._configuration.getHeartbeatInterval();this.presenceState={},h&&(this.presenceEventEngine=new Ep({heartbeat:(m,_)=>(this.logger.trace("PresenceEventEngine",()=>({messageType:"object",message:Object.assign({},m),details:"Heartbeat with parameters:"})),this.heartbeat(m,_)),leave:m=>{this.logger.trace("PresenceEventEngine",()=>({messageType:"object",message:Object.assign({},m),details:"Leave with parameters:"})),this.makeUnsubscribe(m,()=>{})},heartbeatDelay:()=>new Promise((m,_)=>{h=this._configuration.getHeartbeatInterval(),h?setTimeout(m,1e3*h):_(new A("Heartbeat interval has been reset."))}),emitStatus:m=>this.emitStatus(m),config:this._configuration,presenceState:this.presenceState})),this.eventEngine=new ul({handshake:m=>(this.logger.trace("EventEngine",()=>({messageType:"object",message:Object.assign({},m),details:"Handshake with parameters:",ignoredKeys:["abortSignal","crypto","timeout","keySet","getFileUrl"]})),this.subscribeHandshake(m)),receiveMessages:m=>(this.logger.trace("EventEngine",()=>({messageType:"object",message:Object.assign({},m),details:"Receive messages with parameters:",ignoredKeys:["abortSignal","crypto","timeout","keySet","getFileUrl"]})),this.subscribeReceiveMessages(m)),delay:m=>new Promise(_=>setTimeout(_,m)),join:m=>{var _,x;this.logger.trace("EventEngine",()=>({messageType:"object",message:Object.assign({},m),details:"Join with parameters:"})),m&&((_=m.channels)!==null&&_!==void 0?_:[]).length===0&&((x=m.groups)!==null&&x!==void 0?x:[]).length===0?this.logger.trace("EventEngine","Ignoring 'join' announcement request."):this.join(m)},leave:m=>{var _,x;this.logger.trace("EventEngine",()=>({messageType:"object",message:Object.assign({},m),details:"Leave with parameters:"})),m&&((_=m.channels)!==null&&_!==void 0?_:[]).length===0&&((x=m.groups)!==null&&x!==void 0?x:[]).length===0?this.logger.trace("EventEngine","Ignoring 'leave' announcement request."):this.leave(m)},leaveAll:m=>{this.logger.trace("EventEngine",()=>({messageType:"object",message:Object.assign({},m),details:"Leave all with parameters:"})),this.leaveAll(m)},presenceReconnect:m=>{this.logger.trace("EventEngine",()=>({messageType:"object",message:Object.assign({},m),details:"Reconnect with parameters:"})),this.presenceReconnect(m)},presenceDisconnect:m=>{this.logger.trace("EventEngine",()=>({messageType:"object",message:Object.assign({},m),details:"Disconnect with parameters:"})),this.presenceDisconnect(m)},presenceState:this.presenceState,config:this._configuration,emitMessages:(m,_)=>{try{this.logger.debug("EventEngine",()=>({messageType:"object",message:_.map(x=>{const O=x.type===Ft.Message||x.type===Ft.Signal?On(x.data.message):void 0;return O?{type:x.type,data:Object.assign(Object.assign({},x.data),{pn_mfp:O})}:x}),details:"Received events:"})),_.forEach(x=>this.emitEvent(m,x))}catch(x){const O={error:!0,category:C.PNUnknownCategory,errorData:x,statusCode:0};this.emitStatus(O)}},emitStatus:m=>this.emitStatus(m)})}else this.logger.debug("PubNub","Using legacy subscription loop management."),this.subscriptionManager=new nl(this._configuration,(h,m)=>{try{this.emitEvent(h,m)}catch(_){const x={error:!0,category:C.PNUnknownCategory,errorData:_,statusCode:0};this.emitStatus(x)}},this.emitStatus.bind(this),(h,m)=>{this.logger.trace("SubscriptionManager",()=>({messageType:"object",message:Object.assign({},h),details:"Subscribe with parameters:",ignoredKeys:["crypto","timeout","keySet","getFileUrl"]})),this.makeSubscribe(h,m)},(h,m)=>(this.logger.trace("SubscriptionManager",()=>({messageType:"object",message:Object.assign({},h),details:"Heartbeat with parameters:",ignoredKeys:["crypto","timeout","keySet","getFileUrl"]})),this.heartbeat(h,m)),(h,m)=>{this.logger.trace("SubscriptionManager",()=>({messageType:"object",message:Object.assign({},h),details:"Leave with parameters:"})),this.makeUnsubscribe(h,m)},this.time.bind(this))}get configuration(){return this._configuration}get _config(){return this.configuration}get authKey(){var i;return(i=this._configuration.authKey)!==null&&i!==void 0?i:void 0}getAuthKey(){return this.authKey}setAuthKey(i){this.logger.debug("PubNub",`Set auth key: ${i}`),this._configuration.setAuthKey(i),this.onAuthenticationChange&&this.onAuthenticationChange(i)}get userId(){return this._configuration.userId}set userId(i){if(!i||typeof i!="string"||i.trim().length===0){const h=new Error("Missing or invalid userId parameter. Provide a valid string userId");throw this.logger.error("PubNub",()=>({messageType:"error",message:h})),h}this.logger.debug("PubNub",`Set user ID: ${i}`),this._configuration.userId=i,this.onUserIdChange&&this.onUserIdChange(this._configuration.userId)}getUserId(){return this._configuration.userId}setUserId(i){this.userId=i}get filterExpression(){var i;return(i=this._configuration.getFilterExpression())!==null&&i!==void 0?i:void 0}getFilterExpression(){return this.filterExpression}set filterExpression(i){this.logger.debug("PubNub",`Set filter expression: ${i}`),this._configuration.setFilterExpression(i)}setFilterExpression(i){this.logger.debug("PubNub",`Set filter expression: ${i}`),this.filterExpression=i}get cipherKey(){return this._configuration.getCipherKey()}set cipherKey(i){this._configuration.setCipherKey(i)}setCipherKey(i){this.logger.debug("PubNub",`Set cipher key: ${i}`),this.cipherKey=i}set heartbeatInterval(i){var h;this.logger.debug("PubNub",`Set heartbeat interval: ${i}`),this._configuration.setHeartbeatInterval(i),this.onHeartbeatIntervalChange&&this.onHeartbeatIntervalChange((h=this._configuration.getHeartbeatInterval())!==null&&h!==void 0?h:0)}setHeartbeatInterval(i){this.heartbeatInterval=i}get logger(){return this._configuration.logger()}getVersion(){return this._configuration.getVersion()}_addPnsdkSuffix(i,h){this.logger.debug("PubNub",`Add '${i}' 'pnsdk' suffix: ${h}`),this._configuration._addPnsdkSuffix(i,h)}getUUID(){return this.userId}setUUID(i){this.logger.warn("PubNub","'setUserId` is deprecated, please use 'setUserId' or 'userId' setter instead."),this.logger.debug("PubNub",`Set UUID: ${i}`),this.userId=i}get customEncrypt(){return this._configuration.getCustomEncrypt()}get customDecrypt(){return this._configuration.getCustomDecrypt()}channel(i){let h=this.entities[`${i}_ch`];return h||(h=this.entities[`${i}_ch`]=new zs(i,this)),h}channelGroup(i){let h=this.entities[`${i}_chg`];return h||(h=this.entities[`${i}_chg`]=new wn(i,this)),h}channelMetadata(i){let h=this.entities[`${i}_chm`];return h||(h=this.entities[`${i}_chm`]=new ch(i,this)),h}userMetadata(i){let h=this.entities[`${i}_um`];return h||(h=this.entities[`${i}_um`]=new gl(i,this)),h}subscriptionSet(i){var h,m;{const _=[];return(h=i.channels)===null||h===void 0||h.forEach(x=>_.push(this.channel(x))),(m=i.channelGroups)===null||m===void 0||m.forEach(x=>_.push(this.channelGroup(x))),new Hs({client:this,entities:_,options:i.subscriptionOptions})}}sendRequest(i,h){return d(this,void 0,void 0,function*(){const m=i.validate();if(m){const ie=(_=m,N(Object.assign({message:_},{}),C.PNValidationErrorCategory));if(this.logger.error("PubNub",()=>({messageType:"error",message:ie})),h)return h(ie,null);throw new A("Validation failed, check status for details",ie)}var _;const x=i.request(),O=i.operation();x.formData&&x.formData.length>0||O===Q.PNDownloadFileOperation?x.timeout=this._configuration.getFileTimeout():O===Q.PNSubscribeOperation||O===Q.PNReceiveMessagesOperation?x.timeout=this._configuration.getSubscribeTimeout():x.timeout=this._configuration.getTransactionTimeout();const I={error:!1,operation:O,category:C.PNAcknowledgmentCategory,statusCode:0},[F,q]=this.transport.makeSendable(x);return i.cancellationController=q||null,F.then(ie=>{if(I.statusCode=ie.status,ie.status!==200&&ie.status!==204){const re=pr.decoder.decode(ie.body),ne=ie.headers["content-type"];if(ne||ne.indexOf("javascript")!==-1||ne.indexOf("json")!==-1){const ge=JSON.parse(re);typeof ge=="object"&&"error"in ge&&ge.error&&typeof ge.error=="object"&&(I.errorData=ge.error)}else I.responseText=re}return i.parse(ie)}).then(ie=>h?h(I,ie):ie).catch(ie=>{const re=ie instanceof be?ie:be.create(ie);if(h)return re.category!==C.PNCancelledCategory&&this.logger.error("PubNub",()=>({messageType:"error",message:re.toPubNubError(O,"REST API request processing error, check status for details")})),h(re.toStatus(O),null);const ne=re.toPubNubError(O,"REST API request processing error, check status for details");throw re.category!==C.PNCancelledCategory&&this.logger.error("PubNub",()=>({messageType:"error",message:ne})),ne})})}destroy(i=!1){this.logger.info("PubNub","Destroying PubNub client."),this._globalSubscriptionSet&&(this._globalSubscriptionSet.invalidate(!0),this._globalSubscriptionSet=void 0),Object.values(this.eventHandleCapable).forEach(h=>h.invalidate(!0)),this.eventHandleCapable={},this.subscriptionManager?(this.subscriptionManager.unsubscribeAll(i),this.subscriptionManager.disconnect()):this.eventEngine&&this.eventEngine.unsubscribeAll(i),this.presenceEventEngine&&this.presenceEventEngine.leaveAll(i)}stop(){this.logger.warn("PubNub","'stop' is deprecated, please use 'destroy' instead."),this.destroy()}publish(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Publish with parameters:"}));const m=i.replicate===!1&&i.storeInHistory===!1,_=new oh(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule()})),x=O=>{O&&this.logger.debug("PubNub",`${m?"Fire":"Publish"} success with timetoken: ${O.timetoken}`)};return h?this.sendRequest(_,(O,I)=>{x(I),h(O,I)}):this.sendRequest(_).then(O=>(x(O),O))}})}signal(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Signal with parameters:"}));const m=new cl(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Publish success with timetoken: ${x.timetoken}`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}fire(i,h){return d(this,void 0,void 0,function*(){return this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Fire with parameters:"})),h!=null||(h=()=>{}),this.publish(Object.assign(Object.assign({},i),{replicate:!1,storeInHistory:!1}),h)})}get globalSubscriptionSet(){return this._globalSubscriptionSet||(this._globalSubscriptionSet=this.subscriptionSet({})),this._globalSubscriptionSet}get subscriptionTimetoken(){return this.subscriptionManager?this.subscriptionManager.subscriptionTimetoken:this.eventEngine?this.eventEngine.subscriptionTimetoken:void 0}getSubscribedChannels(){return this.subscriptionManager?this.subscriptionManager.subscribedChannels:this.eventEngine?this.eventEngine.getSubscribedChannels():[]}getSubscribedChannelGroups(){return this.subscriptionManager?this.subscriptionManager.subscribedChannelGroups:this.eventEngine?this.eventEngine.getSubscribedChannelGroups():[]}registerEventHandleCapable(i,h,m){{let _;this.logger.trace("PubNub",()=>({messageType:"object",message:Object.assign(Object.assign({subscription:i},h?{cursor:h}:[]),m?{subscriptions:m}:{}),details:"Register event handle capable:"})),this.eventHandleCapable[i.state.id]||(this.eventHandleCapable[i.state.id]=i),m&&m.length!==0?(_=new us({}),m.forEach(O=>_.add(O.subscriptionInput(!1)))):_=i.subscriptionInput(!1);const x={};x.channels=_.channels,x.channelGroups=_.channelGroups,h&&(x.timetoken=h.timetoken),this.subscriptionManager?this.subscriptionManager.subscribe(x):this.eventEngine&&this.eventEngine.subscribe(x)}}unregisterEventHandleCapable(i,h){{if(!this.eventHandleCapable[i.state.id])return;const m=[];this.logger.trace("PubNub",()=>({messageType:"object",message:{subscription:i,subscriptions:h},details:"Unregister event handle capable:"}));let _,x=!h||h.length===0;if(!x&&i instanceof Hs&&i.subscriptions.length===h?.length&&(x=i.subscriptions.every(I=>h.includes(I))),x&&delete this.eventHandleCapable[i.state.id],h&&h.length!==0?(_=new us({}),h.forEach(I=>{const F=I.subscriptionInput(!0);F.isEmpty?m.push(I):_.add(F)})):(_=i.subscriptionInput(!0),_.isEmpty&&m.push(i)),m.length>0&&this.logger.trace("PubNub",()=>{const I=[];return m[0]instanceof Hs?m[0].subscriptions.forEach(F=>I.push(F.state.entity)):m.forEach(F=>I.push(F.state.entity)),{messageType:"object",message:{entities:I},details:"Can't unregister event handle capable because entities still in use:"}}),_.isEmpty)return;{const I=[],F=[];if(Object.values(this.eventHandleCapable).forEach(q=>{const ie=q.subscriptionInput(!1),re=ie.channelGroups,ne=ie.channels;I.push(..._.channelGroups.filter(ge=>re.includes(ge))),F.push(..._.channels.filter(ge=>ne.includes(ge)))}),(F.length>0||I.length>0)&&(this.logger.trace("PubNub",()=>{const q=[],ie=ne=>{const ge=ne.subscriptionNames(!0),ae=ne.subscriptionType===$i.Channel?F:I;ge.some(oe=>ae.includes(oe))&&q.push(ne)};Object.values(this.eventHandleCapable).forEach(ne=>{ne instanceof Hs?ne.subscriptions.forEach(ge=>{ie(ge.state.entity)}):ne instanceof Es&&ie(ne.state.entity)});let re="Some entities still in use:";return F.length+I.length===_.length&&(re="Can't unregister event handle capable because entities still in use:"),{messageType:"object",message:{entities:q},details:re}}),_.remove(new us({channels:F,channelGroups:I})),_.isEmpty))return}const O={};O.channels=_.channels,O.channelGroups=_.channelGroups,this.subscriptionManager?this.subscriptionManager.unsubscribe(O):this.eventEngine&&this.eventEngine.unsubscribe(O)}}subscribe(i){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Subscribe with parameters:"}));const h=this.subscriptionSet(Object.assign(Object.assign({},i),{subscriptionOptions:{receivePresenceEvents:i.withPresence}}));this.globalSubscriptionSet.addSubscriptionSet(h),h.dispose();const m=typeof i.timetoken=="number"?`${i.timetoken}`:i.timetoken;this.globalSubscriptionSet.subscribe({timetoken:m})}}makeSubscribe(i,h){{const m=new Zo(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule(),getFileUrl:this.getFileUrl.bind(this)}));if(this.sendRequest(m,(_,x)=>{var O;this.subscriptionManager&&((O=this.subscriptionManager.abort)===null||O===void 0?void 0:O.identifier)===m.requestIdentifier&&(this.subscriptionManager.abort=null),h(_,x)}),this.subscriptionManager){const _=()=>m.abort("Cancel long-poll subscribe request");_.identifier=m.requestIdentifier,this.subscriptionManager.abort=_}}}unsubscribe(i){{if(this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Unsubscribe with parameters:"})),!this._globalSubscriptionSet)return void this.logger.debug("PubNub","There are no active subscriptions. Ignore.");const h=this.globalSubscriptionSet.subscriptions.filter(m=>{var _,x;const O=m.subscriptionInput(!1);if(O.isEmpty)return!1;for(const I of(_=i.channels)!==null&&_!==void 0?_:[])if(O.contains(I))return!0;for(const I of(x=i.channelGroups)!==null&&x!==void 0?x:[])if(O.contains(I))return!0});h.length>0&&this.globalSubscriptionSet.removeSubscriptions(h)}}makeUnsubscribe(i,h){{let{channels:m,channelGroups:_}=i;if(this._configuration.getKeepPresenceChannelsInPresenceRequests()||(_&&(_=_.filter(x=>!x.endsWith("-pnpres"))),m&&(m=m.filter(x=>!x.endsWith("-pnpres")))),(_??[]).length===0&&(m??[]).length===0)return h({error:!1,operation:Q.PNUnsubscribeOperation,category:C.PNAcknowledgmentCategory,statusCode:200});this.sendRequest(new hl({channels:m,channelGroups:_,keySet:this._configuration.keySet}),h)}}unsubscribeAll(){this.logger.debug("PubNub","Unsubscribe all channels and groups"),this._globalSubscriptionSet&&this._globalSubscriptionSet.invalidate(!1),Object.values(this.eventHandleCapable).forEach(i=>i.invalidate(!1)),this.eventHandleCapable={},this.subscriptionManager?this.subscriptionManager.unsubscribeAll():this.eventEngine&&this.eventEngine.unsubscribeAll()}disconnect(i=!1){this.logger.debug("PubNub",`Disconnect (while offline? ${i?"yes":"no"})`),this.subscriptionManager?this.subscriptionManager.disconnect():this.eventEngine&&this.eventEngine.disconnect(i)}reconnect(i){this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Reconnect with parameters:"})),this.subscriptionManager?this.subscriptionManager.reconnect():this.eventEngine&&this.eventEngine.reconnect(i??{})}subscribeHandshake(i){return d(this,void 0,void 0,function*(){{const h=new ba(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule(),getFileUrl:this.getFileUrl.bind(this)})),m=i.abortSignal.subscribe(_=>{h.abort("Cancel subscribe handshake request")});return this.sendRequest(h).then(_=>(m(),_.cursor))}})}subscribeReceiveMessages(i){return d(this,void 0,void 0,function*(){{const h=new Gt(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule(),getFileUrl:this.getFileUrl.bind(this)})),m=i.abortSignal.subscribe(_=>{h.abort("Cancel long-poll subscribe request")});return this.sendRequest(h).then(_=>(m(),_))}})}getMessageActions(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Get message actions with parameters:"}));const m=new uh(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Get message actions success. Received ${x.data.length} message actions.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}addMessageAction(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Add message action with parameters:"}));const m=new Pp(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Message action add success. Message action added with timetoken: ${x.data.actionTimetoken}`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}removeMessageAction(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove message action with parameters:"}));const m=new rn(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Message action remove success. Removed message action with ${i.actionTimetoken} timetoken.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}fetchMessages(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Fetch messages with parameters:"}));const m=new to(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule(),getFileUrl:this.getFileUrl.bind(this)})),_=x=>{if(!x)return;const O=Object.values(x.channels).reduce((I,F)=>I+F.length,0);this.logger.debug("PubNub",`Fetch messages success. Received ${O} messages.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}deleteMessages(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Delete messages with parameters:"}));const m=new lh(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=x=>{x&&this.logger.debug("PubNub","Delete messages success.")};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}messageCounts(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Get messages count with parameters:"}));const m=new wa(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=x=>{if(!x)return;const O=Object.values(x.channels).reduce((I,F)=>I+F,0);this.logger.debug("PubNub",`Get messages count success. There are ${O} messages since provided reference timetoken${i.channelTimetokens?i.channelTimetokens.join(","):""}.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}history(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Fetch history with parameters:"}));const m=new Ac(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule()})),_=x=>{x&&this.logger.debug("PubNub",`Fetch history success. Received ${x.messages.length} messages.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}hereNow(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Here now with parameters:"}));const m=new Cp(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Here now success. There are ${x.totalOccupancy} participants in ${x.totalChannels} channels.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}whereNow(i,h){return d(this,void 0,void 0,function*(){var m;{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Where now with parameters:"}));const _=new Bi({uuid:(m=i.uuid)!==null&&m!==void 0?m:this._configuration.userId,keySet:this._configuration.keySet}),x=O=>{O&&this.logger.debug("PubNub",`Where now success. Currently present in ${O.channels.length} channels.`)};return h?this.sendRequest(_,(O,I)=>{x(I),h(O,I)}):this.sendRequest(_).then(O=>(x(O),O))}})}getState(i,h){return d(this,void 0,void 0,function*(){var m;{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Get presence state with parameters:"}));const _=new Li(Object.assign(Object.assign({},i),{uuid:(m=i.uuid)!==null&&m!==void 0?m:this._configuration.userId,keySet:this._configuration.keySet})),x=O=>{O&&this.logger.debug("PubNub",`Get presence state success. Received presence state for ${Object.keys(O.channels).length} channels.`)};return h?this.sendRequest(_,(O,I)=>{x(I),h(O,I)}):this.sendRequest(_).then(O=>(x(O),O))}})}setState(i,h){return d(this,void 0,void 0,function*(){var m,_;{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Set presence state with parameters:"}));const{keySet:x,userId:O}=this._configuration,I=this._configuration.getPresenceTimeout();let F;if(this._configuration.enableEventEngine&&this.presenceState){const ie=this.presenceState;(m=i.channels)===null||m===void 0||m.forEach(re=>ie[re]=i.state),"channelGroups"in i&&((_=i.channelGroups)===null||_===void 0||_.forEach(re=>ie[re]=i.state))}F="withHeartbeat"in i&&i.withHeartbeat?new Ui(Object.assign(Object.assign({},i),{keySet:x,heartbeat:I})):new Fi(Object.assign(Object.assign({},i),{keySet:x,uuid:O}));const q=ie=>{ie&&this.logger.debug("PubNub","Set presence state success."+(F instanceof Ui?" Presence state has been set using heartbeat endpoint.":""))};return this.subscriptionManager&&this.subscriptionManager.setState(i),h?this.sendRequest(F,(ie,re)=>{q(re),h(ie,re)}):this.sendRequest(F).then(ie=>(q(ie),ie))}})}presence(i){var h;this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Change presence with parameters:"})),(h=this.subscriptionManager)===null||h===void 0||h.changePresence(i)}heartbeat(i,h){return d(this,void 0,void 0,function*(){var m;{this.logger.trace("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Heartbeat with parameters:"}));let{channels:_,channelGroups:x}=i;if(this._configuration.getKeepPresenceChannelsInPresenceRequests()||(x&&(x=x.filter(q=>!q.endsWith("-pnpres"))),_&&(_=_.filter(q=>!q.endsWith("-pnpres")))),(x??[]).length===0&&(_??[]).length===0){const q={error:!1,operation:Q.PNHeartbeatOperation,category:C.PNAcknowledgmentCategory,statusCode:200};return this.logger.trace("PubNub","There are no active subscriptions. Ignore."),h?h(q,{}):Promise.resolve(q)}const O=new Ui(Object.assign(Object.assign({},i),{channels:_,channelGroups:x,keySet:this._configuration.keySet})),I=q=>{q&&this.logger.trace("PubNub","Heartbeat success.")},F=(m=i.abortSignal)===null||m===void 0?void 0:m.subscribe(q=>{O.abort("Cancel long-poll subscribe request")});return h?this.sendRequest(O,(q,ie)=>{I(ie),F&&F(),h(q,ie)}):this.sendRequest(O).then(q=>(I(q),F&&F(),q))}})}join(i){var h,m;this.logger.trace("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Join with parameters:"})),i&&((h=i.channels)!==null&&h!==void 0?h:[]).length===0&&((m=i.groups)!==null&&m!==void 0?m:[]).length===0?this.logger.trace("PubNub","Ignoring 'join' announcement request."):this.presenceEventEngine?this.presenceEventEngine.join(i):this.heartbeat(Object.assign(Object.assign({channels:i.channels,channelGroups:i.groups},this._configuration.maintainPresenceState&&this.presenceState&&Object.keys(this.presenceState).length>0&&{state:this.presenceState}),{heartbeat:this._configuration.getPresenceTimeout()}),()=>{})}presenceReconnect(i){this.logger.trace("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Presence reconnect with parameters:"})),this.presenceEventEngine?this.presenceEventEngine.reconnect():this.heartbeat(Object.assign(Object.assign({channels:i.channels,channelGroups:i.groups},this._configuration.maintainPresenceState&&{state:this.presenceState}),{heartbeat:this._configuration.getPresenceTimeout()}),()=>{})}leave(i){var h,m,_;this.logger.trace("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Leave with parameters:"})),i&&((h=i.channels)!==null&&h!==void 0?h:[]).length===0&&((m=i.groups)!==null&&m!==void 0?m:[]).length===0?this.logger.trace("PubNub","Ignoring 'leave' announcement request."):this.presenceEventEngine?(_=this.presenceEventEngine)===null||_===void 0||_.leave(i):this.makeUnsubscribe({channels:i.channels,channelGroups:i.groups},()=>{})}leaveAll(i={}){this.logger.trace("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Leave all with parameters:"})),this.presenceEventEngine?this.presenceEventEngine.leaveAll(!!i.isOffline):i.isOffline||this.makeUnsubscribe({channels:i.channels,channelGroups:i.groups},()=>{})}presenceDisconnect(i){this.logger.trace("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Presence disconnect parameters:"})),this.presenceEventEngine?this.presenceEventEngine.disconnect(!!i.isOffline):i.isOffline||this.makeUnsubscribe({channels:i.channels,channelGroups:i.groups},()=>{})}grantToken(i,h){return d(this,void 0,void 0,function*(){throw new Error("Grant Token error: PAM module disabled")})}revokeToken(i,h){return d(this,void 0,void 0,function*(){throw new Error("Revoke Token error: PAM module disabled")})}get token(){return this.tokenManager&&this.tokenManager.getToken()}getToken(){return this.token}set token(i){this.tokenManager&&this.tokenManager.setToken(i),this.onAuthenticationChange&&this.onAuthenticationChange(i)}setToken(i){this.token=i}parseToken(i){return this.tokenManager&&this.tokenManager.parseToken(i)}grant(i,h){return d(this,void 0,void 0,function*(){throw new Error("Grant error: PAM module disabled")})}audit(i,h){return d(this,void 0,void 0,function*(){throw new Error("Grant Permissions error: PAM module disabled")})}get objects(){return this._objects}fetchUsers(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'fetchUsers' is deprecated. Use 'pubnub.objects.getAllUUIDMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:i&&typeof i!="function"?i:{},details:"Fetch all User objects with parameters:"})),this.objects._getAllUUIDMetadata(i,h)})}fetchUser(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'fetchUser' is deprecated. Use 'pubnub.objects.getUUIDMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:i&&typeof i!="function"?i:{uuid:this.userId},details:`Fetch${i&&typeof i!="function"?"":" current"} User object with parameters:`})),this.objects._getUUIDMetadata(i,h)})}createUser(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'createUser' is deprecated. Use 'pubnub.objects.setUUIDMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Create User object with parameters:"})),this.objects._setUUIDMetadata(i,h)})}updateUser(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'updateUser' is deprecated. Use 'pubnub.objects.setUUIDMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Update User object with parameters:"})),this.objects._setUUIDMetadata(i,h)})}removeUser(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'removeUser' is deprecated. Use 'pubnub.objects.removeUUIDMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:i&&typeof i!="function"?i:{uuid:this.userId},details:`Remove${i&&typeof i!="function"?"":" current"} User object with parameters:`})),this.objects._removeUUIDMetadata(i,h)})}fetchSpaces(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'fetchSpaces' is deprecated. Use 'pubnub.objects.getAllChannelMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:i&&typeof i!="function"?i:{},details:"Fetch all Space objects with parameters:"})),this.objects._getAllChannelMetadata(i,h)})}fetchSpace(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'fetchSpace' is deprecated. Use 'pubnub.objects.getChannelMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Fetch Space object with parameters:"})),this.objects._getChannelMetadata(i,h)})}createSpace(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'createSpace' is deprecated. Use 'pubnub.objects.setChannelMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Create Space object with parameters:"})),this.objects._setChannelMetadata(i,h)})}updateSpace(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'updateSpace' is deprecated. Use 'pubnub.objects.setChannelMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Update Space object with parameters:"})),this.objects._setChannelMetadata(i,h)})}removeSpace(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'removeSpace' is deprecated. Use 'pubnub.objects.removeChannelMetadata' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove Space object with parameters:"})),this.objects._removeChannelMetadata(i,h)})}fetchMemberships(i,h){return d(this,void 0,void 0,function*(){return this.objects.fetchMemberships(i,h)})}addMemberships(i,h){return d(this,void 0,void 0,function*(){return this.objects.addMemberships(i,h)})}updateMemberships(i,h){return d(this,void 0,void 0,function*(){return this.logger.warn("PubNub","'addMemberships' is deprecated. Use 'pubnub.objects.setChannelMembers' or 'pubnub.objects.setMemberships' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Update memberships with parameters:"})),this.objects.addMemberships(i,h)})}removeMemberships(i,h){return d(this,void 0,void 0,function*(){var m,_,x;{if(this.logger.warn("PubNub","'removeMemberships' is deprecated. Use 'pubnub.objects.removeMemberships' or 'pubnub.objects.removeChannelMembers' instead."),this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Remove memberships with parameters:"})),"spaceId"in i){const F=i,q={channel:(m=F.spaceId)!==null&&m!==void 0?m:F.channel,uuids:(_=F.userIds)!==null&&_!==void 0?_:F.uuids,limit:0};return h?this.objects.removeChannelMembers(q,h):this.objects.removeChannelMembers(q)}const O=i,I={uuid:O.userId,channels:(x=O.spaceIds)!==null&&x!==void 0?x:O.channels,limit:0};return h?this.objects.removeMemberships(I,h):this.objects.removeMemberships(I)}})}get channelGroups(){return this._channelGroups}get push(){return this._push}sendFile(i,h){return d(this,void 0,void 0,function*(){{if(!this._configuration.PubNubFile)throw new Error("Validation failed: 'PubNubFile' not configured or file upload not supported by the platform.");this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Send file with parameters:"}));const m=new pu(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,PubNubFile:this._configuration.PubNubFile,fileUploadPublishRetryLimit:this._configuration.fileUploadPublishRetryLimit,file:i.file,sendRequest:this.sendRequest.bind(this),publishFile:this.publishFile.bind(this),crypto:this._configuration.getCryptoModule(),cryptography:this.cryptography?this.cryptography:void 0})),_={error:!1,operation:Q.PNPublishFileOperation,category:C.PNAcknowledgmentCategory,statusCode:0},x=O=>{O&&this.logger.debug("PubNub",`Send file success. File shared with ${O.id} ID.`)};return m.process().then(O=>(_.statusCode=O.status,x(O),h?h(_,O):O)).catch(O=>{let I;throw O instanceof A?I=O.status:O instanceof be&&(I=O.toStatus(_.operation)),this.logger.error("PubNub",()=>({messageType:"error",message:new A("File sending error. Check status for details",I)})),h&&I&&h(I,null),new A("REST API request processing error. Check status for details",I)})}})}publishFile(i,h){return d(this,void 0,void 0,function*(){{if(!this._configuration.PubNubFile)throw new Error("Validation failed: 'PubNubFile' not configured or file upload not supported by the platform.");this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Publish file message with parameters:"}));const m=new Jt(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,crypto:this._configuration.getCryptoModule()})),_=x=>{x&&this.logger.debug("PubNub",`Publish file message success. File message published with timetoken: ${x.timetoken}`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}listFiles(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"List files with parameters:"}));const m=new Op(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=x=>{x&&this.logger.debug("PubNub",`List files success. There are ${x.count} uploaded files.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}getFileUrl(i){var h;{const m=this.transport.request(new no(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})).request()),_=(h=m.queryParameters)!==null&&h!==void 0?h:{},x=Object.keys(_).map(O=>{const I=_[O];return Array.isArray(I)?I.map(F=>`${O}=${Le(F)}`).join("&"):`${O}=${Le(I)}`}).join("&");return`${m.origin}${m.path}?${x}`}}downloadFile(i,h){return d(this,void 0,void 0,function*(){{if(!this._configuration.PubNubFile)throw new Error("Validation failed: 'PubNubFile' not configured or file upload not supported by the platform.");this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Download file with parameters:"}));const m=new vu(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet,PubNubFile:this._configuration.PubNubFile,cryptography:this.cryptography?this.cryptography:void 0,crypto:this._configuration.getCryptoModule()})),_=x=>{x&&this.logger.debug("PubNub","Download file success.")};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):yield this.sendRequest(m).then(x=>(_(x),x))}})}deleteFile(i,h){return d(this,void 0,void 0,function*(){{this.logger.debug("PubNub",()=>({messageType:"object",message:Object.assign({},i),details:"Delete file with parameters:"}));const m=new fu(Object.assign(Object.assign({},i),{keySet:this._configuration.keySet})),_=x=>{x&&this.logger.debug("PubNub",`Delete file success. Deleted file with ${i.id} ID.`)};return h?this.sendRequest(m,(x,O)=>{_(O),h(x,O)}):this.sendRequest(m).then(x=>(_(x),x))}})}time(i){return d(this,void 0,void 0,function*(){this.logger.debug("PubNub","Get service time.");const h=new fh,m=_=>{_&&this.logger.debug("PubNub",`Get service time success. Current timetoken: ${_.timetoken}`)};return i?this.sendRequest(h,(_,x)=>{m(x),i(_,x)}):this.sendRequest(h).then(_=>(m(_),_))})}emitStatus(i){var h;(h=this.eventDispatcher)===null||h===void 0||h.handleStatus(i)}emitEvent(i,h){var m;this._globalSubscriptionSet&&this._globalSubscriptionSet.handleEvent(i,h),(m=this.eventDispatcher)===null||m===void 0||m.handleEvent(h),Object.values(this.eventHandleCapable).forEach(_=>{_!==this._globalSubscriptionSet&&_.handleEvent(i,h)})}set onStatus(i){this.eventDispatcher&&(this.eventDispatcher.onStatus=i)}set onMessage(i){this.eventDispatcher&&(this.eventDispatcher.onMessage=i)}set onPresence(i){this.eventDispatcher&&(this.eventDispatcher.onPresence=i)}set onSignal(i){this.eventDispatcher&&(this.eventDispatcher.onSignal=i)}set onObjects(i){this.eventDispatcher&&(this.eventDispatcher.onObjects=i)}set onMessageAction(i){this.eventDispatcher&&(this.eventDispatcher.onMessageAction=i)}set onFile(i){this.eventDispatcher&&(this.eventDispatcher.onFile=i)}addListener(i){this.eventDispatcher&&this.eventDispatcher.addListener(i)}removeListener(i){this.eventDispatcher&&this.eventDispatcher.removeListener(i)}removeAllListeners(){this.eventDispatcher&&this.eventDispatcher.removeAllListeners()}encrypt(i,h){this.logger.warn("PubNub","'encrypt' is deprecated. Use cryptoModule instead.");const m=this._configuration.getCryptoModule();if(!h&&m&&typeof i=="string"){const _=m.encrypt(i);return typeof _=="string"?_:S(_)}if(!this.crypto)throw new Error("Encryption error: cypher key not set");return this.crypto.encrypt(i,h)}decrypt(i,h){this.logger.warn("PubNub","'decrypt' is deprecated. Use cryptoModule instead.");const m=this._configuration.getCryptoModule();if(!h&&m){const _=m.decrypt(i);return _ instanceof ArrayBuffer?JSON.parse(new TextDecoder().decode(_)):_}if(!this.crypto)throw new Error("Decryption error: cypher key not set");return this.crypto.decrypt(i,h)}encryptFile(i,h){return d(this,void 0,void 0,function*(){var m;if(typeof i!="string"&&(h=i),!h)throw new Error("File encryption error. Source file is missing.");if(!this._configuration.PubNubFile)throw new Error("File encryption error. File constructor not configured.");if(typeof i!="string"&&!this._configuration.getCryptoModule())throw new Error("File encryption error. Crypto module not configured.");if(typeof i=="string"){if(!this.cryptography)throw new Error("File encryption error. File encryption not available");return this.cryptography.encryptFile(i,h,this._configuration.PubNubFile)}return(m=this._configuration.getCryptoModule())===null||m===void 0?void 0:m.encryptFile(h,this._configuration.PubNubFile)})}decryptFile(i,h){return d(this,void 0,void 0,function*(){var m;if(typeof i!="string"&&(h=i),!h)throw new Error("File encryption error. Source file is missing.");if(!this._configuration.PubNubFile)throw new Error("File decryption error. File constructor not configured.");if(typeof i=="string"&&!this._configuration.getCryptoModule())throw new Error("File decryption error. Crypto module not configured.");if(typeof i=="string"){if(!this.cryptography)throw new Error("File decryption error. File decryption not available");return this.cryptography.decryptFile(i,h,this._configuration.PubNubFile)}return(m=this._configuration.getCryptoModule())===null||m===void 0?void 0:m.decryptFile(h,this._configuration.PubNubFile)})}}pr.decoder=new TextDecoder,pr.OPERATIONS=Q,pr.CATEGORIES=C,pr.Endpoint=Kt,pr.ExponentialRetryPolicy=Kn.ExponentialRetryPolicy,pr.LinearRetryPolicy=Kn.LinearRetryPolicy,pr.NoneRetryPolicy=Kn.None,pr.LogLevel=Ee;class Fc{constructor(i,h){this.decode=i,this.base64ToBinary=h}decodeToken(i){let h="";i.length%4==3?h="=":i.length%4==2&&(h="==");const m=i.replace(/-/gi,"+").replace(/_/gi,"/")+h,_=this.decode(this.base64ToBinary(m));return typeof _=="object"?_:void 0}}class io extends pr{constructor(i){var h;const m=i.subscriptionWorkerUrl!==void 0,_=se(i),x=Object.assign(Object.assign({},_),{sdkFamily:"Web"});x.PubNubFile=v;const O=Us(x,oe=>{if(oe.cipherKey)return new Ce({default:new Re(Object.assign(Object.assign({},oe),oe.logger?{}:{logger:O.logger()})),cryptors:[new Z({cipherKey:oe.cipherKey})]})});let I,F;O.getCryptoModule()&&(O.getCryptoModule().logger=O.logger()),I=new pi(new Fc(oe=>Te(o.decode(oe)),y)),(O.getCipherKey()||O.secretKey)&&(F=new me({secretKey:O.secretKey,cipherKey:O.getCipherKey(),useRandomIVs:O.getUseRandomIVs(),customEncrypt:O.getCustomEncrypt(),customDecrypt:O.getCustomDecrypt(),logger:O.logger()}));let q,ie=()=>{},re=()=>{},ne=()=>{};q=new we;let ge=new Yr(O.logger(),x.transport);if(_.subscriptionWorkerUrl)try{const oe=new Ae({clientIdentifier:O._instanceId,subscriptionKey:O.subscribeKey,userId:O.getUserId(),workerUrl:_.subscriptionWorkerUrl,sdkVersion:O.getVersion(),heartbeatInterval:O.getHeartbeatInterval(),announceSuccessfulHeartbeats:O.announceSuccessfulHeartbeats,announceFailedHeartbeats:O.announceFailedHeartbeats,workerOfflineClientsCheckInterval:x.subscriptionWorkerOfflineClientsCheckInterval,workerUnsubscribeOfflineClients:x.subscriptionWorkerUnsubscribeOfflineClients,workerLogVerbosity:x.subscriptionWorkerLogVerbosity,tokenManager:I,transport:ge,logger:O.logger()});ie=pe=>oe.onHeartbeatIntervalChange(pe),re=pe=>oe.onTokenChange(pe),ne=pe=>oe.onUserIdChange(pe),ge=oe,_.subscriptionWorkerUnsubscribeOfflineClients&&window.addEventListener("pagehide",pe=>{pe.persisted||oe.terminate()},{once:!0})}catch(oe){O.logger().error("PubNub",()=>({messageType:"error",message:oe}))}else m&&O.logger().warn("PubNub","SharedWorker not supported in this browser. Fallback to the original transport.");const ae=new ss({clientConfiguration:O,tokenManager:I,transport:ge});super({configuration:O,transport:ae,cryptography:q,tokenManager:I,crypto:F}),this.onHeartbeatIntervalChange=ie,this.onAuthenticationChange=re,this.onUserIdChange=ne,ge instanceof Ae&&(ge.emitStatus=this.emitStatus.bind(this)),((h=i.listenToBrowserNetworkEvents)===null||h===void 0||h)&&(window.addEventListener("offline",()=>{this.networkDownDetected()}),window.addEventListener("online",()=>{this.networkUpDetected()}))}networkDownDetected(){this.logger.debug("PubNub","Network down detected"),this.emitStatus({category:io.CATEGORIES.PNNetworkDownCategory}),this._configuration.restore?this.disconnect(!0):this.destroy(!0)}networkUpDetected(){this.logger.debug("PubNub","Network up detected"),this.emitStatus({category:io.CATEGORIES.PNNetworkUpCategory}),this.reconnect()}}return io.CryptoModule=Ce,io})}(by)),by.exports}var E4=k4();const C4=rr(E4);var pw=(r=>(r.LiveGameDetails="LiveGameDetails",r))(pw||{});const Vv=new C4({publishKey:"pub-c-c60eb920-5d54-42cf-becb-e468ce96e343",subscribeKey:"sub-c-dbfaecac-a2ca-4e19-8ea2-6b698ac514b7",userId:"Talpakers"});function P4(r){const n={message:function(t){r(t.message)}};return Vv.subscribe({channels:[pw.LiveGameDetails]}),Vv.addListener(n),()=>{Vv.unsubscribe({channels:[pw.LiveGameDetails]}),Vv.removeListener(n)}}var Yg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var O4=Yg.exports,Qx;function T4(){return Qx||(Qx=1,function(r,n){(function(){var t,e="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",v=500,y="__lodash_placeholder__",S=1,k=2,C=4,A=1,N=2,M=1,L=2,G=4,W=8,V=16,z=32,Y=64,B=128,K=256,Z=512,ce=30,me="...",we=800,Re=16,Ce=1,_e=2,ye=3,be=1/0,Q=9007199254740991,Ae=17976931348623157e292,Te=NaN,se=4294967295,Ee=se-1,Le=se>>>1,Ve=[["ary",B],["bind",M],["bindKey",L],["curry",W],["curryRight",V],["flip",Z],["partial",z],["partialRight",Y],["rearg",K]],st="[object Arguments]",bt="[object Array]",Tt="[object AsyncFunction]",_t="[object Boolean]",Pt="[object Date]",zt="[object DOMException]",On="[object Error]",sr="[object Function]",Kt="[object GeneratorFunction]",Kn="[object Map]",fi="[object Number]",Qo="[object Null]",Dr="[object Object]",Jo="[object Promise]",pa="[object Proxy]",Bn="[object RegExp]",gn="[object Set]",Us="[object String]",Ri="[object Symbol]",Ga="[object Undefined]",pi="[object WeakMap]",on="[object WeakSet]",qr="[object ArrayBuffer]",ss="[object DataView]",Yr="[object Float32Array]",gt="[object Float64Array]",Ft="[object Int8Array]",Xo="[object Int16Array]",Zo="[object Int32Array]",el="[object Uint8Array]",wc="[object Uint8ClampedArray]",tl="[object Uint16Array]",nl="[object Uint32Array]",lu=/\b__p \+= '';/g,_c=/\b(__p \+=) '' \+/g,Sc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ga=/&(?:amp|lt|gt|quot|#39);/g,ji=/[&<>"']/g,Nr=RegExp(ga.source),xc=RegExp(ji.source),kc=/<%-([\s\S]+?)%>/g,Gn=/<%([\s\S]+?)%>/g,Va=/<%=([\s\S]+?)%>/g,Qa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ec=/^\w*$/,rl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sl=/[\\^$.*+?()[\]{}|]/g,il=RegExp(sl.source),Bs=/^\s+/,ma=/\s/,Kr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ja=/\{\n\/\* \[wrapped with (.+)\] \*/,al=/,? & /,Cc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,uu=/[()=,{}\[\]\/\s]/,Xa=/\\(\\)?/g,_s=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,va=/\w*$/,Pc=/^[-+]0x[0-9a-f]+$/i,sh=/^0b[01]+$/i,Oc=/^\[object .+?Constructor\]$/,ih=/^0o[0-7]+$/i,Ws=/^(?:0|[1-9]\d*)$/,gi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mi=/($^)/,Vn=/['\n\r\u2028\u2029\\]/g,nn="\\ud800-\\udfff",Ep="\\u0300-\\u036f",ol="\\ufe20-\\ufe2f",cu="\\u20d0-\\u20ff",Za=Ep+ol+cu,Gr="\\u2700-\\u27bf",is="a-z\\xdf-\\xf6\\xf8-\\xff",Ss="\\xac\\xb1\\xd7\\xf7",xs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ah="\\u2000-\\u206f",as=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tc="A-Z\\xc0-\\xd6\\xd8-\\xde",du="\\ufe0e\\ufe0f",eo=Ss+xs+ah+as,ks="[']",un="["+nn+"]",os="["+eo+"]",ls="["+Za+"]",Mn="\\d+",ya="["+Gr+"]",vi="["+is+"]",_r="[^"+nn+eo+Mn+Gr+is+Tc+"]",ll="\\ud83c[\\udffb-\\udfff]",ul="(?:"+ls+"|"+ll+")",oh="[^"+nn+"]",cl="(?:\\ud83c[\\udde6-\\uddff]){2}",Gt="[\\ud800-\\udbff][\\udc00-\\udfff]",ba="["+Tc+"]",$i="\\u200d",us="(?:"+vi+"|"+_r+")",Dc="(?:"+ba+"|"+_r+")",hu="(?:"+ks+"(?:d|ll|m|re|s|t|ve))?",Nc="(?:"+ks+"(?:D|LL|M|RE|S|T|VE))?",Hs=ul+"?",dl="["+du+"]?",Es="(?:"+$i+"(?:"+[oh,cl,Gt].join("|")+")"+dl+Hs+")*",Li="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ui=dl+Hs+Es,hl="(?:"+[ya,cl,Gt].join("|")+")"+Ui,Bi="(?:"+[oh+ls+"?",ls,cl,Gt,un].join("|")+")",Cp=RegExp(ks,"g"),lh=RegExp(ls,"g"),wa=RegExp(ll+"(?="+ll+")|"+Bi+Ui,"g"),Ac=RegExp([ba+"?"+vi+"+"+hu+"(?="+[os,ba,"$"].join("|")+")",Dc+"+"+Nc+"(?="+[os,ba+us,"$"].join("|")+")",ba+"?"+us+"+"+hu,ba+"+"+Nc,Fi,Li,Mn,hl].join("|"),"g"),fl=RegExp("["+$i+nn+Za+du+"]"),to=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pp=-1,rn={};rn[Yr]=rn[gt]=rn[Ft]=rn[Xo]=rn[Zo]=rn[el]=rn[wc]=rn[tl]=rn[nl]=!0,rn[st]=rn[bt]=rn[qr]=rn[_t]=rn[ss]=rn[Pt]=rn[On]=rn[sr]=rn[Kn]=rn[fi]=rn[Dr]=rn[Bn]=rn[gn]=rn[Us]=rn[pi]=!1;var Jt={};Jt[st]=Jt[bt]=Jt[qr]=Jt[ss]=Jt[_t]=Jt[Pt]=Jt[Yr]=Jt[gt]=Jt[Ft]=Jt[Xo]=Jt[Zo]=Jt[Kn]=Jt[fi]=Jt[Dr]=Jt[Bn]=Jt[gn]=Jt[Us]=Jt[Ri]=Jt[el]=Jt[wc]=Jt[tl]=Jt[nl]=!0,Jt[On]=Jt[sr]=Jt[pi]=!1;var no={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},fu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Op={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pl=parseFloat,pu=parseInt,_a=typeof Rf=="object"&&Rf&&Rf.Object===Object&&Rf,ch=typeof self=="object"&&self&&self.Object===Object&&self,wn=_a||ch||Function("return this")(),gl=n&&!n.nodeType&&n,zs=gl&&!0&&r&&!r.nodeType&&r,Ic=zs&&zs.exports===gl,ro=Ic&&_a.process,Sr=function(){try{var fe=zs&&zs.require&&zs.require("util").types;return fe||ro&&ro.binding&&ro.binding("util")}catch{}}(),Mc=Sr&&Sr.isArrayBuffer,Ar=Sr&&Sr.isDate,Sa=Sr&&Sr.isMap,xa=Sr&&Sr.isRegExp,so=Sr&&Sr.isSet,dh=Sr&&Sr.isTypedArray;function xr(fe,Ne,xe){switch(xe.length){case 0:return fe.call(Ne);case 1:return fe.call(Ne,xe[0]);case 2:return fe.call(Ne,xe[0],xe[1]);case 3:return fe.call(Ne,xe[0],xe[1],xe[2])}return fe.apply(Ne,xe)}function Rc(fe,Ne,xe,Ze){for(var Ot=-1,Xt=fe==null?0:fe.length;++Ot<Xt;){var Qn=fe[Ot];Ne(Ze,Qn,xe(Qn),fe)}return Ze}function fr(fe,Ne){for(var xe=-1,Ze=fe==null?0:fe.length;++xe<Ze&&Ne(fe[xe],xe,fe)!==!1;);return fe}function gu(fe,Ne){for(var xe=fe==null?0:fe.length;xe--&&Ne(fe[xe],xe,fe)!==!1;);return fe}function jc(fe,Ne){for(var xe=-1,Ze=fe==null?0:fe.length;++xe<Ze;)if(!Ne(fe[xe],xe,fe))return!1;return!0}function Wi(fe,Ne){for(var xe=-1,Ze=fe==null?0:fe.length,Ot=0,Xt=[];++xe<Ze;){var Qn=fe[xe];Ne(Qn,xe,fe)&&(Xt[Ot++]=Qn)}return Xt}function ml(fe,Ne){var xe=fe==null?0:fe.length;return!!xe&&pr(fe,Ne,0)>-1}function $c(fe,Ne,xe){for(var Ze=-1,Ot=fe==null?0:fe.length;++Ze<Ot;)if(xe(Ne,fe[Ze]))return!0;return!1}function cn(fe,Ne){for(var xe=-1,Ze=fe==null?0:fe.length,Ot=Array(Ze);++xe<Ze;)Ot[xe]=Ne(fe[xe],xe,fe);return Ot}function Hi(fe,Ne){for(var xe=-1,Ze=Ne.length,Ot=fe.length;++xe<Ze;)fe[Ot+xe]=Ne[xe];return fe}function Lc(fe,Ne,xe,Ze){var Ot=-1,Xt=fe==null?0:fe.length;for(Ze&&Xt&&(xe=fe[++Ot]);++Ot<Xt;)xe=Ne(xe,fe[Ot],Ot,fe);return xe}function Dp(fe,Ne,xe,Ze){var Ot=fe==null?0:fe.length;for(Ze&&Ot&&(xe=fe[--Ot]);Ot--;)xe=Ne(xe,fe[Ot],Ot,fe);return xe}function mu(fe,Ne){for(var xe=-1,Ze=fe==null?0:fe.length;++xe<Ze;)if(Ne(fe[xe],xe,fe))return!0;return!1}var Np=i("length");function hh(fe){return fe.split("")}function Ap(fe){return fe.match(Cc)||[]}function fh(fe,Ne,xe){var Ze;return xe(fe,function(Ot,Xt,Qn){if(Ne(Ot,Xt,Qn))return Ze=Xt,!1}),Ze}function vu(fe,Ne,xe,Ze){for(var Ot=fe.length,Xt=xe+(Ze?1:-1);Ze?Xt--:++Xt<Ot;)if(Ne(fe[Xt],Xt,fe))return Xt;return-1}function pr(fe,Ne,xe){return Ne===Ne?Et(fe,Ne,xe):vu(fe,io,xe)}function Fc(fe,Ne,xe,Ze){for(var Ot=xe-1,Xt=fe.length;++Ot<Xt;)if(Ze(fe[Ot],Ne))return Ot;return-1}function io(fe){return fe!==fe}function P(fe,Ne){var xe=fe==null?0:fe.length;return xe?x(fe,Ne)/xe:Te}function i(fe){return function(Ne){return Ne==null?t:Ne[fe]}}function h(fe){return function(Ne){return fe==null?t:fe[Ne]}}function m(fe,Ne,xe,Ze,Ot){return Ot(fe,function(Xt,Qn,dn){xe=Ze?(Ze=!1,Xt):Ne(xe,Xt,Qn,dn)}),xe}function _(fe,Ne){var xe=fe.length;for(fe.sort(Ne);xe--;)fe[xe]=fe[xe].value;return fe}function x(fe,Ne){for(var xe,Ze=-1,Ot=fe.length;++Ze<Ot;){var Xt=Ne(fe[Ze]);Xt!==t&&(xe=xe===t?Xt:xe+Xt)}return xe}function O(fe,Ne){for(var xe=-1,Ze=Array(fe);++xe<fe;)Ze[xe]=Ne(xe);return Ze}function I(fe,Ne){return cn(Ne,function(xe){return[xe,fe[xe]]})}function F(fe){return fe&&fe.slice(0,Ke(fe)+1).replace(Bs,"")}function q(fe){return function(Ne){return fe(Ne)}}function ie(fe,Ne){return cn(Ne,function(xe){return fe[xe]})}function re(fe,Ne){return fe.has(Ne)}function ne(fe,Ne){for(var xe=-1,Ze=fe.length;++xe<Ze&&pr(Ne,fe[xe],0)>-1;);return xe}function ge(fe,Ne){for(var xe=fe.length;xe--&&pr(Ne,fe[xe],0)>-1;);return xe}function ae(fe,Ne){for(var xe=fe.length,Ze=0;xe--;)fe[xe]===Ne&&++Ze;return Ze}var oe=h(no),pe=h(fu);function De(fe){return"\\"+Tp[fe]}function nt(fe,Ne){return fe==null?t:fe[Ne]}function mt(fe){return fl.test(fe)}function Nt(fe){return to.test(fe)}function Ge(fe){for(var Ne,xe=[];!(Ne=fe.next()).done;)xe.push(Ne.value);return xe}function Je(fe){var Ne=-1,xe=Array(fe.size);return fe.forEach(function(Ze,Ot){xe[++Ne]=[Ot,Ze]}),xe}function Pe(fe,Ne){return function(xe){return fe(Ne(xe))}}function Fe(fe,Ne){for(var xe=-1,Ze=fe.length,Ot=0,Xt=[];++xe<Ze;){var Qn=fe[xe];(Qn===Ne||Qn===y)&&(fe[xe]=y,Xt[Ot++]=xe)}return Xt}function Qe(fe){var Ne=-1,xe=Array(fe.size);return fe.forEach(function(Ze){xe[++Ne]=Ze}),xe}function Rt(fe){var Ne=-1,xe=Array(fe.size);return fe.forEach(function(Ze){xe[++Ne]=[Ze,Ze]}),xe}function Et(fe,Ne,xe){for(var Ze=xe-1,Ot=fe.length;++Ze<Ot;)if(fe[Ze]===Ne)return Ze;return-1}function Dt(fe,Ne,xe){for(var Ze=xe+1;Ze--;)if(fe[Ze]===Ne)return Ze;return Ze}function Rn(fe){return mt(fe)?qe(fe):Np(fe)}function Me(fe){return mt(fe)?Vr(fe):hh(fe)}function Ke(fe){for(var Ne=fe.length;Ne--&&ma.test(fe.charAt(Ne)););return Ne}var He=h(Op);function qe(fe){for(var Ne=wa.lastIndex=0;wa.test(fe);)++Ne;return Ne}function Vr(fe){return fe.match(wa)||[]}function Qr(fe){return fe.match(Ac)||[]}var Cs=function fe(Ne){Ne=Ne==null?wn:Ps.defaults(wn.Object(),Ne,Ps.pick(wn,uh));var xe=Ne.Array,Ze=Ne.Date,Ot=Ne.Error,Xt=Ne.Function,Qn=Ne.Math,dn=Ne.Object,Uc=Ne.RegExp,Sb=Ne.String,qs=Ne.TypeError,ka=xe.prototype,Ip=Xt.prototype,zi=dn.prototype,yu=Ne["__core-js_shared__"],Bc=Ip.toString,Zt=zi.hasOwnProperty,bu=0,ph=function(){var u=/[^.]+$/.exec(yu&&yu.keys&&yu.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Wc=zi.toString,gh=Bc.call(dn),Wm=wn._,Hm=Uc("^"+Bc.call(Zt).replace(sl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hc=Ic?Ne.Buffer:t,Ea=Ne.Symbol,zc=Ne.Uint8Array,Mp=Hc?Hc.allocUnsafe:t,yi=Pe(dn.getPrototypeOf,dn),mh=dn.create,vh=zi.propertyIsEnumerable,yh=ka.splice,zm=Ea?Ea.isConcatSpreadable:t,Ca=Ea?Ea.iterator:t,vl=Ea?Ea.toStringTag:t,qc=function(){try{var u=vo(dn,"defineProperty");return u({},"",{}),u}catch{}}(),qm=Ne.clearTimeout!==wn.clearTimeout&&Ne.clearTimeout,xn=Ze&&Ze.now!==wn.Date.now&&Ze.now,Rp=Ne.setTimeout!==wn.setTimeout&&Ne.setTimeout,yl=Qn.ceil,ao=Qn.floor,bh=dn.getOwnPropertySymbols,jp=Hc?Hc.isBuffer:t,wu=Ne.isFinite,wh=ka.join,_u=Pe(dn.keys,dn),Jn=Qn.max,Ir=Qn.min,xb=Ze.now,Ym=Ne.parseInt,Yc=Qn.random,_h=ka.reverse,Kc=vo(Ne,"DataView"),bl=vo(Ne,"Map"),Gc=vo(Ne,"Promise"),oo=vo(Ne,"Set"),Vc=vo(Ne,"WeakMap"),Su=vo(dn,"create"),Sh=Vc&&new Vc,xu={},$p=yo(Kc),lo=yo(bl),Km=yo(Gc),ku=yo(oo),qi=yo(Vc),uo=Ea?Ea.prototype:t,Os=uo?uo.valueOf:t,xh=uo?uo.toString:t;function U(u){if(Zn(u)&&!It(u)&&!(u instanceof At)){if(u instanceof Mr)return u;if(Zt.call(u,"__wrapped__"))return _v(u)}return new Mr(u)}var Eu=function(){function u(){}return function(f){if(!zn(f))return{};if(mh)return mh(f);u.prototype=f;var w=new u;return u.prototype=t,w}}();function Yi(){}function Mr(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=t}U.templateSettings={escape:kc,evaluate:Gn,interpolate:Va,variable:"",imports:{_:U}},U.prototype=Yi.prototype,U.prototype.constructor=U,Mr.prototype=Eu(Yi.prototype),Mr.prototype.constructor=Mr;function At(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function kh(){var u=new At(this.__wrapped__);return u.__actions__=Xr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Xr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Xr(this.__views__),u}function Lp(){if(this.__filtered__){var u=new At(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Cu(){var u=this.__wrapped__.value(),f=this.__dir__,w=It(u),D=f<0,j=w?u.length:0,H=hg(0,j,this.__views__),te=H.start,ue=H.end,ve=ue-te,je=D?ue:te-1,$e=this.__iteratees__,We=$e.length,Xe=0,ht=Ir(ve,this.__takeCount__);if(!w||!D&&j==ve&&ht==ve)return Mu(u,this.__actions__);var xt=[];e:for(;ve--&&Xe<ht;){je+=f;for(var Lt=-1,kt=u[je];++Lt<We;){var qt=$e[Lt],Qt=qt.iteratee,Oi=qt.type,Is=Qt(kt);if(Oi==_e)kt=Is;else if(!Is){if(Oi==Ce)continue e;break e}}xt[Xe++]=kt}return xt}At.prototype=Eu(Yi.prototype),At.prototype.constructor=At;function cs(u){var f=-1,w=u==null?0:u.length;for(this.clear();++f<w;){var D=u[f];this.set(D[0],D[1])}}function kn(){this.__data__=Su?Su(null):{},this.size=0}function _n(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function co(u){var f=this.__data__;if(Su){var w=f[u];return w===p?t:w}return Zt.call(f,u)?f[u]:t}function Rr(u){var f=this.__data__;return Su?f[u]!==t:Zt.call(f,u)}function ds(u,f){var w=this.__data__;return this.size+=this.has(u)?0:1,w[u]=Su&&f===t?p:f,this}cs.prototype.clear=kn,cs.prototype.delete=_n,cs.prototype.get=co,cs.prototype.has=Rr,cs.prototype.set=ds;function Jr(u){var f=-1,w=u==null?0:u.length;for(this.clear();++f<w;){var D=u[f];this.set(D[0],D[1])}}function Pu(){this.__data__=[],this.size=0}function hs(u){var f=this.__data__,w=$r(f,u);if(w<0)return!1;var D=f.length-1;return w==D?f.pop():yh.call(f,w,1),--this.size,!0}function Eh(u){var f=this.__data__,w=$r(f,u);return w<0?t:f[w][1]}function Gm(u){return $r(this.__data__,u)>-1}function Vm(u,f){var w=this.__data__,D=$r(w,u);return D<0?(++this.size,w.push([u,f])):w[D][1]=f,this}Jr.prototype.clear=Pu,Jr.prototype.delete=hs,Jr.prototype.get=Eh,Jr.prototype.has=Gm,Jr.prototype.set=Vm;function Ys(u){var f=-1,w=u==null?0:u.length;for(this.clear();++f<w;){var D=u[f];this.set(D[0],D[1])}}function Qm(){this.size=0,this.__data__={hash:new cs,map:new(bl||Jr),string:new cs}}function Pa(u){var f=dd(this,u).delete(u);return this.size-=f?1:0,f}function Ch(u){return dd(this,u).get(u)}function Fp(u){return dd(this,u).has(u)}function Jm(u,f){var w=dd(this,u),D=w.size;return w.set(u,f),this.size+=w.size==D?0:1,this}Ys.prototype.clear=Qm,Ys.prototype.delete=Pa,Ys.prototype.get=Ch,Ys.prototype.has=Fp,Ys.prototype.set=Jm;function wl(u){var f=-1,w=u==null?0:u.length;for(this.__data__=new Ys;++f<w;)this.add(u[f])}function ho(u){return this.__data__.set(u,p),this}function Ou(u){return this.__data__.has(u)}wl.prototype.add=wl.prototype.push=ho,wl.prototype.has=Ou;function jr(u){var f=this.__data__=new Jr(u);this.size=f.size}function Ph(){this.__data__=new Jr,this.size=0}function Oh(u){var f=this.__data__,w=f.delete(u);return this.size=f.size,w}function Ks(u){return this.__data__.get(u)}function Gs(u){return this.__data__.has(u)}function _l(u,f){var w=this.__data__;if(w instanceof Jr){var D=w.__data__;if(!bl||D.length<s-1)return D.push([u,f]),this.size=++w.size,this;w=this.__data__=new Ys(D)}return w.set(u,f),this.size=w.size,this}jr.prototype.clear=Ph,jr.prototype.delete=Oh,jr.prototype.get=Ks,jr.prototype.has=Gs,jr.prototype.set=_l;function Ki(u,f){var w=It(u),D=!w&&xd(u),j=!w&&!D&&zu(u),H=!w&&!D&&!j&&yf(u),te=w||D||j||H,ue=te?O(u.length,Sb):[],ve=ue.length;for(var je in u)(f||Zt.call(u,je))&&!(te&&(je=="length"||j&&(je=="offset"||je=="parent")||H&&(je=="buffer"||je=="byteLength"||je=="byteOffset")||Dn(je,ve)))&&ue.push(je);return ue}function Gi(u){var f=u.length;return f?u[Au(0,f-1)]:t}function Sl(u,f){return ef(Xr(u),Oa(f,0,u.length))}function Xm(u){return ef(Xr(u))}function Qc(u,f,w){(w!==t&&!La(u[f],w)||w===t&&!(f in u))&&Vi(u,f,w)}function xl(u,f,w){var D=u[f];(!(Zt.call(u,f)&&La(D,w))||w===t&&!(f in u))&&Vi(u,f,w)}function $r(u,f){for(var w=u.length;w--;)if(La(u[w][0],f))return w;return-1}function Ts(u,f,w,D){return Ji(u,function(j,H,te){f(D,j,w(j),te)}),D}function En(u,f){return u&&wi(f,Ur(f),u)}function bi(u,f){return u&&wi(f,ri(f),u)}function Vi(u,f,w){f=="__proto__"&&qc?qc(u,f,{configurable:!0,enumerable:!0,value:w,writable:!0}):u[f]=w}function Th(u,f){for(var w=-1,D=f.length,j=xe(D),H=u==null;++w<D;)j[w]=H?t:Kb(u,f[w]);return j}function Oa(u,f,w){return u===u&&(w!==t&&(u=u<=w?u:w),f!==t&&(u=u>=f?u:f)),u}function fs(u,f,w,D,j,H){var te,ue=f&S,ve=f&k,je=f&C;if(w&&(te=j?w(u,D,j,H):w(u)),te!==t)return te;if(!zn(u))return u;var $e=It(u);if($e){if(te=fd(u),!ue)return Xr(u,te)}else{var We=Cr(u),Xe=We==sr||We==Kt;if(zu(u))return eg(u,ue);if(We==Dr||We==st||Xe&&!j){if(te=ve||Xe?{}:Pr(u),!ue)return ve?Eb(u,bi(te,u)):Wh(u,En(te,u))}else{if(!Jt[We])return j?u:{};te=Cb(u,We,ue)}}H||(H=new jr);var ht=H.get(u);if(ht)return ht;H.set(u,te),C_(u)?u.forEach(function(kt){te.add(fs(kt,f,w,kt,u,H))}):k_(u)&&u.forEach(function(kt,qt){te.set(qt,fs(kt,f,w,qt,u,H))});var xt=je?ve?cd:ud:ve?ri:Ur,Lt=$e?t:xt(u);return fr(Lt||u,function(kt,qt){Lt&&(qt=kt,kt=u[qt]),xl(te,qt,fs(kt,f,w,qt,u,H))}),te}function Zm(u){var f=Ur(u);return function(w){return Jc(w,u,f)}}function Jc(u,f,w){var D=w.length;if(u==null)return!D;for(u=dn(u);D--;){var j=w[D],H=f[j],te=u[j];if(te===t&&!(j in u)||!H(te))return!1}return!0}function Up(u,f,w){if(typeof u!="function")throw new qs(c);return Bu(function(){u.apply(t,w)},f)}function Qi(u,f,w,D){var j=-1,H=ml,te=!0,ue=u.length,ve=[],je=f.length;if(!ue)return ve;w&&(f=cn(f,q(w))),D?(H=$c,te=!1):f.length>=s&&(H=re,te=!1,f=new wl(f));e:for(;++j<ue;){var $e=u[j],We=w==null?$e:w($e);if($e=D||$e!==0?$e:0,te&&We===We){for(var Xe=je;Xe--;)if(f[Xe]===We)continue e;ve.push($e)}else H(f,We,D)||ve.push($e)}return ve}var Ji=Zs(Ds),ev=Zs(fo,!0);function Xc(u,f){var w=!0;return Ji(u,function(D,j,H){return w=!!f(D,j,H),w}),w}function kl(u,f,w){for(var D=-1,j=u.length;++D<j;){var H=u[D],te=f(H);if(te!=null&&(ue===t?te===te&&!Pi(te):w(te,ue)))var ue=te,ve=H}return ve}function tv(u,f,w,D){var j=u.length;for(w=$t(w),w<0&&(w=-w>j?0:j+w),D=D===t||D>j?j:$t(D),D<0&&(D+=j),D=w>D?0:O_(D);w<D;)u[w++]=f;return u}function Bp(u,f){var w=[];return Ji(u,function(D,j,H){f(D,j,H)&&w.push(D)}),w}function Un(u,f,w,D,j){var H=-1,te=u.length;for(w||(w=Jh),j||(j=[]);++H<te;){var ue=u[H];f>0&&w(ue)?f>1?Un(ue,f-1,w,D,j):Hi(j,ue):D||(j[j.length]=ue)}return j}var Dh=zh(),Zc=zh(!0);function Ds(u,f){return u&&Dh(u,f,Ur)}function fo(u,f){return u&&Zc(u,f,Ur)}function Tu(u,f){return Wi(f,function(w){return $l(u[w])})}function Ta(u,f){f=ea(f,u);for(var w=0,D=f.length;u!=null&&w<D;)u=u[ki(f[w++])];return w&&w==D?u:t}function Nh(u,f,w){var D=f(u);return It(u)?D:Hi(D,w(u))}function kr(u){return u==null?u===t?Ga:Qo:vl&&vl in dn(u)?Qh(u):pg(u)}function po(u,f){return u>f}function Vs(u,f){return u!=null&&Zt.call(u,f)}function El(u,f){return u!=null&&f in dn(u)}function Wp(u,f,w){return u>=Ir(f,w)&&u<Jn(f,w)}function Ah(u,f,w){for(var D=w?$c:ml,j=u[0].length,H=u.length,te=H,ue=xe(H),ve=1/0,je=[];te--;){var $e=u[te];te&&f&&($e=cn($e,q(f))),ve=Ir($e.length,ve),ue[te]=!w&&(f||j>=120&&$e.length>=120)?new wl(te&&$e):t}$e=u[0];var We=-1,Xe=ue[0];e:for(;++We<j&&je.length<ve;){var ht=$e[We],xt=f?f(ht):ht;if(ht=w||ht!==0?ht:0,!(Xe?re(Xe,xt):D(je,xt,w))){for(te=H;--te;){var Lt=ue[te];if(!(Lt?re(Lt,xt):D(u[te],xt,w)))continue e}Xe&&Xe.push(xt),je.push(ht)}}return je}function Da(u,f,w,D){return Ds(u,function(j,H,te){f(D,w(j),H,te)}),D}function Qs(u,f,w){f=ea(f,u),u=gr(u,f);var D=u==null?u:u[ki(ts(f))];return D==null?t:xr(D,u,w)}function Ih(u){return Zn(u)&&kr(u)==st}function nv(u){return Zn(u)&&kr(u)==qr}function Na(u){return Zn(u)&&kr(u)==Pt}function Js(u,f,w,D,j){return u===f?!0:u==null||f==null||!Zn(u)&&!Zn(f)?u!==u&&f!==f:Mh(u,f,w,D,Js,j)}function Mh(u,f,w,D,j,H){var te=It(u),ue=It(f),ve=te?bt:Cr(u),je=ue?bt:Cr(f);ve=ve==st?Dr:ve,je=je==st?Dr:je;var $e=ve==Dr,We=je==Dr,Xe=ve==je;if(Xe&&zu(u)){if(!zu(f))return!1;te=!0,$e=!1}if(Xe&&!$e)return H||(H=new jr),te||yf(u)?cg(u,f,w,D,j,H):dg(u,f,ve,w,D,j,H);if(!(w&A)){var ht=$e&&Zt.call(u,"__wrapped__"),xt=We&&Zt.call(f,"__wrapped__");if(ht||xt){var Lt=ht?u.value():u,kt=xt?f.value():f;return H||(H=new jr),j(Lt,kt,w,D,H)}}return Xe?(H||(H=new jr),fv(u,f,w,D,j,H)):!1}function rv(u){return Zn(u)&&Cr(u)==Kn}function Du(u,f,w,D){var j=w.length,H=j,te=!D;if(u==null)return!H;for(u=dn(u);j--;){var ue=w[j];if(te&&ue[2]?ue[1]!==u[ue[0]]:!(ue[0]in u))return!1}for(;++j<H;){ue=w[j];var ve=ue[0],je=u[ve],$e=ue[1];if(te&&ue[2]){if(je===t&&!(ve in u))return!1}else{var We=new jr;if(D)var Xe=D(je,$e,ve,u,f,We);if(!(Xe===t?Js($e,je,A|N,D,We):Xe))return!1}}return!0}function Hp(u){if(!zn(u)||mv(u))return!1;var f=$l(u)?Hm:Oc;return f.test(yo(u))}function ed(u){return Zn(u)&&kr(u)==Bn}function Xi(u){return Zn(u)&&Cr(u)==gn}function td(u){return Zn(u)&&Rv(u.length)&&!!rn[kr(u)]}function Nu(u){return typeof u=="function"?u:u==null?si:typeof u=="object"?It(u)?Tn(u[0],u[1]):Rh(u):F_(u)}function Aa(u){if(!ja(u))return _u(u);var f=[];for(var w in dn(u))Zt.call(u,w)&&w!="constructor"&&f.push(w);return f}function zp(u){if(!zn(u))return bv(u);var f=ja(u),w=[];for(var D in u)D=="constructor"&&(f||!Zt.call(u,D))||w.push(D);return w}function go(u,f){return u<f}function qp(u,f){var w=-1,D=ni(u)?xe(u.length):[];return Ji(u,function(j,H,te){D[++w]=f(j,H,te)}),D}function Rh(u){var f=hd(u);return f.length==1&&f[0][2]?Xh(f[0][0],f[0][1]):function(w){return w===u||Du(w,u,f)}}function Tn(u,f){return rt(u)&&gd(f)?Xh(ki(u),f):function(w){var D=Kb(w,u);return D===t&&D===f?Gb(w,u):Js(f,D,A|N)}}function Cl(u,f,w,D,j){u!==f&&Dh(f,function(H,te){if(j||(j=new jr),zn(H))Yp(u,f,te,w,Cl,D,j);else{var ue=D?D(ra(u,te),H,te+"",u,f,j):t;ue===t&&(ue=H),Qc(u,te,ue)}},ri)}function Yp(u,f,w,D,j,H,te){var ue=ra(u,w),ve=ra(f,w),je=te.get(ve);if(je){Qc(u,w,je);return}var $e=H?H(ue,ve,w+"",u,f,te):t,We=$e===t;if(We){var Xe=It(ve),ht=!Xe&&zu(ve),xt=!Xe&&!ht&&yf(ve);$e=ve,Xe||ht||xt?It(ue)?$e=ue:or(ue)?$e=Xr(ue):ht?(We=!1,$e=eg(ve,!0)):xt?(We=!1,$e=lv(ve,!0)):$e=[]:Ag(ve)||xd(ve)?($e=ue,xd(ue)?$e=T_(ue):(!zn(ue)||$l(ue))&&($e=Pr(ve))):We=!1}We&&(te.set(ve,$e),j($e,ve,D,H,te),te.delete(ve)),Qc(u,w,$e)}function jh(u,f){var w=u.length;if(w)return f+=f<0?w:0,Dn(f,w)?u[f]:t}function nd(u,f,w){f.length?f=cn(f,function(H){return It(H)?function(te){return Ta(te,H.length===1?H[0]:H)}:H}):f=[si];var D=-1;f=cn(f,q(wt()));var j=qp(u,function(H,te,ue){var ve=cn(f,function(je){return je(H)});return{criteria:ve,index:++D,value:H}});return _(j,function(H,te){return kb(H,te,w)})}function Kp(u,f){return mo(u,f,function(w,D){return Gb(u,D)})}function mo(u,f,w){for(var D=-1,j=f.length,H={};++D<j;){var te=f[D],ue=Ta(u,te);w(ue,te)&&Ol(H,ea(te,u),ue)}return H}function jn(u){return function(f){return Ta(f,u)}}function Wn(u,f,w,D){var j=D?Fc:pr,H=-1,te=f.length,ue=u;for(u===f&&(f=Xr(f)),w&&(ue=cn(u,q(w)));++H<te;)for(var ve=0,je=f[H],$e=w?w(je):je;(ve=j(ue,$e,ve,D))>-1;)ue!==u&&yh.call(ue,ve,1),yh.call(u,ve,1);return u}function ir(u,f){for(var w=u?f.length:0,D=w-1;w--;){var j=f[w];if(w==D||j!==H){var H=j;Dn(j)?yh.call(u,j,1):Fh(u,j)}}return u}function Au(u,f){return u+ao(Yc()*(f-u+1))}function rd(u,f,w,D){for(var j=-1,H=Jn(yl((f-u)/(w||1)),0),te=xe(H);H--;)te[D?H:++j]=u,u+=w;return te}function Pl(u,f){var w="";if(!u||f<1||f>Q)return w;do f%2&&(w+=u),f=ao(f/2),f&&(u+=u);while(f);return w}function jt(u,f){return Ns(Zh(u,f,si),u+"")}function Lr(u){return Gi(bf(u))}function Gp(u,f){var w=bf(u);return ef(w,Oa(f,0,w.length))}function Ol(u,f,w,D){if(!zn(u))return u;f=ea(f,u);for(var j=-1,H=f.length,te=H-1,ue=u;ue!=null&&++j<H;){var ve=ki(f[j]),je=w;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return u;if(j!=te){var $e=ue[ve];je=D?D($e,ve,ue):t,je===t&&(je=zn($e)?$e:Dn(f[j+1])?[]:{})}xl(ue,ve,je),ue=ue[ve]}return u}var $h=Sh?function(u,f){return Sh.set(u,f),u}:si,Zi=qc?function(u,f){return qc(u,"toString",{configurable:!0,enumerable:!1,value:Qb(f),writable:!0})}:si;function Xs(u){return ef(bf(u))}function Fr(u,f,w){var D=-1,j=u.length;f<0&&(f=-f>j?0:j+f),w=w>j?j:w,w<0&&(w+=j),j=f>w?0:w-f>>>0,f>>>=0;for(var H=xe(j);++D<j;)H[D]=u[D+f];return H}function Vp(u,f){var w;return Ji(u,function(D,j,H){return w=f(D,j,H),!w}),!!w}function Iu(u,f,w){var D=0,j=u==null?D:u.length;if(typeof f=="number"&&f===f&&j<=Le){for(;D<j;){var H=D+j>>>1,te=u[H];te!==null&&!Pi(te)&&(w?te<=f:te<f)?D=H+1:j=H}return j}return Lh(u,f,si,w)}function Lh(u,f,w,D){var j=0,H=u==null?0:u.length;if(H===0)return 0;f=w(f);for(var te=f!==f,ue=f===null,ve=Pi(f),je=f===t;j<H;){var $e=ao((j+H)/2),We=w(u[$e]),Xe=We!==t,ht=We===null,xt=We===We,Lt=Pi(We);if(te)var kt=D||xt;else je?kt=xt&&(D||Xe):ue?kt=xt&&Xe&&(D||!ht):ve?kt=xt&&Xe&&!ht&&(D||!Lt):ht||Lt?kt=!1:kt=D?We<=f:We<f;kt?j=$e+1:H=$e}return Ir(H,Ee)}function Qp(u,f){for(var w=-1,D=u.length,j=0,H=[];++w<D;){var te=u[w],ue=f?f(te):te;if(!w||!La(ue,ve)){var ve=ue;H[j++]=te===0?0:te}}return H}function Jp(u){return typeof u=="number"?u:Pi(u)?Te:+u}function ps(u){if(typeof u=="string")return u;if(It(u))return cn(u,ps)+"";if(Pi(u))return xh?xh.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}function Ia(u,f,w){var D=-1,j=ml,H=u.length,te=!0,ue=[],ve=ue;if(w)te=!1,j=$c;else if(H>=s){var je=f?null:hv(u);if(je)return Qe(je);te=!1,j=re,ve=new wl}else ve=f?[]:ue;e:for(;++D<H;){var $e=u[D],We=f?f($e):$e;if($e=w||$e!==0?$e:0,te&&We===We){for(var Xe=ve.length;Xe--;)if(ve[Xe]===We)continue e;f&&ve.push(We),ue.push($e)}else j(ve,We,w)||(ve!==ue&&ve.push(We),ue.push($e))}return ue}function Fh(u,f){return f=ea(f,u),u=gr(u,f),u==null||delete u[ki(ts(f))]}function Xp(u,f,w,D){return Ol(u,f,w(Ta(u,f)),D)}function sd(u,f,w,D){for(var j=u.length,H=D?j:-1;(D?H--:++H<j)&&f(u[H],H,u););return w?Fr(u,D?0:H,D?H+1:j):Fr(u,D?H+1:0,D?j:H)}function Mu(u,f){var w=u;return w instanceof At&&(w=w.value()),Lc(f,function(D,j){return j.func.apply(j.thisArg,Hi([D],j.args))},w)}function Uh(u,f,w){var D=u.length;if(D<2)return D?Ia(u[0]):[];for(var j=-1,H=xe(D);++j<D;)for(var te=u[j],ue=-1;++ue<D;)ue!=j&&(H[j]=Qi(H[j]||te,u[ue],f,w));return Ia(Un(H,1),f,w)}function id(u,f,w){for(var D=-1,j=u.length,H=f.length,te={};++D<j;){var ue=D<H?f[D]:t;w(te,u[D],ue)}return te}function Ru(u){return or(u)?u:[]}function Bh(u){return typeof u=="function"?u:si}function ea(u,f){return It(u)?u:rt(u,f)?[u]:vg(hn(u))}var sv=jt;function Ma(u,f,w){var D=u.length;return w=w===t?D:w,!f&&w>=D?u:Fr(u,f,w)}var Zp=qm||function(u){return wn.clearTimeout(u)};function eg(u,f){if(f)return u.slice();var w=u.length,D=Mp?Mp(w):new u.constructor(w);return u.copy(D),D}function ad(u){var f=new u.constructor(u.byteLength);return new zc(f).set(new zc(u)),f}function iv(u,f){var w=f?ad(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.byteLength)}function av(u){var f=new u.constructor(u.source,va.exec(u));return f.lastIndex=u.lastIndex,f}function ov(u){return Os?dn(Os.call(u)):{}}function lv(u,f){var w=f?ad(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.length)}function tg(u,f){if(u!==f){var w=u!==t,D=u===null,j=u===u,H=Pi(u),te=f!==t,ue=f===null,ve=f===f,je=Pi(f);if(!ue&&!je&&!H&&u>f||H&&te&&ve&&!ue&&!je||D&&te&&ve||!w&&ve||!j)return 1;if(!D&&!H&&!je&&u<f||je&&w&&j&&!D&&!H||ue&&w&&j||!te&&j||!ve)return-1}return 0}function kb(u,f,w){for(var D=-1,j=u.criteria,H=f.criteria,te=j.length,ue=w.length;++D<te;){var ve=tg(j[D],H[D]);if(ve){if(D>=ue)return ve;var je=w[D];return ve*(je=="desc"?-1:1)}}return u.index-f.index}function uv(u,f,w,D){for(var j=-1,H=u.length,te=w.length,ue=-1,ve=f.length,je=Jn(H-te,0),$e=xe(ve+je),We=!D;++ue<ve;)$e[ue]=f[ue];for(;++j<te;)(We||j<H)&&($e[w[j]]=u[j]);for(;je--;)$e[ue++]=u[j++];return $e}function ng(u,f,w,D){for(var j=-1,H=u.length,te=-1,ue=w.length,ve=-1,je=f.length,$e=Jn(H-ue,0),We=xe($e+je),Xe=!D;++j<$e;)We[j]=u[j];for(var ht=j;++ve<je;)We[ht+ve]=f[ve];for(;++te<ue;)(Xe||j<H)&&(We[ht+w[te]]=u[j++]);return We}function Xr(u,f){var w=-1,D=u.length;for(f||(f=xe(D));++w<D;)f[w]=u[w];return f}function wi(u,f,w,D){var j=!w;w||(w={});for(var H=-1,te=f.length;++H<te;){var ue=f[H],ve=D?D(w[ue],u[ue],ue,w,u):t;ve===t&&(ve=u[ue]),j?Vi(w,ue,ve):xl(w,ue,ve)}return w}function Wh(u,f){return wi(u,_i(u),f)}function Eb(u,f){return wi(u,pv(u),f)}function Hh(u,f){return function(w,D){var j=It(w)?Rc:Ts,H=f?f():{};return j(w,u,wt(D,2),H)}}function ju(u){return jt(function(f,w){var D=-1,j=w.length,H=j>1?w[j-1]:t,te=j>2?w[2]:t;for(H=u.length>3&&typeof H=="function"?(j--,H):t,te&&es(w[0],w[1],te)&&(H=j<3?t:H,j=1),f=dn(f);++D<j;){var ue=w[D];ue&&u(f,ue,D,H)}return f})}function Zs(u,f){return function(w,D){if(w==null)return w;if(!ni(w))return u(w,D);for(var j=w.length,H=f?j:-1,te=dn(w);(f?H--:++H<j)&&D(te[H],H,te)!==!1;);return w}}function zh(u){return function(f,w,D){for(var j=-1,H=dn(f),te=D(f),ue=te.length;ue--;){var ve=te[u?ue:++j];if(w(H[ve],ve,H)===!1)break}return f}}function qh(u,f,w){var D=f&M,j=$u(u);function H(){var te=this&&this!==wn&&this instanceof H?j:u;return te.apply(D?w:this,arguments)}return H}function rg(u){return function(f){f=hn(f);var w=mt(f)?Me(f):t,D=w?w[0]:f.charAt(0),j=w?Ma(w,1).join(""):f.slice(1);return D[u]()+j}}function Tl(u){return function(f){return Lc($_(j_(f).replace(Cp,"")),u,"")}}function $u(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var w=Eu(u.prototype),D=u.apply(w,f);return zn(D)?D:w}}function sg(u,f,w){var D=$u(u);function j(){for(var H=arguments.length,te=xe(H),ue=H,ve=Ra(j);ue--;)te[ue]=arguments[ue];var je=H<3&&te[0]!==ve&&te[H-1]!==ve?[]:Fe(te,ve);if(H-=je.length,H<w)return Zr(u,f,Lu,j.placeholder,t,te,je,t,t,w-H);var $e=this&&this!==wn&&this instanceof j?D:u;return xr($e,this,te)}return j}function Dl(u){return function(f,w,D){var j=dn(f);if(!ni(f)){var H=wt(w,3);f=Ur(f),w=function(ue){return H(j[ue],ue,j)}}var te=u(f,w,D);return te>-1?j[H?f[te]:te]:t}}function Yh(u){return na(function(f){var w=f.length,D=w,j=Mr.prototype.thru;for(u&&f.reverse();D--;){var H=f[D];if(typeof H!="function")throw new qs(c);if(j&&!te&&Fu(H)=="wrapper")var te=new Mr([],!0)}for(D=te?D:w;++D<w;){H=f[D];var ue=Fu(H),ve=ue=="wrapper"?Vh(H):t;ve&&pd(ve[0])&&ve[1]==(B|W|z|K)&&!ve[4].length&&ve[9]==1?te=te[Fu(ve[0])].apply(te,ve[3]):te=H.length==1&&pd(H)?te[ue]():te.thru(H)}return function(){var je=arguments,$e=je[0];if(te&&je.length==1&&It($e))return te.plant($e).value();for(var We=0,Xe=w?f[We].apply(this,je):$e;++We<w;)Xe=f[We].call(this,Xe);return Xe}})}function Lu(u,f,w,D,j,H,te,ue,ve,je){var $e=f&B,We=f&M,Xe=f&L,ht=f&(W|V),xt=f&Z,Lt=Xe?t:$u(u);function kt(){for(var qt=arguments.length,Qt=xe(qt),Oi=qt;Oi--;)Qt[Oi]=arguments[Oi];if(ht)var Is=Ra(kt),Ti=ae(Qt,Is);if(D&&(Qt=uv(Qt,D,j,ht)),H&&(Qt=ng(Qt,H,te,ht)),qt-=Ti,ht&&qt<je){var lr=Fe(Qt,Is);return Zr(u,f,Lu,kt.placeholder,w,Qt,lr,ue,ve,je-qt)}var Fa=We?w:this,Fl=Xe?Fa[u]:u;return qt=Qt.length,ue?Qt=Si(Qt,ue):xt&&qt>1&&Qt.reverse(),$e&&ve<qt&&(Qt.length=ve),this&&this!==wn&&this instanceof kt&&(Fl=Lt||$u(Fl)),Fl.apply(Fa,Qt)}return kt}function cv(u,f){return function(w,D){return Da(w,u,f(D),{})}}function od(u,f){return function(w,D){var j;if(w===t&&D===t)return f;if(w!==t&&(j=w),D!==t){if(j===t)return D;typeof w=="string"||typeof D=="string"?(w=ps(w),D=ps(D)):(w=Jp(w),D=Jp(D)),j=u(w,D)}return j}}function Kh(u){return na(function(f){return f=cn(f,q(wt())),jt(function(w){var D=this;return u(f,function(j){return xr(j,D,w)})})})}function ld(u,f){f=f===t?" ":ps(f);var w=f.length;if(w<2)return w?Pl(f,u):f;var D=Pl(f,yl(u/Rn(f)));return mt(f)?Ma(Me(D),0,u).join(""):D.slice(0,u)}function dv(u,f,w,D){var j=f&M,H=$u(u);function te(){for(var ue=-1,ve=arguments.length,je=-1,$e=D.length,We=xe($e+ve),Xe=this&&this!==wn&&this instanceof te?H:u;++je<$e;)We[je]=D[je];for(;ve--;)We[je++]=arguments[++ue];return xr(Xe,j?w:this,We)}return te}function ig(u){return function(f,w,D){return D&&typeof D!="number"&&es(f,w,D)&&(w=D=t),f=Ll(f),w===t?(w=f,f=0):w=Ll(w),D=D===t?f<w?1:-1:Ll(D),rd(f,w,D,u)}}function Gh(u){return function(f,w){return typeof f=="string"&&typeof w=="string"||(f=sa(f),w=sa(w)),u(f,w)}}function Zr(u,f,w,D,j,H,te,ue,ve,je){var $e=f&W,We=$e?te:t,Xe=$e?t:te,ht=$e?H:t,xt=$e?t:H;f|=$e?z:Y,f&=~($e?Y:z),f&G||(f&=-4);var Lt=[u,f,j,ht,We,xt,Xe,ue,ve,je],kt=w.apply(t,Lt);return pd(u)&&gg(kt,Lt),kt.placeholder=D,mg(kt,u,f)}function Er(u){var f=Qn[u];return function(w,D){if(w=sa(w),D=D==null?0:Ir($t(D),292),D&&wu(w)){var j=(hn(w)+"e").split("e"),H=f(j[0]+"e"+(+j[1]+D));return j=(hn(H)+"e").split("e"),+(j[0]+"e"+(+j[1]-D))}return f(w)}}var hv=oo&&1/Qe(new oo([,-0]))[1]==be?function(u){return new oo(u)}:Zb;function ag(u){return function(f){var w=Cr(f);return w==Kn?Je(f):w==gn?Rt(f):I(f,u(f))}}function ta(u,f,w,D,j,H,te,ue){var ve=f&L;if(!ve&&typeof u!="function")throw new qs(c);var je=D?D.length:0;if(je||(f&=-97,D=j=t),te=te===t?te:Jn($t(te),0),ue=ue===t?ue:$t(ue),je-=j?j.length:0,f&Y){var $e=D,We=j;D=j=t}var Xe=ve?t:Vh(u),ht=[u,f,w,D,j,$e,We,H,te,ue];if(Xe&&yv(ht,Xe),u=ht[0],f=ht[1],w=ht[2],D=ht[3],j=ht[4],ue=ht[9]=ht[9]===t?ve?0:u.length:Jn(ht[9]-je,0),!ue&&f&(W|V)&&(f&=-25),!f||f==M)var xt=qh(u,f,w);else f==W||f==V?xt=sg(u,f,ue):(f==z||f==(M|z))&&!j.length?xt=dv(u,f,w,D):xt=Lu.apply(t,ht);var Lt=Xe?$h:gg;return mg(Lt(xt,ht),u,f)}function og(u,f,w,D){return u===t||La(u,zi[w])&&!Zt.call(D,w)?f:u}function lg(u,f,w,D,j,H){return zn(u)&&zn(f)&&(H.set(f,u),Cl(u,f,t,lg,H),H.delete(f)),u}function ug(u){return Ag(u)?t:u}function cg(u,f,w,D,j,H){var te=w&A,ue=u.length,ve=f.length;if(ue!=ve&&!(te&&ve>ue))return!1;var je=H.get(u),$e=H.get(f);if(je&&$e)return je==f&&$e==u;var We=-1,Xe=!0,ht=w&N?new wl:t;for(H.set(u,f),H.set(f,u);++We<ue;){var xt=u[We],Lt=f[We];if(D)var kt=te?D(Lt,xt,We,f,u,H):D(xt,Lt,We,u,f,H);if(kt!==t){if(kt)continue;Xe=!1;break}if(ht){if(!mu(f,function(qt,Qt){if(!re(ht,Qt)&&(xt===qt||j(xt,qt,w,D,H)))return ht.push(Qt)})){Xe=!1;break}}else if(!(xt===Lt||j(xt,Lt,w,D,H))){Xe=!1;break}}return H.delete(u),H.delete(f),Xe}function dg(u,f,w,D,j,H,te){switch(w){case ss:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case qr:return!(u.byteLength!=f.byteLength||!H(new zc(u),new zc(f)));case _t:case Pt:case fi:return La(+u,+f);case On:return u.name==f.name&&u.message==f.message;case Bn:case Us:return u==f+"";case Kn:var ue=Je;case gn:var ve=D&A;if(ue||(ue=Qe),u.size!=f.size&&!ve)return!1;var je=te.get(u);if(je)return je==f;D|=N,te.set(u,f);var $e=cg(ue(u),ue(f),D,j,H,te);return te.delete(u),$e;case Ri:if(Os)return Os.call(u)==Os.call(f)}return!1}function fv(u,f,w,D,j,H){var te=w&A,ue=ud(u),ve=ue.length,je=ud(f),$e=je.length;if(ve!=$e&&!te)return!1;for(var We=ve;We--;){var Xe=ue[We];if(!(te?Xe in f:Zt.call(f,Xe)))return!1}var ht=H.get(u),xt=H.get(f);if(ht&&xt)return ht==f&&xt==u;var Lt=!0;H.set(u,f),H.set(f,u);for(var kt=te;++We<ve;){Xe=ue[We];var qt=u[Xe],Qt=f[Xe];if(D)var Oi=te?D(Qt,qt,Xe,f,u,H):D(qt,Qt,Xe,u,f,H);if(!(Oi===t?qt===Qt||j(qt,Qt,w,D,H):Oi)){Lt=!1;break}kt||(kt=Xe=="constructor")}if(Lt&&!kt){var Is=u.constructor,Ti=f.constructor;Is!=Ti&&"constructor"in u&&"constructor"in f&&!(typeof Is=="function"&&Is instanceof Is&&typeof Ti=="function"&&Ti instanceof Ti)&&(Lt=!1)}return H.delete(u),H.delete(f),Lt}function na(u){return Ns(Zh(u,t,nf),u+"")}function ud(u){return Nh(u,Ur,_i)}function cd(u){return Nh(u,ri,pv)}var Vh=Sh?function(u){return Sh.get(u)}:Zb;function Fu(u){for(var f=u.name+"",w=xu[f],D=Zt.call(xu,f)?w.length:0;D--;){var j=w[D],H=j.func;if(H==null||H==u)return j.name}return f}function Ra(u){var f=Zt.call(U,"placeholder")?U:u;return f.placeholder}function wt(){var u=U.iteratee||Jb;return u=u===Jb?Nu:u,arguments.length?u(arguments[0],arguments[1]):u}function dd(u,f){var w=u.__data__;return Uu(f)?w[typeof f=="string"?"string":"hash"]:w.map}function hd(u){for(var f=Ur(u),w=f.length;w--;){var D=f[w],j=u[D];f[w]=[D,j,gd(j)]}return f}function vo(u,f){var w=nt(u,f);return Hp(w)?w:t}function Qh(u){var f=Zt.call(u,vl),w=u[vl];try{u[vl]=t;var D=!0}catch{}var j=Wc.call(u);return D&&(f?u[vl]=w:delete u[vl]),j}var _i=bh?function(u){return u==null?[]:(u=dn(u),Wi(bh(u),function(f){return vh.call(u,f)}))}:e0,pv=bh?function(u){for(var f=[];u;)Hi(f,_i(u)),u=yi(u);return f}:e0,Cr=kr;(Kc&&Cr(new Kc(new ArrayBuffer(1)))!=ss||bl&&Cr(new bl)!=Kn||Gc&&Cr(Gc.resolve())!=Jo||oo&&Cr(new oo)!=gn||Vc&&Cr(new Vc)!=pi)&&(Cr=function(u){var f=kr(u),w=f==Dr?u.constructor:t,D=w?yo(w):"";if(D)switch(D){case $p:return ss;case lo:return Kn;case Km:return Jo;case ku:return gn;case qi:return pi}return f});function hg(u,f,w){for(var D=-1,j=w.length;++D<j;){var H=w[D],te=H.size;switch(H.type){case"drop":u+=te;break;case"dropRight":f-=te;break;case"take":f=Ir(f,u+te);break;case"takeRight":u=Jn(u,f-te);break}}return{start:u,end:f}}function gv(u){var f=u.match(Ja);return f?f[1].split(al):[]}function fg(u,f,w){f=ea(f,u);for(var D=-1,j=f.length,H=!1;++D<j;){var te=ki(f[D]);if(!(H=u!=null&&w(u,te)))break;u=u[te]}return H||++D!=j?H:(j=u==null?0:u.length,!!j&&Rv(j)&&Dn(te,j)&&(It(u)||xd(u)))}function fd(u){var f=u.length,w=new u.constructor(f);return f&&typeof u[0]=="string"&&Zt.call(u,"index")&&(w.index=u.index,w.input=u.input),w}function Pr(u){return typeof u.constructor=="function"&&!ja(u)?Eu(yi(u)):{}}function Cb(u,f,w){var D=u.constructor;switch(f){case qr:return ad(u);case _t:case Pt:return new D(+u);case ss:return iv(u,w);case Yr:case gt:case Ft:case Xo:case Zo:case el:case wc:case tl:case nl:return lv(u,w);case Kn:return new D;case fi:case Us:return new D(u);case Bn:return av(u);case gn:return new D;case Ri:return ov(u)}}function Pb(u,f){var w=f.length;if(!w)return u;var D=w-1;return f[D]=(w>1?"& ":"")+f[D],f=f.join(w>2?", ":" "),u.replace(Kr,`{
/* [wrapped with `+f+`] */
`)}function Jh(u){return It(u)||xd(u)||!!(zm&&u&&u[zm])}function Dn(u,f){var w=typeof u;return f=f??Q,!!f&&(w=="number"||w!="symbol"&&Ws.test(u))&&u>-1&&u%1==0&&u<f}function es(u,f,w){if(!zn(w))return!1;var D=typeof f;return(D=="number"?ni(w)&&Dn(f,w.length):D=="string"&&f in w)?La(w[f],u):!1}function rt(u,f){if(It(u))return!1;var w=typeof u;return w=="number"||w=="symbol"||w=="boolean"||u==null||Pi(u)?!0:Ec.test(u)||!Qa.test(u)||f!=null&&u in dn(f)}function Uu(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function pd(u){var f=Fu(u),w=U[f];if(typeof w!="function"||!(f in At.prototype))return!1;if(u===w)return!0;var D=Vh(w);return!!D&&u===D[0]}function mv(u){return!!ph&&ph in u}var Ob=yu?$l:t0;function ja(u){var f=u&&u.constructor,w=typeof f=="function"&&f.prototype||zi;return u===w}function gd(u){return u===u&&!zn(u)}function Xh(u,f){return function(w){return w==null?!1:w[u]===f&&(f!==t||u in dn(w))}}function vv(u){var f=ke(u,function(D){return w.size===v&&w.clear(),D}),w=f.cache;return f}function yv(u,f){var w=u[1],D=f[1],j=w|D,H=j<(M|L|B),te=D==B&&w==W||D==B&&w==K&&u[7].length<=f[8]||D==(B|K)&&f[7].length<=f[8]&&w==W;if(!(H||te))return u;D&M&&(u[2]=f[2],j|=w&M?0:G);var ue=f[3];if(ue){var ve=u[3];u[3]=ve?uv(ve,ue,f[4]):ue,u[4]=ve?Fe(u[3],y):f[4]}return ue=f[5],ue&&(ve=u[5],u[5]=ve?ng(ve,ue,f[6]):ue,u[6]=ve?Fe(u[5],y):f[6]),ue=f[7],ue&&(u[7]=ue),D&B&&(u[8]=u[8]==null?f[8]:Ir(u[8],f[8])),u[9]==null&&(u[9]=f[9]),u[0]=f[0],u[1]=j,u}function bv(u){var f=[];if(u!=null)for(var w in dn(u))f.push(w);return f}function pg(u){return Wc.call(u)}function Zh(u,f,w){return f=Jn(f===t?u.length-1:f,0),function(){for(var D=arguments,j=-1,H=Jn(D.length-f,0),te=xe(H);++j<H;)te[j]=D[f+j];j=-1;for(var ue=xe(f+1);++j<f;)ue[j]=D[j];return ue[f]=w(te),xr(u,this,ue)}}function gr(u,f){return f.length<2?u:Ta(u,Fr(f,0,-1))}function Si(u,f){for(var w=u.length,D=Ir(f.length,w),j=Xr(u);D--;){var H=f[D];u[D]=Dn(H,w)?j[H]:t}return u}function ra(u,f){if(!(f==="constructor"&&typeof u[f]=="function")&&f!="__proto__")return u[f]}var gg=xi($h),Bu=Rp||function(u,f){return wn.setTimeout(u,f)},Ns=xi(Zi);function mg(u,f,w){var D=f+"";return Ns(u,Pb(D,wv(gv(D),w)))}function xi(u){var f=0,w=0;return function(){var D=xb(),j=Re-(D-w);if(w=D,j>0){if(++f>=we)return arguments[0]}else f=0;return u.apply(t,arguments)}}function ef(u,f){var w=-1,D=u.length,j=D-1;for(f=f===t?D:f;++w<f;){var H=Au(w,j),te=u[H];u[H]=u[w],u[w]=te}return u.length=f,u}var vg=vv(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace(rl,function(w,D,j,H){f.push(j?H.replace(Xa,"$1"):D||w)}),f});function ki(u){if(typeof u=="string"||Pi(u))return u;var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}function yo(u){if(u!=null){try{return Bc.call(u)}catch{}try{return u+""}catch{}}return""}function wv(u,f){return fr(Ve,function(w){var D="_."+w[0];f&w[1]&&!ml(u,D)&&u.push(D)}),u.sort()}function _v(u){if(u instanceof At)return u.clone();var f=new Mr(u.__wrapped__,u.__chain__);return f.__actions__=Xr(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}function tf(u,f,w){(w?es(u,f,w):f===t)?f=1:f=Jn($t(f),0);var D=u==null?0:u.length;if(!D||f<1)return[];for(var j=0,H=0,te=xe(yl(D/f));j<D;)te[H++]=Fr(u,j,j+=f);return te}function yg(u){for(var f=-1,w=u==null?0:u.length,D=0,j=[];++f<w;){var H=u[f];H&&(j[D++]=H)}return j}function ei(){var u=arguments.length;if(!u)return[];for(var f=xe(u-1),w=arguments[0],D=u;D--;)f[D-1]=arguments[D];return Hi(It(w)?Xr(w):[w],Un(f,1))}var Vt=jt(function(u,f){return or(u)?Qi(u,Un(f,1,or,!0)):[]}),mr=jt(function(u,f){var w=ts(f);return or(w)&&(w=t),or(u)?Qi(u,Un(f,1,or,!0),wt(w,2)):[]}),Xn=jt(function(u,f){var w=ts(f);return or(w)&&(w=t),or(u)?Qi(u,Un(f,1,or,!0),t,w):[]});function Or(u,f,w){var D=u==null?0:u.length;return D?(f=w||f===t?1:$t(f),Fr(u,f<0?0:f,D)):[]}function As(u,f,w){var D=u==null?0:u.length;return D?(f=w||f===t?1:$t(f),f=D-f,Fr(u,0,f<0?0:f)):[]}function Wu(u,f){return u&&u.length?sd(u,wt(f,3),!0,!0):[]}function ar(u,f){return u&&u.length?sd(u,wt(f,3),!0):[]}function md(u,f,w,D){var j=u==null?0:u.length;return j?(w&&typeof w!="number"&&es(u,f,w)&&(w=0,D=j),tv(u,f,w,D)):[]}function bo(u,f,w){var D=u==null?0:u.length;if(!D)return-1;var j=w==null?0:$t(w);return j<0&&(j=Jn(D+j,0)),vu(u,wt(f,3),j)}function vd(u,f,w){var D=u==null?0:u.length;if(!D)return-1;var j=D-1;return w!==t&&(j=$t(w),j=w<0?Jn(D+j,0):Ir(j,D-1)),vu(u,wt(f,3),j,!0)}function nf(u){var f=u==null?0:u.length;return f?Un(u,1):[]}function yd(u){var f=u==null?0:u.length;return f?Un(u,be):[]}function gs(u,f){var w=u==null?0:u.length;return w?(f=f===t?1:$t(f),Un(u,f)):[]}function bg(u){for(var f=-1,w=u==null?0:u.length,D={};++f<w;){var j=u[f];D[j[0]]=j[1]}return D}function Nl(u){return u&&u.length?u[0]:t}function $a(u,f,w){var D=u==null?0:u.length;if(!D)return-1;var j=w==null?0:$t(w);return j<0&&(j=Jn(D+j,0)),pr(u,f,j)}function rf(u){var f=u==null?0:u.length;return f?Fr(u,0,-1):[]}var wg=jt(function(u){var f=cn(u,Ru);return f.length&&f[0]===u[0]?Ah(f):[]}),wo=jt(function(u){var f=ts(u),w=cn(u,Ru);return f===ts(w)?f=t:w.pop(),w.length&&w[0]===u[0]?Ah(w,wt(f,2)):[]}),sf=jt(function(u){var f=ts(u),w=cn(u,Ru);return f=typeof f=="function"?f:t,f&&w.pop(),w.length&&w[0]===u[0]?Ah(w,t,f):[]});function _o(u,f){return u==null?"":wh.call(u,f)}function ts(u){var f=u==null?0:u.length;return f?u[f-1]:t}function bd(u,f,w){var D=u==null?0:u.length;if(!D)return-1;var j=D;return w!==t&&(j=$t(w),j=j<0?Jn(D+j,0):Ir(j,D-1)),f===f?Dt(u,f,j):vu(u,io,j,!0)}function _g(u,f){return u&&u.length?jh(u,$t(f)):t}var af=jt(wd);function wd(u,f){return u&&u.length&&f&&f.length?Wn(u,f):u}function ns(u,f,w){return u&&u.length&&f&&f.length?Wn(u,f,wt(w,2)):u}function So(u,f,w){return u&&u.length&&f&&f.length?Wn(u,f,t,w):u}var Ei=na(function(u,f){var w=u==null?0:u.length,D=Th(u,f);return ir(u,cn(f,function(j){return Dn(j,w)?+j:j}).sort(tg)),D});function ms(u,f){var w=[];if(!(u&&u.length))return w;var D=-1,j=[],H=u.length;for(f=wt(f,3);++D<H;){var te=u[D];f(te,D,u)&&(w.push(te),j.push(D))}return ir(u,j),w}function of(u){return u==null?u:_h.call(u)}function Sg(u,f,w){var D=u==null?0:u.length;return D?(w&&typeof w!="number"&&es(u,f,w)?(f=0,w=D):(f=f==null?0:$t(f),w=w===t?D:$t(w)),Fr(u,f,w)):[]}function xg(u,f){return Iu(u,f)}function Tb(u,f,w){return Lh(u,f,wt(w,2))}function xo(u,f){var w=u==null?0:u.length;if(w){var D=Iu(u,f);if(D<w&&La(u[D],f))return D}return-1}function Sv(u,f){return Iu(u,f,!0)}function kg(u,f,w){return Lh(u,f,wt(w,2),!0)}function Al(u,f){var w=u==null?0:u.length;if(w){var D=Iu(u,f,!0)-1;if(La(u[D],f))return D}return-1}function Eg(u){return u&&u.length?Qp(u):[]}function Il(u,f){return u&&u.length?Qp(u,wt(f,2)):[]}function xv(u){var f=u==null?0:u.length;return f?Fr(u,1,f):[]}function kv(u,f,w){return u&&u.length?(f=w||f===t?1:$t(f),Fr(u,0,f<0?0:f)):[]}function Cg(u,f,w){var D=u==null?0:u.length;return D?(f=w||f===t?1:$t(f),f=D-f,Fr(u,f<0?0:f,D)):[]}function lf(u,f){return u&&u.length?sd(u,wt(f,3),!1,!0):[]}function Db(u,f){return u&&u.length?sd(u,wt(f,3)):[]}var Nb=jt(function(u){return Ia(Un(u,1,or,!0))}),Ev=jt(function(u){var f=ts(u);return or(f)&&(f=t),Ia(Un(u,1,or,!0),wt(f,2))}),Cv=jt(function(u){var f=ts(u);return f=typeof f=="function"?f:t,Ia(Un(u,1,or,!0),t,f)});function Ml(u){return u&&u.length?Ia(u):[]}function Ab(u,f){return u&&u.length?Ia(u,wt(f,2)):[]}function Hu(u,f){return f=typeof f=="function"?f:t,u&&u.length?Ia(u,t,f):[]}function uf(u){if(!(u&&u.length))return[];var f=0;return u=Wi(u,function(w){if(or(w))return f=Jn(w.length,f),!0}),O(f,function(w){return cn(u,i(w))})}function $n(u,f){if(!(u&&u.length))return[];var w=uf(u);return f==null?w:cn(w,function(D){return xr(f,t,D)})}var Ib=jt(function(u,f){return or(u)?Qi(u,f):[]}),Pv=jt(function(u){return Uh(Wi(u,or))}),Mb=jt(function(u){var f=ts(u);return or(f)&&(f=t),Uh(Wi(u,or),wt(f,2))}),Rb=jt(function(u){var f=ts(u);return f=typeof f=="function"?f:t,Uh(Wi(u,or),t,f)}),Ov=jt(uf);function Tv(u,f){return id(u||[],f||[],xl)}function jb(u,f){return id(u||[],f||[],Ol)}var ti=jt(function(u){var f=u.length,w=f>1?u[f-1]:t;return w=typeof w=="function"?(u.pop(),w):t,$n(u,w)});function cf(u){var f=U(u);return f.__chain__=!0,f}function $b(u,f){return f(u),u}function Ci(u,f){return f(u)}var df=na(function(u){var f=u.length,w=f?u[0]:0,D=this.__wrapped__,j=function(H){return Th(H,u)};return f>1||this.__actions__.length||!(D instanceof At)||!Dn(w)?this.thru(j):(D=D.slice(w,+w+(f?1:0)),D.__actions__.push({func:Ci,args:[j],thisArg:t}),new Mr(D,this.__chain__).thru(function(H){return f&&!H.length&&H.push(t),H}))});function Rl(){return cf(this)}function hf(){return new Mr(this.value(),this.__chain__)}function Pg(){this.__values__===t&&(this.__values__=P_(this.value()));var u=this.__index__>=this.__values__.length,f=u?t:this.__values__[this.__index__++];return{done:u,value:f}}function Og(){return this}function Lb(u){for(var f,w=this;w instanceof Yi;){var D=_v(w);D.__index__=0,D.__values__=t,f?j.__wrapped__=D:f=D;var j=D;w=w.__wrapped__}return j.__wrapped__=u,f}function Tg(){var u=this.__wrapped__;if(u instanceof At){var f=u;return this.__actions__.length&&(f=new At(this)),f=f.reverse(),f.__actions__.push({func:Ci,args:[of],thisArg:t}),new Mr(f,this.__chain__)}return this.thru(of)}function Fb(){return Mu(this.__wrapped__,this.__actions__)}var Dv=Hh(function(u,f,w){Zt.call(u,w)?++u[w]:Vi(u,w,1)});function Nv(u,f,w){var D=It(u)?jc:Xc;return w&&es(u,f,w)&&(f=t),D(u,wt(f,3))}function ff(u,f){var w=It(u)?Wi:Bp;return w(u,wt(f,3))}var pf=Dl(bo),Av=Dl(vd);function Dg(u,f){return Un(jl(u,f),1)}function Ub(u,f){return Un(jl(u,f),be)}function Iv(u,f,w){return w=w===t?1:$t(w),Un(jl(u,f),w)}function gf(u,f){var w=It(u)?fr:Ji;return w(u,wt(f,3))}function _d(u,f){var w=It(u)?gu:ev;return w(u,wt(f,3))}var Ng=Hh(function(u,f,w){Zt.call(u,w)?u[w].push(f):Vi(u,w,[f])});function mf(u,f,w,D){u=ni(u)?u:bf(u),w=w&&!D?$t(w):0;var j=u.length;return w<0&&(w=Jn(j+w,0)),jv(u)?w<=j&&u.indexOf(f,w)>-1:!!j&&pr(u,f,w)>-1}var Mv=jt(function(u,f,w){var D=-1,j=typeof f=="function",H=ni(u)?xe(u.length):[];return Ji(u,function(te){H[++D]=j?xr(f,te,w):Qs(te,f,w)}),H}),Bb=Hh(function(u,f,w){Vi(u,w,f)});function jl(u,f){var w=It(u)?cn:qp;return w(u,wt(f,3))}function Wb(u,f,w,D){return u==null?[]:(It(f)||(f=f==null?[]:[f]),w=D?t:w,It(w)||(w=w==null?[]:[w]),nd(u,f,w))}var Sd=Hh(function(u,f,w){u[w?0:1].push(f)},function(){return[[],[]]});function Hb(u,f,w){var D=It(u)?Lc:m,j=arguments.length<3;return D(u,wt(f,4),w,j,Ji)}function vf(u,f,w){var D=It(u)?Dp:m,j=arguments.length<3;return D(u,wt(f,4),w,j,ev)}function a(u,f){var w=It(u)?Wi:Bp;return w(u,Ye(wt(f,3)))}function l(u){var f=It(u)?Gi:Lr;return f(u)}function g(u,f,w){(w?es(u,f,w):f===t)?f=1:f=$t(f);var D=It(u)?Sl:Gp;return D(u,f)}function b(u){var f=It(u)?Xm:Xs;return f(u)}function E(u){if(u==null)return 0;if(ni(u))return jv(u)?Rn(u):u.length;var f=Cr(u);return f==Kn||f==gn?u.size:Aa(u).length}function T(u,f,w){var D=It(u)?mu:Vp;return w&&es(u,f,w)&&(f=t),D(u,wt(f,3))}var $=jt(function(u,f){if(u==null)return[];var w=f.length;return w>1&&es(u,f[0],f[1])?f=[]:w>2&&es(f[0],f[1],f[2])&&(f=[f[0]]),nd(u,Un(f,1),[])}),ee=xn||function(){return wn.Date.now()};function le(u,f){if(typeof f!="function")throw new qs(c);return u=$t(u),function(){if(--u<1)return f.apply(this,arguments)}}function Oe(u,f,w){return f=w?t:f,f=u&&f==null?u.length:f,ta(u,B,t,t,t,t,f)}function Be(u,f){var w;if(typeof f!="function")throw new qs(c);return u=$t(u),function(){return--u>0&&(w=f.apply(this,arguments)),u<=1&&(f=t),w}}var ze=jt(function(u,f,w){var D=M;if(w.length){var j=Fe(w,Ra(ze));D|=z}return ta(u,D,f,w,j)}),Ue=jt(function(u,f,w){var D=M|L;if(w.length){var j=Fe(w,Ra(Ue));D|=z}return ta(f,D,u,w,j)});function et(u,f,w){f=w?t:f;var D=ta(u,W,t,t,t,t,t,f);return D.placeholder=et.placeholder,D}function ot(u,f,w){f=w?t:f;var D=ta(u,V,t,t,t,t,t,f);return D.placeholder=ot.placeholder,D}function lt(u,f,w){var D,j,H,te,ue,ve,je=0,$e=!1,We=!1,Xe=!0;if(typeof u!="function")throw new qs(c);f=sa(f)||0,zn(w)&&($e=!!w.leading,We="maxWait"in w,H=We?Jn(sa(w.maxWait)||0,f):H,Xe="trailing"in w?!!w.trailing:Xe);function ht(lr){var Fa=D,Fl=j;return D=j=t,je=lr,te=u.apply(Fl,Fa),te}function xt(lr){return je=lr,ue=Bu(qt,f),$e?ht(lr):te}function Lt(lr){var Fa=lr-ve,Fl=lr-je,U_=f-Fa;return We?Ir(U_,H-Fl):U_}function kt(lr){var Fa=lr-ve,Fl=lr-je;return ve===t||Fa>=f||Fa<0||We&&Fl>=H}function qt(){var lr=ee();if(kt(lr))return Qt(lr);ue=Bu(qt,Lt(lr))}function Qt(lr){return ue=t,Xe&&D?ht(lr):(D=j=t,te)}function Oi(){ue!==t&&Zp(ue),je=0,D=ve=j=ue=t}function Is(){return ue===t?te:Qt(ee())}function Ti(){var lr=ee(),Fa=kt(lr);if(D=arguments,j=this,ve=lr,Fa){if(ue===t)return xt(ve);if(We)return Zp(ue),ue=Bu(qt,f),ht(ve)}return ue===t&&(ue=Bu(qt,f)),te}return Ti.cancel=Oi,Ti.flush=Is,Ti}var Hn=jt(function(u,f){return Up(u,1,f)}),Se=jt(function(u,f,w){return Up(u,sa(f)||0,w)});function he(u){return ta(u,Z)}function ke(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new qs(c);var w=function(){var D=arguments,j=f?f.apply(this,D):D[0],H=w.cache;if(H.has(j))return H.get(j);var te=u.apply(this,D);return w.cache=H.set(j,te)||H,te};return w.cache=new(ke.Cache||Ys),w}ke.Cache=Ys;function Ye(u){if(typeof u!="function")throw new qs(c);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}function dt(u){return Be(2,u)}var yt=sv(function(u,f){f=f.length==1&&It(f[0])?cn(f[0],q(wt())):cn(Un(f,1),q(wt()));var w=f.length;return jt(function(D){for(var j=-1,H=Ir(D.length,w);++j<H;)D[j]=f[j].call(this,D[j]);return xr(u,this,D)})}),vt=jt(function(u,f){var w=Fe(f,Ra(vt));return ta(u,z,t,f,w)}),St=jt(function(u,f){var w=Fe(f,Ra(St));return ta(u,Y,t,f,w)}),vr=na(function(u,f){return ta(u,K,t,t,t,f)});function en(u,f){if(typeof u!="function")throw new qs(c);return f=f===t?f:$t(f),jt(u,f)}function ko(u,f){if(typeof u!="function")throw new qs(c);return f=f==null?0:Jn($t(f),0),jt(function(w){var D=w[f],j=Ma(w,0,f);return D&&Hi(j,D),xr(u,this,j)})}function zb(u,f,w){var D=!0,j=!0;if(typeof u!="function")throw new qs(c);return zn(w)&&(D="leading"in w?!!w.leading:D,j="trailing"in w?!!w.trailing:j),lt(u,f,{leading:D,maxWait:f,trailing:j})}function dP(u){return Oe(u,1)}function hP(u,f){return vt(Bh(f),u)}function fP(){if(!arguments.length)return[];var u=arguments[0];return It(u)?u:[u]}function pP(u){return fs(u,C)}function gP(u,f){return f=typeof f=="function"?f:t,fs(u,C,f)}function mP(u){return fs(u,S|C)}function vP(u,f){return f=typeof f=="function"?f:t,fs(u,S|C,f)}function yP(u,f){return f==null||Jc(u,f,Ur(f))}function La(u,f){return u===f||u!==u&&f!==f}var bP=Gh(po),wP=Gh(function(u,f){return u>=f}),xd=Ih(function(){return arguments}())?Ih:function(u){return Zn(u)&&Zt.call(u,"callee")&&!vh.call(u,"callee")},It=xe.isArray,_P=Mc?q(Mc):nv;function ni(u){return u!=null&&Rv(u.length)&&!$l(u)}function or(u){return Zn(u)&&ni(u)}function SP(u){return u===!0||u===!1||Zn(u)&&kr(u)==_t}var zu=jp||t0,xP=Ar?q(Ar):Na;function kP(u){return Zn(u)&&u.nodeType===1&&!Ag(u)}function EP(u){if(u==null)return!0;if(ni(u)&&(It(u)||typeof u=="string"||typeof u.splice=="function"||zu(u)||yf(u)||xd(u)))return!u.length;var f=Cr(u);if(f==Kn||f==gn)return!u.size;if(ja(u))return!Aa(u).length;for(var w in u)if(Zt.call(u,w))return!1;return!0}function CP(u,f){return Js(u,f)}function PP(u,f,w){w=typeof w=="function"?w:t;var D=w?w(u,f):t;return D===t?Js(u,f,t,w):!!D}function qb(u){if(!Zn(u))return!1;var f=kr(u);return f==On||f==zt||typeof u.message=="string"&&typeof u.name=="string"&&!Ag(u)}function OP(u){return typeof u=="number"&&wu(u)}function $l(u){if(!zn(u))return!1;var f=kr(u);return f==sr||f==Kt||f==Tt||f==pa}function x_(u){return typeof u=="number"&&u==$t(u)}function Rv(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Q}function zn(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function Zn(u){return u!=null&&typeof u=="object"}var k_=Sa?q(Sa):rv;function TP(u,f){return u===f||Du(u,f,hd(f))}function DP(u,f,w){return w=typeof w=="function"?w:t,Du(u,f,hd(f),w)}function NP(u){return E_(u)&&u!=+u}function AP(u){if(Ob(u))throw new Ot(o);return Hp(u)}function IP(u){return u===null}function MP(u){return u==null}function E_(u){return typeof u=="number"||Zn(u)&&kr(u)==fi}function Ag(u){if(!Zn(u)||kr(u)!=Dr)return!1;var f=yi(u);if(f===null)return!0;var w=Zt.call(f,"constructor")&&f.constructor;return typeof w=="function"&&w instanceof w&&Bc.call(w)==gh}var Yb=xa?q(xa):ed;function RP(u){return x_(u)&&u>=-9007199254740991&&u<=Q}var C_=so?q(so):Xi;function jv(u){return typeof u=="string"||!It(u)&&Zn(u)&&kr(u)==Us}function Pi(u){return typeof u=="symbol"||Zn(u)&&kr(u)==Ri}var yf=dh?q(dh):td;function jP(u){return u===t}function $P(u){return Zn(u)&&Cr(u)==pi}function LP(u){return Zn(u)&&kr(u)==on}var FP=Gh(go),UP=Gh(function(u,f){return u<=f});function P_(u){if(!u)return[];if(ni(u))return jv(u)?Me(u):Xr(u);if(Ca&&u[Ca])return Ge(u[Ca]());var f=Cr(u),w=f==Kn?Je:f==gn?Qe:bf;return w(u)}function Ll(u){if(!u)return u===0?u:0;if(u=sa(u),u===be||u===-1/0){var f=u<0?-1:1;return f*Ae}return u===u?u:0}function $t(u){var f=Ll(u),w=f%1;return f===f?w?f-w:f:0}function O_(u){return u?Oa($t(u),0,se):0}function sa(u){if(typeof u=="number")return u;if(Pi(u))return Te;if(zn(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=zn(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=F(u);var w=sh.test(u);return w||ih.test(u)?pu(u.slice(2),w?2:8):Pc.test(u)?Te:+u}function T_(u){return wi(u,ri(u))}function BP(u){return u?Oa($t(u),-9007199254740991,Q):u===0?u:0}function hn(u){return u==null?"":ps(u)}var WP=ju(function(u,f){if(ja(f)||ni(f)){wi(f,Ur(f),u);return}for(var w in f)Zt.call(f,w)&&xl(u,w,f[w])}),D_=ju(function(u,f){wi(f,ri(f),u)}),$v=ju(function(u,f,w,D){wi(f,ri(f),u,D)}),HP=ju(function(u,f,w,D){wi(f,Ur(f),u,D)}),zP=na(Th);function qP(u,f){var w=Eu(u);return f==null?w:En(w,f)}var YP=jt(function(u,f){u=dn(u);var w=-1,D=f.length,j=D>2?f[2]:t;for(j&&es(f[0],f[1],j)&&(D=1);++w<D;)for(var H=f[w],te=ri(H),ue=-1,ve=te.length;++ue<ve;){var je=te[ue],$e=u[je];($e===t||La($e,zi[je])&&!Zt.call(u,je))&&(u[je]=H[je])}return u}),KP=jt(function(u){return u.push(t,lg),xr(N_,t,u)});function GP(u,f){return fh(u,wt(f,3),Ds)}function VP(u,f){return fh(u,wt(f,3),fo)}function QP(u,f){return u==null?u:Dh(u,wt(f,3),ri)}function JP(u,f){return u==null?u:Zc(u,wt(f,3),ri)}function XP(u,f){return u&&Ds(u,wt(f,3))}function ZP(u,f){return u&&fo(u,wt(f,3))}function eO(u){return u==null?[]:Tu(u,Ur(u))}function tO(u){return u==null?[]:Tu(u,ri(u))}function Kb(u,f,w){var D=u==null?t:Ta(u,f);return D===t?w:D}function nO(u,f){return u!=null&&fg(u,f,Vs)}function Gb(u,f){return u!=null&&fg(u,f,El)}var rO=cv(function(u,f,w){f!=null&&typeof f.toString!="function"&&(f=Wc.call(f)),u[f]=w},Qb(si)),sO=cv(function(u,f,w){f!=null&&typeof f.toString!="function"&&(f=Wc.call(f)),Zt.call(u,f)?u[f].push(w):u[f]=[w]},wt),iO=jt(Qs);function Ur(u){return ni(u)?Ki(u):Aa(u)}function ri(u){return ni(u)?Ki(u,!0):zp(u)}function aO(u,f){var w={};return f=wt(f,3),Ds(u,function(D,j,H){Vi(w,f(D,j,H),D)}),w}function oO(u,f){var w={};return f=wt(f,3),Ds(u,function(D,j,H){Vi(w,j,f(D,j,H))}),w}var lO=ju(function(u,f,w){Cl(u,f,w)}),N_=ju(function(u,f,w,D){Cl(u,f,w,D)}),uO=na(function(u,f){var w={};if(u==null)return w;var D=!1;f=cn(f,function(H){return H=ea(H,u),D||(D=H.length>1),H}),wi(u,cd(u),w),D&&(w=fs(w,S|k|C,ug));for(var j=f.length;j--;)Fh(w,f[j]);return w});function cO(u,f){return A_(u,Ye(wt(f)))}var dO=na(function(u,f){return u==null?{}:Kp(u,f)});function A_(u,f){if(u==null)return{};var w=cn(cd(u),function(D){return[D]});return f=wt(f),mo(u,w,function(D,j){return f(D,j[0])})}function hO(u,f,w){f=ea(f,u);var D=-1,j=f.length;for(j||(j=1,u=t);++D<j;){var H=u==null?t:u[ki(f[D])];H===t&&(D=j,H=w),u=$l(H)?H.call(u):H}return u}function fO(u,f,w){return u==null?u:Ol(u,f,w)}function pO(u,f,w,D){return D=typeof D=="function"?D:t,u==null?u:Ol(u,f,w,D)}var I_=ag(Ur),M_=ag(ri);function gO(u,f,w){var D=It(u),j=D||zu(u)||yf(u);if(f=wt(f,4),w==null){var H=u&&u.constructor;j?w=D?new H:[]:zn(u)?w=$l(H)?Eu(yi(u)):{}:w={}}return(j?fr:Ds)(u,function(te,ue,ve){return f(w,te,ue,ve)}),w}function mO(u,f){return u==null?!0:Fh(u,f)}function vO(u,f,w){return u==null?u:Xp(u,f,Bh(w))}function yO(u,f,w,D){return D=typeof D=="function"?D:t,u==null?u:Xp(u,f,Bh(w),D)}function bf(u){return u==null?[]:ie(u,Ur(u))}function bO(u){return u==null?[]:ie(u,ri(u))}function wO(u,f,w){return w===t&&(w=f,f=t),w!==t&&(w=sa(w),w=w===w?w:0),f!==t&&(f=sa(f),f=f===f?f:0),Oa(sa(u),f,w)}function _O(u,f,w){return f=Ll(f),w===t?(w=f,f=0):w=Ll(w),u=sa(u),Wp(u,f,w)}function SO(u,f,w){if(w&&typeof w!="boolean"&&es(u,f,w)&&(f=w=t),w===t&&(typeof f=="boolean"?(w=f,f=t):typeof u=="boolean"&&(w=u,u=t)),u===t&&f===t?(u=0,f=1):(u=Ll(u),f===t?(f=u,u=0):f=Ll(f)),u>f){var D=u;u=f,f=D}if(w||u%1||f%1){var j=Yc();return Ir(u+j*(f-u+pl("1e-"+((j+"").length-1))),f)}return Au(u,f)}var xO=Tl(function(u,f,w){return f=f.toLowerCase(),u+(w?R_(f):f)});function R_(u){return Vb(hn(u).toLowerCase())}function j_(u){return u=hn(u),u&&u.replace(gi,oe).replace(lh,"")}function kO(u,f,w){u=hn(u),f=ps(f);var D=u.length;w=w===t?D:Oa($t(w),0,D);var j=w;return w-=f.length,w>=0&&u.slice(w,j)==f}function EO(u){return u=hn(u),u&&xc.test(u)?u.replace(ji,pe):u}function CO(u){return u=hn(u),u&&il.test(u)?u.replace(sl,"\\$&"):u}var PO=Tl(function(u,f,w){return u+(w?"-":"")+f.toLowerCase()}),OO=Tl(function(u,f,w){return u+(w?" ":"")+f.toLowerCase()}),TO=rg("toLowerCase");function DO(u,f,w){u=hn(u),f=$t(f);var D=f?Rn(u):0;if(!f||D>=f)return u;var j=(f-D)/2;return ld(ao(j),w)+u+ld(yl(j),w)}function NO(u,f,w){u=hn(u),f=$t(f);var D=f?Rn(u):0;return f&&D<f?u+ld(f-D,w):u}function AO(u,f,w){u=hn(u),f=$t(f);var D=f?Rn(u):0;return f&&D<f?ld(f-D,w)+u:u}function IO(u,f,w){return w||f==null?f=0:f&&(f=+f),Ym(hn(u).replace(Bs,""),f||0)}function MO(u,f,w){return(w?es(u,f,w):f===t)?f=1:f=$t(f),Pl(hn(u),f)}function RO(){var u=arguments,f=hn(u[0]);return u.length<3?f:f.replace(u[1],u[2])}var jO=Tl(function(u,f,w){return u+(w?"_":"")+f.toLowerCase()});function $O(u,f,w){return w&&typeof w!="number"&&es(u,f,w)&&(f=w=t),w=w===t?se:w>>>0,w?(u=hn(u),u&&(typeof f=="string"||f!=null&&!Yb(f))&&(f=ps(f),!f&&mt(u))?Ma(Me(u),0,w):u.split(f,w)):[]}var LO=Tl(function(u,f,w){return u+(w?" ":"")+Vb(f)});function FO(u,f,w){return u=hn(u),w=w==null?0:Oa($t(w),0,u.length),f=ps(f),u.slice(w,w+f.length)==f}function UO(u,f,w){var D=U.templateSettings;w&&es(u,f,w)&&(f=t),u=hn(u),f=$v({},f,D,og);var j=$v({},f.imports,D.imports,og),H=Ur(j),te=ie(j,H),ue,ve,je=0,$e=f.interpolate||mi,We="__p += '",Xe=Uc((f.escape||mi).source+"|"+$e.source+"|"+($e===Va?_s:mi).source+"|"+(f.evaluate||mi).source+"|$","g"),ht="//# sourceURL="+(Zt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pp+"]")+`
`;u.replace(Xe,function(kt,qt,Qt,Oi,Is,Ti){return Qt||(Qt=Oi),We+=u.slice(je,Ti).replace(Vn,De),qt&&(ue=!0,We+=`' +
__e(`+qt+`) +
'`),Is&&(ve=!0,We+=`';
`+Is+`;
__p += '`),Qt&&(We+=`' +
((__t = (`+Qt+`)) == null ? '' : __t) +
'`),je=Ti+kt.length,kt}),We+=`';
`;var xt=Zt.call(f,"variable")&&f.variable;if(!xt)We=`with (obj) {
`+We+`
}
`;else if(uu.test(xt))throw new Ot(d);We=(ve?We.replace(lu,""):We).replace(_c,"$1").replace(Sc,"$1;"),We="function("+(xt||"obj")+`) {
`+(xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(ve?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+We+`return __p
}`;var Lt=L_(function(){return Xt(H,ht+"return "+We).apply(t,te)});if(Lt.source=We,qb(Lt))throw Lt;return Lt}function BO(u){return hn(u).toLowerCase()}function WO(u){return hn(u).toUpperCase()}function HO(u,f,w){if(u=hn(u),u&&(w||f===t))return F(u);if(!u||!(f=ps(f)))return u;var D=Me(u),j=Me(f),H=ne(D,j),te=ge(D,j)+1;return Ma(D,H,te).join("")}function zO(u,f,w){if(u=hn(u),u&&(w||f===t))return u.slice(0,Ke(u)+1);if(!u||!(f=ps(f)))return u;var D=Me(u),j=ge(D,Me(f))+1;return Ma(D,0,j).join("")}function qO(u,f,w){if(u=hn(u),u&&(w||f===t))return u.replace(Bs,"");if(!u||!(f=ps(f)))return u;var D=Me(u),j=ne(D,Me(f));return Ma(D,j).join("")}function YO(u,f){var w=ce,D=me;if(zn(f)){var j="separator"in f?f.separator:j;w="length"in f?$t(f.length):w,D="omission"in f?ps(f.omission):D}u=hn(u);var H=u.length;if(mt(u)){var te=Me(u);H=te.length}if(w>=H)return u;var ue=w-Rn(D);if(ue<1)return D;var ve=te?Ma(te,0,ue).join(""):u.slice(0,ue);if(j===t)return ve+D;if(te&&(ue+=ve.length-ue),Yb(j)){if(u.slice(ue).search(j)){var je,$e=ve;for(j.global||(j=Uc(j.source,hn(va.exec(j))+"g")),j.lastIndex=0;je=j.exec($e);)var We=je.index;ve=ve.slice(0,We===t?ue:We)}}else if(u.indexOf(ps(j),ue)!=ue){var Xe=ve.lastIndexOf(j);Xe>-1&&(ve=ve.slice(0,Xe))}return ve+D}function KO(u){return u=hn(u),u&&Nr.test(u)?u.replace(ga,He):u}var GO=Tl(function(u,f,w){return u+(w?" ":"")+f.toUpperCase()}),Vb=rg("toUpperCase");function $_(u,f,w){return u=hn(u),f=w?t:f,f===t?Nt(u)?Qr(u):Ap(u):u.match(f)||[]}var L_=jt(function(u,f){try{return xr(u,t,f)}catch(w){return qb(w)?w:new Ot(w)}}),VO=na(function(u,f){return fr(f,function(w){w=ki(w),Vi(u,w,ze(u[w],u))}),u});function QO(u){var f=u==null?0:u.length,w=wt();return u=f?cn(u,function(D){if(typeof D[1]!="function")throw new qs(c);return[w(D[0]),D[1]]}):[],jt(function(D){for(var j=-1;++j<f;){var H=u[j];if(xr(H[0],this,D))return xr(H[1],this,D)}})}function JO(u){return Zm(fs(u,S))}function Qb(u){return function(){return u}}function XO(u,f){return u==null||u!==u?f:u}var ZO=Yh(),eT=Yh(!0);function si(u){return u}function Jb(u){return Nu(typeof u=="function"?u:fs(u,S))}function tT(u){return Rh(fs(u,S))}function nT(u,f){return Tn(u,fs(f,S))}var rT=jt(function(u,f){return function(w){return Qs(w,u,f)}}),sT=jt(function(u,f){return function(w){return Qs(u,w,f)}});function Xb(u,f,w){var D=Ur(f),j=Tu(f,D);w==null&&!(zn(f)&&(j.length||!D.length))&&(w=f,f=u,u=this,j=Tu(f,Ur(f)));var H=!(zn(w)&&"chain"in w)||!!w.chain,te=$l(u);return fr(j,function(ue){var ve=f[ue];u[ue]=ve,te&&(u.prototype[ue]=function(){var je=this.__chain__;if(H||je){var $e=u(this.__wrapped__),We=$e.__actions__=Xr(this.__actions__);return We.push({func:ve,args:arguments,thisArg:u}),$e.__chain__=je,$e}return ve.apply(u,Hi([this.value()],arguments))})}),u}function iT(){return wn._===this&&(wn._=Wm),this}function Zb(){}function aT(u){return u=$t(u),jt(function(f){return jh(f,u)})}var oT=Kh(cn),lT=Kh(jc),uT=Kh(mu);function F_(u){return rt(u)?i(ki(u)):jn(u)}function cT(u){return function(f){return u==null?t:Ta(u,f)}}var dT=ig(),hT=ig(!0);function e0(){return[]}function t0(){return!1}function fT(){return{}}function pT(){return""}function gT(){return!0}function mT(u,f){if(u=$t(u),u<1||u>Q)return[];var w=se,D=Ir(u,se);f=wt(f),u-=se;for(var j=O(D,f);++w<u;)f(w);return j}function vT(u){return It(u)?cn(u,ki):Pi(u)?[u]:Xr(vg(hn(u)))}function yT(u){var f=++bu;return hn(u)+f}var bT=od(function(u,f){return u+f},0),wT=Er("ceil"),_T=od(function(u,f){return u/f},1),ST=Er("floor");function xT(u){return u&&u.length?kl(u,si,po):t}function kT(u,f){return u&&u.length?kl(u,wt(f,2),po):t}function ET(u){return P(u,si)}function CT(u,f){return P(u,wt(f,2))}function PT(u){return u&&u.length?kl(u,si,go):t}function OT(u,f){return u&&u.length?kl(u,wt(f,2),go):t}var TT=od(function(u,f){return u*f},1),DT=Er("round"),NT=od(function(u,f){return u-f},0);function AT(u){return u&&u.length?x(u,si):0}function IT(u,f){return u&&u.length?x(u,wt(f,2)):0}return U.after=le,U.ary=Oe,U.assign=WP,U.assignIn=D_,U.assignInWith=$v,U.assignWith=HP,U.at=zP,U.before=Be,U.bind=ze,U.bindAll=VO,U.bindKey=Ue,U.castArray=fP,U.chain=cf,U.chunk=tf,U.compact=yg,U.concat=ei,U.cond=QO,U.conforms=JO,U.constant=Qb,U.countBy=Dv,U.create=qP,U.curry=et,U.curryRight=ot,U.debounce=lt,U.defaults=YP,U.defaultsDeep=KP,U.defer=Hn,U.delay=Se,U.difference=Vt,U.differenceBy=mr,U.differenceWith=Xn,U.drop=Or,U.dropRight=As,U.dropRightWhile=Wu,U.dropWhile=ar,U.fill=md,U.filter=ff,U.flatMap=Dg,U.flatMapDeep=Ub,U.flatMapDepth=Iv,U.flatten=nf,U.flattenDeep=yd,U.flattenDepth=gs,U.flip=he,U.flow=ZO,U.flowRight=eT,U.fromPairs=bg,U.functions=eO,U.functionsIn=tO,U.groupBy=Ng,U.initial=rf,U.intersection=wg,U.intersectionBy=wo,U.intersectionWith=sf,U.invert=rO,U.invertBy=sO,U.invokeMap=Mv,U.iteratee=Jb,U.keyBy=Bb,U.keys=Ur,U.keysIn=ri,U.map=jl,U.mapKeys=aO,U.mapValues=oO,U.matches=tT,U.matchesProperty=nT,U.memoize=ke,U.merge=lO,U.mergeWith=N_,U.method=rT,U.methodOf=sT,U.mixin=Xb,U.negate=Ye,U.nthArg=aT,U.omit=uO,U.omitBy=cO,U.once=dt,U.orderBy=Wb,U.over=oT,U.overArgs=yt,U.overEvery=lT,U.overSome=uT,U.partial=vt,U.partialRight=St,U.partition=Sd,U.pick=dO,U.pickBy=A_,U.property=F_,U.propertyOf=cT,U.pull=af,U.pullAll=wd,U.pullAllBy=ns,U.pullAllWith=So,U.pullAt=Ei,U.range=dT,U.rangeRight=hT,U.rearg=vr,U.reject=a,U.remove=ms,U.rest=en,U.reverse=of,U.sampleSize=g,U.set=fO,U.setWith=pO,U.shuffle=b,U.slice=Sg,U.sortBy=$,U.sortedUniq=Eg,U.sortedUniqBy=Il,U.split=$O,U.spread=ko,U.tail=xv,U.take=kv,U.takeRight=Cg,U.takeRightWhile=lf,U.takeWhile=Db,U.tap=$b,U.throttle=zb,U.thru=Ci,U.toArray=P_,U.toPairs=I_,U.toPairsIn=M_,U.toPath=vT,U.toPlainObject=T_,U.transform=gO,U.unary=dP,U.union=Nb,U.unionBy=Ev,U.unionWith=Cv,U.uniq=Ml,U.uniqBy=Ab,U.uniqWith=Hu,U.unset=mO,U.unzip=uf,U.unzipWith=$n,U.update=vO,U.updateWith=yO,U.values=bf,U.valuesIn=bO,U.without=Ib,U.words=$_,U.wrap=hP,U.xor=Pv,U.xorBy=Mb,U.xorWith=Rb,U.zip=Ov,U.zipObject=Tv,U.zipObjectDeep=jb,U.zipWith=ti,U.entries=I_,U.entriesIn=M_,U.extend=D_,U.extendWith=$v,Xb(U,U),U.add=bT,U.attempt=L_,U.camelCase=xO,U.capitalize=R_,U.ceil=wT,U.clamp=wO,U.clone=pP,U.cloneDeep=mP,U.cloneDeepWith=vP,U.cloneWith=gP,U.conformsTo=yP,U.deburr=j_,U.defaultTo=XO,U.divide=_T,U.endsWith=kO,U.eq=La,U.escape=EO,U.escapeRegExp=CO,U.every=Nv,U.find=pf,U.findIndex=bo,U.findKey=GP,U.findLast=Av,U.findLastIndex=vd,U.findLastKey=VP,U.floor=ST,U.forEach=gf,U.forEachRight=_d,U.forIn=QP,U.forInRight=JP,U.forOwn=XP,U.forOwnRight=ZP,U.get=Kb,U.gt=bP,U.gte=wP,U.has=nO,U.hasIn=Gb,U.head=Nl,U.identity=si,U.includes=mf,U.indexOf=$a,U.inRange=_O,U.invoke=iO,U.isArguments=xd,U.isArray=It,U.isArrayBuffer=_P,U.isArrayLike=ni,U.isArrayLikeObject=or,U.isBoolean=SP,U.isBuffer=zu,U.isDate=xP,U.isElement=kP,U.isEmpty=EP,U.isEqual=CP,U.isEqualWith=PP,U.isError=qb,U.isFinite=OP,U.isFunction=$l,U.isInteger=x_,U.isLength=Rv,U.isMap=k_,U.isMatch=TP,U.isMatchWith=DP,U.isNaN=NP,U.isNative=AP,U.isNil=MP,U.isNull=IP,U.isNumber=E_,U.isObject=zn,U.isObjectLike=Zn,U.isPlainObject=Ag,U.isRegExp=Yb,U.isSafeInteger=RP,U.isSet=C_,U.isString=jv,U.isSymbol=Pi,U.isTypedArray=yf,U.isUndefined=jP,U.isWeakMap=$P,U.isWeakSet=LP,U.join=_o,U.kebabCase=PO,U.last=ts,U.lastIndexOf=bd,U.lowerCase=OO,U.lowerFirst=TO,U.lt=FP,U.lte=UP,U.max=xT,U.maxBy=kT,U.mean=ET,U.meanBy=CT,U.min=PT,U.minBy=OT,U.stubArray=e0,U.stubFalse=t0,U.stubObject=fT,U.stubString=pT,U.stubTrue=gT,U.multiply=TT,U.nth=_g,U.noConflict=iT,U.noop=Zb,U.now=ee,U.pad=DO,U.padEnd=NO,U.padStart=AO,U.parseInt=IO,U.random=SO,U.reduce=Hb,U.reduceRight=vf,U.repeat=MO,U.replace=RO,U.result=hO,U.round=DT,U.runInContext=fe,U.sample=l,U.size=E,U.snakeCase=jO,U.some=T,U.sortedIndex=xg,U.sortedIndexBy=Tb,U.sortedIndexOf=xo,U.sortedLastIndex=Sv,U.sortedLastIndexBy=kg,U.sortedLastIndexOf=Al,U.startCase=LO,U.startsWith=FO,U.subtract=NT,U.sum=AT,U.sumBy=IT,U.template=UO,U.times=mT,U.toFinite=Ll,U.toInteger=$t,U.toLength=O_,U.toLower=BO,U.toNumber=sa,U.toSafeInteger=BP,U.toString=hn,U.toUpper=WO,U.trim=HO,U.trimEnd=zO,U.trimStart=qO,U.truncate=YO,U.unescape=KO,U.uniqueId=yT,U.upperCase=GO,U.upperFirst=Vb,U.each=gf,U.eachRight=_d,U.first=Nl,Xb(U,function(){var u={};return Ds(U,function(f,w){Zt.call(U.prototype,w)||(u[w]=f)}),u}(),{chain:!1}),U.VERSION=e,fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){U[u].placeholder=U}),fr(["drop","take"],function(u,f){At.prototype[u]=function(w){w=w===t?1:Jn($t(w),0);var D=this.__filtered__&&!f?new At(this):this.clone();return D.__filtered__?D.__takeCount__=Ir(w,D.__takeCount__):D.__views__.push({size:Ir(w,se),type:u+(D.__dir__<0?"Right":"")}),D},At.prototype[u+"Right"]=function(w){return this.reverse()[u](w).reverse()}}),fr(["filter","map","takeWhile"],function(u,f){var w=f+1,D=w==Ce||w==ye;At.prototype[u]=function(j){var H=this.clone();return H.__iteratees__.push({iteratee:wt(j,3),type:w}),H.__filtered__=H.__filtered__||D,H}}),fr(["head","last"],function(u,f){var w="take"+(f?"Right":"");At.prototype[u]=function(){return this[w](1).value()[0]}}),fr(["initial","tail"],function(u,f){var w="drop"+(f?"":"Right");At.prototype[u]=function(){return this.__filtered__?new At(this):this[w](1)}}),At.prototype.compact=function(){return this.filter(si)},At.prototype.find=function(u){return this.filter(u).head()},At.prototype.findLast=function(u){return this.reverse().find(u)},At.prototype.invokeMap=jt(function(u,f){return typeof u=="function"?new At(this):this.map(function(w){return Qs(w,u,f)})}),At.prototype.reject=function(u){return this.filter(Ye(wt(u)))},At.prototype.slice=function(u,f){u=$t(u);var w=this;return w.__filtered__&&(u>0||f<0)?new At(w):(u<0?w=w.takeRight(-u):u&&(w=w.drop(u)),f!==t&&(f=$t(f),w=f<0?w.dropRight(-f):w.take(f-u)),w)},At.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},At.prototype.toArray=function(){return this.take(se)},Ds(At.prototype,function(u,f){var w=/^(?:filter|find|map|reject)|While$/.test(f),D=/^(?:head|last)$/.test(f),j=U[D?"take"+(f=="last"?"Right":""):f],H=D||/^find/.test(f);j&&(U.prototype[f]=function(){var te=this.__wrapped__,ue=D?[1]:arguments,ve=te instanceof At,je=ue[0],$e=ve||It(te),We=function(qt){var Qt=j.apply(U,Hi([qt],ue));return D&&Xe?Qt[0]:Qt};$e&&w&&typeof je=="function"&&je.length!=1&&(ve=$e=!1);var Xe=this.__chain__,ht=!!this.__actions__.length,xt=H&&!Xe,Lt=ve&&!ht;if(!H&&$e){te=Lt?te:new At(this);var kt=u.apply(te,ue);return kt.__actions__.push({func:Ci,args:[We],thisArg:t}),new Mr(kt,Xe)}return xt&&Lt?u.apply(this,ue):(kt=this.thru(We),xt?D?kt.value()[0]:kt.value():kt)})}),fr(["pop","push","shift","sort","splice","unshift"],function(u){var f=ka[u],w=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",D=/^(?:pop|shift)$/.test(u);U.prototype[u]=function(){var j=arguments;if(D&&!this.__chain__){var H=this.value();return f.apply(It(H)?H:[],j)}return this[w](function(te){return f.apply(It(te)?te:[],j)})}}),Ds(At.prototype,function(u,f){var w=U[f];if(w){var D=w.name+"";Zt.call(xu,D)||(xu[D]=[]),xu[D].push({name:f,func:w})}}),xu[Lu(t,L).name]=[{name:"wrapper",func:t}],At.prototype.clone=kh,At.prototype.reverse=Lp,At.prototype.value=Cu,U.prototype.at=df,U.prototype.chain=Rl,U.prototype.commit=hf,U.prototype.next=Pg,U.prototype.plant=Lb,U.prototype.reverse=Tg,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=Fb,U.prototype.first=U.prototype.head,Ca&&(U.prototype[Ca]=Og),U},Ps=Cs();zs?((zs.exports=Ps)._=Ps,gl._=Ps):wn._=Ps}).call(O4)}(Yg,Yg.exports)),Yg.exports}var An=T4();const D4=()=>{const[r,n]=X.useState([]),[t,e]=X.useState({}),[s,o]=X.useState(!0),[c,d]=X.useState(!1),p=X.useCallback(()=>{Dd.reload()},[]);return X.useEffect(()=>{const v=Dd.loading$.subscribe(o),y=Dd.list$.subscribe(n),S=Dd.listWithStatuses$.subscribe(e),k=Dd.error$.subscribe(d);return p(),()=>{v.unsubscribe(),y.unsubscribe(),S.unsubscribe(),k.unsubscribe()}},[p]),X.useEffect(()=>{const v=P4(y=>{console.log("gaga-----------------------msg.data--------------",y.data);const S=y.data.reduce((A,N)=>(A[N.gameId]=N,A),{}),k=r.map(A=>{const N=S[A._id];return N&&(A.data.updatedBet1Rate=N.bet1Rate||A.data.updatedBet1Rate,A.data.updatedBet2Rate=N.bet2Rate||A.data.updatedBet2Rate,A.updatedAt=new Date(y.date).toISOString()),A}),C=An.orderBy(k,["updatedAt","status"],["desc"]);n(C)});return()=>{v()}},[r]),{list:r,loading:s,error:c,reload:p,listStatus:t}};var C0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Jx;function N4(){return Jx||(Jx=1,function(r){(function(){var n={}.hasOwnProperty;function t(){for(var o="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(o=s(o,e(d)))}return o}function e(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var d in o)n.call(o,d)&&o[d]&&(c=s(c,d));return c}function s(o,c){return c?o?o+" "+c:o+c:o}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(C0)),C0.exports}var A4=N4();const Sn=rr(A4),pC=({usersBetInfo:r})=>!r||r.length===0?null:R.jsx("div",{"data-testid":"PredictionBetsInfo",className:"mt-2 text-sm",children:R.jsx(nu,{panels:[{key:"panel-0",title:R.jsxs(nu.Title,{className:"flex justify-between !m-0 !p-0",children:[R.jsxs("span",{className:"text-white",children:["B#(",r.length,")"]}),R.jsx("i",{className:"dropdown icon text-white"})]}),content:{content:R.jsx(R.Fragment,{children:r.map(n=>{const t=n.staked||0,e=n.teams||"",s=n.winnings||0;return R.jsxs("div",{className:Sn({"flex gap-1 justify-between":!0,"text-green-dark":s>0,"text-yellow-dark":s===0,"text-red-dark":s<0&&n.status!=="Placed","text-white":n.status==="Placed"}),children:[R.jsx("div",{className:"flex-1",children:n.build}),R.jsx(Ht,{position:"left center",trigger:R.jsx("div",{className:"flex-1 text-center",children:t}),children:R.jsx(Ht.Content,{children:R.jsx("div",{className:"flex-1 text-center",children:e})})}),R.jsx("div",{className:"flex-1 text-center",children:n.odds}),R.jsx("div",{className:"flex-[0.7] text-end",children:an(s)})]},n.build)})})}}]})});pC.displayName="PredictionBetsInfo";const gC=()=>{const{list:r,reload:n,loading:t,listStatus:e}=D4();return console.log("gaga-------------------------------------PredictionListComponent render",t),R.jsxs("div",{"data-testid":"PredictionList",className:"flex flex-1 flex-col overflow-hidden",children:[R.jsxs("div",{className:"flex flex-row items-start justify-between h-10",children:[R.jsxs("span",{className:"dark:text-white text-2xl",children:["Predictions (#",r.length,")"]}),R.jsx(bn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl !mt-[-7px]",name:"refresh",onClick:n})]}),R.jsx("hr",{}),R.jsxs("div",{className:"flex justify-between mt-2",children:[R.jsxs("span",{className:"text-green-dark",children:["W (#",e.Won||0,")"]}),R.jsxs("span",{className:"text-purple-dark text-center",children:["P (#",e.Placed||0,")"]}),R.jsxs("span",{className:"text-red-dark",children:["L (#",e.Lost||0,")"]})]}),R.jsx("div",{className:"flex flex-col overflow-auto flex-1 my-3 gap-y-3",children:r.map(s=>{const{_id:o,createdAt:c,updatedAt:d}=s,{winningPercentage:p,game:v,team1Name:y,team2Name:S,status:k,bet1Rate:C=0,bet2Rate:A=0,from:N,prediction:M,usersBetInfo:L,updatedBet1Rate:G,updatedBet2Rate:W}=s.data;return R.jsxs("div",{className:Sn({group:!0,"bg-neutral-950 rounded-lg p-3 dark:text-white border":!0,"border-red-dark":k==="Lost","border-green-dark":k==="Won","border-purple-dark":k==="Placed","border-transparent":!k}),children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("span",{className:"text-xl font-bold",children:[v,"(",p.toFixed(0),"%)"]}),R.jsx(Ht,{position:"left center",trigger:R.jsx("span",{children:c?ft(c).utc().fromNow(!0):" N/A"}),flowing:!0,children:R.jsxs("span",{children:["Last update: ",d?ft(d).utc().fromNow():" N/A"]})})]}),R.jsx("div",{className:"flex justify-between mb-2 items-center h-5",children:R.jsx("span",{className:"text-sm font-bold",children:o})}),R.jsxs("div",{className:"flex flex-1 flex-row",children:[R.jsx("span",{className:Sn({truncate:!0,"text-green-dark":y===M}),children:y}),"",R.jsxs("span",{className:Sn({"text-green-dark":C<A,"text-red-dark":C>A}),children:["(",C,")",G&&` - ${G}`]})]}),R.jsx("div",{className:"flex justify-center",children:R.jsx("span",{children:"VS"})}),R.jsxs("div",{className:"flex flex-1 flex-row justify-end",children:[R.jsxs("span",{className:Sn({"text-green-dark":A<C,"text-red-dark":A>C}),children:[W&&`${W} - `,"(",A,")"]}),"",R.jsx("span",{className:Sn({truncate:!0,"text-green-dark":S===M}),children:S})]}),R.jsx("div",{className:"mt-2",children:Object.values(N.reduce((V,z)=>(V[z.team]||(V[z.team]=[]),V[z.team].push(z),V),{})).sort((V,z)=>z.length-V.length).map(V=>V.map(z=>R.jsxs("div",{className:Sn({"flex justify-between text-sm":!0,"text-blue-light":V.length>=2,"text-yellow-light":V.length<2}),children:[R.jsx("span",{children:z.name}),R.jsxs("span",{children:[z.percentage.toFixed(0),"%"]})]},z.name)))}),R.jsx(pC,{usersBetInfo:L})]},o+y+S)})}),R.jsx(hi,{active:t,children:R.jsx(Wo,{})})]})};gC.displayName="PredictionList";const I4=()=>{const[r,n]=X.useState(""),t=X.useMemo(()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[]),[e,s]=X.useState({});X.useEffect(()=>{const c=Dd.list$.subscribe(d=>{const p=d.reduce((v,y)=>{const S=y.data.status;return S&&(v[S]=(v[S]||0)+1),v},{});s(p)});return()=>{c.unsubscribe()}},[]);const o=X.useCallback(c=>{const{dayStartOfWeekDay:d}=wr(),p=r===c?"":c,v=d(p);n(p),Dd.reload(v)},[r]);return{selectedDay:r,handleDayClick:o,daysOfWeek:t,listStatus:e}},mC=()=>{const{selectedDay:r,handleDayClick:n,daysOfWeek:t,listStatus:e}=I4();return R.jsxs("div",{"data-testid":"PredictionFilter",className:"flex flex-col gap-2",children:[R.jsxs("div",{className:"flex justify-between",children:[R.jsxs("span",{className:"text-green-dark text-sm",children:["W (#",e.Won||0,")"]}),R.jsxs("span",{className:"text-red-dark text-sm",children:["L (#",e.Lost||0,")"]})]}),R.jsx("div",{className:"flex justify-between gap-1",children:t.map(s=>R.jsx("button",{className:Sn({"p-2 border-amber-50 flex-1":!0,"bg-amber-50 text-black":r===s}),onClick:()=>n(s),children:s},s))})]})};mC.displayName="PredictionFilter";const vC=()=>{const[r,n]=X.useState(!1);return R.jsx(Ht,{position:"bottom right",on:"click",inverted:!0,open:r,onOpen:()=>n(!0),onClose:()=>n(!1),className:"flex h-[calc(100dvh-75px)] !p-4",trigger:R.jsx(bn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl",name:"magic"}),children:R.jsxs("div",{className:"w-[320px] h-full flex flex-col",children:[R.jsx(gC,{}),R.jsx(mC,{})]})})};vC.displayName="PredictionPopup";const M4=()=>{const[r,n]=X.useState({});return X.useEffect(()=>{const e=ui.get3rdPartyData().subscribe(s=>{s.data&&n(s.data)});return()=>{e.unsubscribe()}},[]),{other:X.useMemo(()=>{const{webshare:e,captcha:s,solveCaptcha:o}=r,c=(v=0)=>Number((v/1024**3).toFixed(2)),d=(v=0)=>Number((v/1024**2).toFixed(2));let p="";if(e){const v=c(e.bandwidth_total),y=d(e.bandwidth_total),S=[v&&`${v}`,y&&`${y}MB`].find(Boolean)||"",k=new Date;k.setMonth(k.getMonth()+1),k.toLocaleString("en-US",{month:"short"}),p=`WebShare: ${S}/1TB`,console.log("gaga-------------------------------------",[v&&`${v}GB`,y&&`${y}MB`])}return{solveCaptcha:`SolveCaptcha: ${an(o?.balance||0)}`,captcha:`2Captcha: ${an(s?.balance||0)}`,webshare:p}},[r])}},yC=()=>{const{other:r}=M4(),n=Vd();return console.log("HeaderComponent-------------------------------------",r),R.jsxs("div",{"data-testid":"Header",className:"h-20 bg-black p-3 flex justify-between items-center",children:[R.jsx("div",{className:"flex-1",children:R.jsxs(Ht,{size:"mini",position:"right center",trigger:R.jsxs(Ty,{className:"h-full inline-flex flex-row items-center",to:"/",children:[R.jsx("div",{className:" rounded-full overflow-hidden h-[50px] w-[50px] border-gray-800 border-4",children:R.jsx("img",{className:"h-[42px] aspect-square",src:YE,alt:"logo"})}),R.jsx("span",{className:"pl-4 text-3xl dark:text-white",children:"Talpakers"})]}),children:[R.jsxs("div",{children:["v",KE," build ",ft(1767814744775).fromNow()]}),R.jsxs("div",{children:["MT: ",wr().formatDate()]})]})}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(Ty,{to:"/apks","aria-label":"Navigate to APKs page",children:R.jsx(bn,{circular:!0,inverted:!0,name:"android",className:`cursor-pointer !text-xl ${n.pathname==="/apks"?"bg-gray-700":""}`})}),R.jsx(Ht,{size:"mini",position:"right center",trigger:R.jsx(bn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl",name:"database"}),children:Object.keys(r).map(t=>R.jsx("div",{children:r?.[t]},t))}),R.jsx(vC,{})]})]})};yC.displayName="Header";const l_=({children:r})=>R.jsxs("div",{"data-testid":"MainLayout",className:"h-full flex flex-col",children:[R.jsx(yC,{}),R.jsx("div",{className:"content flex flex-1 w-full overflow-hidden bg-neutral-900",children:r})]});l_.displayName="MainLayout";const gw=r=>{const n=r.match(/^app-([A-Z0-9_-]+)/i);if(!n)return null;let t=n[1];return t=t.replace(/-release$/i,""),t},R4=r=>{const n=r.match(/\.(\d+\.\d+\.\d+)\.apk$/i);return n?`v${n[1]}`:null},j4=()=>{const[r,n]=X.useState([]),[t,e]=X.useState(!0),[s,o]=X.useState(!1),c=X.useCallback(()=>(e(!0),o(!1),ui.getGDriveList().subscribe({next:v=>{const y=v.filter(S=>S.name.toLowerCase().startsWith("app-")).sort((S,k)=>{const C=gw(S.name)||S.name,A=gw(k.name)||k.name;return C.localeCompare(A)});n(y),e(!1)},error:()=>{o(!0),e(!1)}})),[]);X.useEffect(()=>{const p=c();return()=>{p.unsubscribe()}},[c]);const d=X.useCallback(()=>{c()},[c]);return{files:r,loading:t,error:s,retry:d}},bC=()=>{const{files:r,loading:n,error:t,retry:e}=j4();return!n&&t?R.jsx("div",{className:"w-full m-4 bg-neutral-800 rounded-lg p-4",children:R.jsxs(za,{negative:!0,children:[R.jsx(za.Header,{children:"Failed to load APK files"}),R.jsx("p",{children:"Please try refreshing the page or contact support if the problem persists."}),R.jsx(qn,{primary:!0,size:"small",onClick:e,children:"Retry"})]})}):!n&&!t&&r.length===0?R.jsx("div",{className:"w-full m-4 bg-neutral-800 rounded-lg p-4",children:R.jsxs(za,{info:!0,children:[R.jsx(za.Header,{children:"No APK files found"}),R.jsx("p",{children:"The Google Drive folder is currently empty."})]})}):R.jsxs("div",{className:"w-full m-4 bg-neutral-800 rounded-lg relative",children:[R.jsxs("div",{className:"flex flex-col p-4 h-full",children:[R.jsxs("div",{className:"flex flex-row items-start justify-between h-12",children:[R.jsxs("span",{className:"dark:text-white text-2xl",children:["APK Files (",r.length,")"]}),R.jsx(bn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl !mt-[-3px]",onClick:e,name:"refresh"})]}),R.jsx("hr",{}),R.jsx(Fs,{className:"flex-1 overflow-auto mt-4",children:R.jsxs(ur,{size:"small",selectable:!0,compact:!0,striped:!0,celled:!0,inverted:!0,unstackable:!0,"aria-label":"List of available APK files",children:[R.jsx(ur.Header,{className:"bg-neutral-900 sticky top-0 z-10",children:R.jsxs(ur.Row,{children:[R.jsx(ur.HeaderCell,{textAlign:"center",children:"BUILD"}),R.jsx(ur.HeaderCell,{textAlign:"center",children:"VERSION"})]})}),R.jsx(ur.Body,{children:r.map(s=>{const o=gw(s.name),c=R4(s.name),d=`https://drive.google.com/uc?export=download&id=${s.id}`,p=()=>{window.open(d,"_blank")};return R.jsxs(ur.Row,{onClick:p,className:"cursor-pointer",children:[R.jsx(ur.Cell,{children:R.jsx("a",{href:d,className:"text-white cursor-pointer hover:text-white",target:"_blank",rel:"noopener noreferrer",onClick:v=>v.stopPropagation(),children:o||s.name})}),R.jsx(ur.Cell,{children:c||"N/A"})]},s.id)})})]})})]}),R.jsx(hi,{active:n,children:R.jsx(Wo,{})})]})};bC.displayName="ApksTable";const wC=()=>R.jsx(l_,{children:R.jsx("div",{"data-testid":"ApksPage",className:"w-full flex flex-row overflow-auto",children:R.jsx(bC,{})})});wC.displayName="ApksPage";const $4=Object.freeze(Object.defineProperty({__proto__:null,default:wC},Symbol.toStringTag,{value:"Module"})),_C=()=>R.jsx("div",{"data-testid":"MainPage",className:"flex h-full items-center justify-center flex-col",children:R.jsx("div",{className:"rounded-full overflow-hidden w-[100px] aspect-square flex items-center border-gray-700 border-8",children:R.jsxs(Ht,{open:!0,position:"top center",trigger:R.jsx(Ty,{className:"h-full w-full",title:"Users",to:"users",children:R.jsx("img",{className:"h-full",src:YE,alt:"logo"})}),children:[R.jsx("div",{children:"Talapkers"}),R.jsx("div",{children:R.jsx("span",{children:`Version: ${KE}`})}),R.jsx("div",{children:R.jsx("span",{children:`Build Date: ${ft(1767814744775).fromNow()}`})})]})})});_C.displayName="MainPage";const L4=Object.freeze(Object.defineProperty({__proto__:null,default:_C},Symbol.toStringTag,{value:"Module"}));var Cn=(r=>(r.IsDone="Done",r.InProgress="InProgress",r.IsWaiting="Waiting",r))(Cn||{}),Do=(r=>(r.Earnings="earnings",r.OpenBets="openBets",r.NextWithdrawal="nextWithdrawal",r.Active="active",r))(Do||{});const u_=(r,n)=>{const t=["#adff2f","#b2fa33","#b7f636","#bcf139","#c0ec3b","#c4e73e","#c8e340","#ccde42","#d0d945","#d3d447","#d6cf48","#d9ca4a","#dcc54c","#dfc04d","#e2bb4f","#e4b650","#e7b152","#e9ab53","#eca654","#eea056","#f09b57","#f29558","#f48f59","#f6895a","#f7835b","#f97c5c","#fb755d","#fc6e5d","#fe675e","#ff5f5f"],e=Math.max(0,Math.min(n,r)),s=Math.floor(e/n*(t.length-1));return t[s]},Kg=r=>{const{weekStart:n}=wr(),t=r.data.weeklySummary?.find(y=>y.data.weekStart===n.toISOString()),e=t?.data.done===!0,s=t?.data.done===!1,o=ft(r.updatedAt??r.createdAt??new Date),c=ft.duration(-o.diff(Date.now())).asMinutes();let d=!1;return s&&c>=30&&(d=!0),!wr().isWithinThisWeek(t?.data.weekStart)||d||t?.data.done===void 0?Cn.IsWaiting:e?Cn.IsDone:Cn.InProgress},F4=r=>{const[n,t]=X.useState(!0),[e,s]=X.useState([]),[o,c]=X.useState(void 0);X.useEffect(()=>{const{weekStart:p}=wr(),v=ui.getWeeklySummaryByWeek(r._id,p.toISOString()).pipe(Rm(y=>{const k=y.data?.[0]?.data.betsInfo||[];s(k);const C=k.map(A=>A.gameId);return ui.getPredictionsByGameIds(C)})).subscribe(y=>{const S=y.data||[];t(!1);const k=S.reduce((C,A)=>(C[A._id]=A,C),{});c(k)});return()=>{v.unsubscribe()}},[r]);const d=X.useMemo(()=>{let p=0,v=0;return e.forEach(y=>{y.status==="Won"?p++:y.status==="Lost"&&v++}),{Won:p,Lost:v}},[e]);return{betsInfo:e,predictionDictionary:o,loading:n,listStatus:d}},SC=r=>{const{weekStart:n}=wr(),{user:t}=r,{predictionDictionary:e,loading:s,listStatus:o,betsInfo:c}=F4(t);return R.jsxs("div",{"data-testid":"UserBetDetails",className:"flex flex-col h-full p-1 pt-0 gap-y-1",children:[R.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[R.jsxs("span",{className:"text-green-light font-bold",children:["W (#",o.Won||0,")"]}),R.jsxs("span",{className:"text-red-light font-bold",children:["L (#",o.Lost||0,")"]})]}),R.jsx("div",{className:"overflow-auto h-full flex flex-1 flex-col gap-y-1",children:!!e&&c.map(d=>{const p=d.gameId,v=e[p];return v?R.jsxs("div",{"data-id":p,className:Sn({"flex flex-row gap-x-1 justify-between text-sm border-2 rounded-md p-2":!0,"border-green-light":d.winnings>0,"border-red-light":d.winnings<0&&v.data.status!=="Placed","border-purple-light":v.data.status==="Placed"}),children:[R.jsxs("div",{className:"w-[200px] justify-evenly flex bg-gray-100 gap-2",children:[R.jsx("span",{className:"flex flex-1 items-center",children:d.staked}),R.jsx("span",{className:"flex flex-1 items-center text-center",children:d.odds}),R.jsx("span",{className:"flex items-center flex-[0.5]",children:an(d.winnings)})]}),R.jsxs("div",{className:"flex flex-1 justify-between items-center gap-x-4 w-full",children:[R.jsx("span",{className:"flex-1",children:v.data.team1Name}),R.jsx("span",{children:"vs"}),R.jsx("span",{className:"flex-1 text-right",children:v.data.team2Name})]})]},p):null})}),R.jsx(hi,{inverted:!0,active:s,children:R.jsx(Wo,{})})]})};SC.displayName="UserBetDetails";var Qv={},Xx;function U4(){if(Xx)return Qv;Xx=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.toPascalCase=r;function r(n){return n!==""?n[0].toUpperCase()+n.slice(1):n}return Qv}var B4=U4();const W4=r=>{const{user:n}=r,{weekStart:t,weekEnd:e}=wr(),o=n?.data.weeklySummary?.find(d=>d.data.weekStart===t.toISOString())?.data.withdrawals?.[0],c=`curl 'https://webapi.playalberta.ca/api/v1/Player/GetPlayerTransactionsAndShoppingCartsHistory?UniqueDeviceId=5632ff40-be41-49fe-a567-6e14bee92e86' \\
  -H 'accept: application/json, text/plain, */*' \\
  -H 'accept-language: en-US,en;q=0.9' \\
  -H 'content-type: application/json;charset=UTF-8' \\
  --data-raw '${JSON.stringify({BrandID:"128",LanguageCode:"ENG",CountryCode:"CA",AFI:"128",MMI:"0",PlayerID:n.data.userSession?.EXTERNAL_PLAYER_ID,SessionToken:n.data.userSession?.ISID,TransactionType:"COR",DateFrom:t.toISOString(),DateTo:e.toISOString(),PageSize:1,PageIndex:1})}'`;return R.jsxs(Pn,{className:"md:!min-w-[33%] md:!text-center",children:[!!o&&R.jsx(R.Fragment,{children:[{Pending:o.TransactionStatus==="Pending",Approved:o.TransactionStatus==="Approved",Processing:["In Process","Sending to Processor"].includes(o.TransactionStatus)}].map((d,p)=>R.jsxs(Ht,{position:"right center",trigger:R.jsx("div",{onClick:v=>{v.stopPropagation(),navigator.clipboard.writeText(c)},className:Sn({"has-withdrawal rounded-full h-2 w-2 top-2 right-2 absolute cursor-pointer":!0,"bg-yellow-dark":d.Pending,"bg-green-dark":d.Approved,"bg-blue-dark":d.Processing})}),flowing:!0,children:[R.jsx(Ht.Header,{children:R.jsxs("div",{className:"withdrawal-header",children:[R.jsxs("span",{children:["Withdrawal (",R.jsx("span",{className:Sn({"text-yellow-light":d.Pending,"text-green-light":d.Approved,"text-blue-light":d.Processing}),children:o?.TransactionStatus}),")"]}),R.jsx("span",{className:"transaction-wrap",children:` ${o?.TransactionDateTime&&ft(o.TransactionDateTime).fromNow()}`})]})}),R.jsx(Ht.Content,{children:R.jsx("div",{children:`${o?.PaymentMethodInfo} ${an(o?.Amount??0)}`})})]},p))}),R.jsx(Ty,{to:`https://drive.google.com/uc?export=download&id=${r.buildId}`,className:"text-white hover:text-white",children:n.data.build})]})},H4=r=>{const{user:n}=r,t=Kg(n);return R.jsx(Pn,{className:"md:!min-w-[33%] md:!text-right",textAlign:"center",children:[t].map((e,s)=>{let o="text-green-light cursor-pointer",c=R.jsx("i",{className:"fa-solid fa-circle-check  text-green-dark cursor-pointer"},s);return e===Cn.InProgress?(o="text-yellow-light cursor-pointer",c=R.jsx("i",{className:"fa-solid fa-basketball  text-yellow-dark cursor-pointer"},s)):e===Cn.IsWaiting&&(o="text-red-light cursor-pointer",c=R.jsx("i",{className:"fa-solid fa-circle-stop  text-red-dark cursor-pointer"},s)),R.jsx(Ht,{position:"top center",trigger:c,mouseEnterDelay:1500,mouseLeaveDelay:500,children:R.jsx("span",{className:o,children:e})},s)})})},z4=r=>{const{user:n}=r;return R.jsx(Pn,{className:"md:hidden",user:n,collapsing:!0,children:R.jsx(Ht,{position:"right center",trigger:R.jsx("span",{children:n.data.version}),flowing:!0,disabled:!n.data.codePushVersion,children:R.jsx(Ht.Content,{children:R.jsx("span",{className:"text-green-light",children:n.data.codePushVersion})})})})},q4=r=>{const{user:n}=r,{weekStart:t}=wr(),e=n?.data.weeklySummary?.find(d=>d.data.weekStart===t.toISOString()),s=e?.data.totalEarnings||0,o=e?.data.winnings||0,c=e?.data.potentialBonus||0;return R.jsx(Pn,{className:"md:flex-1",textAlign:"center",children:R.jsxs("div",{className:"week-summary-wrap flex justify-evenly",children:[R.jsx("span",{className:Sn({"block w-[50px]":!0,"text-green-dark":c>0}),children:an(c)})," + ",R.jsx("span",{className:Sn({"block w-[50px]":!0,"text-green-dark":s>0,"text-red-dark":s<0}),children:an(s)})," = ",R.jsx("span",{className:Sn({"block w-[50px]":!0,"text-green-dark":o>0,"text-red-dark":o<0}),children:an(o)})]})})},Y4=r=>{const{user:n}=r,{weekStart:t}=wr(),e=n?.data.weeklySummary?.find(o=>o.data.weekStart===t.toISOString()),s=e?.data.totalStaked||0;return R.jsx(Pn,{className:"md:w-full",textAlign:"center",children:R.jsx(Xw,{inverted:!0,success:e?.data.done===!0&&s!==0,precision:0,value:Math.floor(s),progress:"percent",total:500,label:an(s)})})},K4=r=>{const{user:n}=r,{weekStart:t}=wr(),e=n?.data.weeklySummary?.find(o=>o.data.weekStart===t.toISOString()),s={open:e?.data.openBets??0,settled:e?.data.settledBets??0};return R.jsx(Pn,{className:"md:w-[60px]",children:[s].map(({open:o,settled:c},d)=>R.jsx("div",{children:R.jsx(Ht,{className:"w-[500px] max-h-96 !p-0 h-96",position:"bottom center",on:"click",trigger:R.jsxs("div",{className:"cursor-pointer flex justify-between",onClick:p=>p.stopPropagation(),children:[R.jsx("span",{children:o}),R.jsx("span",{children:"-"}),R.jsx("span",{children:c})]}),flowing:!0,children:R.jsx(SC,{user:n})})},d))})},G4=r=>{const{user:n}=r,t=n.data.userSession?.autoCashout?.maintainCash??100,e=(n.data.userSession?.autoCashout?.fixedAmount??900)+t,s=n.data.userSession?.cashout??0,o=n.data.userSession?.cash??0,c=Math.floor(s/e*100),d=s/e*-100+100,p=u_(d,100);return R.jsx(Pn,{className:"md:hidden",children:R.jsxs("div",{className:"flex justify-between",children:[R.jsxs(Ht,{position:"left center",trigger:R.jsx("span",{style:{color:p},children:an(s.toFixed(0),0)}),flowing:!0,children:[R.jsx(Ht.Header,{children:R.jsxs("span",{className:"text-green-light",children:["Current Cash - ",an(o,0)]})}),R.jsx(Ht.Header,{children:R.jsxs("span",{className:"text-green-light",children:["Cashout at - ",`${c}%`]})})]}),R.jsx("span",{children:"/"}),R.jsx("span",{children:an(e,0)})]})})},V4=r=>{const{user:n}=r,{weekStart:t}=wr(),s=n.data.weeklySummary?.find(o=>o.data.weekStart===t.toISOString())?.data.metadata?.hasMinimumBetRestriction;return R.jsx(Pn,{className:"md:hidden relative",textAlign:"center",children:s&&R.jsx(Ht,{position:"left center",trigger:R.jsx("span",{className:"text-red-dark",children:"true"}),flowing:!0,children:R.jsx(Ht.Header,{children:R.jsx("span",{className:"text-red-light",children:ft(s).fromNow()})})})})},Q4=r=>{const{user:n}=r,{weekStart:t,weekEnd:e}=wr(),o=n.data.weeklySummary?.find(d=>d.data.weekStart===t.toISOString())?.data.bonuses?.[0],c=`curl 'https://webapi.playalberta.ca/api/v1/Player/GetPlayerTransactionsAndShoppingCartsHistory?UniqueDeviceId=5632ff40-be41-49fe-a567-6e14bee92e86' \\
  -H 'accept: application/json, text/plain, */*' \\
  -H 'accept-language: en-US,en;q=0.9' \\
  -H 'content-type: application/json;charset=UTF-8' \\
  --data-raw '${JSON.stringify({BrandID:"128",LanguageCode:"ENG",PlatformType:"W",CountryCode:"CA",AFI:"128",MMI:"0",PlayerID:n.data.userSession?.EXTERNAL_PLAYER_ID,SessionToken:n.data.userSession?.ISID,TransactionType:"BON",DateFrom:t.toISOString(),DateTo:e.toISOString(),PageSize:1,PageIndex:1})}'`;return R.jsx(Pn,{onClick:d=>d.stopPropagation(),textAlign:"center",className:"relative md:hidden",children:R.jsx(Ht,{position:"top center",disabled:!o?.Amount,trigger:R.jsx("span",{onClick:()=>navigator.clipboard.writeText(c),className:Sn({"cursor-pointer":!0,"text-green-dark":!!o?.Balance}),children:an(o?.Amount||0,0)}),flowing:!0,children:R.jsxs(Ht.Header,{className:"text-green-light",children:[R.jsxs("span",{children:["Total Balance :",an(o?.Balance||0)]}),R.jsx("span",{children:" - "}),R.jsx("span",{children:ft(o?.TransactionDateTime).fromNow()})]})})})},J4=r=>{const{user:n}=r,{lastWeekStart:t,weekStart:e}=wr(),s=n?.data.weeklySummary?.find(v=>v.data.weekStart===e.toISOString()),o=n?.data.weeklySummary?.find(v=>v.data.weekStart===t.toISOString()),c=An.sumBy(s?.data.bonuses,v=>v.Amount),p=(o?.data.totalEarnings||0)+c;return R.jsx(Pn,{onClick:v=>v.stopPropagation(),className:"relative md:hidden",textAlign:"center",children:R.jsx("span",{className:Sn({"text-green-dark":p>0,"text-red-dark":p<0}),children:an(p,0)})})},X4=r=>{const{user:n}=r;return R.jsx(Pn,{className:"relative md:hidden",textAlign:"center",children:R.jsxs("span",{className:Sn({"text-green-dark":n.data.lottoTickets?.length}),children:[n.data.lottoTickets?.length," / ",an(n.data.totalPurchases||0,0)]})})},Z4=r=>{const{user:n}=r;return R.jsx(Pn,{className:"relative md:hidden",textAlign:"center",children:R.jsx("span",{children:an(n.data.totalDeposits||0,0)})})},eB=r=>{const{user:n}=r,t=n.data.userSession?.GPD?.lifetimeWinAndLoss||"0.00";return R.jsx(Pn,{className:"relative md:hidden",textAlign:"center",children:R.jsx("span",{className:"text-red-dark",children:an(t)})})},tB=r=>{const{user:n}=r,{weekStart:t}=wr(),s=n?.data.weeklySummary?.find(o=>o.data.weekStart===t.toISOString())?.data?.freeBets||[];return R.jsx(Pn,{className:"relative md:hidden",textAlign:"center",children:R.jsx(Ht,{position:"top center",trigger:R.jsx("span",{children:!!s.length&&R.jsx("span",{className:"text-green-dark",children:s.length})}),flowing:!0,children:s.map(o=>R.jsxs(Ht.Header,{className:"text-green-light",children:[R.jsx("span",{children:an(o.BonusAmount)}),R.jsx("span",{children:" - "}),R.jsx("span",{children:ft(o.FreeGameUsageExpirationDateTime).fromNow()})]},o.PlayerBonusID))})})},nB=r=>{const{user:n}=r,t=new Date(n.data.userSession?.GPD?.lastLogin||n.updatedAt||new Date),e=ft(t).tz("America/Denver"),s=ft.duration(-e.diff(Date.now())).asHours(),o=u_(s,72);return R.jsx(Pn,{className:"relative",textAlign:"center",children:R.jsxs("span",{style:{color:o},children:[wr().fromNow(cr(t))," "]})})},rB=r=>{const{user:n}=r,{weekStart:t}=wr(),e=n?.data.weeklySummary?.find(k=>k.data.weekStart===t.toISOString()),s=n.updatedAt||n.createdAt||new Date,o=new Date(s),c=e?.data.metadata,d=ft(o).tz("America/Denver"),p=ft.duration(-d.diff(Date.now())).asMinutes(),v=u_(p,30),y=[];return(typeof n.data?.userSession?.TWO_FACTOR_AUTH!="string"||!n.data.userSession?.TWO_FACTOR_AUTH)&&y.push("Missing TWO_FACTOR_AUTH"),Object.keys(c||{}).forEach(k=>{c?.[k]&&y.push(`${B4.toPascalCase(k)} ${ft(c[k]).tz("America/Denver").fromNow()}`)}),R.jsxs(Pn,{className:"relative md:flex-1 md:!text-right",textAlign:"center",children:[R.jsx(Ht,{position:"left center",trigger:R.jsx("div",{className:Sn({"rounded-full h-2 w-2 top-2 right-2 absolute cursor-pointer":y.length,"bg-red-light":!0})}),flowing:!0,children:y.map(k=>R.jsx(Ht.Header,{children:R.jsx("span",{className:Sn({"text-red-light":!0}),children:k})},k))}),R.jsxs("span",{style:{color:v},children:[wr().fromNow(cr(o))," "]})]})},sB=()=>{const[r,n]=X.useState([]),[t,e]=X.useState([]),[s,o]=X.useState({}),[c,d]=X.useState(!1),[p,v]=X.useState(!1),y=Q1(),S=Vd(),[k,C]=X.useState(new Map);X.useEffect(()=>{const Z=S.pathname.replace("/users/","").split(",").filter(Boolean),ce=new Map;Z.forEach(me=>ce.set(me,!0)),C(ce)},[S.pathname]);const A=X.useMemo(()=>wr(),[]),N=X.useCallback((Z,ce)=>{const{weekStart:me}=A;return ce.filter===Cn.IsDone?An.orderBy(Z,[we=>Kg(we)===Cn.IsDone,we=>we.updatedAt??we.createdAt],["desc","desc"]):ce.filter===Cn.InProgress?An.orderBy(Z,[we=>Kg(we)===Cn.InProgress,we=>we?.data.weeklySummary?.find(Ce=>Ce.data.weekStart===me.toISOString())?.data.totalStaked??0],["desc","desc"]):ce.filter===Cn.IsWaiting?An.orderBy(Z,[we=>Kg(we)===Cn.IsWaiting,we=>we.updatedAt??we.createdAt],["desc","desc"]):ce.filter===Do.NextWithdrawal?An.orderBy(Z,[we=>{const Re=we.data.userSession?.autoCashout?.maintainCash??100,Ce=(we.data.userSession?.autoCashout?.fixedAmount??900)+Re,_e=we.data.userSession?.cashout??0;return Math.floor(_e/Ce*100)}],["desc"]):ce.filter===Do.Earnings?An.orderBy(Z,[we=>we?.data.weeklySummary?.find(Ce=>Ce.data.weekStart===me.toISOString())?.data.totalEarnings??0],["asc"]):ce.filter===Do.OpenBets?An.orderBy(Z,[we=>we?.data.weeklySummary?.find(Ce=>Ce.data.weekStart===me.toISOString())?.data.openBets??0],["desc"]):ce.filter===Do.Active?An.orderBy(Z,[we=>we.updatedAt],["desc"]):Z},[A]),M=X.useCallback(Z=>(d(!0),v(!1),ui.getUsersWithWeeklySummary().pipe(qE(()=>d(!1))).subscribe({next:ce=>{const me=ce.data??[];n(me);const we=N(me,Z);e(we)},error:()=>{v(!0),d(!1)}})),[N]);X.useEffect(()=>{const Z=ui.getGDriveList().subscribe(me=>{const we=me.reduce((Re,Ce)=>{const _e=Ce.name.match(/^app-([A-Z]+)-release/);if(_e){const ye=_e[1];Re[ye]=Ce.id}return Re},{});console.log("gaga----------SharedApiSupabase---------------------------",we),o(we)}),ce=M({filter:Do.Earnings});return()=>{Z.unsubscribe(),ce.unsubscribe()}},[M]);const L=X.useCallback((Z,ce)=>{Z.preventDefault(),M(ce)},[M]),G=X.useMemo(()=>{const{weekStart:Z,lastWeekStart:ce}=A;let me=0,we=0,Re=0,Ce=0,_e=!1;const ye=[],be=[],Q=[];t.forEach(Te=>{const se=Kg(Te);se===Cn.IsDone&&me++,se===Cn.InProgress&&we++,se===Cn.IsWaiting&&Re++;const Ee=Te.data.weeklySummary?.find(Ve=>Ve.data.weekStart===Z.toISOString()),Le=Te.data.weeklySummary?.find(Ve=>Ve.data.weekStart===ce.toISOString());if(Ee){Ee.data.metadata?.hasBetRestriction&&Ce++,(Ee.data.freeBets?.length??0)>0&&(_e=!0);const Ve=An.sumBy(Ee.data.bonuses,"Amount");ye.push(Ve),Le&&Q.push(Ve+Le.data.totalEarnings),Ee.data.withdrawals?.length&&Ee.data.withdrawals.forEach(st=>{st.build=Te.data.build,be.push(st)})}});const Ae=An.orderBy(be,"TransactionDateTime","desc");return{statusCount:{[Cn.IsDone]:me,[Cn.InProgress]:we,[Cn.IsWaiting]:Re},restrictedCount:Ce,hasFreeBet:_e,totals:{bonus:An.sum(ye),winnings:An.sum(Q),withdrawals:Ae}}},[t,A]),{statusCount:W,restrictedCount:V,hasFreeBet:z,totals:Y}=G,B=X.useCallback(Z=>()=>{C(new Map([[Z._id,!0]])),y(`./${Z._id}`,{relative:"route",replace:S.pathname.includes("@")})},[S.pathname,y]),K=X.useCallback((Z,ce)=>{Z.stopPropagation(),C(me=>{const we=new Map(me);ce.checked?we.set(ce.value,!0):we.delete(ce.value);const Re=[];return we.forEach((Ce,_e)=>{Re.push(_e)}),y(`./${Re.join(",")}`,{relative:"route",replace:S.pathname.includes("@")}),we})},[S.pathname,y]);return{list:t,loading:c,error:p,handleOrderByStatus:L,statusCount:W,restrictedCount:V,hasFreeBet:z,handleCheckboxMultiUserChange:K,handleRowClick:B,selectedUserMemo:k,totals:Y,gDriveList:s}},xC=()=>{const{list:r,loading:n,handleOrderByStatus:t,statusCount:e,restrictedCount:s,hasFreeBet:o,handleRowClick:c,selectedUserMemo:d,handleCheckboxMultiUserChange:p,totals:v,gDriveList:y}=sB(),S=[{name:R.jsxs(R.Fragment,{children:["App Build ",R.jsx("br",{}),R.jsx(Ht,{position:"bottom right",disabled:!v.withdrawals.length,trigger:R.jsxs("span",{className:"cursor-pointer",children:["(",v.withdrawals.length,")"]}),flowing:!0,children:R.jsx(Ht.Content,{children:v.withdrawals.map(k=>R.jsxs("div",{className:"flex flex-row justify-between gap-x-10",children:[R.jsx("span",{children:k.build}),R.jsx("span",{children:k.PaymentMethodInfo}),R.jsx("span",{children:ft(k.TransactionDateTime).utc().fromNow(!0)})]},k.TransactionID))})})]}),render:k=>{const C=y[k.data.build];return R.jsx(W4,{user:k,buildId:C})}},{name:"Status",render:k=>R.jsx(H4,{user:k})},{name:"Version",render:k=>R.jsx(z4,{user:k})},{name:R.jsxs(R.Fragment,{children:["Weekly Summary ",R.jsx("br",{})," (Bonus + Earnings = Total)"]}),className:{"min-w-[205px]":!0},filter:Do.Earnings,render:k=>R.jsx(q4,{user:k})},{name:R.jsxs(R.Fragment,{children:["Weekly ",R.jsx("br",{})," Progress"]}),className:{"min-w-[74px]":!0},collapsing:!1,render:k=>R.jsx(Y4,{user:k})},{name:"Bets",className:{"min-w-[60px]":!0},filter:Do.OpenBets,render:k=>R.jsx(K4,{user:k})},{name:R.jsxs(R.Fragment,{children:["Next ",R.jsx("br",{})," Withdrawal"]}),className:{"min-w-[105px]":!0},filter:Do.NextWithdrawal,render:k=>R.jsx(G4,{user:k})},{name:R.jsxs(R.Fragment,{children:["Bet ",R.jsx("br",{})," Restricted"]}),className:{"min-w-[75px]":!0},isVisible:!!s,render:k=>R.jsx(V4,{user:k})},{name:R.jsxs(R.Fragment,{children:["Bonus ",R.jsx("br",{})," (",an(v.bonus,0),")"]}),className:{"min-w-[75px]":!0},render:k=>R.jsx(Q4,{user:k})},{name:R.jsxs(R.Fragment,{children:["Earnings ",R.jsx("br",{})," (",an(v.winnings,0),")"]}),className:{"min-w-[75px]":!0},render:k=>R.jsx(J4,{user:k})},{name:"Tickets",className:{"min-w-[100px]":!0},render:k=>R.jsx(X4,{user:k})},{name:R.jsxs(R.Fragment,{children:["Total ",R.jsx("br",{})," Deposits"]}),className:{"min-w-[75px]":!0},render:k=>R.jsx(Z4,{user:k})},{name:R.jsxs(R.Fragment,{children:["Total ",R.jsx("br",{})," Loss"]}),className:{"min-w-[75px]":!0},render:k=>R.jsx(eB,{user:k})},{name:R.jsxs(R.Fragment,{children:["Free ",R.jsx("br",{})," Bet"]}),className:{"min-w-[75px]":!0},isVisible:o,render:k=>R.jsx(tB,{user:k})},{name:"Last Login",className:{"min-w-[105px]":!0},render:k=>R.jsx(nB,{user:k})},{name:"Last Update",className:{"min-w-[105px]":!0},filter:Do.Active,render:k=>R.jsx(rB,{user:k})}];return R.jsxs("div",{"data-testid":"UserList",className:'w-full m-4 bg-neutral-800 rounded-lg relative [&:has(+[data-testid="UserDetails"])]:mr-0',children:[R.jsxs("div",{className:"flex flex-col p-4 h-full",children:[R.jsxs("div",{className:"flex flex-row items-start justify-between h-12",children:[R.jsxs("span",{className:"dark:text-white text-2xl",children:["Users ",d.size>1&&d.size]}),R.jsx(bn,{circular:!0,inverted:!0,className:"cursor-pointer !text-xl !mt-[-3px]",onClick:t,name:"refresh"})]}),R.jsx("hr",{}),R.jsx(Fs,{className:"flex-1 overflow-auto mt-4",children:R.jsxs(ur,{size:"small",selectable:!0,compact:!0,striped:!0,celled:!0,inverted:!0,unstackable:!0,children:[R.jsx(tu,{className:Sn({"bg-neutral-900 sticky top-0 z-10":!0,"md:!hidden":!0}),children:R.jsxs(Rs,{children:[R.jsx(Zu,{collapsing:!0,children:"#"}),S.map(({name:k,className:C,filter:A,isVisible:N,collapsing:M},L)=>N===!1?null:R.jsxs(Zu,{collapsing:M===!1?void 0:!0,textAlign:"center",className:Sn({relative:!0,...C}),children:[R.jsx("span",{children:k}),A&&R.jsx(qn,{className:"absolute top-0 right-0 bottom-0 left-0 opacity-0",inverted:!0,onClick:t,filter:A})]},L))]})}),R.jsx(ac,{children:r.map(k=>R.jsxs(Rs,{className:Sn({"md:flex md:flex-row md:flex-wrap":!0,"child:md:!border-0 child:relative":!0}),onClick:c(k),children:[R.jsx(Pn,{className:"md:!min-w-[33%]",children:R.jsx(Ii,{children:R.jsx(mc,{checked:d.has(k._id),type:"checkbox",name:"user",value:k._id,style:{"--cb-size":"15px"},className:"max-w-[25px] h-[5px] mt-1",onChange:p,toggle:!0})})}),S.map(({render:C,isVisible:A},N)=>R.jsx(X.Fragment,{children:A===!1?null:C(k)},N))]},k._id))}),R.jsx(th,{className:"bg-neutral-800 sticky bottom-0 z-10",children:R.jsx(Rs,{children:R.jsx(Zu,{colSpan:100,children:R.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[R.jsx("span",{className:"",children:`Total Users ${r.length}`}),R.jsxs("div",{className:"filter-wrap",children:[R.jsxs(qn,{compact:!0,onClick:t,className:"!bg-green-dark !pt-1 !pb-1",size:"small",filter:Cn.IsDone,children:["Done ",!!e[Cn.IsDone]&&`#${e[Cn.IsDone]}`]}),R.jsxs(qn,{compact:!0,onClick:t,className:"!bg-yellow-dark !pt-1 !pb-1",size:"small",filter:Cn.InProgress,children:["InProgress"," ",!!e[Cn.InProgress]&&`#${e[Cn.InProgress]}`]}),R.jsxs(qn,{compact:!0,onClick:t,className:"!bg-red-dark !pt-1 !pb-1",size:"small",filter:Cn.IsWaiting,children:["Waiting"," ",!!e[Cn.IsWaiting]&&`#${e[Cn.IsWaiting]}`]})]})]})})})})]})})]}),R.jsx(hi,{active:n,children:R.jsx(Wo,{})})]})};xC.displayName="UserList";const iB=({earnings:r})=>{const n=ft(r.startDate).utc(),t=ft(r.endDate).utc();return R.jsx("div",{className:"week-item flex flex-col w-[150px] aspect-square bg-neutral-900 rounded-lg mr-4 mt-4 p-3 dark:text-white",children:R.jsxs("div",{className:"week-content flex h-full flex-col",children:[R.jsx("div",{className:"week-date flex-1",children:R.jsxs("span",{children:[n.format("ddd D")," - ",t.format("ddd D")]})}),R.jsxs("div",{className:"flex flex-1 justify-between",children:[R.jsx("span",{children:"Staked"}),R.jsx("span",{children:an(r.totalStaked)})]}),R.jsxs("div",{className:"flex flex-1 justify-between",children:[R.jsx("span",{children:"Earnings"}),R.jsx("span",{children:an(r.totalEarnings)})]}),R.jsxs("div",{className:"flex flex-1 justify-between",children:[R.jsx("span",{children:"Bonus"}),R.jsx("span",{children:an(r.bonus)})]}),r.approxWinnings>0&&R.jsx(aB,{earnings:r})||R.jsx(oB,{earnings:r})]})})},aB=({earnings:r})=>R.jsxs("div",{className:"flex flex-1 justify-between",children:[R.jsx("span",{children:"Winnings"}),R.jsx(Ht,{content:"Approximate Earnings.",position:"top center",trigger:R.jsx("span",{className:Sn({"text-yellow-dark":!0,"cursor-pointer":!0}),children:an(r.approxWinnings)})})]}),oB=({earnings:r})=>R.jsxs("div",{className:"flex flex-1 justify-between",children:[R.jsx("span",{children:"Winnings"}),R.jsx(Ht,{disabled:!r.bonusDateTime,content:ft(r.bonusDateTime).format("ddd hh:mm A"),position:"top center",trigger:R.jsx("span",{className:Sn({"cursor-pointer":!0,"text-green-dark":r.winnings>0,"text-red-dark":r.winnings<0}),children:an(r.winnings)})})]}),lB=({earnings:r})=>{const n=r.emails.length>=2;if(!r.withdrawal||n)return null;const t=[{Pending:r.withdrawal.TransactionStatus==="Pending",Approved:r.withdrawal.TransactionStatus==="Approved",Processing:["In Process","Sending to Processor"].includes(r.withdrawal.TransactionStatus)}];return R.jsx(R.Fragment,{children:t.map((e,s)=>R.jsxs(Ht,{on:"click",position:"left center",trigger:R.jsx("div",{className:Sn({"rounded-full h-2 w-2 top-6 right-6 absolute cursor-pointer":!0,"bg-yellow-dark":e.Pending,"bg-green-dark":e.Approved,"bg-blue-dark":e.Processing})}),flowing:!0,children:[R.jsxs(Ht.Header,{children:["Withdrawal (",R.jsx("span",{className:Sn({"text-yellow-light":e.Pending,"text-green-light":e.Approved,"text-blue-light":e.Processing}),children:r.withdrawal?.TransactionStatus}),")",R.jsx("span",{className:"transaction-wrap",children:` ${r.withdrawal?.TransactionDateTime&&ft(r.withdrawal.TransactionDateTime).fromNow()}`})]}),R.jsx(Ht.Content,{children:`${r.withdrawal?.PaymentMethodInfo} ${an(r.withdrawal?.Amount??0)}`})]},`WithdrawalPopup-${s}`))})},uB=({userDetails:r,totalWinnings:n,totalWithdrawals:t})=>R.jsx(Ht,{on:"hover",basic:!0,trigger:R.jsx(bn,{name:"info circle",size:"small",className:"cursor-pointer dark:text-white"}),position:"bottom right",mouseLeaveDelay:6e4,children:R.jsxs(li,{vertical:!0,children:[R.jsx(li.Item,{header:!0,children:R.jsxs(Wa,{as:"h3",children:["Year ",ft().format("YYYY")," Details"]})}),R.jsxs(li.Item,{children:[R.jsx(Wa,{as:"h4",children:"Current Balance"}),R.jsx(vs,{className:"!float-none !ml-0",color:"green",children:an(r?.[0]?.data?.userSession?.cash??0)})]}),R.jsxs(li.Item,{children:[R.jsx(Wa,{as:"h4",children:"Available Cashout"}),R.jsx(vs,{className:"!float-none !ml-0",color:"orange",children:an(r?.[0]?.data?.userSession?.cashout??0)})]}),R.jsxs(li.Item,{children:[R.jsx(Wa,{as:"h4",children:"Total Earnings this year"}),R.jsx(vs,{className:"!float-none !ml-0",color:"purple",children:an(n)})]}),R.jsxs(li.Item,{children:[R.jsx(Wa,{as:"h4",children:"Total Cashout this year"}),R.jsxs(vs,{className:"!float-none !ml-0",color:"red",children:[" ",an(Math.abs(t??0))]})]})]})}),cB=()=>{const[r,n]=X.useState(!1),[t,e]=X.useState(new Map),[s,o]=X.useState(!1),[c,d]=X.useState(""),p=X.useCallback(()=>{n(!0)},[]),v=X.useCallback(()=>{n(!1)},[]),y=X.useCallback((k,C)=>{e(A=>{const N=new Map([...A]);return N.has(k)&&N.get(k)===C?N.delete(k):N.set(k,C),N})},[]),S=X.useCallback(k=>{k.preventDefault();const C=new FormData(k.currentTarget),A=C.get("data.email");C.delete("password");const N={_id:A};for(const[M,L]of C.entries())An.set(N,M,L);for(const[M,L]of t.entries())An.set(N,M,L);console.log("userDetails------------------------------------",JSON.stringify(N,null,2)),o(!0),d(""),Gu(!0).pipe(Rm(()=>ui.upsertUserData(N,N.updatedAt))).subscribe({next:M=>{o(!1),console.log("gaga-------------------------------------",M)},error:M=>{o(!1),d(M.error)}})},[t]);return{modal:{active:r,handleOpen:p,handleCLose:v},form:{formFieldState:t,patchValues:y,submit:S,loading:s,error:c}}};function kC(r){var n,t,e="";if(typeof r=="string"||typeof r=="number")e+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(n=0;n<s;n++)r[n]&&(t=kC(r[n]))&&(e&&(e+=" "),e+=t)}else for(t in r)r[t]&&(e&&(e+=" "),e+=t);return e}function rs(){for(var r,n,t=0,e="",s=arguments.length;t<s;t++)(r=arguments[t])&&(n=kC(r))&&(e&&(e+=" "),e+=n);return e}function at(r){const n=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&n==="[object Date]"?new r.constructor(+r):typeof r=="number"||n==="[object Number]"||typeof r=="string"||n==="[object String]"?new Date(r):new Date(NaN)}function vn(r,n){return r instanceof Date?new r.constructor(n):new Date(n)}function Ya(r,n){const t=at(r);return isNaN(n)?vn(r,NaN):(n&&t.setDate(t.getDate()+n),t)}function Ka(r,n){const t=at(r);if(isNaN(n))return vn(r,NaN);if(!n)return t;const e=t.getDate(),s=vn(r,t.getTime());s.setMonth(t.getMonth()+n+1,0);const o=s.getDate();return e>=o?s:(t.setFullYear(s.getFullYear(),s.getMonth(),e),t)}function c_(r,n){const t=+at(r);return vn(r,t+n)}const EC=6048e5,dB=864e5,fb=6e4,pb=36e5,hB=1e3;function fB(r,n){return c_(r,n*pb)}let pB={};function rh(){return pB}function su(r,n){const t=rh(),e=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=at(r),o=s.getDay(),c=(o<e?7:0)+o-e;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function hp(r){return su(r,{weekStartsOn:1})}function CC(r){const n=at(r),t=n.getFullYear(),e=vn(r,0);e.setFullYear(t+1,0,4),e.setHours(0,0,0,0);const s=hp(e),o=vn(r,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const c=hp(o);return n.getTime()>=s.getTime()?t+1:n.getTime()>=c.getTime()?t:t-1}function qd(r){const n=at(r);return n.setHours(0,0,0,0),n}function Ly(r){const n=at(r),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+r-+t}function fp(r,n){const t=qd(r),e=qd(n),s=+t-Ly(t),o=+e-Ly(e);return Math.round((s-o)/dB)}function gB(r){const n=CC(r),t=vn(r,0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),hp(t)}function mw(r,n){return c_(r,n*fb)}function d_(r,n){const t=n*3;return Ka(r,t)}function mB(r,n){return c_(r,n*1e3)}function Fy(r,n){const t=n*7;return Ya(r,t)}function Gl(r,n){return Ka(r,n*12)}function Zx(r){let n;return r.forEach(function(t){const e=at(t);(n===void 0||n<e||isNaN(Number(e)))&&(n=e)}),n||new Date(NaN)}function e1(r){let n;return r.forEach(t=>{const e=at(t);(!n||n>e||isNaN(+e))&&(n=e)}),n||new Date(NaN)}function vB(r,n){const t=qd(r),e=qd(n);return+t==+e}function Vl(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Uy(r){if(!Vl(r)&&typeof r!="number")return!1;const n=at(r);return!isNaN(Number(n))}function By(r,n){const t=at(r),e=at(n),s=t.getFullYear()-e.getFullYear(),o=t.getMonth()-e.getMonth();return s*12+o}function Rd(r){const n=at(r);return Math.trunc(n.getMonth()/3)+1}function Wy(r,n){const t=at(r),e=at(n),s=t.getFullYear()-e.getFullYear(),o=Rd(t)-Rd(e);return s*4+o}function Hy(r,n){const t=at(r),e=at(n);return t.getFullYear()-e.getFullYear()}function yB(r,n){const t=at(r),e=at(n),s=t1(t,e),o=Math.abs(fp(t,e));t.setDate(t.getDate()-s*o);const c=+(t1(t,e)===-s),d=s*(o-c);return d===0?0:d}function t1(r,n){const t=r.getFullYear()-n.getFullYear()||r.getMonth()-n.getMonth()||r.getDate()-n.getDate()||r.getHours()-n.getHours()||r.getMinutes()-n.getMinutes()||r.getSeconds()-n.getSeconds()||r.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function PC(r){const n=at(r);return n.setHours(23,59,59,999),n}function OC(r){const n=at(r),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function vw(r){const n=at(r),t=n.getMonth(),e=t-t%3;return n.setMonth(e,1),n.setHours(0,0,0,0),n}function TC(r){const n=at(r);return n.setDate(1),n.setHours(0,0,0,0),n}function DC(r){const n=at(r),t=n.getFullYear();return n.setFullYear(t+1,0,0),n.setHours(23,59,59,999),n}function gb(r){const n=at(r),t=vn(r,0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}function bB(r,n){const t=rh(),e=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=at(r),o=s.getDay(),c=(o<e?-7:0)+6-(o-e);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const wB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_B=(r,n,t)=>{let e;const s=wB[r];return typeof s=="string"?e=s:n===1?e=s.one:e=s.other.replace("{{count}}",n.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+e:e+" ago":e};function P0(r){return(n={})=>{const t=n.width?String(n.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const SB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EB={date:P0({formats:SB,defaultWidth:"full"}),time:P0({formats:xB,defaultWidth:"full"}),dateTime:P0({formats:kB,defaultWidth:"full"})},CB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PB=(r,n,t,e)=>CB[r];function Bg(r){return(n,t)=>{const e=t?.context?String(t.context):"standalone";let s;if(e==="formatting"&&r.formattingValues){const c=r.defaultFormattingWidth||r.defaultWidth,d=t?.width?String(t.width):c;s=r.formattingValues[d]||r.formattingValues[c]}else{const c=r.defaultWidth,d=t?.width?String(t.width):r.defaultWidth;s=r.values[d]||r.values[c]}const o=r.argumentCallback?r.argumentCallback(n):n;return s[o]}}const OB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MB=(r,n)=>{const t=Number(r),e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},RB={ordinalNumber:MB,era:Bg({values:OB,defaultWidth:"wide"}),quarter:Bg({values:TB,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Bg({values:DB,defaultWidth:"wide"}),day:Bg({values:NB,defaultWidth:"wide"}),dayPeriod:Bg({values:AB,defaultWidth:"wide",formattingValues:IB,defaultFormattingWidth:"wide"})};function Wg(r){return(n,t={})=>{const e=t.width,s=e&&r.matchPatterns[e]||r.matchPatterns[r.defaultMatchWidth],o=n.match(s);if(!o)return null;const c=o[0],d=e&&r.parsePatterns[e]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(d)?$B(d,S=>S.test(c)):jB(d,S=>S.test(c));let v;v=r.valueCallback?r.valueCallback(p):p,v=t.valueCallback?t.valueCallback(v):v;const y=n.slice(c.length);return{value:v,rest:y}}}function jB(r,n){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&n(r[t]))return t}function $B(r,n){for(let t=0;t<r.length;t++)if(n(r[t]))return t}function LB(r){return(n,t={})=>{const e=n.match(r.matchPattern);if(!e)return null;const s=e[0],o=n.match(r.parsePattern);if(!o)return null;let c=r.valueCallback?r.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const d=n.slice(s.length);return{value:c,rest:d}}}const FB=/^(\d+)(th|st|nd|rd)?/i,UB=/\d+/i,BB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WB={any:[/^b/i,/^(a|c)/i]},HB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zB={any:[/1/i,/2/i,/3/i,/4/i]},qB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JB={ordinalNumber:LB({matchPattern:FB,parsePattern:UB,valueCallback:r=>parseInt(r,10)}),era:Wg({matchPatterns:BB,defaultMatchWidth:"wide",parsePatterns:WB,defaultParseWidth:"any"}),quarter:Wg({matchPatterns:HB,defaultMatchWidth:"wide",parsePatterns:zB,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Wg({matchPatterns:qB,defaultMatchWidth:"wide",parsePatterns:YB,defaultParseWidth:"any"}),day:Wg({matchPatterns:KB,defaultMatchWidth:"wide",parsePatterns:GB,defaultParseWidth:"any"}),dayPeriod:Wg({matchPatterns:VB,defaultMatchWidth:"any",parsePatterns:QB,defaultParseWidth:"any"})},NC={code:"en-US",formatDistance:_B,formatLong:EB,formatRelative:PB,localize:RB,match:JB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XB(r){const n=at(r);return fp(n,gb(n))+1}function h_(r){const n=at(r),t=+hp(n)-+gB(n);return Math.round(t/EC)+1}function f_(r,n){const t=at(r),e=t.getFullYear(),s=rh(),o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=vn(r,0);c.setFullYear(e+1,0,o),c.setHours(0,0,0,0);const d=su(c,n),p=vn(r,0);p.setFullYear(e,0,o),p.setHours(0,0,0,0);const v=su(p,n);return t.getTime()>=d.getTime()?e+1:t.getTime()>=v.getTime()?e:e-1}function ZB(r,n){const t=rh(),e=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=f_(r,n),o=vn(r,0);return o.setFullYear(s,0,e),o.setHours(0,0,0,0),su(o,n)}function AC(r,n){const t=at(r),e=+su(t,n)-+ZB(t,n);return Math.round(e/EC)+1}function mn(r,n){const t=r<0?"-":"",e=Math.abs(r).toString().padStart(n,"0");return t+e}const Yu={y(r,n){const t=r.getFullYear(),e=t>0?t:1-t;return mn(n==="yy"?e%100:e,n.length)},M(r,n){const t=r.getMonth();return n==="M"?String(t+1):mn(t+1,2)},d(r,n){return mn(r.getDate(),n.length)},a(r,n){const t=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,n){return mn(r.getHours()%12||12,n.length)},H(r,n){return mn(r.getHours(),n.length)},m(r,n){return mn(r.getMinutes(),n.length)},s(r,n){return mn(r.getSeconds(),n.length)},S(r,n){const t=n.length,e=r.getMilliseconds(),s=Math.trunc(e*Math.pow(10,t-3));return mn(s,n.length)}},Df={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n1={G:function(r,n,t){const e=r.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})}},y:function(r,n,t){if(n==="yo"){const e=r.getFullYear(),s=e>0?e:1-e;return t.ordinalNumber(s,{unit:"year"})}return Yu.y(r,n)},Y:function(r,n,t,e){const s=f_(r,e),o=s>0?s:1-s;if(n==="YY"){const c=o%100;return mn(c,2)}return n==="Yo"?t.ordinalNumber(o,{unit:"year"}):mn(o,n.length)},R:function(r,n){const t=CC(r);return mn(t,n.length)},u:function(r,n){const t=r.getFullYear();return mn(t,n.length)},Q:function(r,n,t){const e=Math.ceil((r.getMonth()+1)/3);switch(n){case"Q":return String(e);case"QQ":return mn(e,2);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})}},q:function(r,n,t){const e=Math.ceil((r.getMonth()+1)/3);switch(n){case"q":return String(e);case"qq":return mn(e,2);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})}},M:function(r,n,t){const e=r.getMonth();switch(n){case"M":case"MM":return Yu.M(r,n);case"Mo":return t.ordinalNumber(e+1,{unit:"month"});case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})}},L:function(r,n,t){const e=r.getMonth();switch(n){case"L":return String(e+1);case"LL":return mn(e+1,2);case"Lo":return t.ordinalNumber(e+1,{unit:"month"});case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})}},w:function(r,n,t,e){const s=AC(r,e);return n==="wo"?t.ordinalNumber(s,{unit:"week"}):mn(s,n.length)},I:function(r,n,t){const e=h_(r);return n==="Io"?t.ordinalNumber(e,{unit:"week"}):mn(e,n.length)},d:function(r,n,t){return n==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Yu.d(r,n)},D:function(r,n,t){const e=XB(r);return n==="Do"?t.ordinalNumber(e,{unit:"dayOfYear"}):mn(e,n.length)},E:function(r,n,t){const e=r.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})}},e:function(r,n,t,e){const s=r.getDay(),o=(s-e.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return mn(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(r,n,t,e){const s=r.getDay(),o=(s-e.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return mn(o,n.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(r,n,t){const e=r.getDay(),s=e===0?7:e;switch(n){case"i":return String(s);case"ii":return mn(s,n.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(e,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(e,{width:"short",context:"formatting"});case"iiii":default:return t.day(e,{width:"wide",context:"formatting"})}},a:function(r,n,t){const s=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,n,t){const e=r.getHours();let s;switch(e===12?s=Df.noon:e===0?s=Df.midnight:s=e/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(r,n,t){const e=r.getHours();let s;switch(e>=17?s=Df.evening:e>=12?s=Df.afternoon:e>=4?s=Df.morning:s=Df.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(r,n,t){if(n==="ho"){let e=r.getHours()%12;return e===0&&(e=12),t.ordinalNumber(e,{unit:"hour"})}return Yu.h(r,n)},H:function(r,n,t){return n==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Yu.H(r,n)},K:function(r,n,t){const e=r.getHours()%12;return n==="Ko"?t.ordinalNumber(e,{unit:"hour"}):mn(e,n.length)},k:function(r,n,t){let e=r.getHours();return e===0&&(e=24),n==="ko"?t.ordinalNumber(e,{unit:"hour"}):mn(e,n.length)},m:function(r,n,t){return n==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Yu.m(r,n)},s:function(r,n,t){return n==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Yu.s(r,n)},S:function(r,n){return Yu.S(r,n)},X:function(r,n,t){const e=r.getTimezoneOffset();if(e===0)return"Z";switch(n){case"X":return s1(e);case"XXXX":case"XX":return Od(e);case"XXXXX":case"XXX":default:return Od(e,":")}},x:function(r,n,t){const e=r.getTimezoneOffset();switch(n){case"x":return s1(e);case"xxxx":case"xx":return Od(e);case"xxxxx":case"xxx":default:return Od(e,":")}},O:function(r,n,t){const e=r.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+r1(e,":");case"OOOO":default:return"GMT"+Od(e,":")}},z:function(r,n,t){const e=r.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+r1(e,":");case"zzzz":default:return"GMT"+Od(e,":")}},t:function(r,n,t){const e=Math.trunc(r.getTime()/1e3);return mn(e,n.length)},T:function(r,n,t){const e=r.getTime();return mn(e,n.length)}};function r1(r,n=""){const t=r>0?"-":"+",e=Math.abs(r),s=Math.trunc(e/60),o=e%60;return o===0?t+String(s):t+String(s)+n+mn(o,2)}function s1(r,n){return r%60===0?(r>0?"-":"+")+mn(Math.abs(r)/60,2):Od(r,n)}function Od(r,n=""){const t=r>0?"-":"+",e=Math.abs(r),s=mn(Math.trunc(e/60),2),o=mn(e%60,2);return t+s+n+o}const i1=(r,n)=>{switch(r){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},IC=(r,n)=>{switch(r){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},eW=(r,n)=>{const t=r.match(/(P+)(p+)?/)||[],e=t[1],s=t[2];if(!s)return i1(r,n);let o;switch(e){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",i1(e,n)).replace("{{time}}",IC(s,n))},zy={p:IC,P:eW},tW=/^D+$/,nW=/^Y+$/,rW=["D","DD","YY","YYYY"];function MC(r){return tW.test(r)}function RC(r){return nW.test(r)}function yw(r,n,t){const e=sW(r,n,t);if(console.warn(e),rW.includes(r))throw new RangeError(e)}function sW(r,n,t){const e=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${n}\`) for formatting ${e} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oW=/^'([^]*?)'?$/,lW=/''/g,uW=/[a-zA-Z]/;function a1(r,n,t){const e=rh(),s=t?.locale??e.locale??NC,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,c=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,d=at(r);if(!Uy(d))throw new RangeError("Invalid time value");let p=n.match(aW).map(y=>{const S=y[0];if(S==="p"||S==="P"){const k=zy[S];return k(y,s.formatLong)}return y}).join("").match(iW).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const S=y[0];if(S==="'")return{isToken:!1,value:cW(y)};if(n1[S])return{isToken:!0,value:y};if(S.match(uW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(p=s.localize.preprocessor(d,p));const v={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return p.map(y=>{if(!y.isToken)return y.value;const S=y.value;(!t?.useAdditionalWeekYearTokens&&RC(S)||!t?.useAdditionalDayOfYearTokens&&MC(S))&&yw(S,n,String(r));const k=n1[S[0]];return k(d,S,s.localize,v)}).join("")}function cW(r){const n=r.match(oW);return n?n[1].replace(lW,"'"):r}function o1(r){return at(r).getDate()}function dW(r){return at(r).getDay()}function hW(r){const n=at(r),t=n.getFullYear(),e=n.getMonth(),s=vn(r,0);return s.setFullYear(t,e+1,0),s.setHours(0,0,0,0),s.getDate()}function fW(){return Object.assign({},rh())}function $o(r){return at(r).getHours()}function pW(r){let t=at(r).getDay();return t===0&&(t=7),t}function Lo(r){return at(r).getMinutes()}function js(r){return at(r).getMonth()}function Ql(r){return at(r).getSeconds()}function bw(r){return at(r).getTime()}function Wt(r){return at(r).getFullYear()}function hc(r,n){const t=at(r),e=at(n);return t.getTime()>e.getTime()}function Yd(r,n){const t=at(r),e=at(n);return+t<+e}function gW(r,n){const t=at(r),e=at(n);return+t==+e}function mW(r,n){const t=n instanceof Date?vn(n,0):new n(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const vW=10;class jC{subPriority=0;validate(n,t){return!0}}class yW extends jC{constructor(n,t,e,s,o){super(),this.value=n,this.validateValue=t,this.setValue=e,this.priority=s,o&&(this.subPriority=o)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,e){return this.setValue(n,t,this.value,e)}}class bW extends jC{priority=vW;subPriority=-1;set(n,t){return t.timestampIsSet?n:vn(n,mW(n,Date))}}class ln{run(n,t,e,s){const o=this.parse(n,t,e,s);return o?{setter:new yW(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(n,t,e){return!0}}class wW extends ln{priority=140;parse(n,t,e){switch(t){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"})||e.era(n,{width:"narrow"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})||e.era(n,{width:"abbreviated"})||e.era(n,{width:"narrow"})}}set(n,t,e){return t.era=e,n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}incompatibleTokens=["R","u","t","T"]}const dr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},No={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function hr(r,n){return r&&{value:n(r.value),rest:r.rest}}function Yn(r,n){const t=n.match(r);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function Ao(r,n){const t=n.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const e=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:e*(s*pb+o*fb+c*hB),rest:n.slice(t[0].length)}}function $C(r){return Yn(dr.anyDigitsSigned,r)}function nr(r,n){switch(r){case 1:return Yn(dr.singleDigit,n);case 2:return Yn(dr.twoDigits,n);case 3:return Yn(dr.threeDigits,n);case 4:return Yn(dr.fourDigits,n);default:return Yn(new RegExp("^\\d{1,"+r+"}"),n)}}function qy(r,n){switch(r){case 1:return Yn(dr.singleDigitSigned,n);case 2:return Yn(dr.twoDigitsSigned,n);case 3:return Yn(dr.threeDigitsSigned,n);case 4:return Yn(dr.fourDigitsSigned,n);default:return Yn(new RegExp("^-?\\d{1,"+r+"}"),n)}}function p_(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function LC(r,n){const t=n>0,e=t?n:1-n;let s;if(e<=50)s=r||100;else{const o=e+50,c=Math.trunc(o/100)*100,d=r>=o%100;s=r+c-(d?100:0)}return t?s:1-s}function FC(r){return r%400===0||r%4===0&&r%100!==0}class _W extends ln{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(n,t,e){const s=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return hr(nr(4,n),s);case"yo":return hr(e.ordinalNumber(n,{unit:"year"}),s);default:return hr(nr(t.length,n),s)}}validate(n,t){return t.isTwoDigitYear||t.year>0}set(n,t,e){const s=n.getFullYear();if(e.isTwoDigitYear){const c=LC(e.year,s);return n.setFullYear(c,0,1),n.setHours(0,0,0,0),n}const o=!("era"in t)||t.era===1?e.year:1-e.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class SW extends ln{priority=130;parse(n,t,e){const s=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return hr(nr(4,n),s);case"Yo":return hr(e.ordinalNumber(n,{unit:"year"}),s);default:return hr(nr(t.length,n),s)}}validate(n,t){return t.isTwoDigitYear||t.year>0}set(n,t,e,s){const o=f_(n,s);if(e.isTwoDigitYear){const d=LC(e.year,o);return n.setFullYear(d,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),su(n,s)}const c=!("era"in t)||t.era===1?e.year:1-e.year;return n.setFullYear(c,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),su(n,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class xW extends ln{priority=130;parse(n,t){return qy(t==="R"?4:t.length,n)}set(n,t,e){const s=vn(n,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),hp(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class kW extends ln{priority=130;parse(n,t){return qy(t==="u"?4:t.length,n)}set(n,t,e){return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class EW extends ln{priority=120;parse(n,t,e){switch(t){case"Q":case"QQ":return nr(t.length,n);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"})||e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})||e.quarter(n,{width:"abbreviated",context:"formatting"})||e.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,t){return t>=1&&t<=4}set(n,t,e){return n.setMonth((e-1)*3,1),n.setHours(0,0,0,0),n}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class CW extends ln{priority=120;parse(n,t,e){switch(t){case"q":case"qq":return nr(t.length,n);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"})||e.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})||e.quarter(n,{width:"abbreviated",context:"standalone"})||e.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,t){return t>=1&&t<=4}set(n,t,e){return n.setMonth((e-1)*3,1),n.setHours(0,0,0,0),n}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class PW extends ln{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(n,t,e){const s=o=>o-1;switch(t){case"M":return hr(Yn(dr.month,n),s);case"MM":return hr(nr(2,n),s);case"Mo":return hr(e.ordinalNumber(n,{unit:"month"}),s);case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"})||e.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})||e.month(n,{width:"abbreviated",context:"formatting"})||e.month(n,{width:"narrow",context:"formatting"})}}validate(n,t){return t>=0&&t<=11}set(n,t,e){return n.setMonth(e,1),n.setHours(0,0,0,0),n}}class OW extends ln{priority=110;parse(n,t,e){const s=o=>o-1;switch(t){case"L":return hr(Yn(dr.month,n),s);case"LL":return hr(nr(2,n),s);case"Lo":return hr(e.ordinalNumber(n,{unit:"month"}),s);case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"})||e.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})||e.month(n,{width:"abbreviated",context:"standalone"})||e.month(n,{width:"narrow",context:"standalone"})}}validate(n,t){return t>=0&&t<=11}set(n,t,e){return n.setMonth(e,1),n.setHours(0,0,0,0),n}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function TW(r,n,t){const e=at(r),s=AC(e,t)-n;return e.setDate(e.getDate()-s*7),e}class DW extends ln{priority=100;parse(n,t,e){switch(t){case"w":return Yn(dr.week,n);case"wo":return e.ordinalNumber(n,{unit:"week"});default:return nr(t.length,n)}}validate(n,t){return t>=1&&t<=53}set(n,t,e,s){return su(TW(n,e,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function NW(r,n){const t=at(r),e=h_(t)-n;return t.setDate(t.getDate()-e*7),t}class AW extends ln{priority=100;parse(n,t,e){switch(t){case"I":return Yn(dr.week,n);case"Io":return e.ordinalNumber(n,{unit:"week"});default:return nr(t.length,n)}}validate(n,t){return t>=1&&t<=53}set(n,t,e){return hp(NW(n,e))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const IW=[31,28,31,30,31,30,31,31,30,31,30,31],MW=[31,29,31,30,31,30,31,31,30,31,30,31];class RW extends ln{priority=90;subPriority=1;parse(n,t,e){switch(t){case"d":return Yn(dr.date,n);case"do":return e.ordinalNumber(n,{unit:"date"});default:return nr(t.length,n)}}validate(n,t){const e=n.getFullYear(),s=FC(e),o=n.getMonth();return s?t>=1&&t<=MW[o]:t>=1&&t<=IW[o]}set(n,t,e){return n.setDate(e),n.setHours(0,0,0,0),n}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class jW extends ln{priority=90;subpriority=1;parse(n,t,e){switch(t){case"D":case"DD":return Yn(dr.dayOfYear,n);case"Do":return e.ordinalNumber(n,{unit:"date"});default:return nr(t.length,n)}}validate(n,t){const e=n.getFullYear();return FC(e)?t>=1&&t<=366:t>=1&&t<=365}set(n,t,e){return n.setMonth(0,e),n.setHours(0,0,0,0),n}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function g_(r,n,t){const e=rh(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,o=at(r),c=o.getDay(),p=(n%7+7)%7,v=7-s,y=n<0||n>6?n-(c+v)%7:(p+v)%7-(c+v)%7;return Ya(o,y)}class $W extends ln{priority=90;parse(n,t,e){switch(t){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"})||e.day(n,{width:"short",context:"formatting"})||e.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"})||e.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})||e.day(n,{width:"abbreviated",context:"formatting"})||e.day(n,{width:"short",context:"formatting"})||e.day(n,{width:"narrow",context:"formatting"})}}validate(n,t){return t>=0&&t<=6}set(n,t,e,s){return n=g_(n,e,s),n.setHours(0,0,0,0),n}incompatibleTokens=["D","i","e","c","t","T"]}class LW extends ln{priority=90;parse(n,t,e,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"e":case"ee":return hr(nr(t.length,n),o);case"eo":return hr(e.ordinalNumber(n,{unit:"day"}),o);case"eee":return e.day(n,{width:"abbreviated",context:"formatting"})||e.day(n,{width:"short",context:"formatting"})||e.day(n,{width:"narrow",context:"formatting"});case"eeeee":return e.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(n,{width:"short",context:"formatting"})||e.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return e.day(n,{width:"wide",context:"formatting"})||e.day(n,{width:"abbreviated",context:"formatting"})||e.day(n,{width:"short",context:"formatting"})||e.day(n,{width:"narrow",context:"formatting"})}}validate(n,t){return t>=0&&t<=6}set(n,t,e,s){return n=g_(n,e,s),n.setHours(0,0,0,0),n}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class FW extends ln{priority=90;parse(n,t,e,s){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(t){case"c":case"cc":return hr(nr(t.length,n),o);case"co":return hr(e.ordinalNumber(n,{unit:"day"}),o);case"ccc":return e.day(n,{width:"abbreviated",context:"standalone"})||e.day(n,{width:"short",context:"standalone"})||e.day(n,{width:"narrow",context:"standalone"});case"ccccc":return e.day(n,{width:"narrow",context:"standalone"});case"cccccc":return e.day(n,{width:"short",context:"standalone"})||e.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return e.day(n,{width:"wide",context:"standalone"})||e.day(n,{width:"abbreviated",context:"standalone"})||e.day(n,{width:"short",context:"standalone"})||e.day(n,{width:"narrow",context:"standalone"})}}validate(n,t){return t>=0&&t<=6}set(n,t,e,s){return n=g_(n,e,s),n.setHours(0,0,0,0),n}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function UW(r,n){const t=at(r),e=pW(t),s=n-e;return Ya(t,s)}class BW extends ln{priority=90;parse(n,t,e){const s=o=>o===0?7:o;switch(t){case"i":case"ii":return nr(t.length,n);case"io":return e.ordinalNumber(n,{unit:"day"});case"iii":return hr(e.day(n,{width:"abbreviated",context:"formatting"})||e.day(n,{width:"short",context:"formatting"})||e.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return hr(e.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return hr(e.day(n,{width:"short",context:"formatting"})||e.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return hr(e.day(n,{width:"wide",context:"formatting"})||e.day(n,{width:"abbreviated",context:"formatting"})||e.day(n,{width:"short",context:"formatting"})||e.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,t){return t>=1&&t<=7}set(n,t,e){return n=UW(n,e),n.setHours(0,0,0,0),n}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class WW extends ln{priority=80;parse(n,t,e){switch(t){case"a":case"aa":case"aaa":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"})||e.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return e.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(n,{width:"wide",context:"formatting"})||e.dayPeriod(n,{width:"abbreviated",context:"formatting"})||e.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,t,e){return n.setHours(p_(e),0,0,0),n}incompatibleTokens=["b","B","H","k","t","T"]}class HW extends ln{priority=80;parse(n,t,e){switch(t){case"b":case"bb":case"bbb":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"})||e.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return e.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(n,{width:"wide",context:"formatting"})||e.dayPeriod(n,{width:"abbreviated",context:"formatting"})||e.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,t,e){return n.setHours(p_(e),0,0,0),n}incompatibleTokens=["a","B","H","k","t","T"]}class zW extends ln{priority=80;parse(n,t,e){switch(t){case"B":case"BB":case"BBB":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"})||e.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return e.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(n,{width:"wide",context:"formatting"})||e.dayPeriod(n,{width:"abbreviated",context:"formatting"})||e.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,t,e){return n.setHours(p_(e),0,0,0),n}incompatibleTokens=["a","b","t","T"]}class qW extends ln{priority=70;parse(n,t,e){switch(t){case"h":return Yn(dr.hour12h,n);case"ho":return e.ordinalNumber(n,{unit:"hour"});default:return nr(t.length,n)}}validate(n,t){return t>=1&&t<=12}set(n,t,e){const s=n.getHours()>=12;return s&&e<12?n.setHours(e+12,0,0,0):!s&&e===12?n.setHours(0,0,0,0):n.setHours(e,0,0,0),n}incompatibleTokens=["H","K","k","t","T"]}class YW extends ln{priority=70;parse(n,t,e){switch(t){case"H":return Yn(dr.hour23h,n);case"Ho":return e.ordinalNumber(n,{unit:"hour"});default:return nr(t.length,n)}}validate(n,t){return t>=0&&t<=23}set(n,t,e){return n.setHours(e,0,0,0),n}incompatibleTokens=["a","b","h","K","k","t","T"]}class KW extends ln{priority=70;parse(n,t,e){switch(t){case"K":return Yn(dr.hour11h,n);case"Ko":return e.ordinalNumber(n,{unit:"hour"});default:return nr(t.length,n)}}validate(n,t){return t>=0&&t<=11}set(n,t,e){return n.getHours()>=12&&e<12?n.setHours(e+12,0,0,0):n.setHours(e,0,0,0),n}incompatibleTokens=["h","H","k","t","T"]}class GW extends ln{priority=70;parse(n,t,e){switch(t){case"k":return Yn(dr.hour24h,n);case"ko":return e.ordinalNumber(n,{unit:"hour"});default:return nr(t.length,n)}}validate(n,t){return t>=1&&t<=24}set(n,t,e){const s=e<=24?e%24:e;return n.setHours(s,0,0,0),n}incompatibleTokens=["a","b","h","H","K","t","T"]}class VW extends ln{priority=60;parse(n,t,e){switch(t){case"m":return Yn(dr.minute,n);case"mo":return e.ordinalNumber(n,{unit:"minute"});default:return nr(t.length,n)}}validate(n,t){return t>=0&&t<=59}set(n,t,e){return n.setMinutes(e,0,0),n}incompatibleTokens=["t","T"]}class QW extends ln{priority=50;parse(n,t,e){switch(t){case"s":return Yn(dr.second,n);case"so":return e.ordinalNumber(n,{unit:"second"});default:return nr(t.length,n)}}validate(n,t){return t>=0&&t<=59}set(n,t,e){return n.setSeconds(e,0),n}incompatibleTokens=["t","T"]}class JW extends ln{priority=30;parse(n,t){const e=s=>Math.trunc(s*Math.pow(10,-t.length+3));return hr(nr(t.length,n),e)}set(n,t,e){return n.setMilliseconds(e),n}incompatibleTokens=["t","T"]}class XW extends ln{priority=10;parse(n,t){switch(t){case"X":return Ao(No.basicOptionalMinutes,n);case"XX":return Ao(No.basic,n);case"XXXX":return Ao(No.basicOptionalSeconds,n);case"XXXXX":return Ao(No.extendedOptionalSeconds,n);case"XXX":default:return Ao(No.extended,n)}}set(n,t,e){return t.timestampIsSet?n:vn(n,n.getTime()-Ly(n)-e)}incompatibleTokens=["t","T","x"]}class ZW extends ln{priority=10;parse(n,t){switch(t){case"x":return Ao(No.basicOptionalMinutes,n);case"xx":return Ao(No.basic,n);case"xxxx":return Ao(No.basicOptionalSeconds,n);case"xxxxx":return Ao(No.extendedOptionalSeconds,n);case"xxx":default:return Ao(No.extended,n)}}set(n,t,e){return t.timestampIsSet?n:vn(n,n.getTime()-Ly(n)-e)}incompatibleTokens=["t","T","X"]}class eH extends ln{priority=40;parse(n){return $C(n)}set(n,t,e){return[vn(n,e*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class tH extends ln{priority=20;parse(n){return $C(n)}set(n,t,e){return[vn(n,e),{timestampIsSet:!0}]}incompatibleTokens="*"}const nH={G:new wW,y:new _W,Y:new SW,R:new xW,u:new kW,Q:new EW,q:new CW,M:new PW,L:new OW,w:new DW,I:new AW,d:new RW,D:new jW,E:new $W,e:new LW,c:new FW,i:new BW,a:new WW,b:new HW,B:new zW,h:new qW,H:new YW,K:new KW,k:new GW,m:new VW,s:new QW,S:new JW,X:new XW,x:new ZW,t:new eH,T:new tH},rH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iH=/^'([^]*?)'?$/,aH=/''/g,oH=/\S/,lH=/[a-zA-Z]/;function O0(r,n,t,e){const s=fW(),o=e?.locale??s.locale??NC,c=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,d=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(n==="")return r===""?at(t):vn(t,NaN);const p={firstWeekContainsDate:c,weekStartsOn:d,locale:o},v=[new bW],y=n.match(sH).map(N=>{const M=N[0];if(M in zy){const L=zy[M];return L(N,o.formatLong)}return N}).join("").match(rH),S=[];for(let N of y){!e?.useAdditionalWeekYearTokens&&RC(N)&&yw(N,n,r),!e?.useAdditionalDayOfYearTokens&&MC(N)&&yw(N,n,r);const M=N[0],L=nH[M];if(L){const{incompatibleTokens:G}=L;if(Array.isArray(G)){const V=S.find(z=>G.includes(z.token)||z.token===M);if(V)throw new RangeError(`The format string mustn't contain \`${V.fullToken}\` and \`${N}\` at the same time`)}else if(L.incompatibleTokens==="*"&&S.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);S.push({token:M,fullToken:N});const W=L.run(r,N,o.match,p);if(!W)return vn(t,NaN);v.push(W.setter),r=W.rest}else{if(M.match(lH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");if(N==="''"?N="'":M==="'"&&(N=uH(N)),r.indexOf(N)===0)r=r.slice(N.length);else return vn(t,NaN)}}if(r.length>0&&oH.test(r))return vn(t,NaN);const k=v.map(N=>N.priority).sort((N,M)=>M-N).filter((N,M,L)=>L.indexOf(N)===M).map(N=>v.filter(M=>M.priority===N).sort((M,L)=>L.subPriority-M.subPriority)).map(N=>N[0]);let C=at(t);if(isNaN(C.getTime()))return vn(t,NaN);const A={};for(const N of k){if(!N.validate(C,p))return vn(t,NaN);const M=N.set(C,A,p);Array.isArray(M)?(C=M[0],Object.assign(A,M[1])):C=M}return vn(t,C)}function uH(r){return r.match(iH)[1].replace(aH,"'")}function cH(r,n){const t=at(r),e=at(n);return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function dH(r,n){const t=vw(r),e=vw(n);return+t==+e}function hH(r,n){const t=at(r),e=at(n);return t.getFullYear()===e.getFullYear()}function Em(r,n){const t=+at(r),[e,s]=[+at(n.start),+at(n.end)].sort((o,c)=>o-c);return t>=e&&t<=s}function fH(r,n){return Ya(r,-1)}function pH(r,n){const e=yH(r);let s;if(e.date){const p=bH(e.date,2);s=wH(p.restDateString,p.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let c=0,d;if(e.time&&(c=_H(e.time),isNaN(c)))return new Date(NaN);if(e.timezone){if(d=SH(e.timezone),isNaN(d))return new Date(NaN)}else{const p=new Date(o+c),v=new Date(0);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return new Date(o+c+d)}const Jv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yH(r){const n={},t=r.split(Jv.dateTimeDelimiter);let e;if(t.length>2)return n;if(/:/.test(t[0])?e=t[0]:(n.date=t[0],e=t[1],Jv.timeZoneDelimiter.test(n.date)&&(n.date=r.split(Jv.timeZoneDelimiter)[0],e=r.substr(n.date.length,r.length))),e){const s=Jv.timezone.exec(e);s?(n.time=e.replace(s[1],""),n.timezone=s[1]):n.time=e}return n}function bH(r,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),e=r.match(t);if(!e)return{year:NaN,restDateString:""};const s=e[1]?parseInt(e[1]):null,o=e[2]?parseInt(e[2]):null;return{year:o===null?s:o*100,restDateString:r.slice((e[1]||e[2]).length)}}function wH(r,n){if(n===null)return new Date(NaN);const t=r.match(gH);if(!t)return new Date(NaN);const e=!!t[4],s=Hg(t[1]),o=Hg(t[2])-1,c=Hg(t[3]),d=Hg(t[4]),p=Hg(t[5])-1;if(e)return PH(n,d,p)?xH(n,d,p):new Date(NaN);{const v=new Date(0);return!EH(n,o,c)||!CH(n,s)?new Date(NaN):(v.setUTCFullYear(n,o,Math.max(s,c)),v)}}function Hg(r){return r?parseInt(r):1}function _H(r){const n=r.match(mH);if(!n)return NaN;const t=T0(n[1]),e=T0(n[2]),s=T0(n[3]);return OH(t,e,s)?t*pb+e*fb+s*1e3:NaN}function T0(r){return r&&parseFloat(r.replace(",","."))||0}function SH(r){if(r==="Z")return 0;const n=r.match(vH);if(!n)return 0;const t=n[1]==="+"?-1:1,e=parseInt(n[2]),s=n[3]&&parseInt(n[3])||0;return TH(e,s)?t*(e*pb+s*fb):NaN}function xH(r,n,t){const e=new Date(0);e.setUTCFullYear(r,0,4);const s=e.getUTCDay()||7,o=(n-1)*7+t+1-s;return e.setUTCDate(e.getUTCDate()+o),e}const kH=[31,null,31,30,31,30,31,31,30,31,30,31];function UC(r){return r%400===0||r%4===0&&r%100!==0}function EH(r,n,t){return n>=0&&n<=11&&t>=1&&t<=(kH[n]||(UC(r)?29:28))}function CH(r,n){return n>=1&&n<=(UC(r)?366:365)}function PH(r,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function OH(r,n,t){return r===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&r>=0&&r<25}function TH(r,n){return n>=0&&n<=59}function Di(r,n){const t=at(r),e=t.getFullYear(),s=t.getDate(),o=vn(r,0);o.setFullYear(e,n,15),o.setHours(0,0,0,0);const c=hW(o);return t.setMonth(n,Math.min(s,c)),t}function DH(r,n){let t=at(r);return isNaN(+t)?vn(r,NaN):(n.year!=null&&t.setFullYear(n.year),n.month!=null&&(t=Di(t,n.month)),n.date!=null&&t.setDate(n.date),n.hours!=null&&t.setHours(n.hours),n.minutes!=null&&t.setMinutes(n.minutes),n.seconds!=null&&t.setSeconds(n.seconds),n.milliseconds!=null&&t.setMilliseconds(n.milliseconds),t)}function wy(r,n){const t=at(r);return t.setHours(n),t}function _y(r,n){const t=at(r);return t.setMinutes(n),t}function Mf(r,n){const t=at(r),e=Math.trunc(t.getMonth()/3)+1,s=n-e;return Di(t,t.getMonth()+s*3)}function Sy(r,n){const t=at(r);return t.setSeconds(n),t}function Po(r,n){const t=at(r);return isNaN(+t)?vn(r,NaN):(t.setFullYear(n),t)}function jd(r,n){return Ka(r,-n)}function BC(r,n){return d_(r,-1)}function l1(r,n){return Fy(r,-1)}function pp(r,n){return Gl(r,-n)}function mb(){return typeof window<"u"}function kp(r){return WC(r)?(r.nodeName||"").toLowerCase():"#document"}function Ai(r){var n;return(r==null||(n=r.ownerDocument)==null?void 0:n.defaultView)||window}function Vo(r){var n;return(n=(WC(r)?r.ownerDocument:r.document)||window.document)==null?void 0:n.documentElement}function WC(r){return mb()?r instanceof Node||r instanceof Ai(r).Node:!1}function $s(r){return mb()?r instanceof Element||r instanceof Ai(r).Element:!1}function qo(r){return mb()?r instanceof HTMLElement||r instanceof Ai(r).HTMLElement:!1}function u1(r){return!mb()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Ai(r).ShadowRoot}const NH=new Set(["inline","contents"]);function Lm(r){const{overflow:n,overflowX:t,overflowY:e,display:s}=fa(r);return/auto|scroll|overlay|hidden|clip/.test(n+e+t)&&!NH.has(s)}const AH=new Set(["table","td","th"]);function IH(r){return AH.has(kp(r))}const MH=[":popover-open",":modal"];function vb(r){return MH.some(n=>{try{return r.matches(n)}catch{return!1}})}const RH=["transform","translate","scale","rotate","perspective"],jH=["transform","translate","scale","rotate","perspective","filter"],$H=["paint","layout","strict","content"];function m_(r){const n=v_(),t=$s(r)?fa(r):r;return RH.some(e=>t[e]?t[e]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||jH.some(e=>(t.willChange||"").includes(e))||$H.some(e=>(t.contain||"").includes(e))}function LH(r){let n=fc(r);for(;qo(n)&&!gp(n);){if(m_(n))return n;if(vb(n))return null;n=fc(n)}return null}function v_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FH=new Set(["html","body","#document"]);function gp(r){return FH.has(kp(r))}function fa(r){return Ai(r).getComputedStyle(r)}function yb(r){return $s(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function fc(r){if(kp(r)==="html")return r;const n=r.assignedSlot||r.parentNode||u1(r)&&r.host||Vo(r);return u1(n)?n.host:n}function HC(r){const n=fc(r);return gp(n)?r.ownerDocument?r.ownerDocument.body:r.body:qo(n)&&Lm(n)?n:HC(n)}function Cm(r,n,t){var e;n===void 0&&(n=[]),t===void 0&&(t=!0);const s=HC(r),o=s===((e=r.ownerDocument)==null?void 0:e.body),c=Ai(s);if(o){const d=ww(c);return n.concat(c,c.visualViewport||[],Lm(s)?s:[],d&&t?Cm(d):[])}return n.concat(s,Cm(s,[],t))}function ww(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const mp=Math.min,$d=Math.max,Yy=Math.round,Xv=Math.floor,Fo=r=>({x:r,y:r}),UH={left:"right",right:"left",bottom:"top",top:"bottom"},BH={start:"end",end:"start"};function WH(r,n,t){return $d(r,mp(n,t))}function bb(r,n){return typeof r=="function"?r(n):r}function vp(r){return r.split("-")[0]}function Fm(r){return r.split("-")[1]}function HH(r){return r==="x"?"y":"x"}function y_(r){return r==="y"?"height":"width"}const zH=new Set(["top","bottom"]);function Ad(r){return zH.has(vp(r))?"y":"x"}function b_(r){return HH(Ad(r))}function qH(r,n,t){t===void 0&&(t=!1);const e=Fm(r),s=b_(r),o=y_(s);let c=s==="x"?e===(t?"end":"start")?"right":"left":e==="start"?"bottom":"top";return n.reference[o]>n.floating[o]&&(c=Ky(c)),[c,Ky(c)]}function YH(r){const n=Ky(r);return[_w(r),n,_w(n)]}function _w(r){return r.replace(/start|end/g,n=>BH[n])}const c1=["left","right"],d1=["right","left"],KH=["top","bottom"],GH=["bottom","top"];function VH(r,n,t){switch(r){case"top":case"bottom":return t?n?d1:c1:n?c1:d1;case"left":case"right":return n?KH:GH;default:return[]}}function QH(r,n,t,e){const s=Fm(r);let o=VH(vp(r),t==="start",e);return s&&(o=o.map(c=>c+"-"+s),n&&(o=o.concat(o.map(_w)))),o}function Ky(r){return r.replace(/left|right|bottom|top/g,n=>UH[n])}function JH(r){return{top:0,right:0,bottom:0,left:0,...r}}function zC(r){return typeof r!="number"?JH(r):{top:r,right:r,bottom:r,left:r}}function Gy(r){const{x:n,y:t,width:e,height:s}=r;return{width:e,height:s,top:t,left:n,right:n+e,bottom:t+s,x:n,y:t}}var XH=typeof document<"u",ZH=function(){},Vy=XH?X.useLayoutEffect:ZH;const e6={...Ew},t6=e6.useInsertionEffect,n6=t6||(r=>r());function r6(r){const n=X.useRef(()=>{});return n6(()=>{n.current=r}),X.useCallback(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return n.current==null?void 0:n.current(...e)},[])}function h1(r,n,t){let{reference:e,floating:s}=r;const o=Ad(n),c=b_(n),d=y_(c),p=vp(n),v=o==="y",y=e.x+e.width/2-s.width/2,S=e.y+e.height/2-s.height/2,k=e[d]/2-s[d]/2;let C;switch(p){case"top":C={x:y,y:e.y-s.height};break;case"bottom":C={x:y,y:e.y+e.height};break;case"right":C={x:e.x+e.width,y:S};break;case"left":C={x:e.x-s.width,y:S};break;default:C={x:e.x,y:e.y}}switch(Fm(n)){case"start":C[c]-=k*(t&&v?-1:1);break;case"end":C[c]+=k*(t&&v?-1:1);break}return C}const s6=async(r,n,t)=>{const{placement:e="bottom",strategy:s="absolute",middleware:o=[],platform:c}=t,d=o.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(n));let v=await c.getElementRects({reference:r,floating:n,strategy:s}),{x:y,y:S}=h1(v,e,p),k=e,C={},A=0;for(let N=0;N<d.length;N++){const{name:M,fn:L}=d[N],{x:G,y:W,data:V,reset:z}=await L({x:y,y:S,initialPlacement:e,placement:k,strategy:s,middlewareData:C,rects:v,platform:c,elements:{reference:r,floating:n}});y=G??y,S=W??S,C={...C,[M]:{...C[M],...V}},z&&A<=50&&(A++,typeof z=="object"&&(z.placement&&(k=z.placement),z.rects&&(v=z.rects===!0?await c.getElementRects({reference:r,floating:n,strategy:s}):z.rects),{x:y,y:S}=h1(v,k,p)),N=-1)}return{x:y,y:S,placement:k,strategy:s,middlewareData:C}};async function i6(r,n){var t;n===void 0&&(n={});const{x:e,y:s,platform:o,rects:c,elements:d,strategy:p}=r,{boundary:v="clippingAncestors",rootBoundary:y="viewport",elementContext:S="floating",altBoundary:k=!1,padding:C=0}=bb(n,r),A=zC(C),M=d[k?S==="floating"?"reference":"floating":S],L=Gy(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(M)))==null||t?M:M.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:v,rootBoundary:y,strategy:p})),G=S==="floating"?{x:e,y:s,width:c.floating.width,height:c.floating.height}:c.reference,W=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),V=await(o.isElement==null?void 0:o.isElement(W))?await(o.getScale==null?void 0:o.getScale(W))||{x:1,y:1}:{x:1,y:1},z=Gy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:G,offsetParent:W,strategy:p}):G);return{top:(L.top-z.top+A.top)/V.y,bottom:(z.bottom-L.bottom+A.bottom)/V.y,left:(L.left-z.left+A.left)/V.x,right:(z.right-L.right+A.right)/V.x}}const a6=r=>({name:"arrow",options:r,async fn(n){const{x:t,y:e,placement:s,rects:o,platform:c,elements:d,middlewareData:p}=n,{element:v,padding:y=0}=bb(r,n)||{};if(v==null)return{};const S=zC(y),k={x:t,y:e},C=b_(s),A=y_(C),N=await c.getDimensions(v),M=C==="y",L=M?"top":"left",G=M?"bottom":"right",W=M?"clientHeight":"clientWidth",V=o.reference[A]+o.reference[C]-k[C]-o.floating[A],z=k[C]-o.reference[C],Y=await(c.getOffsetParent==null?void 0:c.getOffsetParent(v));let B=Y?Y[W]:0;(!B||!await(c.isElement==null?void 0:c.isElement(Y)))&&(B=d.floating[W]||o.floating[A]);const K=V/2-z/2,Z=B/2-N[A]/2-1,ce=mp(S[L],Z),me=mp(S[G],Z),we=ce,Re=B-N[A]-me,Ce=B/2-N[A]/2+K,_e=WH(we,Ce,Re),ye=!p.arrow&&Fm(s)!=null&&Ce!==_e&&o.reference[A]/2-(Ce<we?ce:me)-N[A]/2<0,be=ye?Ce<we?Ce-we:Ce-Re:0;return{[C]:k[C]+be,data:{[C]:_e,centerOffset:Ce-_e-be,...ye&&{alignmentOffset:be}},reset:ye}}}),o6=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(n){var t,e;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:p,elements:v}=n,{mainAxis:y=!0,crossAxis:S=!0,fallbackPlacements:k,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:N=!0,...M}=bb(r,n);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const L=vp(s),G=Ad(d),W=vp(d)===d,V=await(p.isRTL==null?void 0:p.isRTL(v.floating)),z=k||(W||!N?[Ky(d)]:YH(d)),Y=A!=="none";!k&&Y&&z.push(...QH(d,N,A,V));const B=[d,...z],K=await i6(n,M),Z=[];let ce=((e=o.flip)==null?void 0:e.overflows)||[];if(y&&Z.push(K[L]),S){const Ce=qH(s,c,V);Z.push(K[Ce[0]],K[Ce[1]])}if(ce=[...ce,{placement:s,overflows:Z}],!Z.every(Ce=>Ce<=0)){var me,we;const Ce=(((me=o.flip)==null?void 0:me.index)||0)+1,_e=B[Ce];if(_e&&(!(S==="alignment"?G!==Ad(_e):!1)||ce.every(Q=>Ad(Q.placement)===G?Q.overflows[0]>0:!0)))return{data:{index:Ce,overflows:ce},reset:{placement:_e}};let ye=(we=ce.filter(be=>be.overflows[0]<=0).sort((be,Q)=>be.overflows[1]-Q.overflows[1])[0])==null?void 0:we.placement;if(!ye)switch(C){case"bestFit":{var Re;const be=(Re=ce.filter(Q=>{if(Y){const Ae=Ad(Q.placement);return Ae===G||Ae==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(Ae=>Ae>0).reduce((Ae,Te)=>Ae+Te,0)]).sort((Q,Ae)=>Q[1]-Ae[1])[0])==null?void 0:Re[0];be&&(ye=be);break}case"initialPlacement":ye=d;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}},l6=new Set(["left","top"]);async function u6(r,n){const{placement:t,platform:e,elements:s}=r,o=await(e.isRTL==null?void 0:e.isRTL(s.floating)),c=vp(t),d=Fm(t),p=Ad(t)==="y",v=l6.has(c)?-1:1,y=o&&p?-1:1,S=bb(n,r);let{mainAxis:k,crossAxis:C,alignmentAxis:A}=typeof S=="number"?{mainAxis:S,crossAxis:0,alignmentAxis:null}:{mainAxis:S.mainAxis||0,crossAxis:S.crossAxis||0,alignmentAxis:S.alignmentAxis};return d&&typeof A=="number"&&(C=d==="end"?A*-1:A),p?{x:C*y,y:k*v}:{x:k*v,y:C*y}}const c6=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(n){var t,e;const{x:s,y:o,placement:c,middlewareData:d}=n,p=await u6(n,r);return c===((t=d.offset)==null?void 0:t.placement)&&(e=d.arrow)!=null&&e.alignmentOffset?{}:{x:s+p.x,y:o+p.y,data:{...p,placement:c}}}}};function qC(r){const n=fa(r);let t=parseFloat(n.width)||0,e=parseFloat(n.height)||0;const s=qo(r),o=s?r.offsetWidth:t,c=s?r.offsetHeight:e,d=Yy(t)!==o||Yy(e)!==c;return d&&(t=o,e=c),{width:t,height:e,$:d}}function w_(r){return $s(r)?r:r.contextElement}function Uf(r){const n=w_(r);if(!qo(n))return Fo(1);const t=n.getBoundingClientRect(),{width:e,height:s,$:o}=qC(n);let c=(o?Yy(t.width):t.width)/e,d=(o?Yy(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const d6=Fo(0);function YC(r){const n=Ai(r);return!v_()||!n.visualViewport?d6:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function h6(r,n,t){return n===void 0&&(n=!1),!t||n&&t!==Ai(r)?!1:n}function Kd(r,n,t,e){n===void 0&&(n=!1),t===void 0&&(t=!1);const s=r.getBoundingClientRect(),o=w_(r);let c=Fo(1);n&&(e?$s(e)&&(c=Uf(e)):c=Uf(r));const d=h6(o,t,e)?YC(o):Fo(0);let p=(s.left+d.x)/c.x,v=(s.top+d.y)/c.y,y=s.width/c.x,S=s.height/c.y;if(o){const k=Ai(o),C=e&&$s(e)?Ai(e):e;let A=k,N=ww(A);for(;N&&e&&C!==A;){const M=Uf(N),L=N.getBoundingClientRect(),G=fa(N),W=L.left+(N.clientLeft+parseFloat(G.paddingLeft))*M.x,V=L.top+(N.clientTop+parseFloat(G.paddingTop))*M.y;p*=M.x,v*=M.y,y*=M.x,S*=M.y,p+=W,v+=V,A=Ai(N),N=ww(A)}}return Gy({width:y,height:S,x:p,y:v})}function wb(r,n){const t=yb(r).scrollLeft;return n?n.left+t:Kd(Vo(r)).left+t}function KC(r,n){const t=r.getBoundingClientRect(),e=t.left+n.scrollLeft-wb(r,t),s=t.top+n.scrollTop;return{x:e,y:s}}function f6(r){let{elements:n,rect:t,offsetParent:e,strategy:s}=r;const o=s==="fixed",c=Vo(e),d=n?vb(n.floating):!1;if(e===c||d&&o)return t;let p={scrollLeft:0,scrollTop:0},v=Fo(1);const y=Fo(0),S=qo(e);if((S||!S&&!o)&&((kp(e)!=="body"||Lm(c))&&(p=yb(e)),qo(e))){const C=Kd(e);v=Uf(e),y.x=C.x+e.clientLeft,y.y=C.y+e.clientTop}const k=c&&!S&&!o?KC(c,p):Fo(0);return{width:t.width*v.x,height:t.height*v.y,x:t.x*v.x-p.scrollLeft*v.x+y.x+k.x,y:t.y*v.y-p.scrollTop*v.y+y.y+k.y}}function p6(r){return Array.from(r.getClientRects())}function g6(r){const n=Vo(r),t=yb(r),e=r.ownerDocument.body,s=$d(n.scrollWidth,n.clientWidth,e.scrollWidth,e.clientWidth),o=$d(n.scrollHeight,n.clientHeight,e.scrollHeight,e.clientHeight);let c=-t.scrollLeft+wb(r);const d=-t.scrollTop;return fa(e).direction==="rtl"&&(c+=$d(n.clientWidth,e.clientWidth)-s),{width:s,height:o,x:c,y:d}}const f1=25;function m6(r,n){const t=Ai(r),e=Vo(r),s=t.visualViewport;let o=e.clientWidth,c=e.clientHeight,d=0,p=0;if(s){o=s.width,c=s.height;const y=v_();(!y||y&&n==="fixed")&&(d=s.offsetLeft,p=s.offsetTop)}const v=wb(e);if(v<=0){const y=e.ownerDocument,S=y.body,k=getComputedStyle(S),C=y.compatMode==="CSS1Compat"&&parseFloat(k.marginLeft)+parseFloat(k.marginRight)||0,A=Math.abs(e.clientWidth-S.clientWidth-C);A<=f1&&(o-=A)}else v<=f1&&(o+=v);return{width:o,height:c,x:d,y:p}}const v6=new Set(["absolute","fixed"]);function y6(r,n){const t=Kd(r,!0,n==="fixed"),e=t.top+r.clientTop,s=t.left+r.clientLeft,o=qo(r)?Uf(r):Fo(1),c=r.clientWidth*o.x,d=r.clientHeight*o.y,p=s*o.x,v=e*o.y;return{width:c,height:d,x:p,y:v}}function p1(r,n,t){let e;if(n==="viewport")e=m6(r,t);else if(n==="document")e=g6(Vo(r));else if($s(n))e=y6(n,t);else{const s=YC(r);e={x:n.x-s.x,y:n.y-s.y,width:n.width,height:n.height}}return Gy(e)}function GC(r,n){const t=fc(r);return t===n||!$s(t)||gp(t)?!1:fa(t).position==="fixed"||GC(t,n)}function b6(r,n){const t=n.get(r);if(t)return t;let e=Cm(r,[],!1).filter(d=>$s(d)&&kp(d)!=="body"),s=null;const o=fa(r).position==="fixed";let c=o?fc(r):r;for(;$s(c)&&!gp(c);){const d=fa(c),p=m_(c);!p&&d.position==="fixed"&&(s=null),(o?!p&&!s:!p&&d.position==="static"&&!!s&&v6.has(s.position)||Lm(c)&&!p&&GC(r,c))?e=e.filter(y=>y!==c):s=d,c=fc(c)}return n.set(r,e),e}function w6(r){let{element:n,boundary:t,rootBoundary:e,strategy:s}=r;const c=[...t==="clippingAncestors"?vb(n)?[]:b6(n,this._c):[].concat(t),e],d=c[0],p=c.reduce((v,y)=>{const S=p1(n,y,s);return v.top=$d(S.top,v.top),v.right=mp(S.right,v.right),v.bottom=mp(S.bottom,v.bottom),v.left=$d(S.left,v.left),v},p1(n,d,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function _6(r){const{width:n,height:t}=qC(r);return{width:n,height:t}}function S6(r,n,t){const e=qo(n),s=Vo(n),o=t==="fixed",c=Kd(r,!0,o,n);let d={scrollLeft:0,scrollTop:0};const p=Fo(0);function v(){p.x=wb(s)}if(e||!e&&!o)if((kp(n)!=="body"||Lm(s))&&(d=yb(n)),e){const C=Kd(n,!0,o,n);p.x=C.x+n.clientLeft,p.y=C.y+n.clientTop}else s&&v();o&&!e&&s&&v();const y=s&&!e&&!o?KC(s,d):Fo(0),S=c.left+d.scrollLeft-p.x-y.x,k=c.top+d.scrollTop-p.y-y.y;return{x:S,y:k,width:c.width,height:c.height}}function D0(r){return fa(r).position==="static"}function g1(r,n){if(!qo(r)||fa(r).position==="fixed")return null;if(n)return n(r);let t=r.offsetParent;return Vo(r)===t&&(t=t.ownerDocument.body),t}function VC(r,n){const t=Ai(r);if(vb(r))return t;if(!qo(r)){let s=fc(r);for(;s&&!gp(s);){if($s(s)&&!D0(s))return s;s=fc(s)}return t}let e=g1(r,n);for(;e&&IH(e)&&D0(e);)e=g1(e,n);return e&&gp(e)&&D0(e)&&!m_(e)?t:e||LH(r)||t}const x6=async function(r){const n=this.getOffsetParent||VC,t=this.getDimensions,e=await t(r.floating);return{reference:S6(r.reference,await n(r.floating),r.strategy),floating:{x:0,y:0,width:e.width,height:e.height}}};function k6(r){return fa(r).direction==="rtl"}const E6={convertOffsetParentRelativeRectToViewportRelativeRect:f6,getDocumentElement:Vo,getClippingRect:w6,getOffsetParent:VC,getElementRects:x6,getClientRects:p6,getDimensions:_6,getScale:Uf,isElement:$s,isRTL:k6};function QC(r,n){return r.x===n.x&&r.y===n.y&&r.width===n.width&&r.height===n.height}function C6(r,n){let t=null,e;const s=Vo(r);function o(){var d;clearTimeout(e),(d=t)==null||d.disconnect(),t=null}function c(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),o();const v=r.getBoundingClientRect(),{left:y,top:S,width:k,height:C}=v;if(d||n(),!k||!C)return;const A=Xv(S),N=Xv(s.clientWidth-(y+k)),M=Xv(s.clientHeight-(S+C)),L=Xv(y),W={rootMargin:-A+"px "+-N+"px "+-M+"px "+-L+"px",threshold:$d(0,mp(1,p))||1};let V=!0;function z(Y){const B=Y[0].intersectionRatio;if(B!==p){if(!V)return c();B?c(!1,B):e=setTimeout(()=>{c(!1,1e-7)},1e3)}B===1&&!QC(v,r.getBoundingClientRect())&&c(),V=!1}try{t=new IntersectionObserver(z,{...W,root:s.ownerDocument})}catch{t=new IntersectionObserver(z,W)}t.observe(r)}return c(!0),o}function P6(r,n,t,e){e===void 0&&(e={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=e,v=w_(r),y=s||o?[...v?Cm(v):[],...Cm(n)]:[];y.forEach(L=>{s&&L.addEventListener("scroll",t,{passive:!0}),o&&L.addEventListener("resize",t)});const S=v&&d?C6(v,t):null;let k=-1,C=null;c&&(C=new ResizeObserver(L=>{let[G]=L;G&&G.target===v&&C&&(C.unobserve(n),cancelAnimationFrame(k),k=requestAnimationFrame(()=>{var W;(W=C)==null||W.observe(n)})),t()}),v&&!p&&C.observe(v),C.observe(n));let A,N=p?Kd(r):null;p&&M();function M(){const L=Kd(r);N&&!QC(N,L)&&t(),N=L,A=requestAnimationFrame(M)}return t(),()=>{var L;y.forEach(G=>{s&&G.removeEventListener("scroll",t),o&&G.removeEventListener("resize",t)}),S?.(),(L=C)==null||L.disconnect(),C=null,p&&cancelAnimationFrame(A)}}const O6=c6,T6=o6,m1=a6,D6=(r,n,t)=>{const e=new Map,s={platform:E6,...t},o={...s.platform,_c:e};return s6(r,n,{...s,platform:o})};var N6=typeof document<"u",A6=function(){},xy=N6?X.useLayoutEffect:A6;function Qy(r,n){if(r===n)return!0;if(typeof r!=typeof n)return!1;if(typeof r=="function"&&r.toString()===n.toString())return!0;let t,e,s;if(r&&n&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==n.length)return!1;for(e=t;e--!==0;)if(!Qy(r[e],n[e]))return!1;return!0}if(s=Object.keys(r),t=s.length,t!==Object.keys(n).length)return!1;for(e=t;e--!==0;)if(!{}.hasOwnProperty.call(n,s[e]))return!1;for(e=t;e--!==0;){const o=s[e];if(!(o==="_owner"&&r.$$typeof)&&!Qy(r[o],n[o]))return!1}return!0}return r!==r&&n!==n}function JC(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function v1(r,n){const t=JC(r);return Math.round(n*t)/t}function N0(r){const n=X.useRef(r);return xy(()=>{n.current=r}),n}function I6(r){r===void 0&&(r={});const{placement:n="bottom",strategy:t="absolute",middleware:e=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:p,open:v}=r,[y,S]=X.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[k,C]=X.useState(e);Qy(k,e)||C(e);const[A,N]=X.useState(null),[M,L]=X.useState(null),G=X.useCallback(Q=>{Q!==Y.current&&(Y.current=Q,N(Q))},[]),W=X.useCallback(Q=>{Q!==B.current&&(B.current=Q,L(Q))},[]),V=o||A,z=c||M,Y=X.useRef(null),B=X.useRef(null),K=X.useRef(y),Z=p!=null,ce=N0(p),me=N0(s),we=N0(v),Re=X.useCallback(()=>{if(!Y.current||!B.current)return;const Q={placement:n,strategy:t,middleware:k};me.current&&(Q.platform=me.current),D6(Y.current,B.current,Q).then(Ae=>{const Te={...Ae,isPositioned:we.current!==!1};Ce.current&&!Qy(K.current,Te)&&(K.current=Te,Wf.flushSync(()=>{S(Te)}))})},[k,n,t,me,we]);xy(()=>{v===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,S(Q=>({...Q,isPositioned:!1})))},[v]);const Ce=X.useRef(!1);xy(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),xy(()=>{if(V&&(Y.current=V),z&&(B.current=z),V&&z){if(ce.current)return ce.current(V,z,Re);Re()}},[V,z,Re,ce,Z]);const _e=X.useMemo(()=>({reference:Y,floating:B,setReference:G,setFloating:W}),[G,W]),ye=X.useMemo(()=>({reference:V,floating:z}),[V,z]),be=X.useMemo(()=>{const Q={position:t,left:0,top:0};if(!ye.floating)return Q;const Ae=v1(ye.floating,y.x),Te=v1(ye.floating,y.y);return d?{...Q,transform:"translate("+Ae+"px, "+Te+"px)",...JC(ye.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Ae,top:Te}},[t,d,ye.floating,y.x,y.y]);return X.useMemo(()=>({...y,update:Re,refs:_e,elements:ye,floatingStyles:be}),[y,Re,_e,ye,be])}const M6=r=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:e,padding:s}=typeof r=="function"?r(t):r;return e&&n(e)?e.current!=null?m1({element:e.current,padding:s}).fn(t):{}:e?m1({element:e,padding:s}).fn(t):{}}}},R6=(r,n)=>({...O6(r),options:[r,n]}),j6=(r,n)=>({...T6(r),options:[r,n]}),$6=(r,n)=>({...M6(r),options:[r,n]}),L6={...Ew};let y1=!1,F6=0;const b1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+F6++;function U6(){const[r,n]=X.useState(()=>y1?b1():void 0);return Vy(()=>{r==null&&n(b1())},[]),X.useEffect(()=>{y1=!0},[]),r}const B6=L6.useId,XC=B6||U6,W6=X.forwardRef(function(n,t){const{context:{placement:e,elements:{floating:s},middlewareData:{arrow:o,shift:c}},width:d=14,height:p=7,tipRadius:v=0,strokeWidth:y=0,staticOffset:S,stroke:k,d:C,style:{transform:A,...N}={},...M}=n,L=XC(),[G,W]=X.useState(!1);if(Vy(()=>{if(!s)return;fa(s).direction==="rtl"&&W(!0)},[s]),!s)return null;const[V,z]=e.split("-"),Y=V==="top"||V==="bottom";let B=S;(Y&&c!=null&&c.x||!Y&&c!=null&&c.y)&&(B=null);const K=y*2,Z=K/2,ce=d/2*(v/-8+1),me=p/2*v/4,we=!!C,Re=B&&z==="end"?"bottom":"top";let Ce=B&&z==="end"?"right":"left";B&&G&&(Ce=z==="end"?"left":"right");const _e=o?.x!=null?B||o.x:"",ye=o?.y!=null?B||o.y:"",be=C||"M0,0"+(" H"+d)+(" L"+(d-ce)+","+(p-me))+(" Q"+d/2+","+p+" "+ce+","+(p-me))+" Z",Q={top:we?"rotate(180deg)":"",left:we?"rotate(90deg)":"rotate(-90deg)",bottom:we?"":"rotate(180deg)",right:we?"rotate(-90deg)":"rotate(90deg)"}[V];return R.jsxs("svg",{...M,"aria-hidden":!0,ref:t,width:we?d:d+K,height:d,viewBox:"0 0 "+d+" "+(p>d?p:d),style:{position:"absolute",pointerEvents:"none",[Ce]:_e,[Re]:ye,[V]:Y||we?"100%":"calc(100% - "+K/2+"px)",transform:[Q,A].filter(Ae=>!!Ae).join(" "),...N},children:[K>0&&R.jsx("path",{clipPath:"url(#"+L+")",fill:"none",stroke:k,strokeWidth:K+(C?0:1),d:be}),R.jsx("path",{stroke:K&&!C?M.fill:"none",d:be}),R.jsx("clipPath",{id:L,children:R.jsx("rect",{x:-Z,y:Z*(we?-1:1),width:d+K,height:d})})]})});function H6(){const r=new Map;return{emit(n,t){var e;(e=r.get(n))==null||e.forEach(s=>s(t))},on(n,t){r.has(n)||r.set(n,new Set),r.get(n).add(t)},off(n,t){var e;(e=r.get(n))==null||e.delete(t)}}}const z6=X.createContext(null),q6=X.createContext(null),Y6=()=>{var r;return((r=X.useContext(z6))==null?void 0:r.id)||null},K6=()=>X.useContext(q6);function G6(r){const{open:n=!1,onOpenChange:t,elements:e}=r,s=XC(),o=X.useRef({}),[c]=X.useState(()=>H6()),d=Y6()!=null,[p,v]=X.useState(e.reference),y=r6((C,A,N)=>{o.current.openEvent=C?A:void 0,c.emit("openchange",{open:C,event:A,reason:N,nested:d}),t?.(C,A,N)}),S=X.useMemo(()=>({setPositionReference:v}),[]),k=X.useMemo(()=>({reference:p||e.reference||null,floating:e.floating||null,domReference:e.reference}),[p,e.reference,e.floating]);return X.useMemo(()=>({dataRef:o,open:n,onOpenChange:y,elements:k,events:c,floatingId:s,refs:S}),[n,y,k,c,s,S])}function V6(r){r===void 0&&(r={});const{nodeId:n}=r,t=G6({...r,elements:{reference:null,floating:null,...r.elements}}),e=r.rootContext||t,s=e.elements,[o,c]=X.useState(null),[d,p]=X.useState(null),y=s?.domReference||o,S=X.useRef(null),k=K6();Vy(()=>{y&&(S.current=y)},[y]);const C=I6({...r,elements:{...s,...d&&{reference:d}}}),A=X.useCallback(W=>{const V=$s(W)?{getBoundingClientRect:()=>W.getBoundingClientRect(),getClientRects:()=>W.getClientRects(),contextElement:W}:W;p(V),C.refs.setReference(V)},[C.refs]),N=X.useCallback(W=>{($s(W)||W===null)&&(S.current=W,c(W)),($s(C.refs.reference.current)||C.refs.reference.current===null||W!==null&&!$s(W))&&C.refs.setReference(W)},[C.refs]),M=X.useMemo(()=>({...C.refs,setReference:N,setPositionReference:A,domReference:S}),[C.refs,N,A]),L=X.useMemo(()=>({...C.elements,domReference:y}),[C.elements,y]),G=X.useMemo(()=>({...C,...e,refs:M,elements:L,nodeId:n}),[C,M,L,n,e]);return Vy(()=>{e.dataRef.current.floatingContext=G;const W=k?.nodesRef.current.find(V=>V.id===n);W&&(W.context=G)}),X.useMemo(()=>({...C,context:G,refs:M,elements:L}),[C,M,L,G])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Sw=function(n,t){return Sw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])},Sw(n,t)};function zr(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Sw(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var sn=function(){return sn=Object.assign||function(t){for(var e,s=1,o=arguments.length;s<o;s++){e=arguments[s];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c])}return t},sn.apply(this,arguments)};function Ro(r,n,t){if(t||arguments.length===2)for(var e=0,s=n.length,o;e<s;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return r.concat(o||Array.prototype.slice.call(n))}var Q6=function(r){var n=r.showTimeSelectOnly,t=n===void 0?!1:n,e=r.showTime,s=e===void 0?!1:e,o=r.className,c=r.children,d=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return J.createElement("div",{className:o,role:"dialog","aria-label":d,"aria-modal":"true"},c)},J6=function(r,n){var t=X.useRef(null),e=X.useRef(r);e.current=r;var s=X.useCallback(function(o){var c;t.current&&!t.current.contains(o.target)&&(n&&o.target instanceof HTMLElement&&o.target.classList.contains(n)||(c=e.current)===null||c===void 0||c.call(e,o))},[n]);return X.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},_b=function(r){var n=r.children,t=r.onClickOutside,e=r.className,s=r.containerRef,o=r.style,c=r.ignoreClass,d=J6(t,c);return J.createElement("div",{className:e,style:o,ref:function(p){d.current=p,s&&(s.current=p)}},n)},tt;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(tt||(tt={}));function ZC(){var r=typeof window<"u"?window:globalThis;return r}var Um=12,X6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function yn(r){if(r==null)return new Date;var n=typeof r=="string"?pH(r):at(r);return Wl(n)?n:new Date}function A0(r,n,t,e,s){var o,c=null,d=Ld(t)||Ld(sm()),p=!0;if(Array.isArray(n))return n.forEach(function(y){var S=O0(r,y,new Date,{locale:d,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});e&&(p=Wl(S,s)&&r===Fn(S,y,t)),Wl(S,s)&&p&&(c=S)}),c;if(c=O0(r,n,new Date,{locale:d,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),e)p=Wl(c)&&r===Fn(c,n,t);else if(!Wl(c)){var v=((o=n.match(X6))!==null&&o!==void 0?o:[]).map(function(y){var S=y[0];if(S==="p"||S==="P"){var k=zy[S];return d?k(y,d.formatLong):S}return y}).join("");r.length>0&&(c=O0(r,v.slice(0,r.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Wl(c)||(c=new Date(r))}return Wl(c)&&p?c:null}function Wl(r,n){return Uy(r)&&!Yd(r,n??new Date("1/1/1800"))}function Fn(r,n,t){if(t==="en")return a1(r,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var e=t?Ld(t):void 0;return t&&!e&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!e&&sm()&&Ld(sm())&&(e=Ld(sm())),a1(r,n,{locale:e,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function aa(r,n){var t=n.dateFormat,e=n.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Fn(r,s,e)||""}function Z6(r,n,t){if(!r)return"";var e=aa(r,t),s=n?aa(n,t):"";return"".concat(e," - ").concat(s)}function e5(r,n){if(!r?.length)return"";var t=r[0]?aa(r[0],n):"";if(r.length===1)return t;if(r.length===2&&r[1]){var e=aa(r[1],n);return"".concat(t,", ").concat(e)}var s=r.length-1;return"".concat(t," (+").concat(s,")")}function I0(r,n){var t=n.hour,e=t===void 0?0:t,s=n.minute,o=s===void 0?0:s,c=n.second,d=c===void 0?0:c;return wy(_y(Sy(r,d),o),e)}function t5(r){return h_(r)}function n5(r,n){return Fn(r,"ddd",n)}function ky(r){return qd(r)}function tc(r,n,t){var e=Ld(n||sm());return su(r,{locale:e,weekStartsOn:t})}function Jl(r){return TC(r)}function Gg(r){return gb(r)}function w1(r){return vw(r)}function _1(){return qd(yn())}function S1(r){return PC(r)}function r5(r){return bB(r)}function s5(r){return OC(r)}function To(r,n){return r&&n?hH(r,n):!r&&!n}function Ms(r,n){return r&&n?cH(r,n):!r&&!n}function Jy(r,n){return r&&n?dH(r,n):!r&&!n}function tn(r,n){return r&&n?vB(r,n):!r&&!n}function Id(r,n){return r&&n?gW(r,n):!r&&!n}function Vg(r,n,t){var e,s=qd(n),o=PC(t);try{e=Em(r,{start:s,end:o})}catch{e=!1}return e}function sm(){var r=ZC();return r.__localeId__}function Ld(r){if(typeof r=="string"){var n=ZC();return n.__localeData__?n.__localeData__[r]:void 0}else return r}function i5(r,n,t){return n(Fn(r,"EEEE",t))}function a5(r,n){return Fn(r,"EEEEEE",n)}function o5(r,n){return Fn(r,"EEE",n)}function __(r,n){return Fn(Di(yn(),r),"LLLL",n)}function eP(r,n){return Fn(Di(yn(),r),"LLL",n)}function l5(r,n){return Fn(Mf(yn(),r),"QQQ",n)}function oa(r,n){var t=n===void 0?{}:n,e=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,d=t.includeDates,p=t.includeDateIntervals,v=t.filterDate;return Bm(r,{minDate:e,maxDate:s})||o&&o.some(function(y){return y instanceof Date?tn(r,y):tn(r,y.date)})||c&&c.some(function(y){var S=y.start,k=y.end;return Em(r,{start:S,end:k})})||d&&!d.some(function(y){return tn(r,y)})||p&&!p.some(function(y){var S=y.start,k=y.end;return Em(r,{start:S,end:k})})||v&&!v(yn(r))||!1}function S_(r,n){var t=n===void 0?{}:n,e=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(o){var c=o.start,d=o.end;return Em(r,{start:c,end:d})}):e&&e.some(function(o){var c;return o instanceof Date?tn(r,o):tn(r,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function tP(r,n){var t=n===void 0?{}:n,e=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate;return Bm(r,{minDate:e?TC(e):void 0,maxDate:s?OC(s):void 0})||o?.some(function(p){return Ms(r,p instanceof Date?p:p.date)})||c&&!c.some(function(p){return Ms(r,p)})||d&&!d(yn(r))||!1}function Zv(r,n,t,e){var s=Wt(r),o=js(r),c=Wt(n),d=js(n),p=Wt(e);return s===c&&s===p?o<=t&&t<=d:s<c?p===s&&o<=t||p===c&&d>=t||p<c&&p>s:!1}function u5(r,n){var t=n===void 0?{}:n,e=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates;return Bm(r,{minDate:e,maxDate:s})||o&&o.some(function(d){return Ms(d instanceof Date?d:d.date,r)})||c&&!c.some(function(d){return Ms(d,r)})||!1}function ey(r,n){var t=n===void 0?{}:n,e=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate;return Bm(r,{minDate:e,maxDate:s})||o?.some(function(p){return Jy(r,p instanceof Date?p:p.date)})||c&&!c.some(function(p){return Jy(r,p)})||d&&!d(yn(r))||!1}function ty(r,n,t){if(!n||!t||!Uy(n)||!Uy(t))return!1;var e=Wt(n),s=Wt(t);return e<=r&&s>=r}function Ey(r,n){var t=n===void 0?{}:n,e=t.minDate,s=t.maxDate,o=t.excludeDates,c=t.includeDates,d=t.filterDate,p=new Date(r,0,1);return Bm(p,{minDate:e?gb(e):void 0,maxDate:s?DC(s):void 0})||o?.some(function(v){return To(p,v instanceof Date?v:v.date)})||c&&!c.some(function(v){return To(p,v)})||d&&!d(yn(p))||!1}function ny(r,n,t,e){var s=Wt(r),o=Rd(r),c=Wt(n),d=Rd(n),p=Wt(e);return s===c&&s===p?o<=t&&t<=d:s<c?p===s&&o<=t||p===c&&d>=t||p<c&&p>s:!1}function Bm(r,n){var t,e=n===void 0?{}:n,s=e.minDate,o=e.maxDate;return(t=s&&fp(r,s)<0||o&&fp(r,o)>0)!==null&&t!==void 0?t:!1}function x1(r,n){return n.some(function(t){return $o(t)===$o(r)&&Lo(t)===Lo(r)&&Ql(t)===Ql(r)})}function k1(r,n){var t=n===void 0?{}:n,e=t.excludeTimes,s=t.includeTimes,o=t.filterTime;return e&&x1(r,e)||s&&!x1(r,s)||o&&!o(r)||!1}function E1(r,n){var t=n.minTime,e=n.maxTime;if(!t||!e)throw new Error("Both minTime and maxTime props required");var s=yn();s=wy(s,$o(r)),s=_y(s,Lo(r)),s=Sy(s,Ql(r));var o=yn();o=wy(o,$o(t)),o=_y(o,Lo(t)),o=Sy(o,Ql(t));var c=yn();c=wy(c,$o(e)),c=_y(c,Lo(e)),c=Sy(c,Ql(e));var d;try{d=!Em(s,{start:o,end:c})}catch{d=!1}return d}function C1(r,n){var t=n===void 0?{}:n,e=t.minDate,s=t.includeDates,o=jd(r,1);return e&&By(e,o)>0||s&&s.every(function(c){return By(c,o)>0})||!1}function P1(r,n){var t=n===void 0?{}:n,e=t.maxDate,s=t.includeDates,o=Ka(r,1);return e&&By(o,e)>0||s&&s.every(function(c){return By(o,c)>0})||!1}function c5(r,n){var t=n===void 0?{}:n,e=t.minDate,s=t.includeDates,o=gb(r),c=BC(o);return e&&Wy(e,c)>0||s&&s.every(function(d){return Wy(d,c)>0})||!1}function d5(r,n){var t=n===void 0?{}:n,e=t.maxDate,s=t.includeDates,o=DC(r),c=d_(o,1);return e&&Wy(c,e)>0||s&&s.every(function(d){return Wy(c,d)>0})||!1}function O1(r,n){var t=n===void 0?{}:n,e=t.minDate,s=t.includeDates,o=pp(r,1);return e&&Hy(e,o)>0||s&&s.every(function(c){return Hy(c,o)>0})||!1}function h5(r,n){var t=n===void 0?{}:n,e=t.minDate,s=t.yearItemNumber,o=s===void 0?Um:s,c=Gg(pp(r,o)),d=Ju(c,o).endPeriod,p=e&&Wt(e);return p&&p>d||!1}function T1(r,n){var t=n===void 0?{}:n,e=t.maxDate,s=t.includeDates,o=Gl(r,1);return e&&Hy(o,e)>0||s&&s.every(function(c){return Hy(o,c)>0})||!1}function f5(r,n){var t=n===void 0?{}:n,e=t.maxDate,s=t.yearItemNumber,o=s===void 0?Um:s,c=Gl(r,o),d=Ju(c,o).startPeriod,p=e&&Wt(e);return p&&p<d||!1}function nP(r){var n=r.minDate,t=r.includeDates;if(t&&n){var e=t.filter(function(s){return fp(s,n)>=0});return e1(e)}else return t?e1(t):n}function rP(r){var n=r.maxDate,t=r.includeDates;if(t&&n){var e=t.filter(function(s){return fp(s,n)<=0});return Zx(e)}else return t?Zx(t):n}function D1(r,n){var t;r===void 0&&(r=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var e=new Map,s=0,o=r.length;s<o;s++){var c=r[s];if(Vl(c)){var d=Fn(c,"MM.dd.yyyy"),p=e.get(d)||[];p.includes(n)||(p.push(n),e.set(d,p))}else if(typeof c=="object"){var v=Object.keys(c),y=(t=v[0])!==null&&t!==void 0?t:"",S=c[y];if(typeof y=="string"&&Array.isArray(S))for(var k=0,C=S.length;k<C;k++){var A=S[k];if(A){var d=Fn(A,"MM.dd.yyyy"),p=e.get(d)||[];p.includes(y)||(p.push(y),e.set(d,p))}}}}return e}function p5(r,n){return r.length!==n.length?!1:r.every(function(t,e){return t===n[e]})}function g5(r,n){r===void 0&&(r=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(e){var s=e.date,o=e.holidayName;if(Vl(s)){var c=Fn(s,"MM.dd.yyyy"),d=t.get(c)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===n&&p5(d.holidayNames,[o]))){d.className=n;var p=d.holidayNames;d.holidayNames=p?Ro(Ro([],p,!0),[o],!1):[o],t.set(c,d)}}}),t}function m5(r,n,t,e,s){for(var o=s.length,c=[],d=0;d<o;d++){var p=r,v=s[d];v&&(p=fB(p,$o(v)),p=mw(p,Lo(v)),p=mB(p,Ql(v)));var y=mw(r,(t+1)*e);hc(p,n)&&Yd(p,y)&&v!=null&&c.push(v)}return c}function N1(r){return r<10?"0".concat(r):"".concat(r)}function Ju(r,n){n===void 0&&(n=Um);var t=Math.ceil(Wt(r)/n)*n,e=t-(n-1);return{startPeriod:e,endPeriod:t}}function v5(r){var n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+n)/36e5)}function A1(r){var n=r.getSeconds(),t=r.getMilliseconds();return at(r.getTime()-n*1e3-t)}function y5(r,n){return A1(r).getTime()===A1(n).getTime()}function I1(r){if(!Vl(r))throw new Error("Invalid date");var n=new Date(r);return n.setHours(0,0,0,0),n}function M1(r,n){if(!Vl(r)||!Vl(n))throw new Error("Invalid date received");var t=I1(r),e=I1(n);return Yd(t,e)}function sP(r){return r.key===tt.Space}var b5=function(r){zr(n,r);function n(t){var e=r.call(this,t)||this;return e.inputRef=J.createRef(),e.onTimeChange=function(s){var o,c;e.setState({time:s});var d=e.props.date,p=d instanceof Date&&!isNaN(+d),v=p?d:new Date;if(s?.includes(":")){var y=s.split(":"),S=y[0],k=y[1];v.setHours(Number(S)),v.setMinutes(Number(k))}(c=(o=e.props).onChange)===null||c===void 0||c.call(o,v)},e.renderTimeInput=function(){var s=e.state.time,o=e.props,c=o.date,d=o.timeString,p=o.customTimeInput;return p?X.cloneElement(p,{date:c,value:s,onChange:e.onTimeChange}):J.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:e.inputRef,onClick:function(){var v;(v=e.inputRef.current)===null||v===void 0||v.focus()},required:!0,value:s,onChange:function(v){e.onTimeChange(v.target.value||d)}})},e.state={time:e.props.timeString},e}return n.getDerivedStateFromProps=function(t,e){return t.timeString!==e.time?{time:t.timeString}:null},n.prototype.render=function(){return J.createElement("div",{className:"react-datepicker__input-time-container"},J.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),J.createElement("div",{className:"react-datepicker-time__input-container"},J.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(X.Component),w5=function(r){zr(n,r);function n(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=X.createRef(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var s,o,c=e.key;c===tt.Space&&(e.preventDefault(),e.key=tt.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,e)},t.isSameDay=function(e){return tn(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(e=t.props.selectedDates)===null||e===void 0?void 0:e.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(e){return e===void 0&&(e=t.props.day),oa(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return S_(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return tn(t.props.day,tc(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&tn(e,tc(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,s=e.day,o=e.highlightDates;if(!o)return!1;var c=Fn(s,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var e,s=t.props,o=s.day,c=s.holidays;if(!c)return[void 0];var d=Fn(o,"MM.dd.yyyy");return c.has(d)?[(e=c.get(d))===null||e===void 0?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,s=e.day,o=e.startDate,c=e.endDate;return!o||!c?!1:Vg(s,o,c)},t.isInSelectingRange=function(){var e,s=t.props,o=s.day,c=s.selectsStart,d=s.selectsEnd,p=s.selectsRange,v=s.selectsDisabledDaysInRange,y=s.startDate,S=s.endDate,k=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return!(c||d||p)||!k||!v&&t.isDisabled()?!1:c&&S&&(Yd(k,S)||Id(k,S))?Vg(o,k,S):d&&y&&(hc(k,y)||Id(k,y))||p&&y&&!S&&(hc(k,y)||Id(k,y))?Vg(o,y,k):!1},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.startDate,d=s.selectsStart,p=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return d?tn(o,p):tn(o,c)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var s=t.props,o=s.day,c=s.endDate,d=s.selectsEnd,p=s.selectsRange,v=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return d||p?tn(o,v):tn(o,c)},t.isRangeStart=function(){var e=t.props,s=e.day,o=e.startDate,c=e.endDate;return!o||!c?!1:tn(o,s)},t.isRangeEnd=function(){var e=t.props,s=e.day,o=e.startDate,c=e.endDate;return!o||!c?!1:tn(c,s)},t.isWeekend=function(){var e=dW(t.props.day);return e===0||e===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===js(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(js(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(yn())},t.isSelected=function(){var e;return t.props.selectsMultiple?(e=t.props.selectedDates)===null||e===void 0?void 0:e.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var s=t.props.dayClassName?t.props.dayClassName(e):void 0;return rs("react-datepicker__day",s,"react-datepicker__day--"+n5(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,s=e.day,o=e.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,d=e.ariaLabelPrefixWhenDisabled,p=d===void 0?"Not available":d,v=t.isDisabled()||t.isExcluded()?p:c;return"".concat(v," ").concat(Fn(s,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,s=e.day,o=e.holidays,c=o===void 0?new Map:o,d=e.excludeDates,p=Fn(s,"MM.dd.yyyy"),v=[];return c.has(p)&&v.push.apply(v,c.get(p).holidayNames),t.isExcluded()&&v.push(d?.filter(function(y){return y instanceof Date?tn(y,s):tn(y?.date,s)}).map(function(y){if(!(y instanceof Date))return y?.message})),v.join(", ")},t.getTabIndex=function(){var e=t.props.selected,s=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(e)&&tn(s,e))?0:-1;return o},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&((e=t.dayEl.current)===null||e===void 0||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(o1(t.props.day),t.props.day):o1(t.props.day)},t.render=function(){return J.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&J.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,e,s;return((e=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||e===void 0?void 0:e.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(X.Component),_5=function(r){zr(n,r);function n(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=X.createRef(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var s,o,c=e.key;c===tt.Space&&(e.preventDefault(),e.key=tt.Enter),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!tn(t.props.date,t.props.selected)&&tn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||tn(t.props.date,t.props.selected)&&tn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var s=!1;t.getTabIndex()===0&&!e?.isInputFocused&&tn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,e=t.weekNumber,s=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?n.defaultProps.ariaLabelPrefix:o,d=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!s,"react-datepicker__week-number--selected":!!d&&tn(this.props.date,this.props.selected)};return J.createElement("div",{ref:this.weekNumberEl,className:rs(p),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},e)},n}(X.Component),S5=function(r){zr(n,r);function n(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(e){return oa(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(e,s){t.props.onDayClick&&t.props.onDayClick(e,s)},t.handleDayMouseEnter=function(e){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(e)},t.handleWeekClick=function(e,s,o){for(var c,d,p,v=new Date(e),y=0;y<7;y++){var S=new Date(e);S.setDate(S.getDate()+y);var k=!t.isDisabled(S);if(k){v=S;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(v,s,o),t.props.showWeekPicker&&t.handleDayClick(v,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:n.defaultProps.shouldCloseOnSelect)&&((p=(d=t.props).setOpen)===null||p===void 0||p.call(d,!1))},t.formatWeekNumber=function(e){return t.props.formatWeekNumber?t.props.formatWeekNumber(e):t5(e)},t.isWeekDisabled=function(){for(var e=t.startOfWeek(),s=Ya(e,6),o=new Date(e);o<=s;){if(!t.isDisabled(o))return!1;o=Ya(o,1)}return!0},t.renderDays=function(){var e=t.startOfWeek(),s=[],o=t.formatWeekNumber(e);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,e,o):void 0;s.push(J.createElement(_5,sn({key:"W"},n.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:e,onClick:c})))}return s.concat([0,1,2,3,4,5,6].map(function(d){var p=Ya(e,d);return J.createElement(w5,sn({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return tc(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!tn(t.startOfWeek(),t.props.selected)&&tn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":tn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return J.createElement("div",{className:rs(t)},this.renderDays())},n}(X.Component),zg,x5=6,Bf={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},M0=(zg={},zg[Bf.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},zg[Bf.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},zg[Bf.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},zg),ry=1;function R1(r,n){return r?Bf.FOUR_COLUMNS:n?Bf.TWO_COLUMNS:Bf.THREE_COLUMNS}var k5=function(r){zr(n,r);function n(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Ro([],Array(12),!0).map(function(){return X.createRef()}),t.QUARTER_REFS=Ro([],Array(4),!0).map(function(){return X.createRef()}),t.isDisabled=function(e){return oa(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return S_(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,s){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,e,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var s,o;(o=(s=t.props).onDayMouseEnter)===null||o===void 0||o.call(s,e)},t.handleMouseLeave=function(){var e,s;(s=(e=t.props).onMouseLeave)===null||s===void 0||s.call(e)},t.isRangeStartMonth=function(e){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Ms(Di(o,e),c)},t.isRangeStartQuarter=function(e){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Jy(Mf(o,e),c)},t.isRangeEndMonth=function(e){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Ms(Di(o,e),d)},t.isRangeEndQuarter=function(e){var s=t.props,o=s.day,c=s.startDate,d=s.endDate;return!c||!d?!1:Jy(Mf(o,e),d)},t.isInSelectingRangeMonth=function(e){var s,o=t.props,c=o.day,d=o.selectsStart,p=o.selectsEnd,v=o.selectsRange,y=o.startDate,S=o.endDate,k=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||p||v)||!k?!1:d&&S?Zv(k,S,e,c):p&&y||v&&y&&!S?Zv(y,k,e,c):!1},t.isSelectingMonthRangeStart=function(e){var s;if(!t.isInSelectingRangeMonth(e))return!1;var o=t.props,c=o.day,d=o.startDate,p=o.selectsStart,v=Di(c,e),y=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p?Ms(v,y):Ms(v,d)},t.isSelectingMonthRangeEnd=function(e){var s;if(!t.isInSelectingRangeMonth(e))return!1;var o=t.props,c=o.day,d=o.endDate,p=o.selectsEnd,v=o.selectsRange,y=Di(c,e),S=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return p||v?Ms(y,S):Ms(y,d)},t.isInSelectingRangeQuarter=function(e){var s,o=t.props,c=o.day,d=o.selectsStart,p=o.selectsEnd,v=o.selectsRange,y=o.startDate,S=o.endDate,k=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(d||p||v)||!k?!1:d&&S?ny(k,S,e,c):p&&y||v&&y&&!S?ny(y,k,e,c):!1},t.isWeekInMonth=function(e){var s=t.props.day,o=Ya(e,6);return Ms(e,s)||Ms(o,s)},t.isCurrentMonth=function(e,s){return Wt(e)===Wt(yn())&&s===js(yn())},t.isCurrentQuarter=function(e,s){return Wt(e)===Wt(yn())&&s===Rd(yn())},t.isSelectedMonth=function(e,s,o){return js(o)===s&&Wt(e)===Wt(o)},t.isSelectMonthInList=function(e,s,o){return o.some(function(c){return t.isSelectedMonth(e,s,c)})},t.isSelectedQuarter=function(e,s,o){return Rd(e)===s&&Wt(e)===Wt(o)},t.renderWeeks=function(){for(var e=[],s=t.props.fixedHeight,o=0,c=!1,d=tc(Jl(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(A){return t.props.showWeekPicker?tc(A,t.props.locale,t.props.calendarStartDay):t.props.preSelection},v=function(A){return t.props.showWeekPicker?tc(A,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?v(t.props.selected):void 0,S=t.props.preSelection?p(t.props.preSelection):void 0;e.push(J.createElement(S5,sn({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:d,month:js(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:S,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,d=Fy(d,1);var k=s&&o>=x5,C=!s&&!t.isWeekInMonth(d);if(k||C)if(t.props.peekNextMonth)c=!0;else break}return e},t.onMonthClick=function(e,s){var o=t.isMonthDisabledForLabelDate(s),c=o.isDisabled,d=o.labelDate;c||t.handleDayClick(Jl(d),e)},t.onMonthMouseEnter=function(e){var s=t.isMonthDisabledForLabelDate(e),o=s.isDisabled,c=s.labelDate;o||t.handleDayMouseEnter(Jl(c))},t.handleMonthNavigation=function(e,s){var o,c,d,p;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(d=t.MONTH_REFS[e])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(e,s,o){var c,d=t.props,p=d.selected,v=d.preSelection,y=d.setPreSelection,S=d.minDate,k=d.maxDate,C=d.showFourColumnMonthYearPicker,A=d.showTwoColumnMonthYearPicker;if(v){var N=R1(C,A),M=t.getVerticalOffset(N),L=(c=M0[N])===null||c===void 0?void 0:c.grid,G=function(B,K,Z){var ce,me,we=K,Re=Z;switch(B){case tt.ArrowRight:we=Ka(K,ry),Re=Z===11?0:Z+ry;break;case tt.ArrowLeft:we=jd(K,ry),Re=Z===0?11:Z-ry;break;case tt.ArrowUp:we=jd(K,M),Re=!((ce=L?.[0])===null||ce===void 0)&&ce.includes(Z)?Z+12-M:Z-M;break;case tt.ArrowDown:we=Ka(K,M),Re=!((me=L?.[L.length-1])===null||me===void 0)&&me.includes(Z)?Z-12+M:Z+M;break}return{newCalculatedDate:we,newCalculatedMonth:Re}},W=function(B,K,Z){for(var ce=40,me=B,we=!1,Re=0,Ce=G(me,K,Z),_e=Ce.newCalculatedDate,ye=Ce.newCalculatedMonth;!we;){if(Re>=ce){_e=K,ye=Z;break}if(S&&_e<S){me=tt.ArrowRight;var be=G(me,_e,ye);_e=be.newCalculatedDate,ye=be.newCalculatedMonth}if(k&&_e>k){me=tt.ArrowLeft;var be=G(me,_e,ye);_e=be.newCalculatedDate,ye=be.newCalculatedMonth}if(u5(_e,t.props)){var be=G(me,_e,ye);_e=be.newCalculatedDate,ye=be.newCalculatedMonth}else we=!0;Re++}return{newCalculatedDate:_e,newCalculatedMonth:ye}};if(s===tt.Enter){t.isMonthDisabled(o)||(t.onMonthClick(e,o),y?.(p));return}var V=W(s,v,o),z=V.newCalculatedDate,Y=V.newCalculatedMonth;switch(s){case tt.ArrowRight:case tt.ArrowLeft:case tt.ArrowUp:case tt.ArrowDown:t.handleMonthNavigation(Y,z);break}}},t.getVerticalOffset=function(e){var s,o;return(o=(s=M0[e])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(e,s){var o=t.props,c=o.disabledKeyboardNavigation,d=o.handleOnMonthKeyDown,p=e.key;p!==tt.Tab&&e.preventDefault(),c||t.handleKeyboardNavigation(e,p,s),d&&d(e)},t.onQuarterClick=function(e,s){var o=Mf(t.props.day,s);ey(o,t.props)||t.handleDayClick(w1(o),e)},t.onQuarterMouseEnter=function(e){var s=Mf(t.props.day,e);ey(s,t.props)||t.handleDayMouseEnter(w1(s))},t.handleQuarterNavigation=function(e,s){var o,c,d,p;t.isDisabled(s)||t.isExcluded(s)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,s),(p=(d=t.QUARTER_REFS[e-1])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(e,s){var o,c,d=e.key;if(!t.props.disabledKeyboardNavigation)switch(d){case tt.Enter:t.onQuarterClick(e,s),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case tt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,d_(t.props.preSelection,1));break;case tt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,BC(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(e){var s,o=t.props,c=o.day,d=o.minDate,p=o.maxDate,v=o.excludeDates,y=o.includeDates,S=Di(c,e);return{isDisabled:(s=(d||p||v||y)&&tP(S,t.props))!==null&&s!==void 0?s:!1,labelDate:S}},t.isMonthDisabled=function(e){var s=t.isMonthDisabledForLabelDate(e).isDisabled;return s},t.getMonthClassNames=function(e){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,p=s.preSelection,v=s.monthClassName,y=v?v(Di(o,e)):void 0,S=t.getSelection();return rs("react-datepicker__month-text","react-datepicker__month-".concat(e),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":S?t.isSelectMonthInList(o,e,S):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,e,p)&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":c&&d?Zv(c,d,e,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(o,e)})},t.getTabIndex=function(e){if(t.props.preSelection==null)return"-1";var s=js(t.props.preSelection),o=t.isMonthDisabledForLabelDate(s).isDisabled,c=e===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(e){if(t.props.preSelection==null)return"-1";var s=Rd(t.props.preSelection),o=ey(t.props.day,t.props),c=e===s&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(e){var s=t.props,o=s.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,d=s.disabledDayAriaLabelPrefix,p=d===void 0?"Not available":d,v=s.day,y=s.locale,S=Di(v,e),k=t.isDisabled(S)||t.isExcluded(S)?p:c;return"".concat(k," ").concat(Fn(S,"MMMM yyyy",y))},t.getQuarterClassNames=function(e){var s=t.props,o=s.day,c=s.startDate,d=s.endDate,p=s.selected,v=s.minDate,y=s.maxDate,S=s.excludeDates,k=s.includeDates,C=s.filterDate,A=s.preSelection,N=s.disabledKeyboardNavigation,M=(v||y||S||k||C)&&ey(Mf(o,e),t.props);return rs("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":M,"react-datepicker__quarter-text--selected":p?t.isSelectedQuarter(o,e,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!N&&A&&t.isSelectedQuarter(o,e,A)&&!M,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":c&&d?ny(c,d,e,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e)})},t.getMonthContent=function(e){var s=t.props,o=s.showFullMonthYearPicker,c=s.renderMonthContent,d=s.locale,p=s.day,v=eP(e,d),y=__(e,d);return c?c(e,v,y,p):o?y:v},t.getQuarterContent=function(e){var s,o=t.props,c=o.renderQuarterContent,d=o.locale,p=l5(e,d);return(s=c?.(e,p))!==null&&s!==void 0?s:p},t.renderMonths=function(){var e,s=t.props,o=s.showTwoColumnMonthYearPicker,c=s.showFourColumnMonthYearPicker,d=s.day,p=s.selected,v=(e=M0[R1(c,o)])===null||e===void 0?void 0:e.grid;return v?.map(function(y,S){return J.createElement("div",{className:"react-datepicker__month-wrapper",key:S},y.map(function(k,C){return J.createElement("div",{ref:t.MONTH_REFS[k],key:C,onClick:function(A){t.onMonthClick(A,k)},onKeyDown:function(A){sP(A)&&(A.preventDefault(),A.key=tt.Enter),t.onMonthKeyDown(A,k)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(k)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(k)}:void 0,tabIndex:Number(t.getTabIndex(k)),className:t.getMonthClassNames(k),"aria-disabled":t.isMonthDisabled(k),role:"option","aria-label":t.getAriaLabel(k),"aria-current":t.isCurrentMonth(d,k)?"date":void 0,"aria-selected":p?t.isSelectedMonth(d,k,p):void 0},t.getMonthContent(k))}))})},t.renderQuarters=function(){var e=t.props,s=e.day,o=e.selected,c=[1,2,3,4];return J.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(d,p){return J.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(v){t.onQuarterClick(v,d)},onKeyDown:function(v){t.onQuarterKeyDown(v,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(d)}:void 0,className:t.getQuarterClassNames(d),"aria-selected":o?t.isSelectedQuarter(s,d,o):void 0,tabIndex:Number(t.getQuarterTabIndex(d)),"aria-current":t.isCurrentQuarter(s,d)?"date":void 0},t.getQuarterContent(d))}))},t.getClassNames=function(){var e=t.props,s=e.selectingDate,o=e.selectsStart,c=e.selectsEnd,d=e.showMonthYearPicker,p=e.showQuarterYearPicker,v=e.showWeekPicker;return rs("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(o||c)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":v})},t}return n.prototype.getSelection=function(){var t=this.props,e=t.selected,s=t.selectedDates,o=t.selectsMultiple;if(o)return s;if(e)return[e]},n.prototype.render=function(){var t=this.props,e=t.showMonthYearPicker,s=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,d=c===void 0?"Month ":c,p=d?d.trim()+" ":"";return J.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(Fn(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},e?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},n}(X.Component),E5=function(r){zr(n,r);function n(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map(function(e,s){return J.createElement("div",{className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?J.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return J.createElement(_b,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(X.Component),C5=function(r){zr(n,r);function n(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(s,o){return J.createElement("option",{key:s,value:o},s)})},t.renderSelectMode=function(e){return J.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,s){return J.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(e){return J.createElement(E5,sn({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var s=t.state.dropdownVisible,o=[t.renderReadView(!s,e)];return s&&o.unshift(t.renderDropdown(e)),o},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,e=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return eP(o,t.props.locale)}:function(o){return __(o,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(e);break;case"select":s=this.renderSelectMode(e);break}return J.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},n}(X.Component);function P5(r,n){for(var t=[],e=Jl(r),s=Jl(n);!hc(e,s);)t.push(yn(e)),e=Ka(e,1);return t}var O5=function(r){zr(n,r);function n(t){var e=r.call(this,t)||this;return e.renderOptions=function(){return e.state.monthYearsList.map(function(s){var o=bw(s),c=To(e.props.date,s)&&Ms(e.props.date,s);return J.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:e.onChange.bind(e,o),"aria-selected":c?"true":void 0},c?J.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Fn(s,e.props.dateFormat,e.props.locale))})},e.onChange=function(s){return e.props.onChange(s)},e.handleClickOutside=function(){e.props.onCancel()},e.state={monthYearsList:P5(e.props.minDate,e.props.maxDate)},e}return n.prototype.render=function(){var t=rs({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return J.createElement(_b,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(X.Component),T5=function(r){zr(n,r);function n(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=Jl(t.props.minDate),s=Jl(t.props.maxDate),o=[];!hc(e,s);){var c=bw(e);o.push(J.createElement("option",{key:c,value:c},Fn(e,t.props.dateFormat,t.props.locale))),e=Ka(e,1)}return o},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:bw(Jl(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var s=Fn(t.props.date,t.props.dateFormat,t.props.locale);return J.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return J.createElement(O5,sn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,s=[t.renderReadView(!e)];return e&&s.unshift(t.renderDropdown()),s},t.onChange=function(e){t.toggleDropdown();var s=yn(e);To(t.props.date,s)&&Ms(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(X.Component),D5=function(r){zr(n,r);function n(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,s,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(e=t.header)===null||e===void 0?void 0:e.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(e){var s,o;(t.props.minTime||t.props.maxTime)&&E1(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&k1(e,t.props)||(o=(s=t.props).onChange)===null||o===void 0||o.call(s,e)},t.isSelectedTime=function(e){return t.props.selected&&y5(t.props.selected,e)},t.isDisabledTime=function(e){return(t.props.minTime||t.props.maxTime)&&E1(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&k1(e,t.props)},t.liClasses=function(e){var s,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(e):void 0];return t.isSelectedTime(e)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(e)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&($o(e)*3600+Lo(e)*60+Ql(e))%(((s=t.props.intervals)!==null&&s!==void 0?s:n.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(e,s){var o,c;e.key===tt.Space&&(e.preventDefault(),e.key=tt.Enter),(e.key===tt.ArrowUp||e.key===tt.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===tt.ArrowDown||e.key===tt.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===tt.Enter&&t.handleClick(s),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,e)},t.renderTimes=function(){for(var e,s=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(e=t.props.intervals)!==null&&e!==void 0?e:n.defaultProps.intervals,d=t.props.selected||t.props.openToDate||yn(),p=ky(d),v=t.props.injectTimes&&t.props.injectTimes.sort(function(M,L){return M.getTime()-L.getTime()}),y=60*v5(d),S=y/c,k=0;k<S;k++){var C=mw(p,k*c);if(s.push(C),v){var A=m5(p,C,k,c,v);s=s.concat(A)}}var N=s.reduce(function(M,L){return L.getTime()<=d.getTime()?L:M},s[0]);return s.map(function(M){return J.createElement("li",{key:M.valueOf(),onClick:t.handleClick.bind(t,M),className:t.liClasses(M),ref:function(L){M===N&&(t.centerLi=L)},onKeyDown:function(L){t.handleOnKeyDown(L,M)},tabIndex:M===N?0:-1,role:"option","aria-selected":t.isSelectedTime(M)?"true":void 0,"aria-disabled":t.isDisabledTime(M)?"true":void 0},Fn(M,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?J.createElement(J.Fragment,null):J.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){t.header=e}},J.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,e,s=this.state.height;return J.createElement("div",{className:"react-datepicker__time-container ".concat(((e=this.props.todayButton)!==null&&e!==void 0?e:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),J.createElement("div",{className:"react-datepicker__time"},J.createElement("div",{className:"react-datepicker__time-box"},J.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)},n}(X.Component),j1=3,N5=function(r){zr(n,r);function n(t){var e=r.call(this,t)||this;return e.YEAR_REFS=Ro([],Array(e.props.yearItemNumber),!0).map(function(){return X.createRef()}),e.isDisabled=function(s){return oa(s,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(s){return S_(s,{excludeDates:e.props.excludeDates})},e.selectingDate=function(){var s;return(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection},e.updateFocusOnPaginate=function(s){var o=function(){var c,d;(d=(c=e.YEAR_REFS[s])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(o)},e.handleYearClick=function(s,o){e.props.onDayClick&&e.props.onDayClick(s,o)},e.handleYearNavigation=function(s,o){var c,d,p,v,y=e.props,S=y.date,k=y.yearItemNumber;if(!(S===void 0||k===void 0)){var C=Ju(S,k).startPeriod;e.isDisabled(o)||e.isExcluded(o)||((d=(c=e.props).setPreSelection)===null||d===void 0||d.call(c,o),s-C<0?e.updateFocusOnPaginate(k-(C-s)):s-C>=k?e.updateFocusOnPaginate(Math.abs(k-(s-C))):(v=(p=e.YEAR_REFS[s-C])===null||p===void 0?void 0:p.current)===null||v===void 0||v.focus())}},e.isSameDay=function(s,o){return tn(s,o)},e.isCurrentYear=function(s){return s===Wt(yn())},e.isRangeStart=function(s){return e.props.startDate&&e.props.endDate&&To(Po(yn(),s),e.props.startDate)},e.isRangeEnd=function(s){return e.props.startDate&&e.props.endDate&&To(Po(yn(),s),e.props.endDate)},e.isInRange=function(s){return ty(s,e.props.startDate,e.props.endDate)},e.isInSelectingRange=function(s){var o=e.props,c=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,v=o.startDate,y=o.endDate;return!(c||d||p)||!e.selectingDate()?!1:c&&y?ty(s,e.selectingDate(),y):d&&v||p&&v&&!y?ty(s,v,e.selectingDate()):!1},e.isSelectingRangeStart=function(s){var o;if(!e.isInSelectingRange(s))return!1;var c=e.props,d=c.startDate,p=c.selectsStart,v=Po(yn(),s);return p?To(v,(o=e.selectingDate())!==null&&o!==void 0?o:null):To(v,d??null)},e.isSelectingRangeEnd=function(s){var o;if(!e.isInSelectingRange(s))return!1;var c=e.props,d=c.endDate,p=c.selectsEnd,v=c.selectsRange,y=Po(yn(),s);return p||v?To(y,(o=e.selectingDate())!==null&&o!==void 0?o:null):To(y,d??null)},e.isKeyboardSelected=function(s){if(!(e.props.date===void 0||e.props.selected==null||e.props.preSelection==null)){var o=e.props,c=o.minDate,d=o.maxDate,p=o.excludeDates,v=o.includeDates,y=o.filterDate,S=Gg(Po(e.props.date,s)),k=(c||d||p||v||y)&&Ey(s,e.props);return!e.props.disabledKeyboardNavigation&&!e.props.inline&&!tn(S,Gg(e.props.selected))&&tn(S,Gg(e.props.preSelection))&&!k}},e.onYearClick=function(s,o){var c=e.props.date;c!==void 0&&e.handleYearClick(Gg(Po(c,o)),s)},e.onYearKeyDown=function(s,o){var c,d,p=s.key,v=e.props,y=v.date,S=v.yearItemNumber,k=v.handleOnKeyDown;if(p!==tt.Tab&&s.preventDefault(),!e.props.disabledKeyboardNavigation)switch(p){case tt.Enter:if(e.props.selected==null)break;e.onYearClick(s,o),(d=(c=e.props).setPreSelection)===null||d===void 0||d.call(c,e.props.selected);break;case tt.ArrowRight:if(e.props.preSelection==null)break;e.handleYearNavigation(o+1,Gl(e.props.preSelection,1));break;case tt.ArrowLeft:if(e.props.preSelection==null)break;e.handleYearNavigation(o-1,pp(e.props.preSelection,1));break;case tt.ArrowUp:{if(y===void 0||S===void 0||e.props.preSelection==null)break;var C=Ju(y,S).startPeriod,A=j1,N=o-A;if(N<C){var M=S%A;o>=C&&o<C+M?A=M:A+=M,N=o-A}e.handleYearNavigation(N,pp(e.props.preSelection,A));break}case tt.ArrowDown:{if(y===void 0||S===void 0||e.props.preSelection==null)break;var L=Ju(y,S).endPeriod,A=j1,N=o+A;if(N>L){var M=S%A;o<=L&&o>L-M?A=M:A+=M,N=o+A}e.handleYearNavigation(N,Gl(e.props.preSelection,A));break}}k&&k(s)},e.getYearClassNames=function(s){var o=e.props,c=o.date,d=o.minDate,p=o.maxDate,v=o.selected,y=o.excludeDates,S=o.includeDates,k=o.filterDate,C=o.yearClassName;return rs("react-datepicker__year-text","react-datepicker__year-".concat(s),c?C?.(Po(c,s)):void 0,{"react-datepicker__year-text--selected":v?s===Wt(v):void 0,"react-datepicker__year-text--disabled":(d||p||y||S||k)&&Ey(s,e.props),"react-datepicker__year-text--keyboard-selected":e.isKeyboardSelected(s),"react-datepicker__year-text--range-start":e.isRangeStart(s),"react-datepicker__year-text--range-end":e.isRangeEnd(s),"react-datepicker__year-text--in-range":e.isInRange(s),"react-datepicker__year-text--in-selecting-range":e.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":e.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":e.isSelectingRangeEnd(s),"react-datepicker__year-text--today":e.isCurrentYear(s)})},e.getYearTabIndex=function(s){if(e.props.disabledKeyboardNavigation||e.props.preSelection==null)return"-1";var o=Wt(e.props.preSelection),c=Ey(s,e.props);return s===o&&!c?"0":"-1"},e.getYearContent=function(s){return e.props.renderYearContent?e.props.renderYearContent(s):s},e}return n.prototype.render=function(){var t=this,e=[],s=this.props,o=s.date,c=s.yearItemNumber,d=s.onYearMouseEnter,p=s.onYearMouseLeave;if(o===void 0)return null;for(var v=Ju(o,c),y=v.startPeriod,S=v.endPeriod,k=function(N){e.push(J.createElement("div",{ref:C.YEAR_REFS[N-y],onClick:function(M){t.onYearClick(M,N)},onKeyDown:function(M){sP(M)&&(M.preventDefault(),M.key=tt.Enter),t.onYearKeyDown(M,N)},tabIndex:Number(C.getYearTabIndex(N)),className:C.getYearClassNames(N),onMouseEnter:C.props.usePointerEvent?void 0:function(M){return d(M,N)},onPointerEnter:C.props.usePointerEvent?function(M){return d(M,N)}:void 0,onMouseLeave:C.props.usePointerEvent?void 0:function(M){return p(M,N)},onPointerLeave:C.props.usePointerEvent?function(M){return p(M,N)}:void 0,key:N,"aria-current":C.isCurrentYear(N)?"date":void 0},C.getYearContent(N)))},C=this,A=y;A<=S;A++)k(A);return J.createElement("div",{className:"react-datepicker__year"},J.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},e))},n}(X.Component);function A5(r,n,t,e){for(var s=[],o=0;o<2*n+1;o++){var c=r+n-o,d=!0;t&&(d=Wt(t)<=c),e&&d&&(d=Wt(e)>=c),d&&s.push(c)}return s}var I5=function(r){zr(n,r);function n(t){var e=r.call(this,t)||this;e.renderOptions=function(){var d=e.props.year,p=e.state.yearsList.map(function(S){return J.createElement("div",{className:d===S?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:S,onClick:e.onChange.bind(e,S),"aria-selected":d===S?"true":void 0},d===S?J.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",S)}),v=e.props.minDate?Wt(e.props.minDate):null,y=e.props.maxDate?Wt(e.props.maxDate):null;return(!y||!e.state.yearsList.find(function(S){return S===y}))&&p.unshift(J.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:e.incrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!v||!e.state.yearsList.find(function(S){return S===v}))&&p.push(J.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:e.decrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},e.onChange=function(d){e.props.onChange(d)},e.handleClickOutside=function(){e.props.onCancel()},e.shiftYears=function(d){var p=e.state.yearsList.map(function(v){return v+d});e.setState({yearsList:p})},e.incrementYears=function(){return e.shiftYears(1)},e.decrementYears=function(){return e.shiftYears(-1)};var s=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=s||(o?10:5);return e.state={yearsList:A5(e.props.year,c,e.props.minDate,e.props.maxDate)},e.dropdownRef=X.createRef(),e}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var e=t.children?Array.from(t.children):null,s=e?e.find(function(o){return o.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=rs({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return J.createElement(_b,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(X.Component),M5=function(r){zr(n,r);function n(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?Wt(t.props.minDate):1900,s=t.props.maxDate?Wt(t.props.maxDate):2100,o=[],c=e;c<=s;c++)o.push(J.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return J.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return t.toggleDropdown(s)}},J.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return J.createElement(I5,sn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,s=[t.renderReadView(!e)];return e&&s.unshift(t.renderDropdown()),s},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,s){var o;(o=t.onSelect)===null||o===void 0||o.call(t,e,s),t.setOpen()},t.onSelect=function(e,s){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,e,s)},t.setOpen=function(){var e,s;(s=(e=t.props).setOpen)===null||s===void 0||s.call(e,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(X.Component),R5=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],j5=function(r){var n=(r.className||"").split(/\s+/);return R5.some(function(t){return n.indexOf(t)>=0})},$5=function(r){zr(n,r);function n(t){var e=r.call(this,t)||this;return e.monthContainer=void 0,e.handleClickOutside=function(s){e.props.onClickOutside(s)},e.setClickOutsideRef=function(){return e.containerRef.current},e.handleDropdownFocus=function(s){var o,c;j5(s.target)&&((c=(o=e.props).onDropdownFocus)===null||c===void 0||c.call(o,s))},e.getDateInView=function(){var s=e.props,o=s.preSelection,c=s.selected,d=s.openToDate,p=nP(e.props),v=rP(e.props),y=yn(),S=d||c||o;return S||(p&&Yd(y,p)?p:v&&hc(y,v)?v:y)},e.increaseMonth=function(){e.setState(function(s){var o=s.date;return{date:Ka(o,1)}},function(){return e.handleMonthChange(e.state.date)})},e.decreaseMonth=function(){e.setState(function(s){var o=s.date;return{date:jd(o,1)}},function(){return e.handleMonthChange(e.state.date)})},e.handleDayClick=function(s,o,c){e.props.onSelect(s,o,c),e.props.setPreSelection&&e.props.setPreSelection(s)},e.handleDayMouseEnter=function(s){e.setState({selectingDate:s}),e.props.onDayMouseEnter&&e.props.onDayMouseEnter(s)},e.handleMonthMouseLeave=function(){e.setState({selectingDate:void 0}),e.props.onMonthMouseLeave&&e.props.onMonthMouseLeave()},e.handleYearMouseEnter=function(s,o){e.setState({selectingDate:Po(yn(),o)}),e.props.onYearMouseEnter&&e.props.onYearMouseEnter(s,o)},e.handleYearMouseLeave=function(s,o){e.props.onYearMouseLeave&&e.props.onYearMouseLeave(s,o)},e.handleYearChange=function(s){var o,c,d,p;(c=(o=e.props).onYearChange)===null||c===void 0||c.call(o,s),e.setState({isRenderAriaLiveMessage:!0}),e.props.adjustDateOnChange&&(e.props.onSelect(s),(p=(d=e.props).setOpen)===null||p===void 0||p.call(d,!0)),e.props.setPreSelection&&e.props.setPreSelection(s)},e.getEnabledPreSelectionDateForMonth=function(s){if(!oa(s,e.props))return s;for(var o=Jl(s),c=s5(s),d=yB(c,o),p=null,v=0;v<=d;v++){var y=Ya(o,v);if(!oa(y,e.props)){p=y;break}}return p},e.handleMonthChange=function(s){var o,c,d,p=(o=e.getEnabledPreSelectionDateForMonth(s))!==null&&o!==void 0?o:s;e.handleCustomMonthChange(p),e.props.adjustDateOnChange&&(e.props.onSelect(p),(d=(c=e.props).setOpen)===null||d===void 0||d.call(c,!0)),e.props.setPreSelection&&e.props.setPreSelection(p)},e.handleCustomMonthChange=function(s){var o,c;(c=(o=e.props).onMonthChange)===null||c===void 0||c.call(o,s),e.setState({isRenderAriaLiveMessage:!0})},e.handleMonthYearChange=function(s){e.handleYearChange(s),e.handleMonthChange(s)},e.changeYear=function(s){e.setState(function(o){var c=o.date;return{date:Po(c,Number(s))}},function(){return e.handleYearChange(e.state.date)})},e.changeMonth=function(s){e.setState(function(o){var c=o.date;return{date:Di(c,Number(s))}},function(){return e.handleMonthChange(e.state.date)})},e.changeMonthYear=function(s){e.setState(function(o){var c=o.date;return{date:Po(Di(c,js(s)),Wt(s))}},function(){return e.handleMonthYearChange(e.state.date)})},e.header=function(s){s===void 0&&(s=e.state.date);var o=tc(s,e.props.locale,e.props.calendarStartDay),c=[];return e.props.showWeekNumbers&&c.push(J.createElement("div",{key:"W",className:"react-datepicker__day-name"},e.props.weekLabel||"#")),c.concat([0,1,2,3,4,5,6].map(function(d){var p=Ya(o,d),v=e.formatWeekday(p,e.props.locale),y=e.props.weekDayClassName?e.props.weekDayClassName(p):void 0;return J.createElement("div",{key:d,"aria-label":Fn(p,"EEEE",e.props.locale),className:rs("react-datepicker__day-name",y)},v)}))},e.formatWeekday=function(s,o){return e.props.formatWeekDay?i5(s,e.props.formatWeekDay,o):e.props.useWeekdaysShort?o5(s,o):a5(s,o)},e.decreaseYear=function(){e.setState(function(s){var o,c=s.date;return{date:pp(c,e.props.showYearPicker?(o=e.props.yearItemNumber)!==null&&o!==void 0?o:n.defaultProps.yearItemNumber:1)}},function(){return e.handleYearChange(e.state.date)})},e.clearSelectingDate=function(){e.setState({selectingDate:void 0})},e.renderPreviousButton=function(){var s,o,c;if(!e.props.renderCustomHeader){var d=(s=e.props.monthsShown)!==null&&s!==void 0?s:n.defaultProps.monthsShown,p=e.props.showPreviousMonths?d-1:0,v=(o=e.props.monthSelectedIn)!==null&&o!==void 0?o:p,y=jd(e.state.date,v),S;switch(!0){case e.props.showMonthYearPicker:S=O1(e.state.date,e.props);break;case e.props.showYearPicker:S=h5(e.state.date,e.props);break;case e.props.showQuarterYearPicker:S=c5(e.state.date,e.props);break;default:S=C1(y,e.props);break}if(!(!((c=e.props.forceShowMonthNavigation)!==null&&c!==void 0?c:n.defaultProps.forceShowMonthNavigation)&&!e.props.showDisabledMonthNavigation&&S||e.props.showTimeSelectOnly)){var k=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],C=["react-datepicker__navigation","react-datepicker__navigation--previous"],A=e.decreaseMonth;(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker)&&(A=e.decreaseYear),S&&e.props.showDisabledMonthNavigation&&(C.push("react-datepicker__navigation--previous--disabled"),A=void 0);var N=e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker,M=e.props,L=M.previousMonthButtonLabel,G=L===void 0?n.defaultProps.previousMonthButtonLabel:L,W=M.previousYearButtonLabel,V=W===void 0?n.defaultProps.previousYearButtonLabel:W,z=e.props,Y=z.previousMonthAriaLabel,B=Y===void 0?typeof G=="string"?G:"Previous Month":Y,K=z.previousYearAriaLabel,Z=K===void 0?typeof V=="string"?V:"Previous Year":K;return J.createElement("button",{type:"button",className:C.join(" "),onClick:A,onKeyDown:e.props.handleOnKeyDown,"aria-label":N?Z:B},J.createElement("span",{className:k.join(" ")},N?V:G))}}},e.increaseYear=function(){e.setState(function(s){var o,c=s.date;return{date:Gl(c,e.props.showYearPicker?(o=e.props.yearItemNumber)!==null&&o!==void 0?o:n.defaultProps.yearItemNumber:1)}},function(){return e.handleYearChange(e.state.date)})},e.renderNextButton=function(){var s;if(!e.props.renderCustomHeader){var o;switch(!0){case e.props.showMonthYearPicker:o=T1(e.state.date,e.props);break;case e.props.showYearPicker:o=f5(e.state.date,e.props);break;case e.props.showQuarterYearPicker:o=d5(e.state.date,e.props);break;default:o=P1(e.state.date,e.props);break}if(!(!((s=e.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!e.props.showDisabledMonthNavigation&&o||e.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];e.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),e.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var p=e.increaseMonth;(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker)&&(p=e.increaseYear),o&&e.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),p=void 0);var v=e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker,y=e.props,S=y.nextMonthButtonLabel,k=S===void 0?n.defaultProps.nextMonthButtonLabel:S,C=y.nextYearButtonLabel,A=C===void 0?n.defaultProps.nextYearButtonLabel:C,N=e.props,M=N.nextMonthAriaLabel,L=M===void 0?typeof k=="string"?k:"Next Month":M,G=N.nextYearAriaLabel,W=G===void 0?typeof A=="string"?A:"Next Year":G;return J.createElement("button",{type:"button",className:c.join(" "),onClick:p,onKeyDown:e.props.handleOnKeyDown,"aria-label":v?W:L},J.createElement("span",{className:d.join(" ")},v?A:k))}}},e.renderCurrentMonth=function(s){s===void 0&&(s=e.state.date);var o=["react-datepicker__current-month"];return e.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),e.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),e.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),J.createElement("h2",{className:o.join(" ")},Fn(s,e.props.dateFormat,e.props.locale))},e.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!e.props.showYearDropdown||s))return J.createElement(M5,sn({},n.defaultProps,e.props,{date:e.state.date,onChange:e.changeYear,year:Wt(e.state.date)}))},e.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!e.props.showMonthDropdown||s))return J.createElement(C5,sn({},n.defaultProps,e.props,{month:js(e.state.date),onChange:e.changeMonth}))},e.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!e.props.showMonthYearDropdown||s))return J.createElement(T5,sn({},n.defaultProps,e.props,{date:e.state.date,onChange:e.changeMonthYear}))},e.handleTodayButtonClick=function(s){e.props.onSelect(_1(),s),e.props.setPreSelection&&e.props.setPreSelection(_1())},e.renderTodayButton=function(){if(!(!e.props.todayButton||e.props.showTimeSelectOnly))return J.createElement("div",{className:"react-datepicker__today-button",onClick:e.handleTodayButtonClick},e.props.todayButton)},e.renderDefaultHeader=function(s){var o=s.monthDate,c=s.i;return J.createElement("div",{className:"react-datepicker__header ".concat(e.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},e.renderCurrentMonth(o),J.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(e.props.dropdownMode),onFocus:e.handleDropdownFocus},e.renderMonthDropdown(c!==0),e.renderMonthYearDropdown(c!==0),e.renderYearDropdown(c!==0)),J.createElement("div",{className:"react-datepicker__day-names"},e.header(o)))},e.renderCustomHeader=function(s){var o,c,d=s.monthDate,p=s.i;if(e.props.showTimeSelect&&!e.state.monthContainer||e.props.showTimeSelectOnly)return null;var v=C1(e.state.date,e.props),y=P1(e.state.date,e.props),S=O1(e.state.date,e.props),k=T1(e.state.date,e.props),C=!e.props.showMonthYearPicker&&!e.props.showQuarterYearPicker&&!e.props.showYearPicker;return J.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:e.props.onDropdownFocus},(c=(o=e.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,sn(sn({},e.state),{customHeaderCount:p,monthDate:d,changeMonth:e.changeMonth,changeYear:e.changeYear,decreaseMonth:e.decreaseMonth,increaseMonth:e.increaseMonth,decreaseYear:e.decreaseYear,increaseYear:e.increaseYear,prevMonthButtonDisabled:v,nextMonthButtonDisabled:y,prevYearButtonDisabled:S,nextYearButtonDisabled:k})),C&&J.createElement("div",{className:"react-datepicker__day-names"},e.header(d)))},e.renderYearHeader=function(s){var o=s.monthDate,c=e.props,d=c.showYearPicker,p=c.yearItemNumber,v=p===void 0?n.defaultProps.yearItemNumber:p,y=Ju(o,v),S=y.startPeriod,k=y.endPeriod;return J.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(S," - ").concat(k):Wt(o))},e.renderHeader=function(s){var o=s.monthDate,c=s.i,d=c===void 0?0:c,p={monthDate:o,i:d};switch(!0){case e.props.renderCustomHeader!==void 0:return e.renderCustomHeader(p);case(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker):return e.renderYearHeader(p);default:return e.renderDefaultHeader(p)}},e.renderMonths=function(){var s,o;if(!(e.props.showTimeSelectOnly||e.props.showYearPicker)){for(var c=[],d=(s=e.props.monthsShown)!==null&&s!==void 0?s:n.defaultProps.monthsShown,p=e.props.showPreviousMonths?d-1:0,v=e.props.showMonthYearPicker||e.props.showQuarterYearPicker?Gl(e.state.date,p):jd(e.state.date,p),y=(o=e.props.monthSelectedIn)!==null&&o!==void 0?o:p,S=0;S<d;++S){var k=S-y+p,C=e.props.showMonthYearPicker||e.props.showQuarterYearPicker?Gl(v,k):Ka(v,k),A="month-".concat(S),N=S<d-1,M=S>0;c.push(J.createElement("div",{key:A,ref:function(L){e.monthContainer=L??void 0},className:"react-datepicker__month-container"},e.renderHeader({monthDate:C,i:S}),J.createElement(k5,sn({},n.defaultProps,e.props,{ariaLabelPrefix:e.props.monthAriaLabelPrefix,day:C,onDayClick:e.handleDayClick,handleOnKeyDown:e.props.handleOnDayKeyDown,handleOnMonthKeyDown:e.props.handleOnKeyDown,onDayMouseEnter:e.handleDayMouseEnter,onMouseLeave:e.handleMonthMouseLeave,orderInDisplay:S,selectingDate:e.state.selectingDate,monthShowsDuplicateDaysEnd:N,monthShowsDuplicateDaysStart:M}))))}return c}},e.renderYears=function(){if(!e.props.showTimeSelectOnly&&e.props.showYearPicker)return J.createElement("div",{className:"react-datepicker__year--container"},e.renderHeader({monthDate:e.state.date}),J.createElement(N5,sn({},n.defaultProps,e.props,{selectingDate:e.state.selectingDate,date:e.state.date,onDayClick:e.handleDayClick,clearSelectingDate:e.clearSelectingDate,onYearMouseEnter:e.handleYearMouseEnter,onYearMouseLeave:e.handleYearMouseLeave})))},e.renderTimeSection=function(){if(e.props.showTimeSelect&&(e.state.monthContainer||e.props.showTimeSelectOnly))return J.createElement(D5,sn({},n.defaultProps,e.props,{onChange:e.props.onTimeChange,format:e.props.timeFormat,intervals:e.props.timeIntervals,monthRef:e.state.monthContainer}))},e.renderInputTimeSection=function(){var s=e.props.selected?new Date(e.props.selected):void 0,o=s&&Wl(s)&&!!e.props.selected,c=o?"".concat(N1(s.getHours()),":").concat(N1(s.getMinutes())):"";if(e.props.showTimeInput)return J.createElement(b5,sn({},n.defaultProps,e.props,{date:s,timeString:c,onChange:e.props.onTimeChange}))},e.renderAriaLiveRegion=function(){var s,o=Ju(e.state.date,(s=e.props.yearItemNumber)!==null&&s!==void 0?s:n.defaultProps.yearItemNumber),c=o.startPeriod,d=o.endPeriod,p;return e.props.showYearPicker?p="".concat(c," - ").concat(d):e.props.showMonthYearPicker||e.props.showQuarterYearPicker?p=Wt(e.state.date):p="".concat(__(js(e.state.date),e.props.locale)," ").concat(Wt(e.state.date)),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e.state.isRenderAriaLiveMessage&&p)},e.renderChildren=function(){if(e.props.children)return J.createElement("div",{className:"react-datepicker__children-container"},e.props.children)},e.containerRef=X.createRef(),e.state={date:e.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},e}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Um}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var e=this;if(this.props.preSelection&&(!tn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!Ms(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&e.handleCustomMonthChange(e.state.date)})}else this.props.openToDate&&!tn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||Q6;return J.createElement(_b,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},J.createElement(t,{className:rs("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},n}(X.Component),L5=function(r){var n=r.icon,t=r.className,e=t===void 0?"":t,s=r.onClick,o="react-datepicker__calendar-icon";return typeof n=="string"?J.createElement("i",{className:"".concat(o," ").concat(n," ").concat(e),"aria-hidden":"true",onClick:s}):J.isValidElement(n)?J.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(o," ").concat(e),onClick:function(c){typeof n.props.onClick=="function"&&n.props.onClick(c),typeof s=="function"&&s(c)}}):J.createElement("svg",{className:"".concat(o," ").concat(e),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},J.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},iP=function(r){zr(n,r);function n(t){var e=r.call(this,t)||this;return e.portalRoot=null,e.el=document.createElement("div"),e}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return PD.createPortal(this.props.children,this.el)},n}(X.Component),F5="[tabindex], a, button, input, select, textarea",U5=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},aP=function(r){zr(n,r);function n(t){var e=r.call(this,t)||this;return e.getTabChildren=function(){var s;return Array.prototype.slice.call((s=e.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(F5),1,-1).filter(U5)},e.handleFocusStart=function(){var s=e.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},e.handleFocusEnd=function(){var s=e.getTabChildren();s&&s.length>1&&s[0].focus()},e.tabLoopRef=X.createRef(),e}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?J.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},J.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,J.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(X.Component);function B5(r){var n=function(t){var e,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=X.useRef(null),c=V6(sn({open:!s,whileElementsMounted:P6,placement:t.popperPlacement,middleware:Ro([j6({padding:15}),R6(10),$6({element:o})],(e=t.popperModifiers)!==null&&e!==void 0?e:[],!0)},t.popperProps)),d=sn(sn({},t),{hidePopper:s,popperProps:sn(sn({},c),{arrowRef:o})});return J.createElement(r,sn({},d))};return n}var W5=function(r){zr(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,e=t.className,s=t.wrapperClassName,o=t.hidePopper,c=o===void 0?n.defaultProps.hidePopper:o,d=t.popperComponent,p=t.targetComponent,v=t.enableTabLoop,y=t.popperOnKeyDown,S=t.portalId,k=t.portalHost,C=t.popperProps,A=t.showArrow,N=void 0;if(!c){var M=rs("react-datepicker-popper",e);N=J.createElement(aP,{enableTabLoop:v},J.createElement("div",{ref:C.refs.setFloating,style:C.floatingStyles,className:M,"data-placement":C.placement,onKeyDown:y},d,A&&J.createElement(W6,{ref:C.arrowRef,context:C.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(N=X.createElement(this.props.popperContainer,{},N)),S&&!c&&(N=J.createElement(iP,{portalId:S,portalHost:k},N));var L=rs("react-datepicker-wrapper",s);return J.createElement(J.Fragment,null,J.createElement("div",{ref:C.refs.setReference,className:L},p),N)},n}(X.Component),H5=B5(W5),$1="react-datepicker-ignore-onclickoutside";function z5(r,n){return r&&n?js(r)!==js(n)||Wt(r)!==Wt(n):r!==n}var R0="Date input not valid.",q5=function(r){zr(n,r);function n(t){var e=r.call(this,t)||this;return e.calendar=null,e.input=null,e.getPreSelection=function(){return e.props.openToDate?e.props.openToDate:e.props.selectsEnd&&e.props.startDate?e.props.startDate:e.props.selectsStart&&e.props.endDate?e.props.endDate:yn()},e.modifyHolidays=function(){var s;return(s=e.props.holidays)===null||s===void 0?void 0:s.reduce(function(o,c){var d=new Date(c.date);return Wl(d)?Ro(Ro([],o,!0),[sn(sn({},c),{date:d})],!1):o},[])},e.calcInitialState=function(){var s,o=e.getPreSelection(),c=nP(e.props),d=rP(e.props),p=c&&Yd(o,ky(c))?c:d&&hc(o,S1(d))?d:o;return{open:e.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=e.props.selectsRange?e.props.startDate:e.props.selected)!==null&&s!==void 0?s:p,highlightDates:D1(e.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},e.resetHiddenStatus=function(){e.setState(sn(sn({},e.state),{wasHidden:!1}))},e.setHiddenStatus=function(){e.setState(sn(sn({},e.state),{wasHidden:!0}))},e.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&e.setHiddenStatus()},e.clearPreventFocusTimeout=function(){e.preventFocusTimeout&&clearTimeout(e.preventFocusTimeout)},e.safeFocus=function(){setTimeout(function(){var s,o;(o=(s=e.input)===null||s===void 0?void 0:s.focus)===null||o===void 0||o.call(s,{preventScroll:!0})},0)},e.safeBlur=function(){setTimeout(function(){var s,o;(o=(s=e.input)===null||s===void 0?void 0:s.blur)===null||o===void 0||o.call(s)},0)},e.setFocus=function(){e.safeFocus()},e.setBlur=function(){e.safeBlur(),e.cancelFocusInput()},e.setOpen=function(s,o){o===void 0&&(o=!1),e.setState({open:s,preSelection:s&&e.state.open?e.state.preSelection:e.calcInitialState().preSelection,lastPreSelectChange:j0},function(){s||e.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&e.setBlur(),e.setState({inputValue:null})})})},e.inputOk=function(){return Vl(e.state.preSelection)},e.isCalendarOpen=function(){return e.props.open===void 0?e.state.open&&!e.props.disabled&&!e.props.readOnly:e.props.open},e.handleFocus=function(s){var o,c,d=e.state.wasHidden,p=d?e.state.open:!0;d&&e.resetHiddenStatus(),!e.state.preventFocus&&p&&((c=(o=e.props).onFocus)===null||c===void 0||c.call(o,s),!e.props.preventOpenOnFocus&&!e.props.readOnly&&e.setOpen(!0)),e.setState({focused:!0})},e.sendFocusBackToInput=function(){e.preventFocusTimeout&&e.clearPreventFocusTimeout(),e.setState({preventFocus:!0},function(){e.preventFocusTimeout=setTimeout(function(){e.setFocus(),e.setState({preventFocus:!1})})})},e.cancelFocusInput=function(){clearTimeout(e.inputFocusTimeout),e.inputFocusTimeout=void 0},e.deferFocusInput=function(){e.cancelFocusInput(),e.inputFocusTimeout=setTimeout(function(){return e.setFocus()},1)},e.handleDropdownFocus=function(){e.cancelFocusInput()},e.handleBlur=function(s){var o,c;(!e.state.open||e.props.withPortal||e.props.showTimeInput)&&((c=(o=e.props).onBlur)===null||c===void 0||c.call(o,s)),e.setState({focused:!1})},e.handleCalendarClickOutside=function(s){var o,c;e.props.inline||e.setOpen(!1),(c=(o=e.props).onClickOutside)===null||c===void 0||c.call(o,s),e.props.withPortal&&s.preventDefault()},e.handleChange=function(){for(var s,o,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var p=c[0];if(!(e.props.onChangeRaw&&(e.props.onChangeRaw.apply(e,c),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){e.setState({inputValue:p?.target instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:Y5});var v=e.props,y=v.dateFormat,S=y===void 0?n.defaultProps.dateFormat:y,k=v.strictParsing,C=k===void 0?n.defaultProps.strictParsing:k,A=v.selectsRange,N=v.startDate,M=v.endDate,L=p?.target instanceof HTMLInputElement?p.target.value:"";if(A){var G=L.split("-",2).map(function(ce){return ce.trim()}),W=G[0],V=G[1],z=A0(W??"",S,e.props.locale,C),Y=A0(V??"",S,e.props.locale,C),B=N?.getTime()!==z?.getTime(),K=M?.getTime()!==Y?.getTime();if(!B&&!K||z&&oa(z,e.props)||Y&&oa(Y,e.props))return;(o=(s=e.props).onChange)===null||o===void 0||o.call(s,[z,Y],p)}else{var Z=A0(L,S,e.props.locale,C,e.props.minDate);e.props.showTimeSelectOnly&&e.props.selected&&Z&&!tn(Z,e.props.selected)&&(Z=DH(e.props.selected,{hours:$o(Z),minutes:Lo(Z),seconds:Ql(Z)})),(Z||!L)&&e.setSelected(Z,p,!0)}}},e.handleSelect=function(s,o,c){if(e.props.shouldCloseOnSelect&&!e.props.showTimeSelect&&e.sendFocusBackToInput(),e.props.onChangeRaw&&e.props.onChangeRaw(o),e.setSelected(s,o,!1,c),e.props.showDateSelect&&e.setState({isRenderAriaLiveMessage:!0}),!e.props.shouldCloseOnSelect||e.props.showTimeSelect)e.setPreSelection(s);else if(!e.props.inline){e.props.selectsRange||e.setOpen(!1);var d=e.props,p=d.startDate,v=d.endDate;p&&!v&&(e.props.swapRange||!M1(s,p))&&e.setOpen(!1)}},e.setSelected=function(s,o,c,d){var p,v,y=s;if(e.props.showYearPicker){if(y!==null&&Ey(Wt(y),e.props))return}else if(e.props.showMonthYearPicker){if(y!==null&&tP(y,e.props))return}else if(y!==null&&oa(y,e.props))return;var S=e.props,k=S.onChange,C=S.selectsRange,A=S.startDate,N=S.endDate,M=S.selectsMultiple,L=S.selectedDates,G=S.minTime,W=S.swapRange;if(!Id(e.props.selected,y)||e.props.allowSameDay||C||M)if(y!==null&&(e.props.selected&&(!c||!e.props.showTimeSelect&&!e.props.showTimeSelectOnly&&!e.props.showTimeInput)&&(y=I0(y,{hour:$o(e.props.selected),minute:Lo(e.props.selected),second:Ql(e.props.selected)})),!c&&(e.props.showTimeSelect||e.props.showTimeSelectOnly)&&G&&(y=I0(y,{hour:G.getHours(),minute:G.getMinutes(),second:G.getSeconds()})),e.props.inline||e.setState({preSelection:y}),e.props.focusSelectedMonth||e.setState({monthSelectedIn:d})),C){var V=!A&&!N,z=A&&!N,Y=A&&N;V?k?.([y,null],o):z&&(y===null?k?.([null,null],o):M1(y,A)?k?.(W?[y,A]:[y,null],o):k?.([A,y],o)),Y&&k?.([y,null],o)}else if(M){if(y!==null)if(!L?.length)k?.([y],o);else{var B=L.some(function(Z){return tn(Z,y)});if(B){var K=L.filter(function(Z){return!tn(Z,y)});k?.(K,o)}else k?.(Ro(Ro([],L,!0),[y],!1),o)}}else k?.(y,o);c||((v=(p=e.props).onSelect)===null||v===void 0||v.call(p,y,o),e.setState({inputValue:null}))},e.setPreSelection=function(s){var o=Vl(e.props.minDate),c=Vl(e.props.maxDate),d=!0;if(s){var p=ky(s);if(o&&c)d=Vg(s,e.props.minDate,e.props.maxDate);else if(o){var v=ky(e.props.minDate);d=hc(s,v)||Id(p,v)}else if(c){var y=S1(e.props.maxDate);d=Yd(s,y)||Id(p,y)}}d&&e.setState({preSelection:s})},e.toggleCalendar=function(){e.setOpen(!e.state.open)},e.handleTimeChange=function(s){var o,c;if(!(e.props.selectsRange||e.props.selectsMultiple)){var d=e.props.selected?e.props.selected:e.getPreSelection(),p=e.props.selected?s:I0(d,{hour:$o(s),minute:Lo(s)});e.setState({preSelection:p}),(c=(o=e.props).onChange)===null||c===void 0||c.call(o,p),e.props.shouldCloseOnSelect&&!e.props.showTimeInput&&(e.sendFocusBackToInput(),e.setOpen(!1)),e.props.showTimeInput&&e.setOpen(!0),(e.props.showTimeSelectOnly||e.props.showTimeSelect)&&e.setState({isRenderAriaLiveMessage:!0}),e.setState({inputValue:null})}},e.onInputClick=function(){var s,o;!e.props.disabled&&!e.props.readOnly&&e.setOpen(!0),(o=(s=e.props).onInputClick)===null||o===void 0||o.call(s)},e.onInputKeyDown=function(s){var o,c,d,p,v,y;(c=(o=e.props).onKeyDown)===null||c===void 0||c.call(o,s);var S=s.key;if(!e.state.open&&!e.props.inline&&!e.props.preventOpenOnFocus){(S===tt.ArrowDown||S===tt.ArrowUp||S===tt.Enter)&&((d=e.onInputClick)===null||d===void 0||d.call(e));return}if(e.state.open){if(S===tt.ArrowDown||S===tt.ArrowUp){s.preventDefault();var k=e.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":e.props.showWeekPicker&&e.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':e.props.showFullMonthYearPicker||e.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',C=((p=e.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&e.calendar.containerRef.current.querySelector(k);C instanceof HTMLElement&&C.focus({preventScroll:!0});return}var A=yn(e.state.preSelection);S===tt.Enter?(s.preventDefault(),s.target.blur(),e.inputOk()&&e.state.lastPreSelectChange===j0?(e.handleSelect(A,s),!e.props.shouldCloseOnSelect&&e.setPreSelection(A)):e.setOpen(!1)):S===tt.Escape?(s.preventDefault(),s.target.blur(),e.sendFocusBackToInput(),e.setOpen(!1)):S===tt.Tab&&e.setOpen(!1),e.inputOk()||(y=(v=e.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:R0})}},e.onPortalKeyDown=function(s){var o=s.key;o===tt.Escape&&(s.preventDefault(),e.setState({preventFocus:!0},function(){e.setOpen(!1),setTimeout(function(){e.setFocus(),e.setState({preventFocus:!1})})}))},e.onDayKeyDown=function(s){var o,c,d,p,v,y,S=e.props,k=S.minDate,C=S.maxDate,A=S.disabledKeyboardNavigation,N=S.showWeekPicker,M=S.shouldCloseOnSelect,L=S.locale,G=S.calendarStartDay,W=S.adjustDateOnChange,V=S.inline;if((c=(o=e.props).onKeyDown)===null||c===void 0||c.call(o,s),!A){var z=s.key,Y=s.shiftKey,B=yn(e.state.preSelection),K=function(_e,ye){var be=ye;switch(_e){case tt.ArrowRight:be=N?Fy(ye,1):Ya(ye,1);break;case tt.ArrowLeft:be=N?l1(ye):fH(ye);break;case tt.ArrowUp:be=l1(ye);break;case tt.ArrowDown:be=Fy(ye,1);break;case tt.PageUp:be=Y?pp(ye,1):jd(ye,1);break;case tt.PageDown:be=Y?Gl(ye,1):Ka(ye,1);break;case tt.Home:be=tc(ye,L,G);break;case tt.End:be=r5(ye);break}return be},Z=function(_e,ye){for(var be=40,Q=_e,Ae=!1,Te=0,se=K(_e,ye);!Ae;){if(Te>=be){se=ye;break}k&&se<k&&(Q=tt.ArrowRight,se=oa(k,e.props)?K(Q,se):k),C&&se>C&&(Q=tt.ArrowLeft,se=oa(C,e.props)?K(Q,se):C),oa(se,e.props)?((Q===tt.PageUp||Q===tt.Home)&&(Q=tt.ArrowRight),(Q===tt.PageDown||Q===tt.End)&&(Q=tt.ArrowLeft),se=K(Q,se)):Ae=!0,Te++}return se};if(z===tt.Enter){s.preventDefault(),e.handleSelect(B,s),!M&&e.setPreSelection(B);return}else if(z===tt.Escape){s.preventDefault(),e.setOpen(!1),e.inputOk()||(p=(d=e.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:R0});return}var ce=null;switch(z){case tt.ArrowLeft:case tt.ArrowRight:case tt.ArrowUp:case tt.ArrowDown:case tt.PageUp:case tt.PageDown:case tt.Home:case tt.End:ce=Z(z,B);break}if(!ce){(y=(v=e.props).onInputError)===null||y===void 0||y.call(v,{code:1,msg:R0});return}if(s.preventDefault(),e.setState({lastPreSelectChange:j0}),W&&e.setSelected(ce),e.setPreSelection(ce),V){var me=js(B),we=js(ce),Re=Wt(B),Ce=Wt(ce);me!==we||Re!==Ce?e.setState({shouldFocusDayInline:!0}):e.setState({shouldFocusDayInline:!1})}}},e.onPopperKeyDown=function(s){var o=s.key;o===tt.Escape&&(s.preventDefault(),e.sendFocusBackToInput())},e.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),e.sendFocusBackToInput();var o=e.props,c=o.selectsRange,d=o.onChange;d?.(c?[null,null]:null,s),e.setState({inputValue:null})},e.clear=function(){e.onClearClick()},e.onScroll=function(s){typeof e.props.closeOnScroll=="boolean"&&e.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&e.setOpen(!1):typeof e.props.closeOnScroll=="function"&&e.props.closeOnScroll(s)&&e.setOpen(!1)},e.renderCalendar=function(){var s,o;return!e.props.inline&&!e.isCalendarOpen()?null:J.createElement($5,sn({showMonthYearDropdown:void 0,ref:function(c){e.calendar=c}},e.props,e.state,{setOpen:e.setOpen,dateFormat:(s=e.props.dateFormatCalendar)!==null&&s!==void 0?s:n.defaultProps.dateFormatCalendar,onSelect:e.handleSelect,onClickOutside:e.handleCalendarClickOutside,holidays:g5(e.modifyHolidays()),outsideClickIgnoreClass:$1,onDropdownFocus:e.handleDropdownFocus,onTimeChange:e.handleTimeChange,className:e.props.calendarClassName,container:e.props.calendarContainer,handleOnKeyDown:e.props.onKeyDown,handleOnDayKeyDown:e.onDayKeyDown,setPreSelection:e.setPreSelection,dropdownMode:(o=e.props.dropdownMode)!==null&&o!==void 0?o:n.defaultProps.dropdownMode}),e.props.children)},e.renderAriaLiveRegion=function(){var s=e.props,o=s.dateFormat,c=o===void 0?n.defaultProps.dateFormat:o,d=s.locale,p=e.props.showTimeInput||e.props.showTimeSelect,v=p?"PPPPp":"PPPP",y;return e.props.selectsRange?y="Selected start date: ".concat(aa(e.props.startDate,{dateFormat:v,locale:d}),". ").concat(e.props.endDate?"End date: "+aa(e.props.endDate,{dateFormat:v,locale:d}):""):e.props.showTimeSelectOnly?y="Selected time: ".concat(aa(e.props.selected,{dateFormat:c,locale:d})):e.props.showYearPicker?y="Selected year: ".concat(aa(e.props.selected,{dateFormat:"yyyy",locale:d})):e.props.showMonthYearPicker?y="Selected month: ".concat(aa(e.props.selected,{dateFormat:"MMMM yyyy",locale:d})):e.props.showQuarterYearPicker?y="Selected quarter: ".concat(aa(e.props.selected,{dateFormat:"yyyy, QQQ",locale:d})):y="Selected date: ".concat(aa(e.props.selected,{dateFormat:v,locale:d})),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},e.renderDateInput=function(){var s,o,c,d=rs(e.props.className,(s={},s[$1]=e.state.open,s)),p=e.props.customInput||J.createElement("input",{type:"text"}),v=e.props.customInputRef||"ref",y=e.props,S=y.dateFormat,k=S===void 0?n.defaultProps.dateFormat:S,C=y.locale,A=typeof e.props.value=="string"?e.props.value:typeof e.state.inputValue=="string"?e.state.inputValue:e.props.selectsRange?Z6(e.props.startDate,e.props.endDate,{dateFormat:k,locale:C}):e.props.selectsMultiple?e5((c=e.props.selectedDates)!==null&&c!==void 0?c:[],{dateFormat:k,locale:C}):aa(e.props.selected,{dateFormat:k,locale:C});return X.cloneElement(p,(o={},o[v]=function(N){e.input=N},o.value=A,o.onBlur=e.handleBlur,o.onChange=e.handleChange,o.onClick=e.onInputClick,o.onFocus=e.handleFocus,o.onKeyDown=e.onInputKeyDown,o.id=e.props.id,o.name=e.props.name,o.form=e.props.form,o.autoFocus=e.props.autoFocus,o.placeholder=e.props.placeholderText,o.disabled=e.props.disabled,o.autoComplete=e.props.autoComplete,o.className=rs(p.props.className,d),o.title=e.props.title,o.readOnly=e.props.readOnly,o.required=e.props.required,o.tabIndex=e.props.tabIndex,o["aria-describedby"]=e.props.ariaDescribedBy,o["aria-invalid"]=e.props.ariaInvalid,o["aria-labelledby"]=e.props.ariaLabelledBy,o["aria-required"]=e.props.ariaRequired,o))},e.renderClearButton=function(){var s=e.props,o=s.isClearable,c=s.disabled,d=s.selected,p=s.startDate,v=s.endDate,y=s.clearButtonTitle,S=s.clearButtonClassName,k=S===void 0?"":S,C=s.ariaLabelClose,A=C===void 0?"Close":C,N=s.selectedDates;return o&&(d!=null||p!=null||v!=null||N?.length)?J.createElement("button",{type:"button",className:rs("react-datepicker__close-icon",k,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":A,onClick:e.onClearClick,title:y,tabIndex:-1}):null},e.state=e.calcInitialState(),e.preventFocusTimeout=void 0,e}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Um,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,e){var s,o,c,d;t.inline&&z5(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:D1(this.props.highlightDates)}),!e.focused&&!Id(t.selected,this.props.selected)&&this.setState({inputValue:null}),e.open!==this.state.open&&(e.open===!1&&this.state.open===!0&&((o=(s=this.props).onCalendarOpen)===null||o===void 0||o.call(s)),e.open===!0&&this.state.open===!1&&((d=(c=this.props).onCalendarClose)===null||d===void 0||d.call(c)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,e=t.showIcon,s=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,d=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),J.createElement("div",{className:"react-datepicker__input-container".concat(e?" react-datepicker__view-calendar-icon":"")},e&&J.createElement(L5,sn({icon:s,className:rs(c,!c&&o,p&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var e=this.state.open?J.createElement(aP,{enableTabLoop:this.props.enableTabLoop},J.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(e=J.createElement(iP,sn({portalId:this.props.portalId},this.props),e)),J.createElement("div",null,this.renderInputContainer(),e)}return J.createElement(H5,sn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(X.Component),Y5="input",j0="navigate";const oP=({userDetails:r})=>{const{modal:n,form:t}=cB();return r?(console.log("gaga-------------------------------------UserSettingsComponent",r),R.jsxs("div",{"data-testid":"UserSettings",children:[R.jsx(bn,{circular:!0,inverted:!0,onClick:n.handleOpen,className:"cursor-pointer !text-xl !mt-[-3px]",name:"setting"}),R.jsx(hi,{className:Sn({}),active:n.active,children:R.jsxs("div",{className:"flex flex-col p-4 h-full relative",children:[R.jsxs("div",{className:"flex flex-row items-start justify-between h-12",children:[R.jsx("span",{className:"dark:text-white text-2xl",children:"Settings"}),R.jsx(bn,{circular:!0,inverted:!0,onClick:n.handleCLose,className:"cursor-pointer !text-xl !mt-[-3px]",name:"close"})]}),R.jsx("hr",{}),R.jsxs(Fs,{className:"flex flex-col p-3 w-[360px]",onSubmit:t.submit,children:[R.jsx("input",{hidden:!0,name:"data.email",defaultValue:r._id},r._id),R.jsx("div",{className:"text-xl mb-3 text-left",children:r.data.build}),R.jsxs("div",{className:"form-values flex-1",children:[R.jsxs("div",{className:"flex flex-col items-start mb-5 ",children:[R.jsx("span",{className:"text-md mb-2",children:"Change Date Created"}),R.jsxs("div",{className:"flex flex-row relative",children:[R.jsx(qn,{inverted:!0,name:"createdAt",color:"green",size:"small",circular:!0,type:"button",active:!!t.formFieldState.get("createdAt"),onClick:()=>{t.patchValues("createdAt",t.formFieldState.get("createdAt")??ft().subtract(1,"h").toDate())},onMouseLeave:e=>e.target.blur(),children:"Yes"}),!!t.formFieldState.get("createdAt")&&R.jsx(q5,{className:"opacity-0 absolute",popperClassName:"relative !left-[-30px]",autoFocus:!0,selected:new Date,onFocus:e=>{t.patchValues("createdAt",e)},onChange:e=>{t.patchValues("createdAt",e)}})]})]}),R.jsxs("div",{className:"flex flex-col items-start mb-5",children:[R.jsx("span",{className:"text-md mb-2",children:"Change Time"}),R.jsx(qn,{inverted:!0,name:"updatedAt",color:"green",size:"small",circular:!0,type:"button",active:!!t.formFieldState.get("updatedAt"),onClick:()=>{t.patchValues("updatedAt",t.formFieldState.get("updatedAt")??ft().subtract(4,"d").toDate())},onMouseLeave:e=>e.target.blur(),children:"Yes"})]}),R.jsxs("div",{className:"flex flex-col items-start mb-5",children:[R.jsx("span",{className:"text-md mb-2",children:"Set Auto Login"}),R.jsxs("div",{className:"flex flex-row",children:[R.jsx(qn,{name:"data.settings.electronAutoLogin",inverted:!0,color:"green",size:"small",circular:!0,type:"button",active:t.formFieldState.get("data.settings.electronAutoLogin")===!0,onClick:()=>t.patchValues("data.settings.electronAutoLogin",!0),onMouseLeave:e=>e.target.blur(),children:"True"}),R.jsx(qn,{name:"data.settings.electronAutoLogin",inverted:!0,color:"red",size:"small",circular:!0,type:"button",active:t.formFieldState.get("data.settings.electronAutoLogin")===!1,onClick:()=>t.patchValues("data.settings.electronAutoLogin",!1),onMouseLeave:e=>e.target.blur(),children:"False"})]})]}),R.jsxs("div",{className:"flex flex-col items-start mb-5",children:[R.jsx("span",{className:"text-md mb-2",children:"Set Done"}),R.jsxs("div",{className:"flex flex-row",children:[R.jsx(qn,{name:"data.weeklyStatus.done",inverted:!0,color:"green",size:"small",circular:!0,type:"button",active:t.formFieldState.get("data.weeklyStatus.done")===!0,onClick:()=>t.patchValues("data.weeklyStatus.done",!0),onMouseLeave:e=>e.target.blur(),children:"True"}),R.jsx(qn,{name:"data.weeklyStatus.done",inverted:!0,color:"red",size:"small",circular:!0,type:"button",active:t.formFieldState.get("data.weeklyStatus.done")===!1,onClick:()=>t.patchValues("data.weeklyStatus.done",!1),onMouseLeave:e=>e.target.blur(),children:"False"})]})]}),R.jsxs("div",{className:"flex flex-col items-start mb-5",children:[R.jsx("span",{className:"text-md mb-2",children:"Set Two Factor Auth"}),R.jsxs("div",{className:"w-full",children:[R.jsx("div",{className:"mt-1 mb-2",children:r.data.userSession?.TWO_FACTOR_AUTH}),R.jsx(ic,{className:"w-full",placeholder:"Two factor auth",children:R.jsx("input",{name:"data.userSession.TWO_FACTOR_AUTH",defaultValue:r.data.userSession?.TWO_FACTOR_AUTH},r.data.userSession?.TWO_FACTOR_AUTH)})]})]})]}),R.jsx("hr",{className:"mt-2 mb-6"}),R.jsx(ic,{className:"w-full mb-2",placeholder:"Password",children:R.jsx("input",{name:"password"})}),R.jsx(qn,{loading:t.loading,className:"w-full !bg-violet-500 !text-white",type:"submit",children:"Update"})]}),R.jsx("div",{className:"flex items-center h-[110px]",children:R.jsxs(za,{hidden:!t.error,className:"text-left w-full",negative:!0,children:[R.jsx(Xl,{children:"Error"}),R.jsx("p",{children:t.error})]})})]})})]})):null};oP.displayName="UserSettings";const K5=r=>{const n=new Date(r);n.setUTCDate(n.getUTCDate()+4-(n.getUTCDay()||7));const t=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n.getTime()-t.getTime())/864e5+1)/7)},G5=r=>{const n=[],t=new Date(Date.UTC(r,0,1)),e=new Date(t),s=e.getUTCDay(),o=s===0?6:s-1;e.setUTCDate(e.getUTCDate()+(s===0?1:-o)),console.log("gaga-------------------------------firstMonday------",e);for(let c=new Date(e);c.getUTCFullYear()<=r;c.setUTCDate(c.getUTCDate()+7)){console.log("gaga------------------------------firstDayOfYear-------",c.getUTCFullYear());const d=new Date(c);d.setUTCHours(0,0,0,0);const p=new Date(c);if(p.setUTCDate(p.getUTCDate()+6),p.setUTCHours(23,59,59,999),p.getUTCFullYear()!==r){console.log("gaga-------------------1111------------------");break}n.push({mondayISO:d.toISOString(),sundayISO:p.toISOString(),mondayDate:d,sundayDate:p,weekNumber:K5(d)})}return n},V5=()=>{const{pathname:r}=Vd(),[n,t]=X.useState([]),[e,s]=X.useState(!1),[o,c]=X.useState(!1),[d,p]=X.useState([]),[v,y]=X.useState(0),[S,k]=X.useState(0),[C,A]=X.useState([]);return X.useEffect(()=>{const N=r.split("/").pop()?.split(",")??[];s(!0);const M=zE([ui.getWeeklySummary(N).pipe(Ni(L=>L.data||[])),ui.getBonuses(N).pipe(Ni(L=>L.data||[])),ui.getWithdrawals(N).pipe(Ni(L=>L.data||[])),ui.getUsers(N).pipe(Ni(L=>L.data||[]))]).subscribe({next:([L,G,W,V])=>{s(!1);const z=Q5(G),Y=J5(W),B=X5({weeklySummaryList:L,userBonusList:z,emailArr:N,userWithdrawalList:Y}),K=An.groupBy(B,"mon"),Z=Object.keys(K).map(we=>({title:we.split("-")[1],data:K[we]})),ce=An.sumBy(Z,we=>An.sumBy(we.data,"winnings")),me=An.sumBy(W,"data.Amount");k(me),y(ce),t(Z),p(V),A(N)},error:()=>c(!0)});return()=>{M.unsubscribe()}},[r]),{list:n,loading:e,error:o,userDetails:d,emails:C,totalWinnings:v,totalWithdrawals:S}},Q5=r=>r?.filter(n=>n.data.TransactionStatus==="Approved"&&n.data.TransactionType==="Bonus"&&["IMMEDIATE BONUS","Bonus"].includes(n.data.PaymentMethodInfo)&&n.data.Amount>=10)??[],J5=r=>r?.filter(n=>["Approved","Pending","Sending to Processor","In Process"].includes(n.data.TransactionStatus))??[],X5=({weeklySummaryList:r,userBonusList:n,emailArr:t,userWithdrawalList:e})=>{const s=ft(Date.now()).year();return G5(s).map(({mondayDate:c,sundayDate:d,weekNumber:p})=>{const v=ft(c),y=v.format("MMM"),S=v.format("M"),k=v.format("YYYY"),C=Z5(r,c,d,k),{byWeekSummary:A,bonus:N,totalStaked:M,totalEarnings:L}=C;let{approxWinnings:G}=C;const W=e8(n,c,d,t);let V=An.sumBy(W,B=>B?.data.Amount??0);W?.length!==t?.length?V=N:G=0;let z=0;W?.length&&A?.length&&(z=V+An.sumBy(A,B=>B.data.totalEarnings??0));const Y=t8(e,c,d);return{_id:`${y}-${p}`,mon:S+"-"+y+" "+k,year:k,startDate:c.toISOString(),endDate:d.toISOString(),bonus:V||N||0,bonusDateTime:W?.[0]?.data.TransactionDateTime,totalStaked:M,totalEarnings:L,winnings:z,approxWinnings:G,loading:!1,fetch:0,title:`${y}`,emails:t,withdrawal:Y}})},Z5=(r,n,t,e)=>{const s=r?.filter(v=>v.data.weekStart===ft(n).utc().startOf("day").toISOString()&&v.data.weekEnd===ft(t).utc().endOf("day").toISOString()&&v.data.year.toString()===e.toString())??[],o=An.sumBy(s,v=>v.data.potentialBonus??0),c=An.sumBy(s,v=>v.data.totalStaked??0),d=An.sumBy(s,v=>v.data.totalEarnings??0),p=An.sumBy(s,v=>v.data.winnings??0);return{byWeekSummary:s,bonus:o,totalStaked:c,totalEarnings:d,approxWinnings:p}},e8=(r,n,t,e)=>e?.map(s=>r?.reverse().find(o=>{const c=ft(o.data.TransactionDateTime).startOf("day").subtract(7,"days");return c.isAfter(n)&&c.isBefore(t)&&o.data.email===s})).filter(Boolean),t8=(r,n,t)=>r?.find(e=>{const s=new Date(e.data.TransactionDateTime.split("T")[0]);s.setUTCHours(0,0,0,0);const o=ft(s);return o.isSameOrAfter(n)&&o.isSameOrBefore(t)}),lP=()=>{const{list:r,loading:n,userDetails:t,totalWinnings:e,totalWithdrawals:s,emails:o}=V5();return R.jsxs("div",{"data-testid":"UserDetails",className:"w-full m-4 bg-neutral-800 rounded-lg relative",children:[R.jsxs("div",{className:"flex flex-col p-4 h-full min-w-[370px]",children:[R.jsxs("div",{className:"flex flex-row justify-between items-start h-12",children:[R.jsxs("div",{className:"flex flex-row",children:[R.jsx("span",{className:"dark:text-white text-2xl",children:o.length===1?o[0]:"Multi User View"}),o.length===1&&R.jsx(uB,{userDetails:t,totalWinnings:e,totalWithdrawals:s})]}),o.length===1&&R.jsx(oP,{userDetails:t[0]})]}),R.jsx("hr",{}),R.jsx("div",{className:"flex-1 overflow-auto mt-4",children:r.map(c=>{const d=An.sumBy(c.data,"winnings");return R.jsxs("div",{className:"mon-wrap",children:[R.jsxs("div",{className:"title-wrap flex justify-between items-center dark:text-white pt-2 pb-2 ",children:[R.jsx("span",{children:c.title}),R.jsx("span",{className:Sn({"text-md":!0,"text-green-dark":d>0,"text-red-dark":d<0}),children:an(d)})]}),R.jsx("hr",{}),R.jsx("div",{className:"week-wrap flex flex-row flex-wrap",children:c.data.map(p=>R.jsxs("div",{className:"relative",children:[R.jsx(lB,{earnings:p}),R.jsx(iB,{earnings:p})]},p._id))})]},c.title)})})]}),R.jsx(hi,{active:n,children:R.jsx(Wo,{})})]})};lP.displayName="UserDetails";const uP=()=>R.jsx(lP,{});uP.displayName="UserDetails";const n8=Object.freeze(Object.defineProperty({__proto__:null,default:uP},Symbol.toStringTag,{value:"Module"})),cP=()=>R.jsx(l_,{children:R.jsxs("div",{"data-testid":"Users",className:"w-full flex flex-row overflow-auto",children:[R.jsx(xC,{}),R.jsx(bN,{})]})});cP.displayName="Users";const r8=Object.freeze(Object.defineProperty({__proto__:null,default:cP},Symbol.toStringTag,{value:"Module"}));function L1(r){let n={path:"rootOfTheTree",children:[]};return r.sort((t,e)=>t.path?.localeCompare(e.path??"")??0).forEach(t=>{const e=t.path?.replace(/^\//,"").split("/")??[];n=Cy(n,e,t)}),n}function Cy(r,n,t){if(!n.length)return r;if(r.path===n[0])return Cy(r,n.slice(1),t);{const e=r.children?.find(s=>s.path===n[0]);if(e)return{...r,children:[...r.children?.filter(s=>s.path!==e.path)??[],Cy(e,n.slice(1),t)]};if(n.length>1){const s={path:n[0]};return{...r,children:[...r.children??[],Cy(s,n.slice(1),t)]}}else{const s={path:n[0],element:t.element,id:t.id};return{...r,children:[...r.children??[],s]}}}}const xw=()=>R.jsx("div",{"data-testid":"NotFound",children:"NotFound Component"});xw.displayName="NotFound";const s8=()=>{const r=Object.assign({"../../pages/apks/index.tsx":$4,"../../pages/index.tsx":L4,"../../pages/users/$userDetails/index.tsx":n8,"../../pages/users/index.tsx":r8}),n=Object.keys(r),t=Object.values(r).map((e,s)=>{const o=n[s].replace("../../pages/","").replace("/index.tsx","").replace("$",":").replace("index.tsx",""),c=e.default;return{path:o,element:R.jsx(c,{}),index:s}});return console.log("gaga-------------------------------------pages",[...L1(t).children??[],{path:"*",element:R.jsx(xw,{})}]),iN([...L1(t).children??[],{path:"*",element:R.jsx(xw,{})}])},i8=()=>{const[r,n]=X.useState(!1);return X.useEffect(()=>{const t=ui.login("talpaklogen@gmail.com").pipe(BF(500)).subscribe(()=>{n(!0)});return()=>{t.unsubscribe()}},[]),R.jsxs(R.Fragment,{children:[r&&R.jsx(PN,{children:R.jsx(AN,{fallback:R.jsx(R.Fragment,{children:"Error"}),children:R.jsx(s8,{})})}),R.jsx(hi,{active:!r,children:R.jsx(Wo,{})})]})};ft.extend(U1);ft.extend(tD);ft.extend(iD);ft.extend(uD);ft.extend(fD);ft.extend(vD);ft.extend(B1);ft.extend(kw);ft.extend(W1);qT.createRoot(document.getElementById("root")).render(R.jsx(i8,{}))});export default a8();
